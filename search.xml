<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[headéƒ¨åˆ†çš„æ¸…å•]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F04%2F09%2Fhead%E9%83%A8%E5%88%86%E7%9A%84%E6%B8%85%E5%8D%95%2F</url>
    <content type="text"><![CDATA[HEAD ä¸€ä»½å…³äºŽä»»ä½•*å¯ä»¥*å†™å…¥åˆ°ä½ çš„æ–‡æ¡£ä¸­ &lt;head&gt; éƒ¨åˆ†çš„æ¸…å•ã€‚ gihubåœ°å€ ç›®å½• æœ€å°æŽ¨è ç½‘é¡µå…ƒç´  Meta æ ‡ç­¾ é“¾æŽ¥ ç½‘ç«™å›¾æ ‡ ç¤¾äº¤ Facebook Open Graph Twitter Card Twitter Privacy Google+ / Schema.org Pinterest Facebook Instant Articles OEmbed æµè§ˆå™¨ / å¹³å° Apple iOS Google Android Google Chrome Microsoft Internet Explorer å›½å†…çš„æµè§ˆå™¨ 360 æµè§ˆå™¨ QQ ç§»åŠ¨æµè§ˆå™¨ UC ç§»åŠ¨æµè§ˆå™¨ åº”ç”¨é“¾æŽ¥ å…¶ä»–èµ„æº ç›¸å…³é¡¹ç›® å…¶ä»–æ ¼å¼ ç¿»è¯‘ è´¡çŒ® è´¡çŒ®è€… ä½œè€… è®¸å¯ æœ€å°æŽ¨èä»¥ä¸‹æ˜¯æž„æˆä»»ä½• Web é¡µé¢ï¼ˆç½‘ç«™/åº”ç”¨ç¨‹åºï¼‰çš„åŸºæœ¬è¦ç´ ï¼š 1234567&lt;meta charset="utf-8"&gt;&lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt;&lt;!-- ä»¥ä¸Š 2 ä¸ª meta æ ‡ç­¾ *å¿…é¡»* æ”¾åœ¨ head ä¹‹å‰ï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„æ–‡æ¡£å‘ˆçŽ°ï¼› å…¶ä»–ä»»ä½• head å…ƒç´  *å¿…é¡»* åœ¨è¿™äº›æ ‡ç­¾ä¹‹åŽã€‚--&gt;&lt;title&gt;é¡µé¢æ ‡é¢˜&lt;/title&gt; â¬† è¿”å›žé¡¶éƒ¨ ç½‘é¡µå…ƒç´ æœ‰æ•ˆçš„ &lt;head&gt; å…ƒç´ åŒ…æ‹¬ metaã€linkã€titleã€styleã€scriptã€noscript å’Œ baseã€‚ è¿™äº›å…ƒç´ æä¾›äº†å¦‚ä½•é€šè¿‡å¦‚æµè§ˆå™¨ï¼Œæœç´¢å¼•æ“Žï¼Œç½‘ç»œçˆ¬è™«ç­‰ç½‘ç»œæŠ€æœ¯æ¥æ„ŸçŸ¥å’Œå‘ˆçŽ°æ–‡æ¡£çš„ä¿¡æ¯ã€‚ 123456789101112131415161718192021222324&lt;!-- è®¾ç½®æ­¤æ–‡æ¡£çš„å­—ç¬¦ç¼–ç ï¼Œä»¥ä¾¿ UTF-8 èŒƒå›´ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼ˆå¦‚ emojiï¼‰éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º --&gt;&lt;meta charset="utf-8"&gt;&lt;!-- è®¾ç½®æ–‡æ¡£æ ‡é¢˜ --&gt;&lt;title&gt;é¡µé¢æ ‡é¢˜&lt;/title&gt;&lt;!-- è®¾ç½®æ–‡æ¡£ä¸­æ‰€æœ‰ç›¸å¯¹é“¾æŽ¥çš„åŸºç¡€é“¾æŽ¥ --&gt;&lt;base href="https://example.com/page.html"&gt;&lt;!-- é“¾æŽ¥ä¸€ä¸ªå¤–éƒ¨ CSS æ–‡ä»¶ --&gt;&lt;link rel="stylesheet" href="styles.css"&gt;&lt;!-- ç”¨äºŽæ–‡æ¡£å†…çš„ CSS --&gt;&lt;style&gt; /* ... */&lt;/style&gt;&lt;!-- JavaScript &amp; No-JavaScript æ ‡ç­¾ --&gt;&lt;script&gt; // function(s) go here&lt;/script&gt;&lt;noscript&gt; &lt;!--æ—  JS æ—¶æ˜¾ç¤º--&gt;&lt;/noscript&gt; â¬† è¿”å›žé¡¶éƒ¨ Meta æ ‡ç­¾1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&lt;!-- ä»¥ä¸Š 2 ä¸ª meta æ ‡ç­¾ *å¿…é¡»* æ”¾åœ¨ head ä¹‹å‰ï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„æ–‡æ¡£å‘ˆçŽ°ï¼› å…¶ä»–ä»»ä½• head å…ƒç´  *å¿…é¡»* åœ¨è¿™äº›æ ‡ç­¾ä¹‹åŽã€‚ â€  å¦‚æžœä½ çš„é¡¹ç›®éœ€è¦æ”¯æŒ Internet Explorer 11 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨ content="ie-edge" æ ‡ç­¾ã€‚--&gt;&lt;meta charset="utf-8"&gt;&lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt;&lt;!-- å…è®¸æŽ§åˆ¶èµ„æºä»Žä½•å¤„åŠ è½½ã€‚åœ¨ &lt;head&gt; ä¸­å°½å¯èƒ½åœ°é å‰æ”¾ç½®ï¼Œå› ä¸ºè¯¥æ ‡ç­¾ä»…é€‚ç”¨äºŽåœ¨å…¶ä¹‹åŽå£°æ˜Žçš„èµ„æºã€‚--&gt;&lt;meta http-equiv="Content-Security-Policy" content="default-src 'self'"&gt;&lt;!-- Web åº”ç”¨çš„åç§°ï¼ˆä»…å½“ç½‘ç«™è¢«ç”¨ä½œä¸ºä¸€ä¸ªåº”ç”¨æ—¶æ‰ä½¿ç”¨ï¼‰--&gt;&lt;meta name="application-name" content="åº”ç”¨åç§°"&gt;&lt;!-- Chromeã€Firefox OS å’Œ Opera çš„ä¸»é¢˜é¢œè‰² --&gt;&lt;meta name="theme-color" content="#4285f4"&gt;&lt;!-- é’ˆå¯¹é¡µé¢çš„ç®€çŸ­æè¿°ï¼ˆé™åˆ¶ 150 å­—ç¬¦ï¼‰--&gt;&lt;!-- æ­¤å†…å®¹*å¯èƒ½*è¢«ç”¨ä½œæœç´¢å¼•æ“Žç»“æžœçš„ä¸€éƒ¨åˆ†ã€‚ --&gt;&lt;meta name="description" content="ä¸€ä¸ªé¡µé¢æè¿°"&gt;&lt;!-- æŽ§åˆ¶æœç´¢å¼•æ“Žçš„æŠ“å–å’Œç´¢å¼•è¡Œä¸º --&gt;&lt;meta name="robots" content="index,follow"&gt;&lt;!-- æ‰€æœ‰æœç´¢å¼•æ“Ž --&gt;&lt;meta name="googlebot" content="index,follow"&gt;&lt;!-- ä»…å¯¹ Google æœ‰æ•ˆ --&gt;&lt;!-- å‘Šè¯‰ Google ä¸æ˜¾ç¤ºç½‘ç«™é“¾æŽ¥çš„æœç´¢æ¡† --&gt;&lt;meta name="google" content="nositelinkssearchbox"&gt;&lt;!-- å‘Šè¯‰ Google ä¸æä¾›æ­¤é¡µé¢çš„ç¿»è¯‘ --&gt;&lt;meta name="google" content="notranslate"&gt;&lt;!-- éªŒè¯ç½‘å€æ‰€æœ‰æƒ --&gt;&lt;meta name="google-site-verification" content="verification_token"&gt;&lt;!-- Google Search Console --&gt;&lt;meta name="yandex-verification" content="verification_token"&gt;&lt;!-- Yandex Webmasters --&gt;&lt;meta name="msvalidate.01" content="verification_token"&gt;&lt;!-- Bing Webmaster Center --&gt;&lt;meta name="alexaVerifyID" content="verification_token"&gt;&lt;!-- Alexa Console --&gt;&lt;meta name="p:domain_verify" content="code from pinterest"&gt;&lt;!-- Pinterest Console --&gt;&lt;meta name="norton-safeweb-site-verification" content="norton code"&gt;&lt;!-- Norton Safe Web --&gt;&lt;!-- ç¡®å®šç”¨äºŽæž„å»ºé¡µé¢çš„è½¯ä»¶ï¼ˆå¦‚ - WordPressã€Dreamweaverï¼‰--&gt;&lt;meta name="generator" content="program"&gt;&lt;!-- å…³äºŽä½ çš„ç½‘ç«™ä¸»é¢˜çš„ç®€çŸ­æè¿° --&gt;&lt;meta name="subject" content="ä½ çš„ç½‘ç«™ä¸»é¢˜"&gt;&lt;!-- åŸºäºŽç½‘ç«™å†…å®¹ç»™å‡ºä¸€èˆ¬çš„å¹´é¾„åˆ†çº§ --&gt;&lt;meta name="rating" content="General"&gt;&lt;!-- å…è®¸æŽ§åˆ¶ referrer ä¿¡æ¯å¦‚ä½•ä¼ é€’ --&gt;&lt;meta name="referrer" content="no-referrer"&gt;&lt;!-- ç¦ç”¨è‡ªåŠ¨æ£€æµ‹å’Œæ ¼å¼åŒ–å¯èƒ½çš„ç”µè¯å·ç  --&gt;&lt;meta name="format-detection" content="telephone=no"&gt;&lt;!-- é€šè¿‡è®¾ç½®ä¸º "off" å®Œå…¨é€€å‡º DNS é¢„å– --&gt;&lt;meta http-equiv="x-dns-prefetch-control" content="off"&gt;&lt;!-- åœ¨å®¢æˆ·ç«¯å­˜å‚¨ cookieï¼Œweb æµè§ˆå™¨çš„å®¢æˆ·ç«¯è¯†åˆ« --&gt;&lt;meta http-equiv="set-cookie" content="name=value; expires=date; path=url"&gt;&lt;!-- æŒ‡å®šè¦æ˜¾ç¤ºåœ¨ä¸€ä¸ªç‰¹å®šæ¡†æž¶ä¸­çš„é¡µé¢ --&gt;&lt;meta http-equiv="Window-Target" content="_value"&gt;&lt;!-- åœ°ç†æ ‡ç­¾ --&gt;&lt;meta name="ICBM" content="latitude, longitude"&gt;&lt;meta name="geo.position" content="latitude;longitude"&gt;&lt;meta name="geo.region" content="country[-state]"&gt;&lt;!-- å›½å®¶ä»£ç  (ISO 3166-1): å¼ºåˆ¶æ€§, å·žä»£ç  (ISO 3166-2): å¯é€‰; å¦‚ content="US" / content="US-NY" --&gt;&lt;meta name="geo.placename" content="city/town"&gt;&lt;!-- å¦‚ content="New York City" --&gt; ðŸ“– Google å¯ä»¥è¯†åˆ«çš„ Meta æ ‡ç­¾ ðŸ“– WHATWG Wiki: Meta æ‹“å±• ðŸ“– ICBM - ç»´åŸºç™¾ç§‘ ðŸ“– åœ°ç†æ ‡è®° - ç»´åŸºç™¾ç§‘ â¬† è¿”å›žé¡¶éƒ¨ é“¾æŽ¥12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&lt;!-- æŒ‡å‘ä¸€ä¸ªå¤–éƒ¨ CSS æ ·å¼è¡¨ --&gt;&lt;link rel="stylesheet" href="https://example.com/styles.css"&gt;&lt;!-- æœ‰åŠ©äºŽé˜²æ­¢å‡ºçŽ°å†…å®¹é‡å¤çš„é—®é¢˜ --&gt;&lt;link rel="canonical" href="http://example.com/article/?page=2"&gt;&lt;!-- é“¾æŽ¥åˆ°å½“å‰æ–‡æ¡£çš„ä¸€ä¸ª AMP HTML ç‰ˆæœ¬ --&gt;&lt;link rel="amphtml" href="https://example.com/path/to/amp-version.html"&gt;&lt;!-- é“¾æŽ¥åˆ°ä¸€ä¸ªæŒ‡å®š Web åº”ç”¨ç¨‹åºâ€œå®‰è£…â€å‡­æ®çš„ JSON æ–‡ä»¶ --&gt;&lt;link rel="manifest" href="manifest.json"&gt;&lt;!-- é“¾æŽ¥åˆ°å…³äºŽé¡µé¢æ‰€æœ‰è€…çš„ä¿¡æ¯ --&gt;&lt;link rel="author" href="humans.txt"&gt;&lt;!-- æŒ‡å‘ä¸€ä¸ªé€‚ç”¨äºŽé“¾æŽ¥å†…å®¹çš„ç‰ˆæƒç”³æ˜Ž --&gt;&lt;link rel="license" href="copyright.html"&gt;&lt;!-- ç»™å‡ºå¯èƒ½çš„ä½ çš„å¦ä¸€ç§è¯­è¨€çš„æ–‡æ¡£ä½ç½®å‚è€ƒ --&gt;&lt;link rel="alternate" href="https://es.example.com/" hreflang="es"&gt;&lt;!-- æä¾›äº†å…³äºŽä½œè€…æˆ–å…¶ä»–äººçš„ä¿¡æ¯ --&gt;&lt;link rel="me" href="https://google.com/profiles/thenextweb" type="text/html"&gt;&lt;link rel="me" href="mailto:name@example.com"&gt;&lt;link rel="me" href="sms:+15035550125"&gt;&lt;!-- é“¾æŽ¥åˆ°ä¸€ä¸ªæè¿°åŽ†å²è®°å½•ã€æ–‡æ¡£æˆ–å…¶ä»–å…·æœ‰åŽ†å²æ„ä¹‰çš„ææ–™çš„é›†åˆçš„æ–‡æ¡£ --&gt;&lt;link rel="archives" href="https://example.com/archives/"&gt;&lt;!-- é“¾æŽ¥åˆ°å±‚æ¬¡ç»“æž„ä¸­çš„é¡¶çº§èµ„æº --&gt;&lt;link rel="index" href="http://example.com/article/"&gt;&lt;!-- æä¾›äº†è‡ªæˆ‘å¼•ç”¨ - å½“æ–‡æ¡£æœ‰å¤šä¸ªå¯èƒ½çš„å¼•ç”¨æ—¶éžå¸¸æœ‰ç”¨ --&gt;&lt;link rel="self" type="application/atom+xml" href="http://example.com/atom.xml"&gt;&lt;!-- åˆ†åˆ«æ˜¯ä¸€ç³»åˆ—é¡µé¢ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œæœ€åŽä¸€ä¸ªï¼Œä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªé¡µé¢ --&gt;&lt;link rel="first" href="http://example.com/article/"&gt;&lt;link rel="last" href="http://example.com/article/?page=42"&gt;&lt;link rel="prev" href="http://example.com/article/?page=1"&gt;&lt;link rel="next" href="http://example.com/article/?page=3"&gt;&lt;!-- å½“ä½¿ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡æ¥ç»´æŠ¤åšå®¢æ—¶ä½¿ç”¨ --&gt;&lt;link rel="EditURI" href="https://example.com/xmlrpc.php?rsd" type="application/rsd+xml" title="RSD"&gt;&lt;!-- å½“å¦ä¸€ä¸ª WordPress åšå®¢é“¾æŽ¥åˆ°ä½ çš„ WordPress åšå®¢æˆ–æ–‡ç« æ—¶å½¢æˆä¸€ä¸ªè‡ªåŠ¨åŒ–çš„è¯„è®º --&gt;&lt;link rel="pingback" href="https://example.com/xmlrpc.php"&gt;&lt;!-- å½“ä½ åœ¨è‡ªå·±çš„é¡µé¢ä¸Šé“¾æŽ¥åˆ°ä¸€ä¸ª url æ—¶é€šçŸ¥å®ƒ --&gt;&lt;link rel="webmention" href="https://example.com/webmention"&gt;&lt;!-- å¯ç”¨é€šè¿‡ Micropub å®¢æˆ·ç«¯å‘å¸ƒä½ çš„åŸŸå --&gt;&lt;link rel="micropub" href="https://example.com/micropub"&gt;&lt;!-- æ‰“å¼€æœç´¢ --&gt;&lt;link rel="search" href="/open-search.xml" type="application/opensearchdescription+xml" title="Search Title"&gt;&lt;!-- Feeds --&gt;&lt;link rel="alternate" href="https://feeds.feedburner.com/example" type="application/rss+xml" title="RSS"&gt;&lt;link rel="alternate" href="https://example.com/feed.atom" type="application/atom+xml" title="Atom 0.3"&gt;&lt;!-- é¢„å–ï¼Œé¢„è½½ï¼Œé¢„æµè§ˆ --&gt;&lt;!-- æ›´å¤šä¿¡æ¯ï¼šhttps://css-tricks.com/prefetching-preloading-prebrowsing/ --&gt;&lt;link rel="dns-prefetch" href="//example.com/"&gt;&lt;link rel="preconnect" href="https://www.example.com/"&gt;&lt;link rel="prefetch" href="https://www.example.com/"&gt;&lt;link rel="prerender" href="https://example.com/"&gt;&lt;link rel="preload" href="image.png" as="image"&gt; ðŸ“– é“¾æŽ¥å…³ç³» â¬† è¿”å›žé¡¶éƒ¨ ç½‘ç«™å›¾æ ‡1234567891011&lt;!-- é’ˆå¯¹ IE 10 åŠä»¥ä¸‹ç‰ˆæœ¬ --&gt;&lt;!-- å¦‚æžœå°† `favicon.ico` æ”¾åœ¨æ ¹ç›®å½•ä¸‹ï¼Œåˆ™æ— éœ€æ ‡ç­¾ --&gt;&lt;!-- æˆ‘ä»¬ç›®å‰éœ€è¦æä¾›çš„æœ€å¤§çš„ç½‘ç«™å›¾æ ‡å°ºå¯¸ --&gt;&lt;link rel="icon" sizes="192x192" href="/path/to/icon.png"&gt;&lt;!-- Apple è§¦æ‘¸å›¾æ ‡ (å°ºå¯¸åŒæ ·æ˜¯ 192x192) --&gt;&lt;link rel="apple-touch-icon" href="/path/to/apple-touch-icon.png"&gt;&lt;!-- Safari å›ºå®šé€‰é¡¹å¡å›¾æ ‡ --&gt;&lt;link rel="mask-icon" href="/path/to/icon.svg" color="blue"&gt; ðŸ“– æ‰€æœ‰å…³äºŽç½‘ç«™å›¾æ ‡ï¼ˆå’Œè§¦æ‘¸å›¾æ ‡ï¼‰çš„ä¿¡æ¯ ðŸ“– åˆ›å»ºå›ºå®šé€‰é¡¹å¡å›¾æ ‡ ðŸ“– ç½‘ç«™å›¾æ ‡å¯¹ç…§è¡¨ ðŸ“– ç½‘å€å›¾æ ‡ &amp; æµè§ˆå™¨é¢œè‰²è¡¨ â¬† è¿”å›žé¡¶éƒ¨ ç¤¾äº¤Facebook Open Graph123456789&lt;meta property="fb:app_id" content="123456789"&gt;&lt;meta property="og:url" content="https://example.com/page.html"&gt;&lt;meta property="og:type" content="website"&gt;&lt;meta property="og:title" content="Content Title"&gt;&lt;meta property="og:image" content="https://example.com/image.jpg"&gt;&lt;meta property="og:description" content="Description Here"&gt;&lt;meta property="og:site_name" content="Site Name"&gt;&lt;meta property="og:locale" content="en_US"&gt;&lt;meta property="article:author" content=""&gt; ðŸ“– Facebook çš„ Open Graph çš„æ ‡è®° ðŸ“– Open Graph åè®® ðŸ›  é¡µé¢éªŒè¯ - Facebook Sharing Debugger Twitter Card1234567&lt;meta name="twitter:card" content="summary"&gt;&lt;meta name="twitter:site" content="@site_account"&gt;&lt;meta name="twitter:creator" content="@individual_account"&gt;&lt;meta name="twitter:url" content="https://example.com/page.html"&gt;&lt;meta name="twitter:title" content="Content Title"&gt;&lt;meta name="twitter:description" content="Content description less than 200 characters"&gt;&lt;meta name="twitter:image" content="https://example.com/image.jpg"&gt; ðŸ“– åç‰‡å…¥é—¨æŒ‡å— - Twitter å¼€å‘è€… ðŸ›  é¡µé¢éªŒè¯ - Twitter Card Validator Twitter Privacyå¦‚æžœä½ åœ¨è‡ªå·±çš„ç½‘ç«™ä¸­åµŒå…¥äº†æŽ¨æ–‡ï¼ŒTwitter å¯ä»¥ä½¿ç”¨ä½ ç½‘ç«™ä¸Šçš„ä¿¡æ¯ä¸º Twitter ç”¨æˆ·å®šåˆ¶å†…å®¹å’Œå»ºè®®ã€‚ æ›´å¤šå…³äºŽ Twitter éšç§é€‰é¡¹çš„ä¿¡æ¯. 12&lt;!-- ç¦æ­¢ Twitter ä½¿ç”¨ä½ ç½‘ç«™ä¸Šçš„ä¿¡æ¯ç”¨äºŽæä¾›ä¸ªæ€§åŒ–çš„ç›®çš„ --&gt;&lt;meta name="twitter:dnt" content="on"&gt; Google+ / Schema.org1234567&lt;html lang="" itemscope itemtype="http://schema.org/Article"&gt; &lt;head&gt; &lt;link rel="author" href=""&gt; &lt;link rel="publisher" href=""&gt; &lt;meta itemprop="name" content="å†…å®¹æ ‡é¢˜"&gt; &lt;meta itemprop="description" content="å†…å®¹æè¿°å°‘äºŽ 200 ä¸ªå­—ç¬¦"&gt; &lt;meta itemprop="image" content="http://example.com/image.jpg"&gt; æ³¨æ„: è¿™ä¸ªæ ‡è®°éœ€è¦å°†å±žæ€§æ·»åŠ åˆ°ä½ çš„é¡¶çº§ html æ ‡ç­¾ä¸­ ðŸ›  è¯·åœ¨ ç»“æž„åŒ–æ•°æ®æµ‹è¯•å·¥å…· ä¸Šæµ‹è¯•ä½ çš„é¡µé¢ Pinterestæ ¹æ®ä»–ä»¬çš„å¸®åŠ©ä¸­å¿ƒå¯çŸ¥ï¼ŒPinterest å…è®¸ä½ ç¦æ­¢ä»–äººä¿å­˜ä½ ç½‘ç«™é‡Œçš„å†…å®¹ã€‚description ä¸ºå¯é€‰ã€‚ 1&lt;meta name="pinterest" content="nopin" description="Sorry, you can't save from my website!"&gt; Facebook Instant Articles12345678&lt;meta charset="utf-8"&gt;&lt;meta property="op:markup_version" content="v1.0"&gt;&lt;!-- ä½ çš„æ–‡ç« çš„ Web ç‰ˆç½‘å€ --&gt;&lt;link rel="canonical" href="https://example.com/article.html"&gt;&lt;!-- ç”¨äºŽè¯¥æ–‡ç« çš„æ ·å¼ --&gt;&lt;meta property="fb:article_style" content="myarticlestyle"&gt; ðŸ“– åˆ›å»ºæ–‡ç«  - Instant Articles ðŸ“– ä»£ç ç¤ºä¾‹ - Instant Articles OEmbed123456&lt;link rel="alternate" type="application/json+oembed" href="https://example.com/services/oembed?url=http%3A%2F%2Fexample.com%2Ffoo%2F&amp;amp;format=json" title="oEmbed Profile: JSON"&gt;&lt;link rel="alternate" type="text/xml+oembed" href="https://example.com/services/oembed?url=http%3A%2F%2Fexample.com%2Ffoo%2F&amp;amp;format=xml" title="oEmbed Profile: XML"&gt; ðŸ“– oEmbed æ ¼å¼ â¬† è¿”å›žé¡¶éƒ¨ æµè§ˆå™¨ / å¹³å°Apple iOS12345678910111213141516171819202122232425&lt;!-- æ™ºèƒ½åº”ç”¨ Banner --&gt;&lt;meta name="apple-itunes-app" content="app-id=APP_ID,affiliate-data=AFFILIATE_ID,app-argument=SOME_TEXT"&gt;&lt;!-- ç¦ç”¨è‡ªåŠ¨æ£€æµ‹å’Œæ ¼å¼åŒ–å¯èƒ½çš„ç”µè¯å·ç  --&gt;&lt;meta name="format-detection" content="telephone=no"&gt;&lt;!-- æ·»åŠ åˆ°ä¸»å±å¹• --&gt;&lt;!-- å¯åŠ¨å›¾æ ‡ (å¤§äºŽç­‰äºŽ 180x180px) --&gt;&lt;link rel="apple-touch-icon" href="/path/to/apple-touch-icon.png"&gt;&lt;!-- å¯åŠ¨å±å¹•å›¾ç‰‡ --&gt;&lt;link rel="apple-touch-startup-image" href="/path/to/launch.png"&gt;&lt;!-- å¯åŠ¨å›¾æ ‡çš„æ ‡é¢˜ --&gt;&lt;meta name="apple-mobile-web-app-title" content="åº”ç”¨æ ‡é¢˜"&gt;&lt;!-- å¯ç”¨ç‹¬ç«‹ï¼ˆå…¨å±ï¼‰æ¨¡å¼ --&gt;&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;&lt;!-- çŠ¶æ€æ å¤–è§‚ï¼ˆé™¤éžå¯ç”¨ç‹¬ç«‹æ¨¡å¼ï¼Œå¦åˆ™æ— æ•ˆï¼‰ --&gt;&lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;&lt;!-- iOS åº”ç”¨æ·±å±‚é“¾æŽ¥ --&gt;&lt;meta name="apple-itunes-app" content="app-id=APP-ID, app-argument=http/url-sample.com"&gt;&lt;link rel="alternate" href="ios-app://APP-ID/http/url-sample.com"&gt; ðŸ“– é…ç½® Web åº”ç”¨ç¨‹åº Google Android12345&lt;meta name="theme-color" content="#E64545"&gt;&lt;!-- æ·»åŠ åˆ°ä¸»å±å¹• --&gt;&lt;meta name="mobile-web-app-capable" content="yes"&gt;&lt;!-- æ›´å¤šä¿¡æ¯ï¼šhttps://developer.chrome.com/multidevice/android/installtohomescreen --&gt; Google Chrome1234&lt;link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/APP_ID"&gt;&lt;!-- ç¦ç”¨ç¿»è¯‘æç¤º --&gt;&lt;meta name="google" content="notranslate"&gt; Microsoft Internet Explorer12345678&lt;!-- å¼ºåˆ¶ IE 8/9/10 ä½¿ç”¨å…¶æœ€æ–°çš„æ¸²æŸ“å¼•æ“Ž --&gt;&lt;meta http-equiv="x-ua-compatible" content="ie=edge"&gt;&lt;!-- é€šè¿‡ Skype Toolbar æµè§ˆå™¨æ‰©å±•åŠŸèƒ½ç¦ç”¨è‡ªåŠ¨æ£€æµ‹å’Œæ ¼å¼åŒ–å¯èƒ½çš„ç”µè¯å·ç  --&gt;&lt;meta name="skype_toolbar" content="skype_toolbar_parser_compatible"&gt;&lt;!-- Windows ç£è´´ --&gt;&lt;meta name="msapplication-config" content="/browserconfig.xml"&gt; æœ€ä½Žè¦æ±‚çš„çš„ browserconfig.xml é…ç½®ï¼š 1234567891011&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;browserconfig&gt; &lt;msapplication&gt; &lt;tile&gt; &lt;square70x70logo src="small.png"/&gt; &lt;square150x150logo src="medium.png"/&gt; &lt;wide310x150logo src="wide.png"/&gt; &lt;square310x310logo src="large.png"/&gt; &lt;/tile&gt; &lt;/msapplication&gt;&lt;/browserconfig&gt; ðŸ“– æµè§ˆå™¨é…ç½®æ¨¡å¼å‚è€ƒ â¬† è¿”å›žé¡¶éƒ¨ å›½å†…çš„æµè§ˆå™¨360 æµè§ˆå™¨12&lt;!-- é€‰æ‹©æ¸²æŸ“å¼•æ“Ž --&gt;&lt;meta name="renderer" content="webkit|ie-comp|ie-stand"&gt; QQ ç§»åŠ¨æµè§ˆå™¨123456&lt;!-- åœ¨æŒ‡å®šæ–¹å‘ä¸Šé”å®šå±å¹•ï¼ˆé”å®šæ¨ª/ç«–å±ï¼‰ --&gt;&lt;meta name="x5-orientation" content="landscape/portrait"&gt;&lt;!-- å…¨å±æ˜¾ç¤ºæ­¤é¡µé¢ --&gt;&lt;meta name="x5-fullscreen" content="true"&gt;&lt;!-- é¡µé¢å°†ä»¥â€œåº”ç”¨æ¨¡å¼â€æ˜¾ç¤ºï¼ˆå…¨å±ç­‰ï¼‰--&gt;&lt;meta name="x5-page-mode" content="app"&gt; UC ç§»åŠ¨æµè§ˆå™¨1234567891011121314151617181920&lt;!-- åœ¨æŒ‡å®šæ–¹å‘ä¸Šé”å®šå±å¹•ï¼ˆé”å®šæ¨ª/ç«–å±ï¼‰ --&gt;&lt;meta name="screen-orientation" content="landscape/portrait"&gt;&lt;!-- å…¨å±æ˜¾ç¤ºæ­¤é¡µé¢ --&gt;&lt;meta name="full-screen" content="yes"&gt;&lt;!-- å³ä½¿åœ¨â€œæ–‡æœ¬æ¨¡å¼â€ä¸‹ï¼ŒUC æµè§ˆå™¨ä¹Ÿä¼šæ˜¾ç¤ºå›¾ç‰‡ --&gt;&lt;meta name="imagemode" content="force"&gt;&lt;!-- é¡µé¢å°†ä»¥â€œåº”ç”¨æ¨¡å¼â€æ˜¾ç¤ºï¼ˆå…¨å±ã€ç¦æ­¢æ‰‹åŠ¿ç­‰ï¼‰ --&gt;&lt;meta name="browsermode" content="application"&gt;&lt;!-- åœ¨æ­¤é¡µé¢ç¦ç”¨ UC æµè§ˆå™¨çš„â€œå¤œé—´æ¨¡å¼â€ --&gt;&lt;meta name="nightmode" content="disable"&gt;&lt;!-- ç®€åŒ–é¡µé¢ï¼Œå‡å°‘æ•°æ®ä¼ è¾“ --&gt;&lt;meta name="layoutmode" content="fitscreen"&gt;&lt;!-- ç¦ç”¨çš„ UC æµè§ˆå™¨çš„åŠŸèƒ½ï¼Œâ€œå½“æ­¤é¡µé¢ä¸­æœ‰è¾ƒå¤šæ–‡æœ¬æ—¶ç¼©æ”¾å­—ä½“â€ --&gt;&lt;meta name="wap-font-scale" content="no"&gt; ðŸ“– UC æµè§ˆå™¨æ–‡æ¡£ â¬† è¿”å›žé¡¶éƒ¨ åº”ç”¨é“¾æŽ¥123456789101112&lt;!-- iOS --&gt;&lt;meta property="al:ios:url" content="applinks://docs"&gt;&lt;meta property="al:ios:app_store_id" content="12345"&gt;&lt;meta property="al:ios:app_name" content="App Links"&gt;&lt;!-- Android --&gt;&lt;meta property="al:android:url" content="applinks://docs"&gt;&lt;meta property="al:android:app_name" content="App Links"&gt;&lt;meta property="al:android:package" content="org.applinks"&gt;&lt;!-- é¡µé¢å›žé€€ --&gt;&lt;meta property="al:web:url" content="https://applinks.org/documentation"&gt; ðŸ“– åº”ç”¨é“¾æŽ¥æ–‡æ¡£ â¬† è¿”å›žé¡¶éƒ¨ å…¶ä»–èµ„æº ðŸ“– HTML5 æ ·æ¿æ–‡æ¡£ï¼šHTML æ ‡ç­¾ ðŸ“– HTML5 æ ·æ¿æ–‡æ¡£ï¼šæ‰©å±•å’Œå®šåˆ¶ â¬† è¿”å›žé¡¶éƒ¨ ç›¸å…³é¡¹ç›® Atom HTML Head ç‰‡æ®µ - Atom HEAD ç‰‡æ®µåŒ… Sublime Text HTML Head ç‰‡æ®µ - Sublime Text HEAD ç‰‡æ®µåŒ… head-it - HEAD ç‰‡æ®µçš„ CLI æŽ¥å£ vue-head - åœ¨ Vue.js ä¸­æ“ä½œ HEAD æ ‡ç­¾çš„ meta ä¿¡æ¯ â¬† è¿”å›žé¡¶éƒ¨ å…¶ä»–æ ¼å¼ ðŸ“„ PDF â¬† è¿”å›žé¡¶éƒ¨ ç¿»è¯‘ ðŸ‡ºðŸ‡¸ è‹±è¯­/English ðŸ‡¨ðŸ‡³ ç®€ä½“ä¸­æ–‡/Chinese (Simplified) ðŸ‡©ðŸ‡ª å¾·è¯­/German ðŸ‡§ðŸ‡· å·´è¥¿è‘¡è„ç‰™è¯­/Brazilian Portuguese ðŸ‡®ðŸ‡¹ æ„å¤§åˆ©è¯­/Italian ðŸ‡¯ðŸ‡µ æ—¥è¯­/Japanese ðŸ‡°ðŸ‡· éŸ©è¯­/Korean ðŸ‡·ðŸ‡º ä¿„ç½—æ–¯è¯­/Russian/Ð ÑƒÑÑÐºÐ¸Ð¹ ðŸ‡ªðŸ‡¸ è¥¿ç­ç‰™è¯­/Spanish ðŸ‡¹ðŸ‡· åœŸè€³å…¶è¯­/Turkish/TÃ¼rkÃ§e â¬† è¿”å›žé¡¶éƒ¨ è´¡çŒ®å¼€å¯ä¸€ä¸ª issue æˆ–ä¸€ä¸ª pull è¯·æ±‚æ¥æå‡ºä¿®æ”¹æˆ–è¡¥å……ã€‚ æŒ‡å— HEAD ä»“åº“ç”±ä¸¤ä¸ªåˆ†æ”¯ç»„æˆï¼š 1ã€masterå¯¹è¯¥åˆ†æ”¯åŒ…å«çš„ README.md æ–‡ä»¶çš„ä¿®æ”¹ä¼šè‡ªåŠ¨åæ˜ åœ¨ gethead.info ç½‘ç«™ä¸Šã€‚ æ‰€æœ‰å¯¹ç…§è¡¨å†…å®¹çš„æ›´æ”¹éƒ½åº”è¯¥é’ˆå¯¹æ­¤æ–‡ä»¶ã€‚ è¯·æŒ‰ç…§ä¸‹åˆ—æ­¥éª¤ pull è¯·æ±‚ï¼š åªä¿®æ”¹ä¸€ä¸ªæ ‡ç­¾ï¼Œæˆ–ä¸€æ¬¡ä¸€ç»„ç›¸å…³çš„æ ‡ç­¾ å¯¹å±žæ€§ä½¿ç”¨åŒå¼•å· è¯·ä¸è¦åœ¨è‡ªæˆ‘é—­åˆçš„å…ƒç´ ä¸­ä½¿ç”¨æ–œçº¿ â€”â€” å³ä¾¿ HTML5 è§„èŒƒä¸­è¯´ï¼Œä»–ä»¬æ˜¯å¯é€‰çš„ è€ƒè™‘åœ¨æ–‡æ¡£ä¸­åŠ å…¥é“¾æŽ¥ä»¥æ”¯æŒä½ æ‰€æåˆ°çš„å˜åŒ– 2. gh-pagesè¯¥åˆ†æ”¯è´Ÿè´£ gethead.info ç½‘ç«™ã€‚æˆ‘ä»¬ä½¿ç”¨ Jekyll é€šè¿‡ GitHub Pages æœåŠ¡æ¥éƒ¨ç½² README.md Markdown æ–‡ä»¶ã€‚æ‰€æœ‰ç½‘ç«™ç›¸å…³çš„ä¿®æ”¹å¿…é¡»é›†ä¸­åœ¨è¿™é‡Œã€‚ ä½ å¯èƒ½éœ€è¦é€šè¿‡ Jekyll æ–‡æ¡£ æ¥äº†è§£ Jekyll æ˜¯å¦‚ä½•åœ¨è¯¥åˆ†æ”¯ä¸Šå·¥ä½œçš„ã€‚ è´¡çŒ®è€…åˆ—å‡ºæ‰€æœ‰è¶…çº§æ£’çš„ è´¡çŒ®è€…ä»¬. ä½œè€…Josh Buchea ç¿»è¯‘è€…å­ä¸¶è¨€ åè®® â¬† è¿”å›žé¡¶éƒ¨]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>meta</tag>
        <tag>head</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSONP]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F04%2F09%2FJSONP%2F</url>
    <content type="text"><![CDATA[å…·ä½“å®žçŽ°ä»£ç  å£°æ˜Žå°è£…ä¸€ä¸ªjsonpçš„å‡½æ•°,å¹¶ä¸”ä¼ å…¥ä¸¤ä¸ªå‚æ•°urlå’Œä¸€ä¸ªéšæœºçš„Messagexxx,å› ä¸ºé˜²æ­¢å¤šæ¬¡è·¨åŸŸè¯·æ±‚å¾—åˆ°çš„èµ„æºä¸ä¼šè¢«è¦†ç›–.è®©æ¯ä¸€æ¬¡è¯·æ±‚çš„èµ„æºéƒ½èƒ½å¤Ÿç‹¬ç«‹çš„æ˜¾ç¤º. 1234567function jsonp(url,fn)&#123; var Message = 'Message'+parseInt(Math.randow()*1000,10) //ç”ŸæˆéšæœºMessage window[Message] = fn //è®©è¿™ä¸ªéšæœºMessageæ˜¯windowä¸­çš„key,è¿™é‡Œä¸ä½¿ç”¨window.Messageä¸»è¦æ˜¯å› ä¸ºè¿™ä¸ªMessageæ˜¯éšæœºæ¯ä¸€éƒ½ä¸ä¸€æ ·. var script = document.createElement('script') //åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾ script.src = url+'?callback='+ Message //callbackæ˜¯çº¦å®šä¿—æˆçš„,å¯ä»¥æ”¹å˜ä¸ºä»»æ„å‚æ•° document.head.appendChild(script) //åˆ©ç”¨scriptçš„ç‰¹æ€§,åªæœ‰åœ¨htmlæ–‡æ¡£ä¸­æ‰ä¼šè§¦å‘è¯·æ±‚&#125; åœ¨duowan.jsä¸­æ”¾å…¥è¦è¢«è·¨åŸŸè¯·æ±‚çš„æ•°æ® ({&quot;name&quot;:&quot;cheche&quot;,&quot;gender&quot;:&quot;male&quot;}) //æ˜¯ä¸€ä¸ªå ä½ç­‰å¾…è¢«å›žè°ƒçš„å‚æ•° åœ¨åŽç«¯ä¸­éœ€è¦æ·»åŠ å¦‚ä¸‹ä»£ç  123456if(path === "/duowan.js")&#123; var string = fs.readFileSync('./duowan.js','utf-8') var callback = query.callback //åˆ©ç”¨?æŸ¥è¯¢å­—ç¬¦ä¸²è°ƒå–callbackçš„å€¼,è¿™ä¸ªå€¼å°±æ˜¯Messageçœ‹ä¸Šè¾¹æ­¥éª¤1 response.setHeader('Content-Type','charset=utf-8') response.end(string.replace('&#123;&#123;callback&#125;&#125;',callback)) //æ›¿æ¢stringå­—ç¬¦ä¸²ä¸­çš„&#123;&#123;callback&#125;&#125;ä¸ºcallback,å®ƒçš„å€¼åˆæ˜¯Message,Messageåœ¨windowä¸­å®ƒçš„å€¼æ˜¯function(data)&#123;&#125;&#125; åœ¨å‰ç«¯æ‰§è¡Œjsonpå‡½æ•° 12345678jsonp('http://duowan.com',function(data)&#123; console.log(ç¬¬ä¸€æ¬¡æ•°æ®) console.log(data)&#125;)jsonp('http://duowan.com',function(data)&#123; console.log(ç¬¬äºŒæ¬¡æ•°æ®) console.log(data)&#125;) å¾—åˆ°å“åº”çš„æ•°æ®ä¸ºMessageåŠ éšæœºæ•°çš„æ‰§è¡Œå‡½æ•°:Message0323({â€œnameâ€:â€checheâ€,â€genderâ€:â€maleâ€}) 1234ç¬¬ä¸€æ¬¡çš„æ•°æ®&#123;"name":"cheche","gender":"male"&#125;ç¬¬äºŒæ¬¡çš„æ•°æ®&#123;"name":"cheche","gender":"male"&#125; jQueryä¹Ÿæœ‰åŒæ ·çš„å‡½æ•°å®žçŽ°JSONP123456789$.ajax(&#123; url:"http://duowan.com/duowan.js" dataType:'jsonp' success:function(data)&#123; console.log('ç¬¬ä¸€æ¬¡æ‰§è¡Œ') console.log(data) &#125; &#125;) demoåœ°å€]]></content>
      <categories>
        <category>è·¨åŸŸ</category>
        <category>JavaScirpt</category>
      </categories>
      <tags>
        <tag>JavaScirpt</tag>
        <tag>JSONP</tag>
        <tag>è·¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªåˆ¶jQuery]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F04%2F09%2F%E8%87%AA%E5%88%B6jQuery%2F</url>
    <content type="text"><![CDATA[è‡ªåˆ¶jQueryæºç åœ°å€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;è½¦jQueryè‡ªåˆ¶&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt; &lt;script&gt; window.$ = function (selectors) &#123; var elements if (typeof selectors === 'string') &#123; elements = document.querySelectorAll(selectors) &#125; else if (selectors instanceof Array) &#123; elements = &#123;&#125; for (var i = 0; i &lt; selectors.length; i++) &#123; elements[i] = selectors[i] &#125; elements.length = selectors.length &#125; else if (selectors instanceof Element) &#123; elements = &#123; 0: selectors, length: 1 &#125; &#125; elements.on = function (eventType, fn) &#123; for (var i = 0; i &lt; elements.length; i++) &#123; if (elements[i].addEventListener) &#123; elements[i].addEventListener(eventType, fn) &#125; else if (elements[i].attachEvent) &#123; elements[i].attachEvent('on' + eventType, fn) &#125; &#125; return elements &#125; elements.addClass = function (classname) &#123; for (var i = 0; i &lt; elements.length; i++) &#123; if (elements[i].classList) &#123; elements[i].classList.add(classname) &#125; else &#123; elements[i].className = elements[i].className + ' ' + classname &#125; &#125; return elements &#125; elements.removeClass = function (classname) &#123; for (var i = 0; i &lt; elements.length; i++) &#123; elements[i].classList.remove(classname) &#125; return elements &#125; elements.text = function (string) &#123; if (arguments.length === 0) &#123; var result = [] for (var i = 0; i &lt; elements.length; i++) &#123; result.push(elements[i].innerText || elements[i].textContent) &#125; return result &#125; else &#123; for (var i = 0; i &lt; elements.length; i++) &#123; if (elements[i].innerText) &#123; elements[i].innerText = string &#125; else &#123; elements[i].textContent = string &#125; &#125; return elements &#125; &#125; elements.appendText = function (string) &#123; for (var i = 0; i &lt; elements; i++) &#123; if (elements[i].innerText) &#123; elements[i].innerText += string &#125; else &#123; elements[i].textContent += string &#125; &#125; return elements &#125; elements.css = function (styleName, styleString) &#123; for (var i = 0; i &lt; elements.length; i++) &#123; elements[i].style[styleName] = styleString &#125; return elements &#125; elements.html = function (stringhtml) &#123; if (arguments.length === 0) &#123; var result = [] for (var i = 0; i &lt; elements.length; i++) &#123; result.push(elements[i].innerHTML) &#125; return result &#125; else &#123; for (var i = 0; i &lt; elements.length; i++) &#123; elements[i].innerHTML = stringhtml &#125; &#125; return elements &#125; elements.attr = function (attrname, value) &#123; for (var i = 0; i &lt; elements.length; i++) &#123; elements[i].setAttribute(attrname, value) &#125; &#125; elements.get = function (index) &#123; return elements[index] &#125; elements.siblings = function () &#123; var result = [] for (var i = 0; i &lt; elements.length; i++) &#123; var chilrens = elements[i].parentNode.children for (var x = 0; x &lt; chilrens.length; x++) &#123; if (chilrens[x] !== elements[i]) &#123; result.push(chilrens[x]) &#125; &#125; &#125; var newresult = $(result) return newresult &#125; return elements &#125; /*æµ‹è¯•åˆ†å‰²çº¿---------------------------------------------------------------------------------------------------------*/ var items = $('li') console.log(items) items.on('click', function () &#123; console.log('ç‚¹å‡»') &#125;) items.addClass('hi').on('dblclick', function () &#123; console.log('è¢«åŒå‡»äº†') &#125;).removeClass('hi').addClass('hello').addClass('frank').addClass('jack') items.text('&lt;p&gt;ä½ å¥½&lt;/p&gt;') console.log(items.text()) items.css('border', '1px solid red') items.attr('name', 'frank') items.html('&lt;p&gt;ä½ å¥½&lt;/p&gt;') console.log(items.html()) items[0].style.border = '1px solid green' items.get(1).style.border = '1px solid blue' var item = $(items[1]) item.siblings().addClass('s') &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryåŸºç¡€]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F04%2F08%2FjQuery%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[é€‰æ‹©å™¨12345678910111213$('li').eq(1) //é€‰æ‹©liä¸­é”®å€¼æ˜¯1çš„element$('.a').next() //ä»Žclass="a"çš„å…ƒç´ ç›¸é‚»ä¸‹ä¸€ä¸ªå…ƒç´ $('.a').prev() //ä»Žclass="a"çš„å…ƒç´ ç›¸é‚»ä¸‹ä¸Šä¸€ä¸ªå…ƒç´ $('.a').nextAll() //ä»Žclass="a"çš„å…ƒç´ åŒè¾ˆä¹‹åŽçš„æ‰€æœ‰å…ƒç´ é›†åˆ$('.a').prevAll() //ä»Žclass="a"çš„å…ƒç´ ç›¸é‚»ä¹‹å‰çš„æ‰€æœ‰å…ƒç´ é›†åˆ$('.a').siblings() //ä»Žclass="a"çš„å…ƒç´ ç›¸é‚»çš„æ‰€æœ‰å…ƒç´ é›†åˆ$('.a').parent() //ä»Žclass="a"çš„å…ƒç´ çš„ä¸Šä¸€çº§çˆ¶å…ƒç´ $('.a').parents() //ä»Žclass="a"çš„å…ƒç´ çš„æ‰€æœ‰çˆ¶å…ƒç´ ç¥–å…ƒç´  parents(''selector") è¿™æ ·çš„è¯å°±ä¼šæŸ¥æ‰¾class="a"çš„çˆ¶å…ƒç´ åŒ…å«selectoré€‰æ‹©å™¨çš„å…ƒç´ $('.a').children() //ä»Žclass="a"çš„å…ƒç´ å‘ä¸‹ä¸€å±‚çš„æ‰€æœ‰å…ƒç´ $('.a').find('.b') //ä»Žclass="a"çš„å…ƒç´ åŽä»£å­å…ƒç´ class="b"çš„å…ƒç´ åˆé›†$('.a').filter('.b') //ä»Žclass="a"çš„å…ƒç´ é›†åˆä¸­æ»¡è¶³class="b"çš„å…ƒç´ $('.a').has('.b') //ä»Žclass="a"çš„å…ƒç´ é›†åˆä¸­å«æœ‰class="b"çš„å…ƒç´ $('.a').is('.b') //ä»Žclass="a"çš„å…ƒç´ é›†åˆä¼—æ˜¯å¦å«æœ‰class="b"çš„å…ƒç´ è¿”å›žå¸ƒå°”å€¼\ åˆ©ç”¨é€‰æ‹©å™¨åˆ¶ä½œtabåˆ‡æ¢123456789$('.tabs-top&gt;li').on('click',function(e)&#123; //å¯¹tabs-top&gt;liè¿›è¡Œç‚¹å‡»äº‹ä»¶ç›‘å¬ let li=e.currentTarget //èŽ·å–ç‚¹å‡»çš„å…ƒç´  let Index=$(li).index() //liæ˜¯æŽ’è¡Œç¬¬å‡  $(li).addClass('active') //ç‚¹å‡»äº‹ä»¶liæ·»åŠ 'active' $(li).siblings('.active').removeClass('active') //ç‚¹å‡»äº‹ä»¶liçš„å…„å¼Ÿå«æœ‰'.active'çš„åˆ é™¤'active' let liIndex =$(li).parent().parent().siblings().children().children().eq(Index) //æ‰¾åˆ°panesçš„å¯¹åº”liå…ƒç´  liIndex.addClass('active') //ç»™paneså¯¹åº”çš„liæ·»åŠ 'active' liIndex.siblings('.active').removeClass('active') //ç»™paneså¯¹åº”çš„liçš„å…„å¼Ÿå«æœ‰'.active'åˆ é™¤'active'&#125;) å¸¸ç”¨æ–¹æ³•each()123$('li').each(function(index,element)&#123; console.log(index+":"+this)&#125;) //å‡½æ•°å†…éƒ¨çš„thisæ€»æ˜¯æŒ‡å‘å½“å‰çš„liå…ƒç´  $.extend()12345678910var obj1 = &#123;'name':'cheche','age':20&#125;var obj2 = &#123;'name':'xiaopei','apple':0&#125;var newobj = $.extend(&#123;&#125;,obj1,obj2)console.log(newobj) [object Object] &#123; age: 20, apple: 0, name: "xiaopei"&#125;//å°†ä¸¤ä¸ªå¯¹å‘åˆå¹¶æˆä¸€ä¸ªæ–°çš„å¯¹è±¡è¿”å›žï¼Œå¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®çš„æ˜¯trueé‚£ä¹ˆä¼šè¿›è¡Œé€’å½’åˆå¹¶,å¦‚æžœæœ‰ç›¸åŒçš„å±žæ€§å’Œå€¼é‚£ä¹ˆobj2çš„å€¼ä¼šè¦†ç›–obj1 clone()1$('selector').clone() //è¿™ä¸ªæ–¹æ³•ä¼šè¿›è¡Œæ·±æ‹·è´åŒ¹é…çš„å…ƒç´ åˆé›† index()1$('selector').index() //å¦‚æžœindexå‚æ•°æ²¡æœ‰è®¾ç½®é‚£ä¹ˆä¼šè¿”å›žåŒ¹é…å…ƒç´ åˆé›†ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸å¯¹äºŽåŒçº§å…„å¼Ÿå…ƒç´ è‡ªå·±æ˜¯ç¬¬å‡ çš„ä½ç½®ï¼Œå¦‚æžœå‚æ•°è®¾ç½®é‚£ä¹ˆä¼šä»Žè¿”å›žåˆé›†ä¸­ä¸Žå‚æ•°åŒ¹é…çš„å…ƒç´ ä½ç½® ready()1$(document).ready(function()&#123;&#125;) //å½“é¡µé¢DOMå…ƒç´ åŠ è½½å®ŒæˆåŽç«‹å³æ‰§è¡Œ toggleClass()1$(this).toggleClass('active') //å¦‚æžœå­˜åœ¨å°±åˆ é™¤å¦‚æžœä¸å­˜åœ¨å°±æ·»åŠ  hasClass()1$(this).hasClass('active') === true //åˆ¤æ–­æ˜¯å¦classä¸­æœ‰active ajax1234567891011121314$.ajax(&#123; url:"www.baidu.com", //å‘é€åœ°å€ type:"post", //ç±»åž‹ data:&#123;"name":"che","age":"18"&#125;, //å‘é€é™„å¸¦å‚æ•° dataType:"json", //å‘é€å‚æ•°ç±»åž‹ async:false, //åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ cache:false, //æ˜¯å¦ç¦ç”¨ç¼“å­˜&#125;).done(function(res)&#123;console.log(res)&#125;).fail(function()&#123;console.log('å¤±è´¥')&#125;).always(function()&#123;console.log('è¯·æ±‚å®Œæˆ')&#125;)$.get('text.js',&#123;'name':'che'&#125;,function(data)&#123;console.log(data)&#125;)$.getJSON('text.json',function(data)&#123;console.log(data)&#125;) åŠ¨ç”»ç›´æŽ¥çœ‹è¿™ä¸ªDEMO 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; .box &#123; width: 100px; height: 100px; background: red; position: relative; top: 100px; left: 0; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="continer"&gt; &lt;button&gt;show&lt;/button&gt; &lt;button&gt;hide&lt;/button&gt; &lt;button&gt;slidUp&lt;/button&gt; &lt;button&gt;slidDown&lt;/button&gt; &lt;button&gt;fadeIn&lt;/button&gt; &lt;button&gt;fadeout&lt;/button&gt; &lt;button&gt;animate&lt;/button&gt; &lt;/div&gt; &lt;div class="box"&gt;&lt;/div&gt; &lt;script&gt; var $box = $('.box') $('.continer').on('click', ':nth-child(1)', function(e) &#123; $box.show('fast', function() &#123; console.log('æ‰§è¡Œäº†show') &#125;) &#125;) $('.continer').on('click', ':nth-child(2)', function(e) &#123; $box.hide('fast', function() &#123; console.log('æ‰§è¡Œäº†hide') &#125;) &#125;) $('.continer').on('click', ':nth-child(3)', function(e) &#123; $box.slideUp('fast', function() &#123; console.log('æ‰§è¡Œäº†slideUp') &#125;) &#125;) $('.continer').on('click', ':nth-child(4)', function(e) &#123; $box.slideDown('fast', function() &#123; console.log('æ‰§è¡Œäº†slideDown') &#125;) &#125;) $('.continer').on('click', ':nth-child(5)', function(e) &#123; $box.fadeIn('fast', function() &#123; console.log('æ‰§è¡Œäº†fadeIn') &#125;) &#125;) $('.continer').on('click', ':nth-child(6)', function(e) &#123; $box.fadeOut('fast', function() &#123; console.log('æ‰§è¡Œäº†fadeOut') &#125;) &#125;) $('.continer').on('click', ':nth-child(7)', function(e) &#123; $box.animate(&#123; opacity: 0.2, left: '+=50', width: ['toggle', 'swing'], height: ['toggle', 'swing'] &#125;, 1000, function() &#123; console.log('æ‰§è¡Œäº†animate') &#125;) &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-axiosæ‹¦æˆªå™¨å®žçŽ°loading]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F04%2F08%2Fvue-axios%E6%8B%A6%E6%88%AA%E5%99%A8%E5%AE%9E%E7%8E%B0loading%2F</url>
    <content type="text"><![CDATA[åŽŸæ–‡åœ°å€ å‡†å¤‡ åˆ©ç”¨vue-cliè„šæ‰‹æž¶åˆ›å»ºé¡¹ç›® è¿›å…¥é¡¹ç›®å®‰è£…vuexã€axiosï¼ˆnpm install vuex,npm install axiosï¼‰ axiosé…ç½®é¡¹ç›®ä¸­å®‰è£…axiosæ¨¡å—ï¼ˆnpm install axiosï¼‰å®ŒæˆåŽï¼Œè¿›è¡Œä»¥ä¸‹é…ç½®ï¼š main.js 12345//å¼•å…¥axiosimport Axios from &apos;axios&apos;//ä¿®æ”¹åŽŸåž‹é“¾ï¼Œå…¨å±€ä½¿ç”¨axios,è¿™æ ·ä¹‹åŽå¯åœ¨æ¯ä¸ªç»„ä»¶çš„methodsä¸­è°ƒç”¨$axioså‘½ä»¤å®Œæˆæ•°æ®è¯·æ±‚Vue.prototype.$axios=Axios loadingç»„ä»¶æˆ‘è¿™é‡Œå°±é€‰æ‹©ä½¿ç”¨iviewæä¾›çš„loadingç»„ä»¶ï¼Œ 123456npm install iviewmain.jsimport iView from &apos;iview&apos;;import &apos;iview/dist/styles/iview.css&apos;;Vue.use(iView); å®‰è£…å¼•å…¥åŽï¼Œå°†loadingå†™æˆä¸€ä¸ªç»„ä»¶loading.vue Vuex stateçŠ¶æ€è®¾ç½®æŽ§åˆ¶loadingçš„æ˜¾éšstore.js(Vuex) 12345export const store = new Vuex.Store(&#123; state:&#123; isShow:false &#125;&#125;) åœ¨stateä¸­å®šä¹‰isShowå±žæ€§ï¼Œé»˜è®¤falseéšè— 1v-if=&quot;this.$store.state.isShow&quot; ä¸ºloadingç»„ä»¶æ·»åŠ v-ifç»‘å®šstateä¸­çš„isShow ç»„ä»¶ä½¿ç”¨axiosè¯·æ±‚æ•°æ®123456789101112&lt;button @click=&quot;getData&quot;&gt;è¯·æ±‚æ•°æ®&lt;/button&gt;methods:&#123; getData()&#123; this.$axios.get(&apos;https://www.apiopen.top/journalismApi&apos;) .then(res=&gt;&#123; console.log(res)//è¿”å›žè¯·æ±‚çš„ç»“æžœ &#125;) .catch(err=&gt;&#123; console.log(err) &#125;) &#125; &#125; æˆ‘è¿™é‡Œä½¿ç”¨ä¸€ä¸ªæŒ‰é’®è¿›è¡Œè§¦å‘äº‹ä»¶ï¼Œåˆ©ç”¨getè¯·æ±‚ç½‘ä¸Šéšä¾¿æ‰¾çš„ä¸€ä¸ªapiæŽ¥å£,.thenä¸­è¿”å›žè¯·æ±‚çš„æ•´ä¸ªç»“æžœï¼ˆä¸ä»…ä»…åŒ…æ‹¬æ•°æ®ï¼‰ Axiosæ‹¦æˆªå™¨é…ç½®main.js 12345678910//å®šä¹‰ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨Axios.interceptors.request.use(function(config)&#123; store.state.isShow=true; //åœ¨è¯·æ±‚å‘å‡ºä¹‹å‰è¿›è¡Œä¸€äº›æ“ä½œ return config&#125;)//å®šä¹‰ä¸€ä¸ªå“åº”æ‹¦æˆªå™¨Axios.interceptors.response.use(function(config)&#123; store.state.isShow=false;//åœ¨è¿™é‡Œå¯¹è¿”å›žçš„æ•°æ®è¿›è¡Œå¤„ç† return config&#125;) åˆ†åˆ«å®šä¹‰ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨ï¼ˆè¯·æ±‚å¼€å§‹æ—¶æ‰§è¡ŒæŸäº›æ“ä½œï¼‰ã€å“åº”æ‹¦æˆªå™¨ï¼ˆæŽ¥å—åˆ°æ•°æ®åŽæ‰§è¡ŒæŸäº›æ“ä½œï¼‰ï¼Œä¹‹é—´åˆ†åˆ«è®¾ç½®æ‹¦æˆªæ—¶æ‰§è¡Œçš„æ“ä½œï¼Œæ”¹å˜stateå†…isShowçš„å¸ƒå°”å€¼ä»Žè€ŒæŽ§åˆ¶loadingç»„ä»¶åœ¨è§¦å‘è¯·æ±‚æ•°æ®å¼€å§‹æ—¶æ˜¾ç¤ºloadingï¼Œè¿”å›žæ•°æ®æ—¶éšè—loadingç‰¹åˆ«æ³¨æ„ï¼šè¿™é‡Œæœ‰ä¸€ä¸ªè¯­æ³•å‘ï¼ˆæˆ‘å¯æ˜¯æ¥æ¥å›žå›žè¸©äº†ä¸å°‘æ¬¡ï¼‰main.jsä¸­è°ƒå–ã€æ“ä½œvuex stateä¸­çš„æ•°æ®ä¸åŒäºŽç»„ä»¶ä¸­çš„this.$store.stateï¼Œè€Œæ˜¯ç›´æŽ¥store.state åŒä¸Šé¢ä»£ç  æ•ˆæžœå±•ç¤º æœ¬æ–‡ä½œè€…ï¼šèŒ…é‡Žzhyåšå®¢é“¾æŽ¥ï¼šwww.zhysama.xyzç‰ˆæƒå£°æ˜Žï¼š è¯¥æ–‡ç« ç”±åšä¸»ç¼–è¾‘ , è½¬å‘è¯·æ³¨æ˜Žå‡ºå¤„è°¢è°¢ï¼]]></content>
      <categories>
        <category>Vue</category>
        <category>axios</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>axios</tag>
        <tag>loding</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gridå¸ƒå±€]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F31%2FGrid%E5%B8%83%E5%B1%80%2F</url>
    <content type="text"><![CDATA[é˜®ä¸€å³°åšå®¢è½¬è½½ ä¸€ã€æ¦‚è¿°ç½‘æ ¼å¸ƒå±€ï¼ˆGridï¼‰æ˜¯æœ€å¼ºå¤§çš„ CSS å¸ƒå±€æ–¹æ¡ˆã€‚ å®ƒå°†ç½‘é¡µåˆ’åˆ†æˆä¸€ä¸ªä¸ªç½‘æ ¼ï¼Œå¯ä»¥ä»»æ„ç»„åˆä¸åŒçš„ç½‘æ ¼ï¼Œåšå‡ºå„ç§å„æ ·çš„å¸ƒå±€ã€‚ä»¥å‰ï¼Œåªèƒ½é€šè¿‡å¤æ‚çš„ CSS æ¡†æž¶è¾¾åˆ°çš„æ•ˆæžœï¼ŒçŽ°åœ¨æµè§ˆå™¨å†…ç½®äº†ã€‚ ä¸Šå›¾è¿™æ ·çš„å¸ƒå±€ï¼Œå°±æ˜¯ Grid å¸ƒå±€çš„æ‹¿æ‰‹å¥½æˆã€‚ Grid å¸ƒå±€ä¸Ž Flex å¸ƒå±€æœ‰ä¸€å®šçš„ç›¸ä¼¼æ€§ï¼Œéƒ½å¯ä»¥æŒ‡å®šå®¹å™¨å†…éƒ¨å¤šä¸ªé¡¹ç›®çš„ä½ç½®ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬ä¹Ÿå­˜åœ¨é‡å¤§åŒºåˆ«ã€‚ Flex å¸ƒå±€æ˜¯è½´çº¿å¸ƒå±€ï¼Œåªèƒ½æŒ‡å®šâ€é¡¹ç›®â€é’ˆå¯¹è½´çº¿çš„ä½ç½®ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç»´å¸ƒå±€ã€‚Grid å¸ƒå±€åˆ™æ˜¯å°†å®¹å™¨åˆ’åˆ†æˆâ€è¡Œâ€å’Œâ€åˆ—â€ï¼Œäº§ç”Ÿå•å…ƒæ ¼ï¼Œç„¶åŽæŒ‡å®šâ€é¡¹ç›®æ‰€åœ¨â€çš„å•å…ƒæ ¼ï¼Œå¯ä»¥çœ‹ä½œæ˜¯äºŒç»´å¸ƒå±€ã€‚Grid å¸ƒå±€è¿œæ¯” Flex å¸ƒå±€å¼ºå¤§ã€‚ äºŒã€åŸºæœ¬æ¦‚å¿µå­¦ä¹  Grid å¸ƒå±€ä¹‹å‰ï¼Œéœ€è¦äº†è§£ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚ 2.1 å®¹å™¨å’Œé¡¹ç›®é‡‡ç”¨ç½‘æ ¼å¸ƒå±€çš„åŒºåŸŸï¼Œç§°ä¸ºâ€å®¹å™¨â€ï¼ˆcontainerï¼‰ã€‚å®¹å™¨å†…éƒ¨é‡‡ç”¨ç½‘æ ¼å®šä½çš„å­å…ƒç´ ï¼Œç§°ä¸ºâ€é¡¹ç›®â€ï¼ˆitemï¼‰ã€‚ 12345&lt;div&gt; &lt;div&gt;&lt;p&gt;1&lt;/p&gt;&lt;/div&gt; &lt;div&gt;&lt;p&gt;2&lt;/p&gt;&lt;/div&gt; &lt;div&gt;&lt;p&gt;3&lt;/p&gt;&lt;/div&gt;&lt;/div&gt; ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€å¤–å±‚çš„&lt;div&gt;å…ƒç´ å°±æ˜¯å®¹å™¨ï¼Œå†…å±‚çš„ä¸‰ä¸ª&lt;div&gt;å…ƒç´ å°±æ˜¯é¡¹ç›®ã€‚ æ³¨æ„ï¼šé¡¹ç›®åªèƒ½æ˜¯å®¹å™¨çš„é¡¶å±‚å­å…ƒç´ ï¼Œä¸åŒ…å«é¡¹ç›®çš„å­å…ƒç´ ï¼Œæ¯”å¦‚ä¸Šé¢ä»£ç çš„&lt;p&gt;å…ƒç´ å°±ä¸æ˜¯é¡¹ç›®ã€‚Grid å¸ƒå±€åªå¯¹é¡¹ç›®ç”Ÿæ•ˆã€‚ 2.2 è¡Œå’Œåˆ—å®¹å™¨é‡Œé¢çš„æ°´å¹³åŒºåŸŸç§°ä¸ºâ€è¡Œâ€ï¼ˆrowï¼‰ï¼Œåž‚ç›´åŒºåŸŸç§°ä¸ºâ€åˆ—â€ï¼ˆcolumnï¼‰ã€‚ ä¸Šå›¾ä¸­ï¼Œæ°´å¹³çš„æ·±è‰²åŒºåŸŸå°±æ˜¯â€è¡Œâ€ï¼Œåž‚ç›´çš„æ·±è‰²åŒºåŸŸå°±æ˜¯â€åˆ—â€ã€‚ 2.3 å•å…ƒæ ¼è¡Œå’Œåˆ—çš„äº¤å‰åŒºåŸŸï¼Œç§°ä¸ºâ€å•å…ƒæ ¼â€ï¼ˆcellï¼‰ã€‚ æ­£å¸¸æƒ…å†µä¸‹ï¼Œnè¡Œå’Œmåˆ—ä¼šäº§ç”Ÿn x mä¸ªå•å…ƒæ ¼ã€‚æ¯”å¦‚ï¼Œ3è¡Œ3åˆ—ä¼šäº§ç”Ÿ9ä¸ªå•å…ƒæ ¼ã€‚ 2.4 ç½‘æ ¼çº¿åˆ’åˆ†ç½‘æ ¼çš„çº¿ï¼Œç§°ä¸ºâ€ç½‘æ ¼çº¿â€ï¼ˆgrid lineï¼‰ã€‚æ°´å¹³ç½‘æ ¼çº¿åˆ’åˆ†å‡ºè¡Œï¼Œåž‚ç›´ç½‘æ ¼çº¿åˆ’åˆ†å‡ºåˆ—ã€‚ æ­£å¸¸æƒ…å†µä¸‹ï¼Œnè¡Œæœ‰n + 1æ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼Œmåˆ—æœ‰m + 1æ ¹åž‚ç›´ç½‘æ ¼çº¿ï¼Œæ¯”å¦‚ä¸‰è¡Œå°±æœ‰å››æ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚ ä¸Šå›¾æ˜¯ä¸€ä¸ª 4 x 4 çš„ç½‘æ ¼ï¼Œå…±æœ‰5æ ¹æ°´å¹³ç½‘æ ¼çº¿å’Œ5æ ¹åž‚ç›´ç½‘æ ¼çº¿ã€‚ ä¸‰ã€å®¹å™¨å±žæ€§Grid å¸ƒå±€çš„å±žæ€§åˆ†æˆä¸¤ç±»ã€‚ä¸€ç±»å®šä¹‰åœ¨å®¹å™¨ä¸Šé¢ï¼Œç§°ä¸ºå®¹å™¨å±žæ€§ï¼›å¦ä¸€ç±»å®šä¹‰åœ¨é¡¹ç›®ä¸Šé¢ï¼Œç§°ä¸ºé¡¹ç›®å±žæ€§ã€‚è¿™éƒ¨åˆ†å…ˆä»‹ç»å®¹å™¨å±žæ€§ã€‚ 3.1 display å±žæ€§display: gridæŒ‡å®šä¸€ä¸ªå®¹å™¨é‡‡ç”¨ç½‘æ ¼å¸ƒå±€ã€‚ 123div &#123; display: grid;&#125; ä¸Šå›¾æ˜¯display: gridçš„æ•ˆæžœã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨å…ƒç´ éƒ½æ˜¯å—çº§å…ƒç´ ï¼Œä½†ä¹Ÿå¯ä»¥è®¾æˆè¡Œå†…å…ƒç´ ã€‚ 123div &#123; display: inline-grid;&#125; ä¸Šé¢ä»£ç æŒ‡å®šdivæ˜¯ä¸€ä¸ªè¡Œå†…å…ƒç´ ï¼Œè¯¥å…ƒç´ å†…éƒ¨é‡‡ç”¨ç½‘æ ¼å¸ƒå±€ã€‚ ä¸Šå›¾æ˜¯display: inline-gridçš„æ•ˆæžœã€‚ æ³¨æ„ï¼Œè®¾ä¸ºç½‘æ ¼å¸ƒå±€ä»¥åŽï¼Œå®¹å™¨çš„floatã€display: inline-blockã€display: table-cellã€vertical-alignå’Œcolumn-*ç­‰è®¾ç½®éƒ½å°†å¤±æ•ˆã€‚ 3.2 grid-template-columns å±žæ€§ï¼Œ grid-template-rows å±žæ€§å®¹å™¨æŒ‡å®šäº†ç½‘æ ¼å¸ƒå±€ä»¥åŽï¼ŒæŽ¥ç€å°±è¦åˆ’åˆ†è¡Œå’Œåˆ—ã€‚grid-template-columnså±žæ€§å®šä¹‰æ¯ä¸€åˆ—çš„åˆ—å®½ï¼Œgrid-template-rowså±žæ€§å®šä¹‰æ¯ä¸€è¡Œçš„è¡Œé«˜ã€‚ 12345.container &#123; display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px;&#125; ä¸Šé¢ä»£ç æŒ‡å®šäº†ä¸€ä¸ªä¸‰è¡Œä¸‰åˆ—çš„ç½‘æ ¼ï¼Œåˆ—å®½å’Œè¡Œé«˜éƒ½æ˜¯100pxã€‚ é™¤äº†ä½¿ç”¨ç»å¯¹å•ä½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚ 12345.container &#123; display: grid; grid-template-columns: 33.33% 33.33% 33.33%; grid-template-rows: 33.33% 33.33% 33.33%;&#125; ï¼ˆ1ï¼‰repeat() æœ‰æ—¶å€™ï¼Œé‡å¤å†™åŒæ ·çš„å€¼éžå¸¸éº»çƒ¦ï¼Œå°¤å…¶ç½‘æ ¼å¾ˆå¤šæ—¶ã€‚è¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨repeat()å‡½æ•°ï¼Œç®€åŒ–é‡å¤çš„å€¼ã€‚ä¸Šé¢çš„ä»£ç ç”¨repeat()æ”¹å†™å¦‚ä¸‹ã€‚ 12345.container &#123; display: grid; grid-template-columns: repeat(3, 33.33%); grid-template-rows: repeat(3, 33.33%);&#125; repeat()æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é‡å¤çš„æ¬¡æ•°ï¼ˆä¸Šä¾‹æ˜¯3ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€è¦é‡å¤çš„å€¼ã€‚ repeat()é‡å¤æŸç§æ¨¡å¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ 1grid-template-columns: repeat(2, 100px 20px 80px); ä¸Šé¢ä»£ç å®šä¹‰äº†6åˆ—ï¼Œç¬¬ä¸€åˆ—å’Œç¬¬å››åˆ—çš„å®½åº¦ä¸º100pxï¼Œç¬¬äºŒåˆ—å’Œç¬¬äº”åˆ—ä¸º20pxï¼Œç¬¬ä¸‰åˆ—å’Œç¬¬å…­åˆ—ä¸º80pxã€‚ ï¼ˆ2ï¼‰auto-fill å…³é”®å­— æœ‰æ—¶ï¼Œå•å…ƒæ ¼çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å®¹å™¨çš„å¤§å°ä¸ç¡®å®šã€‚å¦‚æžœå¸Œæœ›æ¯ä¸€è¡Œï¼ˆæˆ–æ¯ä¸€åˆ—ï¼‰å®¹çº³å°½å¯èƒ½å¤šçš„å•å…ƒæ ¼ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨auto-fillå…³é”®å­—è¡¨ç¤ºè‡ªåŠ¨å¡«å……ã€‚ 1234.container &#123; display: grid; grid-template-columns: repeat(auto-fill, 100px);&#125; ä¸Šé¢ä»£ç è¡¨ç¤ºæ¯åˆ—å®½åº¦100pxï¼Œç„¶åŽè‡ªåŠ¨å¡«å……ï¼Œç›´åˆ°å®¹å™¨ä¸èƒ½æ”¾ç½®æ›´å¤šçš„åˆ—ã€‚ ï¼ˆ3ï¼‰fr å…³é”®å­— ä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºæ¯”ä¾‹å…³ç³»ï¼Œç½‘æ ¼å¸ƒå±€æä¾›äº†frå…³é”®å­—ï¼ˆfraction çš„ç¼©å†™ï¼Œæ„ä¸ºâ€ç‰‡æ®µâ€ï¼‰ã€‚å¦‚æžœä¸¤åˆ—çš„å®½åº¦åˆ†åˆ«ä¸º1frå’Œ2frï¼Œå°±è¡¨ç¤ºåŽè€…æ˜¯å‰è€…çš„ä¸¤å€ã€‚ 1234.container &#123; display: grid; grid-template-columns: 1fr 1fr;&#125; ä¸Šé¢ä»£ç è¡¨ç¤ºä¸¤ä¸ªç›¸åŒå®½åº¦çš„åˆ—ã€‚ frå¯ä»¥ä¸Žç»å¯¹é•¿åº¦çš„å•ä½ç»“åˆä½¿ç”¨ï¼Œè¿™æ—¶ä¼šéžå¸¸æ–¹ä¾¿ã€‚ 1234.container &#123; display: grid; grid-template-columns: 150px 1fr 2fr;&#125; ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œç¬¬ä¸€åˆ—çš„å®½åº¦ä¸º150åƒç´ ï¼Œç¬¬äºŒåˆ—çš„å®½åº¦æ˜¯ç¬¬ä¸‰åˆ—çš„ä¸€åŠã€‚ ï¼ˆ4ï¼‰minmax() minmax()å‡½æ•°äº§ç”Ÿä¸€ä¸ªé•¿åº¦èŒƒå›´ï¼Œè¡¨ç¤ºé•¿åº¦å°±åœ¨è¿™ä¸ªèŒƒå›´ä¹‹ä¸­ã€‚å®ƒæŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºæœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ 1grid-template-columns: 1fr 1fr minmax(100px, 1fr); ä¸Šé¢ä»£ç ä¸­ï¼Œminmax(100px, 1fr)è¡¨ç¤ºåˆ—å®½ä¸å°äºŽ100pxï¼Œä¸å¤§äºŽ1frã€‚ ï¼ˆ5ï¼‰auto å…³é”®å­— autoå…³é”®å­—è¡¨ç¤ºç”±æµè§ˆå™¨è‡ªå·±å†³å®šé•¿åº¦ã€‚ 1grid-template-columns: 100px auto 100px; ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒåˆ—çš„å®½åº¦ï¼ŒåŸºæœ¬ä¸Šç­‰äºŽè¯¥åˆ—å•å…ƒæ ¼çš„æœ€å¤§å®½åº¦ï¼Œé™¤éžå•å…ƒæ ¼å†…å®¹è®¾ç½®äº†min-widthï¼Œä¸”è¿™ä¸ªå€¼å¤§äºŽæœ€å¤§å®½åº¦ã€‚ ï¼ˆ6ï¼‰ç½‘æ ¼çº¿çš„åç§° grid-template-columnså±žæ€§å’Œgrid-template-rowså±žæ€§é‡Œé¢ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·ï¼ŒæŒ‡å®šæ¯ä¸€æ ¹ç½‘æ ¼çº¿çš„åå­—ï¼Œæ–¹ä¾¿ä»¥åŽçš„å¼•ç”¨ã€‚ 12345.container &#123; display: grid; grid-template-columns: [c1] 100px [c2] 100px [c3] auto [c4]; grid-template-rows: [r1] 100px [r2] 100px [r3] auto [r4];&#125; ä¸Šé¢ä»£ç æŒ‡å®šç½‘æ ¼å¸ƒå±€ä¸º3è¡Œ x 3åˆ—ï¼Œå› æ­¤æœ‰4æ ¹åž‚ç›´ç½‘æ ¼çº¿å’Œ4æ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚æ–¹æ‹¬å·é‡Œé¢ä¾æ¬¡æ˜¯è¿™å…«æ ¹çº¿çš„åå­—ã€‚ ç½‘æ ¼å¸ƒå±€å…è®¸åŒä¸€æ ¹çº¿æœ‰å¤šä¸ªåå­—ï¼Œæ¯”å¦‚[fifth-line row-5]ã€‚ ï¼ˆ7ï¼‰å¸ƒå±€å®žä¾‹ grid-template-columnså±žæ€§å¯¹äºŽç½‘é¡µå¸ƒå±€éžå¸¸æœ‰ç”¨ã€‚ä¸¤æ å¼å¸ƒå±€åªéœ€è¦ä¸€è¡Œä»£ç ã€‚ 1234.wrapper &#123; display: grid; grid-template-columns: 70% 30%;&#125; ä¸Šé¢ä»£ç å°†å·¦è¾¹æ è®¾ä¸º70%ï¼Œå³è¾¹æ è®¾ä¸º30%ã€‚ ä¼ ç»Ÿçš„åäºŒç½‘æ ¼å¸ƒå±€ï¼Œå†™èµ·æ¥ä¹Ÿå¾ˆå®¹æ˜“ã€‚ 1grid-template-columns: repeat(12, 1fr); 3.3 grid-row-gap å±žæ€§ï¼Œ grid-column-gap å±žæ€§ï¼Œ grid-gap å±žæ€§grid-row-gapå±žæ€§è®¾ç½®è¡Œä¸Žè¡Œçš„é—´éš”ï¼ˆè¡Œé—´è·ï¼‰ï¼Œgrid-column-gapå±žæ€§è®¾ç½®åˆ—ä¸Žåˆ—çš„é—´éš”ï¼ˆåˆ—é—´è·ï¼‰ã€‚ 1234.container &#123; grid-row-gap: 20px; grid-column-gap: 20px;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œgrid-row-gapç”¨äºŽè®¾ç½®è¡Œé—´è·ï¼Œgrid-column-gapç”¨äºŽè®¾ç½®åˆ—é—´è·ã€‚ grid-gapå±žæ€§æ˜¯grid-column-gapå’Œgrid-row-gapçš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œè¯­æ³•å¦‚ä¸‹ã€‚ 1grid-gap: &lt;grid-row-gap&gt; &lt;grid-column-gap&gt;; å› æ­¤ï¼Œä¸Šé¢ä¸€æ®µ CSS ä»£ç ç­‰åŒäºŽä¸‹é¢çš„ä»£ç ã€‚ 123.container &#123; grid-gap: 20px 20px;&#125; å¦‚æžœgrid-gapçœç•¥äº†ç¬¬äºŒä¸ªå€¼ï¼Œæµè§ˆå™¨è®¤ä¸ºç¬¬äºŒä¸ªå€¼ç­‰äºŽç¬¬ä¸€ä¸ªå€¼ã€‚ æ ¹æ®æœ€æ–°æ ‡å‡†ï¼Œä¸Šé¢ä¸‰ä¸ªå±žæ€§åçš„grid-å‰ç¼€å·²ç»åˆ é™¤ï¼Œgrid-column-gapå’Œgrid-row-gapå†™æˆcolumn-gapå’Œrow-gapï¼Œgrid-gapå†™æˆgapã€‚ 3.4 grid-template-areas å±žæ€§ç½‘æ ¼å¸ƒå±€å…è®¸æŒ‡å®šâ€åŒºåŸŸâ€ï¼ˆareaï¼‰ï¼Œä¸€ä¸ªåŒºåŸŸç”±å•ä¸ªæˆ–å¤šä¸ªå•å…ƒæ ¼ç»„æˆã€‚grid-template-areaså±žæ€§ç”¨äºŽå®šä¹‰åŒºåŸŸã€‚ 12345678.container &#123; display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px; grid-template-areas: 'a b c' 'd e f' 'g h i';&#125; ä¸Šé¢ä»£ç å…ˆåˆ’åˆ†å‡º9ä¸ªå•å…ƒæ ¼ï¼Œç„¶åŽå°†å…¶å®šåä¸ºaåˆ°içš„ä¹ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«å¯¹åº”è¿™ä¹ä¸ªå•å…ƒæ ¼ã€‚ å¤šä¸ªå•å…ƒæ ¼åˆå¹¶æˆä¸€ä¸ªåŒºåŸŸçš„å†™æ³•å¦‚ä¸‹ã€‚ 123grid-template-areas: 'a a a' 'b b b' 'c c c'; ä¸Šé¢ä»£ç å°†9ä¸ªå•å…ƒæ ¼åˆ†æˆaã€bã€cä¸‰ä¸ªåŒºåŸŸã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå¸ƒå±€å®žä¾‹ã€‚ 123grid-template-areas: "header header header" "main main sidebar" "footer footer footer"; ä¸Šé¢ä»£ç ä¸­ï¼Œé¡¶éƒ¨æ˜¯é¡µçœ‰åŒºåŸŸheaderï¼Œåº•éƒ¨æ˜¯é¡µè„šåŒºåŸŸfooterï¼Œä¸­é—´éƒ¨åˆ†åˆ™ä¸ºmainå’Œsidebarã€‚ å¦‚æžœæŸäº›åŒºåŸŸä¸éœ€è¦åˆ©ç”¨ï¼Œåˆ™ä½¿ç”¨â€ç‚¹â€ï¼ˆ.ï¼‰è¡¨ç¤ºã€‚ 123grid-template-areas: 'a . c' 'd . f' 'g . i'; ä¸Šé¢ä»£ç ä¸­ï¼Œä¸­é—´ä¸€åˆ—ä¸ºç‚¹ï¼Œè¡¨ç¤ºæ²¡æœ‰ç”¨åˆ°è¯¥å•å…ƒæ ¼ï¼Œæˆ–è€…è¯¥å•å…ƒæ ¼ä¸å±žäºŽä»»ä½•åŒºåŸŸã€‚ æ³¨æ„ï¼ŒåŒºåŸŸçš„å‘½åä¼šå½±å“åˆ°ç½‘æ ¼çº¿ã€‚æ¯ä¸ªåŒºåŸŸçš„èµ·å§‹ç½‘æ ¼çº¿ï¼Œä¼šè‡ªåŠ¨å‘½åä¸ºåŒºåŸŸå-startï¼Œç»ˆæ­¢ç½‘æ ¼çº¿è‡ªåŠ¨å‘½åä¸ºåŒºåŸŸå-endã€‚ æ¯”å¦‚ï¼ŒåŒºåŸŸåä¸ºheaderï¼Œåˆ™èµ·å§‹ä½ç½®çš„æ°´å¹³ç½‘æ ¼çº¿å’Œåž‚ç›´ç½‘æ ¼çº¿å«åšheader-startï¼Œç»ˆæ­¢ä½ç½®çš„æ°´å¹³ç½‘æ ¼çº¿å’Œåž‚ç›´ç½‘æ ¼çº¿å«åšheader-endã€‚ 3.5 grid-auto-flow å±žæ€§åˆ’åˆ†ç½‘æ ¼ä»¥åŽï¼Œå®¹å™¨çš„å­å…ƒç´ ä¼šæŒ‰ç…§é¡ºåºï¼Œè‡ªåŠ¨æ”¾ç½®åœ¨æ¯ä¸€ä¸ªç½‘æ ¼ã€‚é»˜è®¤çš„æ”¾ç½®é¡ºåºæ˜¯â€å…ˆè¡ŒåŽåˆ—â€ï¼Œå³å…ˆå¡«æ»¡ç¬¬ä¸€è¡Œï¼Œå†å¼€å§‹æ”¾å…¥ç¬¬äºŒè¡Œï¼Œå³ä¸‹å›¾æ•°å­—çš„é¡ºåºã€‚ è¿™ä¸ªé¡ºåºç”±grid-auto-flowå±žæ€§å†³å®šï¼Œé»˜è®¤å€¼æ˜¯rowï¼Œå³â€å…ˆè¡ŒåŽåˆ—â€ã€‚ä¹Ÿå¯ä»¥å°†å®ƒè®¾æˆcolumnï¼Œå˜æˆâ€å…ˆåˆ—åŽè¡Œâ€ã€‚ 1grid-auto-flow: column; ä¸Šé¢ä»£ç è®¾ç½®äº†columnä»¥åŽï¼Œæ”¾ç½®é¡ºåºå°±å˜æˆäº†ä¸‹å›¾ã€‚ grid-auto-flowå±žæ€§é™¤äº†è®¾ç½®æˆrowå’Œcolumnï¼Œè¿˜å¯ä»¥è®¾æˆrow denseå’Œcolumn denseã€‚è¿™ä¸¤ä¸ªå€¼ä¸»è¦ç”¨äºŽï¼ŒæŸäº›é¡¹ç›®æŒ‡å®šä½ç½®ä»¥åŽï¼Œå‰©ä¸‹çš„é¡¹ç›®æ€Žä¹ˆè‡ªåŠ¨æ”¾ç½®ã€‚ ä¸‹é¢çš„ä¾‹å­è®©1å·é¡¹ç›®å’Œ2å·é¡¹ç›®å„å æ®ä¸¤ä¸ªå•å…ƒæ ¼ï¼Œç„¶åŽåœ¨é»˜è®¤çš„grid-auto-flow: rowæƒ…å†µä¸‹ï¼Œä¼šäº§ç”Ÿä¸‹é¢è¿™æ ·çš„å¸ƒå±€ã€‚ ä¸Šå›¾ä¸­ï¼Œ1å·é¡¹ç›®åŽé¢çš„ä½ç½®æ˜¯ç©ºçš„ï¼Œè¿™æ˜¯å› ä¸º3å·é¡¹ç›®é»˜è®¤è·Ÿç€2å·é¡¹ç›®ï¼Œæ‰€ä»¥ä¼šæŽ’åœ¨2å·é¡¹ç›®åŽé¢ã€‚ çŽ°åœ¨ä¿®æ”¹è®¾ç½®ï¼Œè®¾ä¸ºrow denseï¼Œè¡¨ç¤ºâ€å…ˆè¡ŒåŽåˆ—â€ï¼Œå¹¶ä¸”å°½å¯èƒ½ç´§å¯†å¡«æ»¡ï¼Œå°½é‡ä¸å‡ºçŽ°ç©ºæ ¼ã€‚ 1grid-auto-flow: row dense; ä¸Šé¢ä»£ç çš„æ•ˆæžœå¦‚ä¸‹ã€‚ ä¸Šå›¾ä¼šå…ˆå¡«æ»¡ç¬¬ä¸€è¡Œï¼Œå†å¡«æ»¡ç¬¬äºŒè¡Œï¼Œæ‰€ä»¥3å·é¡¹ç›®å°±ä¼šç´§è·Ÿåœ¨1å·é¡¹ç›®çš„åŽé¢ã€‚8å·é¡¹ç›®å’Œ9å·é¡¹ç›®å°±ä¼šæŽ’åˆ°ç¬¬å››è¡Œã€‚ å¦‚æžœå°†è®¾ç½®æ”¹ä¸ºcolumn denseï¼Œè¡¨ç¤ºâ€å…ˆåˆ—åŽè¡Œâ€ï¼Œå¹¶ä¸”å°½é‡å¡«æ»¡ç©ºæ ¼ã€‚ 1grid-auto-flow: column dense; ä¸Šé¢ä»£ç çš„æ•ˆæžœå¦‚ä¸‹ã€‚ ä¸Šå›¾ä¼šå…ˆå¡«æ»¡ç¬¬ä¸€åˆ—ï¼Œå†å¡«æ»¡ç¬¬2åˆ—ï¼Œæ‰€ä»¥3å·é¡¹ç›®åœ¨ç¬¬ä¸€åˆ—ï¼Œ4å·é¡¹ç›®åœ¨ç¬¬äºŒåˆ—ã€‚8å·é¡¹ç›®å’Œ9å·é¡¹ç›®è¢«æŒ¤åˆ°äº†ç¬¬å››åˆ—ã€‚ 3.6 justify-items å±žæ€§ï¼Œ align-items å±žæ€§ï¼Œ place-items å±žæ€§justify-itemså±žæ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œalign-itemså±žæ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„åž‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ã€‚ 1234.container &#123; justify-items: start | end | center | stretch; align-items: start | end | center | stretch;&#125; è¿™ä¸¤ä¸ªå±žæ€§çš„å†™æ³•å®Œå…¨ç›¸åŒï¼Œéƒ½å¯ä»¥å–ä¸‹é¢è¿™äº›å€¼ã€‚ startï¼šå¯¹é½å•å…ƒæ ¼çš„èµ·å§‹è¾¹ç¼˜ã€‚ endï¼šå¯¹é½å•å…ƒæ ¼çš„ç»“æŸè¾¹ç¼˜ã€‚ centerï¼šå•å…ƒæ ¼å†…éƒ¨å±…ä¸­ã€‚ stretchï¼šæ‹‰ä¼¸ï¼Œå æ»¡å•å…ƒæ ¼çš„æ•´ä¸ªå®½åº¦ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚ 123.container &#123; justify-items: start;&#125; ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå•å…ƒæ ¼çš„å†…å®¹å·¦å¯¹é½ï¼Œæ•ˆæžœå¦‚ä¸‹å›¾ã€‚ 123.container &#123; align-items: start;&#125; ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå•å…ƒæ ¼çš„å†…å®¹å¤´éƒ¨å¯¹é½ï¼Œæ•ˆæžœå¦‚ä¸‹å›¾ã€‚ place-itemså±žæ€§æ˜¯align-itemså±žæ€§å’Œjustify-itemså±žæ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ 1place-items: &lt;align-items&gt; &lt;justify-items&gt;; ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1place-items: start end; å¦‚æžœçœç•¥ç¬¬äºŒä¸ªå€¼ï¼Œåˆ™æµè§ˆå™¨è®¤ä¸ºä¸Žç¬¬ä¸€ä¸ªå€¼ç›¸ç­‰ã€‚ 3.7 justify-content å±žæ€§ï¼Œ align-content å±žæ€§ï¼Œ place-content å±žæ€§justify-contentå±žæ€§æ˜¯æ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨å®¹å™¨é‡Œé¢çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œalign-contentå±žæ€§æ˜¯æ•´ä¸ªå†…å®¹åŒºåŸŸçš„åž‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ã€‚ 1234.container &#123; justify-content: start | end | center | stretch | space-around | space-between | space-evenly; align-content: start | end | center | stretch | space-around | space-between | space-evenly; &#125; è¿™ä¸¤ä¸ªå±žæ€§çš„å†™æ³•å®Œå…¨ç›¸åŒï¼Œéƒ½å¯ä»¥å–ä¸‹é¢è¿™äº›å€¼ã€‚ï¼ˆä¸‹é¢çš„å›¾éƒ½ä»¥justify-contentå±žæ€§ä¸ºä¾‹ï¼Œalign-contentå±žæ€§çš„å›¾å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯å°†æ°´å¹³æ–¹å‘æ”¹æˆåž‚ç›´æ–¹å‘ã€‚ï¼‰ start - å¯¹é½å®¹å™¨çš„èµ·å§‹è¾¹æ¡†ã€‚ end - å¯¹é½å®¹å™¨çš„ç»“æŸè¾¹æ¡†ã€‚ center - å®¹å™¨å†…éƒ¨å±…ä¸­ã€‚ stretch - é¡¹ç›®å¤§å°æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œæ‹‰ä¼¸å æ®æ•´ä¸ªç½‘æ ¼å®¹å™¨ã€‚ space-around - æ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸Žå®¹å™¨è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚ space-between - é¡¹ç›®ä¸Žé¡¹ç›®çš„é—´éš”ç›¸ç­‰ï¼Œé¡¹ç›®ä¸Žå®¹å™¨è¾¹æ¡†ä¹‹é—´æ²¡æœ‰é—´éš”ã€‚ space-evenly - é¡¹ç›®ä¸Žé¡¹ç›®çš„é—´éš”ç›¸ç­‰ï¼Œé¡¹ç›®ä¸Žå®¹å™¨è¾¹æ¡†ä¹‹é—´ä¹Ÿæ˜¯åŒæ ·é•¿åº¦çš„é—´éš”ã€‚ place-contentå±žæ€§æ˜¯align-contentå±žæ€§å’Œjustify-contentå±žæ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ 1place-content: &lt;align-content&gt; &lt;justify-content&gt; ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1place-content: space-around space-evenly; å¦‚æžœçœç•¥ç¬¬äºŒä¸ªå€¼ï¼Œæµè§ˆå™¨å°±ä¼šå‡å®šç¬¬äºŒä¸ªå€¼ç­‰äºŽç¬¬ä¸€ä¸ªå€¼ã€‚ 3.8 grid-auto-columns å±žæ€§ï¼Œ grid-auto-rows å±žæ€§æœ‰æ—¶å€™ï¼Œä¸€äº›é¡¹ç›®çš„æŒ‡å®šä½ç½®ï¼Œåœ¨çŽ°æœ‰ç½‘æ ¼çš„å¤–éƒ¨ã€‚æ¯”å¦‚ç½‘æ ¼åªæœ‰3åˆ—ï¼Œä½†æ˜¯æŸä¸€ä¸ªé¡¹ç›®æŒ‡å®šåœ¨ç¬¬5è¡Œã€‚è¿™æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ç”Ÿæˆå¤šä½™çš„ç½‘æ ¼ï¼Œä»¥ä¾¿æ”¾ç½®é¡¹ç›®ã€‚ grid-auto-columnså±žæ€§å’Œgrid-auto-rowså±žæ€§ç”¨æ¥è®¾ç½®ï¼Œæµè§ˆå™¨è‡ªåŠ¨åˆ›å»ºçš„å¤šä½™ç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚å®ƒä»¬çš„å†™æ³•ä¸Žgrid-template-columnså’Œgrid-template-rowså®Œå…¨ç›¸åŒã€‚å¦‚æžœä¸æŒ‡å®šè¿™ä¸¤ä¸ªå±žæ€§ï¼Œæµè§ˆå™¨å®Œå…¨æ ¹æ®å•å…ƒæ ¼å†…å®¹çš„å¤§å°ï¼Œå†³å®šæ–°å¢žç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚ ä¸‹é¢çš„ä¾‹å­é‡Œé¢ï¼Œåˆ’åˆ†å¥½çš„ç½‘æ ¼æ˜¯3è¡Œ x 3åˆ—ï¼Œä½†æ˜¯ï¼Œ8å·é¡¹ç›®æŒ‡å®šåœ¨ç¬¬4è¡Œï¼Œ9å·é¡¹ç›®æŒ‡å®šåœ¨ç¬¬5è¡Œã€‚ 123456.container &#123; display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px; grid-auto-rows: 50px; &#125; ä¸Šé¢ä»£ç æŒ‡å®šæ–°å¢žçš„è¡Œé«˜ç»Ÿä¸€ä¸º50pxï¼ˆåŽŸå§‹çš„è¡Œé«˜ä¸º100pxï¼‰ã€‚ 3.9 grid-template å±žæ€§ï¼Œ grid å±žæ€§grid-templateå±žæ€§æ˜¯grid-template-columnsã€grid-template-rowså’Œgrid-template-areasè¿™ä¸‰ä¸ªå±žæ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ gridå±žæ€§æ˜¯grid-template-rowsã€grid-template-columnsã€grid-template-areasã€ grid-auto-rowsã€grid-auto-columnsã€grid-auto-flowè¿™å…­ä¸ªå±žæ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ ä»Žæ˜“è¯»æ˜“å†™çš„è§’åº¦è€ƒè™‘ï¼Œè¿˜æ˜¯å»ºè®®ä¸è¦åˆå¹¶å±žæ€§ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»è¿™ä¸¤ä¸ªå±žæ€§äº†ã€‚ å››ã€é¡¹ç›®å±žæ€§ä¸‹é¢è¿™äº›å±žæ€§å®šä¹‰åœ¨é¡¹ç›®ä¸Šé¢ã€‚ 4.1 grid-column-start å±žæ€§ï¼Œ grid-column-end å±žæ€§ï¼Œ grid-row-start å±žæ€§ï¼Œ grid-row-end å±žæ€§é¡¹ç›®çš„ä½ç½®æ˜¯å¯ä»¥æŒ‡å®šçš„ï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯æŒ‡å®šé¡¹ç›®çš„å››ä¸ªè¾¹æ¡†ï¼Œåˆ†åˆ«å®šä½åœ¨å“ªæ ¹ç½‘æ ¼çº¿ã€‚ grid-column-startå±žæ€§ï¼šå·¦è¾¹æ¡†æ‰€åœ¨çš„åž‚ç›´ç½‘æ ¼çº¿ grid-column-endå±žæ€§ï¼šå³è¾¹æ¡†æ‰€åœ¨çš„åž‚ç›´ç½‘æ ¼çº¿ grid-row-startå±žæ€§ï¼šä¸Šè¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿ grid-row-endå±žæ€§ï¼šä¸‹è¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿ 1234.item-1 &#123; grid-column-start: 2; grid-column-end: 4;&#125; ä¸Šé¢ä»£ç æŒ‡å®šï¼Œ1å·é¡¹ç›®çš„å·¦è¾¹æ¡†æ˜¯ç¬¬äºŒæ ¹åž‚ç›´ç½‘æ ¼çº¿ï¼Œå³è¾¹æ¡†æ˜¯ç¬¬å››æ ¹åž‚ç›´ç½‘æ ¼çº¿ã€‚ ä¸Šå›¾ä¸­ï¼ŒåªæŒ‡å®šäº†1å·é¡¹ç›®çš„å·¦å³è¾¹æ¡†ï¼Œæ²¡æœ‰æŒ‡å®šä¸Šä¸‹è¾¹æ¡†ï¼Œæ‰€ä»¥ä¼šé‡‡ç”¨é»˜è®¤ä½ç½®ï¼Œå³ä¸Šè¾¹æ¡†æ˜¯ç¬¬ä¸€æ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼Œä¸‹è¾¹æ¡†æ˜¯ç¬¬äºŒæ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚ é™¤äº†1å·é¡¹ç›®ä»¥å¤–ï¼Œå…¶ä»–é¡¹ç›®éƒ½æ²¡æœ‰æŒ‡å®šä½ç½®ï¼Œç”±æµè§ˆå™¨è‡ªåŠ¨å¸ƒå±€ï¼Œè¿™æ—¶å®ƒä»¬çš„ä½ç½®ç”±å®¹å™¨çš„grid-auto-flowå±žæ€§å†³å®šï¼Œè¿™ä¸ªå±žæ€§çš„é»˜è®¤å€¼æ˜¯rowï¼Œå› æ­¤ä¼šâ€å…ˆè¡ŒåŽåˆ—â€è¿›è¡ŒæŽ’åˆ—ã€‚è¯»è€…å¯ä»¥æŠŠè¿™ä¸ªå±žæ€§çš„å€¼åˆ†åˆ«æ”¹æˆcolumnã€row denseå’Œcolumn denseï¼Œçœ‹çœ‹å…¶ä»–é¡¹ç›®çš„ä½ç½®å‘ç”Ÿäº†æ€Žæ ·çš„å˜åŒ–ã€‚ ä¸‹é¢çš„ä¾‹å­æ˜¯æŒ‡å®šå››ä¸ªè¾¹æ¡†ä½ç½®çš„æ•ˆæžœã€‚ 123456.item-1 &#123; grid-column-start: 1; grid-column-end: 3; grid-row-start: 2; grid-row-end: 4;&#125; è¿™å››ä¸ªå±žæ€§çš„å€¼ï¼Œé™¤äº†æŒ‡å®šä¸ºç¬¬å‡ ä¸ªç½‘æ ¼çº¿ï¼Œè¿˜å¯ä»¥æŒ‡å®šä¸ºç½‘æ ¼çº¿çš„åå­—ã€‚ 1234.item-1 &#123; grid-column-start: header-start; grid-column-end: header-end;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå·¦è¾¹æ¡†å’Œå³è¾¹æ¡†çš„ä½ç½®ï¼Œéƒ½æŒ‡å®šä¸ºç½‘æ ¼çº¿çš„åå­—ã€‚ è¿™å››ä¸ªå±žæ€§çš„å€¼è¿˜å¯ä»¥ä½¿ç”¨spanå…³é”®å­—ï¼Œè¡¨ç¤ºâ€è·¨è¶Šâ€ï¼Œå³å·¦å³è¾¹æ¡†ï¼ˆä¸Šä¸‹è¾¹æ¡†ï¼‰ä¹‹é—´è·¨è¶Šå¤šå°‘ä¸ªç½‘æ ¼ã€‚ 123.item-1 &#123; grid-column-start: span 2;&#125; ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œ1å·é¡¹ç›®çš„å·¦è¾¹æ¡†è·ç¦»å³è¾¹æ¡†è·¨è¶Š2ä¸ªç½‘æ ¼ã€‚ è¿™ä¸Žä¸‹é¢çš„ä»£ç æ•ˆæžœå®Œå…¨ä¸€æ ·ã€‚ 123.item-1 &#123; grid-column-end: span 2;&#125; ä½¿ç”¨è¿™å››ä¸ªå±žæ€§ï¼Œå¦‚æžœäº§ç”Ÿäº†é¡¹ç›®çš„é‡å ï¼Œåˆ™ä½¿ç”¨z-indexå±žæ€§æŒ‡å®šé¡¹ç›®çš„é‡å é¡ºåºã€‚ 4.2 grid-column å±žæ€§ï¼Œ grid-row å±žæ€§grid-columnå±žæ€§æ˜¯grid-column-startå’Œgrid-column-endçš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œgrid-rowå±žæ€§æ˜¯grid-row-startå±žæ€§å’Œgrid-row-endçš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ 1234.item &#123; grid-column: / ; grid-row: / ;&#125; ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1234567891011.item-1 &#123; grid-column: 1 / 3; grid-row: 1 / 2;&#125;/* ç­‰åŒäºŽ */.item-1 &#123; grid-column-start: 1; grid-column-end: 3; grid-row-start: 1; grid-row-end: 2;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œé¡¹ç›®item-1å æ®ç¬¬ä¸€è¡Œï¼Œä»Žç¬¬ä¸€æ ¹åˆ—çº¿åˆ°ç¬¬ä¸‰æ ¹åˆ—çº¿ã€‚ è¿™ä¸¤ä¸ªå±žæ€§ä¹‹ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨spanå…³é”®å­—ï¼Œè¡¨ç¤ºè·¨è¶Šå¤šå°‘ä¸ªç½‘æ ¼ã€‚ 1234567891011.item-1 &#123; background: #b03532; grid-column: 1 / 3; grid-row: 1 / 3;&#125;/* ç­‰åŒäºŽ */.item-1 &#123; background: #b03532; grid-column: 1 / span 2; grid-row: 1 / span 2;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œé¡¹ç›®item-1å æ®çš„åŒºåŸŸï¼ŒåŒ…æ‹¬ç¬¬ä¸€è¡Œ + ç¬¬äºŒè¡Œã€ç¬¬ä¸€åˆ— + ç¬¬äºŒåˆ—ã€‚ æ–œæ ä»¥åŠåŽé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ï¼Œé»˜è®¤è·¨è¶Šä¸€ä¸ªç½‘æ ¼ã€‚ 1234.item-1 &#123; grid-column: 1; grid-row: 1;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œé¡¹ç›®item-1å æ®å·¦ä¸Šè§’ç¬¬ä¸€ä¸ªç½‘æ ¼ã€‚ 4.3 grid-area å±žæ€§grid-areaå±žæ€§æŒ‡å®šé¡¹ç›®æ”¾åœ¨å“ªä¸€ä¸ªåŒºåŸŸã€‚ 123.item-1 &#123; grid-area: e;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œ1å·é¡¹ç›®ä½äºŽeåŒºåŸŸï¼Œæ•ˆæžœå¦‚ä¸‹å›¾ã€‚ grid-areaå±žæ€§è¿˜å¯ç”¨ä½œgrid-row-startã€grid-column-startã€grid-row-endã€grid-column-endçš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œç›´æŽ¥æŒ‡å®šé¡¹ç›®çš„ä½ç½®ã€‚ 123.item &#123; grid-area: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;;&#125; ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 123.item-1 &#123; grid-area: 1 / 1 / 3 / 3;&#125; 4.4 justify-self å±žæ€§ï¼Œ align-self å±žæ€§ï¼Œ place-self å±žæ€§justify-selfå±žæ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œè·Ÿjustify-itemså±žæ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä½†åªä½œç”¨äºŽå•ä¸ªé¡¹ç›®ã€‚ align-selfå±žæ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„åž‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ï¼Œè·Ÿalign-itemså±žæ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä¹Ÿæ˜¯åªä½œç”¨äºŽå•ä¸ªé¡¹ç›®ã€‚ 1234.item &#123; justify-self: start | end | center | stretch; align-self: start | end | center | stretch;&#125; è¿™ä¸¤ä¸ªå±žæ€§éƒ½å¯ä»¥å–ä¸‹é¢å››ä¸ªå€¼ã€‚ startï¼šå¯¹é½å•å…ƒæ ¼çš„èµ·å§‹è¾¹ç¼˜ã€‚ endï¼šå¯¹é½å•å…ƒæ ¼çš„ç»“æŸè¾¹ç¼˜ã€‚ centerï¼šå•å…ƒæ ¼å†…éƒ¨å±…ä¸­ã€‚ stretchï¼šæ‹‰ä¼¸ï¼Œå æ»¡å•å…ƒæ ¼çš„æ•´ä¸ªå®½åº¦ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚ ä¸‹é¢æ˜¯justify-self: startçš„ä¾‹å­ã€‚ 123.item-1 &#123; justify-self: start;&#125; place-selfå±žæ€§æ˜¯align-selfå±žæ€§å’Œjustify-selfå±žæ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ 1place-self: &lt;align-self&gt; &lt;justify-self&gt;; ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1place-self: center center; å¦‚æžœçœç•¥ç¬¬äºŒä¸ªå€¼ï¼Œplace-selfå±žæ€§ä¼šè®¤ä¸ºè¿™ä¸¤ä¸ªå€¼ç›¸ç­‰ã€‚]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>Grid</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[httpæŽ§åˆ¶ç¼“å­˜]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F18%2Fhttp%E6%8E%A7%E5%88%B6%E7%BC%93%E5%AD%98%2F</url>
    <content type="text"><![CDATA[é™æ€æœåŠ¡å™¨ï¼ˆæ— ç¼“å­˜æ— æ›´æ–°è¯·æ±‚æ•°æ®ï¼‰ ä¼˜ç‚¹ï¼šç®€å•ã€‚ ç¼ºç‚¹ï¼šæ¯æ¬¡è¯·æ±‚å¿…é¡»æŸ¥æ‰¾è¿”å›žåŽŸå§‹æ–‡ä»¶ï¼Œæµªè´¹å¸¦å®½ã€‚ æœ‰ç¼“å­˜-æ— æ›´æ–°è¯·æ±‚æ•°æ® ä¼˜ç‚¹ï¼šèŠ‚çœèµ„æºï¼Œé€Ÿåº¦å¿«ã€‚ ç¼ºç‚¹ï¼šæœåŠ¡å™¨ç¼“å­˜ä¸­çš„æ•°æ®å˜äº†ï¼Œæµè§ˆå™¨ä¸çŸ¥é“æ•°æ®æ˜¯å¦å‘ç”Ÿæ”¹å˜ã€‚ ç¼“å­˜ä½œç”¨ï¼šç¼“å­˜æ˜¯æŒ‡ä»£ç†æœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯æœ¬åœ°ç£ç›˜å†…ä¿å­˜çš„èµ„æºå‰¯æœ¬ï¼Œåˆ©ç”¨ç¼“å­˜å¯å‡å°‘å¯¹æºæœåŠ¡å™¨çš„è®¿é—®ï¼Œå¯ä»¥èŠ‚çœé€šä¿¡æµé‡å’Œé€šä¿¡æ—¶é—´ã€‚ æœ‰ç¼“å­˜æœ‰æ›´æ–°è¯·æ±‚æ•°æ® ä¸»è¦åŽŸç†ï¼šè¯·æ±‚è¢«å“åº”çš„æ—¶å€™ï¼Œå“åº”æŠ¥æ–‡ä¸­æœ‰ä¸€ä¸ªExpires ï¼šMon,10 Dec 1990 02:25:22GMTï¼ˆè¿‡æœŸæ—¶é—´ï¼‰ï¼Œå†ä¸€æ¬¡è¿›è¡Œè¯·æ±‚çš„æ—¶å€™ï¼Œç”¨æœ¬åœ°çš„æ—¶é—´ä¸Žè¿‡æœŸæ—¶é—´è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœæœ¬åœ°æ—¶é—´å°äºŽè¿‡æœŸæ—¶é—´ï¼Œé‚£ä¹ˆä»Žç¼“å­˜ä¸­èŽ·å–ï¼Œå¦‚æžœæœ¬åœ°æ—¶é—´å¤§äºŽè¿‡æœŸæ—¶é—´ï¼Œé‡æ–°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚èŽ·å–ï¼Œå†ä¸€æ¬¡å‘é€æ–°çš„è¿‡æœŸæ—¶é—´ã€‚ ä¼˜ç‚¹ï¼šç¼“å­˜å¯æŽ§åˆ¶ã€‚ ç¼ºç‚¹ï¼šæŽ§åˆ¶çš„åŠŸèƒ½å¤ªå•ä¸€ï¼Œè¿™ç§æ ¼å¼çš„æ—¶é—´å’Œå®¹æ˜“å†™é”™ã€‚ æœ‰ç¼“å­˜+æ›´æ–°æœºåˆ¶å‡çº§ç‰ˆ1Cache-Control: max-age=300ï¼› ä»¥ä¸Šä»£ç ä»£è¡¨æ—¶é—´é—´éš”ï¼Œå¦‚æžœå†ä¸€æ¬¡çš„è¯·æ±‚åœ¨æ—¶é—´é—´éš”300sä¹‹å†…ï¼Œå°±åœ¨ç¼“å­˜ä¸­èŽ·å–ï¼Œå¦åˆ™ä»ŽæœåŠ¡å™¨èŽ·å–ã€‚ Cache-Controlè¿˜æœ‰å…¶ä»–å€¼ï¼š Publicè¡¨ç¤ºå“åº”å¯è¢«ä»»ä½•ä¸­é—´èŠ‚ç‚¹ç¼“å­˜ï¼Œå¦‚ Browser &lt;â€“ proxy1 &lt;â€“ proxy2 &lt;â€“ Serverï¼Œä¸­é—´çš„proxyå¯ä»¥ç¼“å­˜èµ„æºï¼Œæ¯”å¦‚ä¸‹æ¬¡å†è¯·æ±‚åŒä¸€èµ„æºproxy1ç›´æŽ¥æŠŠè‡ªå·±ç¼“å­˜çš„ä¸œè¥¿ç»™ Browser è€Œä¸å†å‘proxy2è¦ã€‚ Privateè¡¨ç¤ºä¸­é—´èŠ‚ç‚¹ä¸å…è®¸ç¼“å­˜ï¼Œå¯¹äºŽBrowser &lt;â€“ proxy1 &lt;â€“ proxy2 &lt;â€“ Serverï¼Œproxy ä¼šè€è€å®žå®žæŠŠServer è¿”å›žçš„æ•°æ®å‘é€ç»™proxy1,è‡ªå·±ä¸ç¼“å­˜ä»»ä½•æ•°æ®ã€‚å½“ä¸‹æ¬¡Browserå†æ¬¡è¯·æ±‚æ—¶proxyä¼šåšå¥½è¯·æ±‚è½¬å‘è€Œä¸æ˜¯è‡ªä½œä¸»å¼ ç»™è‡ªå·±ç¼“å­˜çš„æ•°æ®ã€‚ no-cacheè¡¨ç¤ºä¸ä½¿ç”¨ Cache-Controlçš„ç¼“å­˜æŽ§åˆ¶æ–¹å¼åšå‰ç½®éªŒè¯ï¼Œè€Œæ˜¯ä½¿ç”¨ Etag æˆ–è€…Last-Modifiedå­—æ®µæ¥æŽ§åˆ¶ç¼“å­˜ã€‚ä¸èµ°ç¼“å­˜ï¼Œå“åº”æŠ¥æ–‡ï¼Œæ˜¯æœåŠ¡å™¨å‘ç»™æµè§ˆå™¨çš„ã€‚æµè§ˆå™¨åœ¨ä¸€æ¬¡å‘é€è¯·æ±‚æ—¶ï¼Œå‘çŽ°è¿™ä¸ªå­—æ®µï¼Œå°±ä¸ä¼šå†ç¼“å­˜ä¸­èŽ·å–æ•°æ®äº†ï¼Œè€Œæ˜¯å†ä¸€æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚ ç¼“å­˜åªæ˜¯æœ¬åœ°ç¼“å­˜ï¼Œè€Œä¸æ˜¯æœåŠ¡å™¨å¯¹åº”çš„ç¼“å­˜ã€‚æŠ¥æ–‡ä¼šç¼“å­˜ï¼Œä½†æ˜¯ä¸ä¼šä½¿ç”¨ã€‚ no-store ï¼ŒçœŸæ­£çš„ä¸ç¼“å­˜ä»»ä½•ä¸œè¥¿ã€‚æµè§ˆå™¨ä¼šç›´æŽ¥å‘æœåŠ¡å™¨è¯·æ±‚åŽŸå§‹æ–‡ä»¶ï¼Œå¹¶ä¸”è¯·æ±‚ä¸­ä¸é™„å¸¦ Etag å‚æ•°(æœåŠ¡å™¨è®¤ä¸ºæ˜¯æ–°è¯·æ±‚)ã€‚ä¸å­˜ï¼Œæ‰€æœ‰çš„æµç¨‹éƒ½ä¸è¿›è¡Œç¼“å­˜ã€‚è¿žæŠ¥æ–‡éƒ½ä¸ä¼šè¿›è¡Œç¼“å­˜ï¼Œå•¥éƒ½ä¸ç¼“å­˜ã€‚ max-ageï¼Œè¡¨ç¤ºå½“å‰èµ„æºçš„æœ‰æ•ˆæ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚ ä¼˜ç‚¹ï¼š ç¼“å­˜æŽ§åˆ¶åŠŸèƒ½æ›´å¼ºå¤§ ç¼ºç‚¹ï¼š ä¸å¤Ÿå®Œç¾Žï¼Œè¶…è¿‡æ—¶é—´é—´éš”å†å‘æœåŠ¡å™¨è¦æ–‡ä»¶çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šå†ä¸€æ¬¡å‘é€æºæ–‡ä»¶ï¼Œä½†å¦‚æžœæ–‡ä»¶æœªè¢«æ”¹å˜ï¼Œå‘é€æºæ–‡ä»¶å¤ªæµªè´¹å¸¦å®½äº†ï¼Œåªè¦å‘é€ä¸€ä¸ªæ–‡ä»¶æœªè¢«æ›´æ”¹çš„çŸ­ä¿¡æ¯æ ‡ç¤ºå°±å¥½äº†ã€‚ ç¼“å­˜+æ›´æ–°ç»ˆæžç‰ˆæœåŠ¡å™¨è¿”å›žçš„æ–‡ä»¶ä»¥åŠé¢å¤–ä¿¡æ¯ï¼Œå…¶ä¸­Etag æ˜¯ å¯¹è¯·æ±‚æ–‡ä»¶çš„ç¼–ç ï¼Œå¦‚æžœè¯·æ±‚æ–‡ä»¶åœ¨æœåŠ¡ç«¯æœªè¢«ä¿®æ”¹ï¼Œè¿™ä¸ªå€¼å°±ä¸ä¼šå˜ã€‚ 12Cache-Control: max-age=300ï¼›ETag:W/&quot;e-cbxLFQW5zapn79tQwb/g6Q&quot; å½“è¶…è¿‡æ—¶é—´é—´éš”çš„æ—¶å€™ï¼Œé‡æ–°å‘è¯·æ±‚èŽ·å–æºæ–‡ä»¶çš„æ—¶å€™ï¼Œåœ¨å‘é€è¯·æ±‚çš„æ—¶å€™é™„å¸¦åˆšåˆšä¿å­˜çš„æ–‡ä»¶çš„ETag ( If-None-Matchï¼šW/â€œe-cbxLFQW5zapn79tQwb/g6Qâ€ï¼‰ï¼Œä¹‹åŽäºŽETagè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœäºŒè€…ç›¸ç­‰ï¼Œåˆ™å‘é€ä¸ªçŸ­æ¶ˆæ¯ï¼ˆå“åº”å¤´ï¼Œä¸åŒ…å«å›¾ç‰‡å†…å®¹, 304ï¼‰ï¼Œå¦‚æžœäºŒè€…ä¸ç­‰åˆ™å‘é€æ–°æ–‡ä»¶å’Œæ–°çš„ ETagï¼Œæµè§ˆå™¨èŽ·å–æ–°æ–‡ä»¶å¹¶æ›´æ–°è¯¥æ–‡ä»¶çš„ Etagã€‚ï¼ˆæµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºã€‚ï¼‰ ä¸Ž ETag ç±»ä¼¼åŠŸèƒ½çš„æ˜¯Last-Modified/If-Modified-Sinceã€‚å½“èµ„æºè¿‡æœŸæ—¶ï¼ˆmax-ageè¶…æ—¶ï¼‰ï¼Œå‘çŽ°èµ„æºå…·æœ‰Last-Modifiedå£°æ˜Žï¼Œåˆ™å†æ¬¡å‘webæœåŠ¡å™¨è¯·æ±‚æ—¶å¸¦ä¸Šå¤´ If-Modified-Sinceï¼Œè¡¨ç¤ºä¸Šæ¬¡æœåŠ¡å™¨å‘ŠçŸ¥çš„æ–‡ä»¶ä¿®æ”¹çš„æ—¶é—´ã€‚webæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åŽå‘çŽ°æœ‰å¤´If-Modified-Since åˆ™ä¸Žè¢«è¯·æ±‚èµ„æºçš„æœ€åŽä¿®æ”¹æ—¶é—´è¿›è¡Œæ¯”å¯¹ã€‚è‹¥æœ€åŽä¿®æ”¹æ—¶é—´è¾ƒæ–°ï¼Œè¯´æ˜Žèµ„æºåˆè¢«æ”¹åŠ¨è¿‡ï¼Œåˆ™å“åº”æ•´ç‰‡èµ„æºå†…å®¹ï¼ˆ200ï¼‰ï¼›è‹¥æœ€åŽä¿®æ”¹æ—¶é—´è¾ƒæ—§ï¼Œè¯´æ˜Žèµ„æºæ— æ–°ä¿®æ”¹ï¼Œåˆ™å“åº”HTTP 304 ï¼Œå‘ŠçŸ¥æµè§ˆå™¨ç»§ç»­ä½¿ç”¨æ‰€ä¿å­˜çš„cacheã€‚ç¬¬ä¸€æ¬¡åŽ»è¯·æ±‚ï¼Œå“åº”å¤´ä¸­å­˜åœ¨Last-modified,åˆ·æ–°åŽç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œè¯·æ±‚å¤´ä¸­æœ‰if-modified-sinceã€‚ .htmlä¸ä¼šç¼“å­˜,.csså’Œå›¾ç‰‡éƒ½ä¼šåŽŸå› ï¼šå›¾ç‰‡å’ŒCSSçš„è¯·æ±‚éƒ½æ˜¯HTMLåˆ°è¾¾æµè§ˆå™¨åŽï¼Œæµè§ˆå™¨è§£æžå‘å‡ºçš„ï¼Œè€ŒHTMLæ˜¯ç›´æŽ¥è¾“å…¥URLè§£æžå‡ºæ¥çš„ã€‚æŠ¥æ–‡ä¹Ÿå­˜åœ¨å·®å¼‚ï¼š htmlqè¯·æ±‚æŠ¥æ–‡.PNG cssæŠ¥æ–‡.PNG å½“æµè§ˆå™¨æ£€æµ‹åˆ°çŠ¶æ€ç æ˜¯304çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨æœ¬åœ°çš„ç¼“å­˜ä¸­æ‹¿æ•°æ®ï¼Œåšä¸€ä¸ªå±•ç¤ºã€‚è°ƒè¯•çš„æ—¶å€™ä»¥ä¸ºæ˜¯æœåŠ¡å™¨å‘è¿‡æ¥çš„ï¼Œå®žé™…ä¸Šå¹¶ä¸æ˜¯ã€‚ å‹¾é€‰å¼€å‘è€…å·¥å…·æŽ§åˆ¶å°Disable cacheåŽŸç†ï¼šæµè§ˆå™¨è‡ªåŠ¨åœ¨è¯·æ±‚æŠ¥æ–‡ä¸Šæ·»åŠ ï¼špragma:no-cacheã€‚ lastModifiedå’Œcache-control12Cache-Control: no-cacheLastModifiedï¼šsXXX å¯ä»¥è¿›è¡Œç¼“å­˜ï¼Œä½†æ˜¯ä¸‹ä¸€æ¬¡è¯·æ±‚ä¹‹å‰ï¼Œä¸å¯ä»¥ç›´æŽ¥åœ¨ç¼“å­˜ä¸­æ‹¿æ•°æ®ï¼Œè¦å…ˆé—®æœåŠ¡å™¨æ˜¯å¦å¯ä»¥åœ¨æœ¬åœ°ç¼“å­˜ä¸­ä¸­æ‹¿ï¼Œå¦‚æžœæœåŠ¡å™¨è¿”å›ž304çŠ¶æ€ç ï¼Œåˆ™è¡¨ç¤ºå¯ä»¥åœ¨æœ¬åœ°ç¼“å­˜ä¸­æ‹¿æ•°æ®ï¼Œå¦åˆ™ï¼ŒæœåŠ¡å™¨è¿”å›žæ•°æ®ã€‚ å°ç»“ï¼š åœ¨äº’è”ç½‘ä¸Šï¼ŒåŸŸåé€šè¿‡DNSæœåŠ¡æ˜ å°„åˆ°IPåœ°å€ä¹‹åŽè®¿é—®ç›®æ ‡ç½‘ç«™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼Œå·²ç»æ˜¯å·²IPåœ°å€å½¢å¼è®¿é—®äº†ã€‚ ä»£ç†ï¼šæ˜¯ä¸€ç§å…·æœ‰è½¬å‘åŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼Œå®ƒæ‰®æ¼”äº†ä½äºŽæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯â€œä¸­é—´äººâ€çš„è§’è‰²ï¼ŒæŽ¥æ”¶ç”±å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚å¹¶è½¬å‘ç»™æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹ŸæŽ¥æ”¶æœåŠ¡å™¨è¿”å›žçš„å“åº”å¹¶è½¬å‘ç»™å®¢æˆ·ç«¯ã€‚ä»£ç†ä¸ä¼šæ”¹å˜è¯·æ±‚URIã€‚æ¯æ¬¡é€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚æˆ–è€…å“åº”çš„æ—¶å€™ï¼Œä¼šè¿½åŠ å†™å…¥Viaé¦–éƒ¨ä¿¡æ¯ã€‚ 1GET/HTTP/1.1 Via:proxy1 ã€‚ ç¼“å­˜ä»£ç†ï¼ˆåˆ©ç”¨ç¼“å­˜æŠ€æœ¯ï¼‰ï¼› é€æ˜Žä»£ç†ï¼Œä¸å¯¹æŠ¥æ–‡åšä»»ä½•åŠ å·¥çš„ä»£ç†å«é€æ˜Žä»£ç†ã€‚ ç½‘å…³ï¼šæ˜¯è½¬å‘å…¶ä»–æœåŠ¡å™¨é€šä¿¡æ•°æ®çš„æœåŠ¡å™¨ï¼ŒæŽ¥æ”¶ä»Žå®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚æ—¶ï¼Œå®ƒå°±åƒè‡ªå·±æ‹¥æœ‰èµ„æºçš„æœåŠ¡å™¨ä¸€æ ·ï¼Œå¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚åˆ©ç”¨ç½‘å…³å¯ä»¥ç”±HTTPè¯·æ±‚è½¬åŒ–ä¸ºå…¶ä»–åè®®é€šä¿¡ã€‚ éš§é“ï¼šæ˜¯åœ¨ç›¸éš”ç”šè¿œçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸¤è€…ä¹‹é—´è¿›è¡Œä¸­è½¬ï¼Œå¹¶ä¿æŒåŒæ–¹é€šä¿¡è¿žæŽ¥çš„åº”ç”¨ç¨‹åºã€‚éš§é“çš„ç›®çš„æ˜¯ç¡®ä¿å®¢æˆ·ç«¯èƒ½ä¸ŽæœåŠ¡å™¨è¿›è¡Œå®‰å…¨çš„é€šä¿¡ï¼Œæœ¬èº« ä¸ä¼šåŽ»è§£æžHTTPè¯·æ±‚ï¼Œè¯·æ±‚ä¿æŒåŽŸæ ·ä¸­è½¬ç»™ä¹‹åŽçš„æœåŠ¡å™¨ã€‚éš§é“ä¼šåœ¨é€šä¿¡åŒæ–¹æ–­å¼€è¿žæŽ¥æ—¶ç»“æŸã€‚ éœ€è¦å…¼å®¹HTTP1.0çš„æ—¶å€™éœ€è¦ä½¿ç”¨Expiresï¼Œä¸ç„¶å¯ä»¥è€ƒè™‘ç›´æŽ¥ä½¿ç”¨Cache-Control éœ€è¦å¤„ç†ä¸€ç§’å†…å¤šæ¬¡ä¿®æ”¹çš„æƒ…å†µï¼Œæˆ–è€…å…¶ä»–Last-Modifiedå¤„ç†ä¸äº†çš„æƒ…å†µï¼Œæ‰ä½¿ç”¨ETagï¼Œå¦åˆ™ä½¿ç”¨Last-Modifiedã€‚ å¯¹äºŽæ‰€æœ‰å¯ç¼“å­˜èµ„æºï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªExpiresæˆ–Cache-Controlï¼ŒåŒæ—¶æŒ‡å®šLast-Modifiedæˆ–è€…Etagã€‚ å¯ä»¥é€šè¿‡æ ‡è¯†æ–‡ä»¶ç‰ˆæœ¬åã€åŠ é•¿ç¼“å­˜æ—¶é—´çš„æ–¹å¼æ¥å‡å°‘304å“åº”ã€‚ ä½œè€…ï¼šL_ç­±_Q é“¾æŽ¥ï¼šhttps://www.jianshu.com/p/8f7e1d4fc3ba æ¥æºï¼šç®€ä¹¦ ç®€ä¹¦è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½éƒ½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒå¹¶æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>HTTP</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
        <tag>ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[flexå¸ƒå±€]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2Fflex%E5%B8%83%E5%B1%80%2F</url>
    <content type="text"><![CDATA[å¸¸è§å¸ƒå±€ normal flowï¼ˆæ­£å¸¸æµï¼‰ float + clearï¼ˆæµ®åŠ¨+æ¸…æ¥šæµ®åŠ¨ï¼‰ position relative + absolute ï¼ˆç›¸å¯¹å®šä½+ç»å¯¹å®šä½ï¼‰ display inline-block ï¼ˆæ”¹å˜å…ƒç´ å±žæ€§ï¼‰ -marginï¼ˆè´Ÿå¤–è¾¹è·ï¼‰ Flexå¸ƒå±€ç‰¹æ€§ å—çº§å¸ƒå±€ä¾§é‡åž‚ç›´æ–¹å‘ã€è¡Œå†…å¸ƒå±€ä¾§é‡æ°´å¹³æ–¹å‘ï¼Œflexå¸ƒå±€æ˜¯ä¸Žæ–¹å‘æ— å…³çš„ flexå¸ƒå±€å¯ä»¥å®žçŽ°ç©ºé—´è‡ªåŠ¨åˆ†é…ã€è‡ªåŠ¨å¯¹é½ï¼ˆå…¨ç§°:the flexible box Moduleï¼‰ flexé€‚ç”¨äºŽç®€å•çš„çº¿æ€§å¸ƒå±€ï¼Œæ›´å¤æ‚çš„å¸ƒå±€è¦äº¤ç»™gridå¸ƒå±€ï¼ˆç›®å‰è¿˜æ²¡å‘å¸ƒï¼‰ â€‹ è¯­æ³• display: flex; display: inline-flex; è®¾ä¸ºFlexå¸ƒå±€åŽï¼Œå­å…ƒç´ çš„loat,clearå’Œvertical-alignå±žæ€§å°†å¤±æ•ˆã€‚ FlexåŸºç¡€æ¦‚å¿µé‡‡ç”¨Flexå¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸ºFlexå®¹å™¨ï¼ˆflex containerï¼‰ï¼Œç®€ç§°â€å®¹å™¨â€ã€‚å®ƒçš„æ‰€æœ‰å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸ºFlexé¡¹ç›®ï¼ˆflex itemï¼‰ï¼Œç®€ç§°â€é¡¹ç›®â€ã€‚ ä¸Šå›¾æ°´å¹³æ˜¯ä¸»è½´(main axis)åž‚ç›´æ˜¯ä¾§è½´(cross axis)ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®å«åšmain startï¼Œç»“æŸä½ç½®å«åšmain endï¼›ä¾§è½´çš„å¼€å§‹ä½ç½®å«åšcross startï¼Œç»“æŸä½ç½®å«åšcross end ã€‚ é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æŽ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain sizeï¼Œå æ®çš„ä¾§è½´ç©ºé—´å«åšcross sizeã€‚ Flex containerå®¹å™¨å±žæ€§flex-direction: å†³å®šäº†ä¸»è½´çš„æ–¹å‘ï¼ˆå³é¡¹ç›®çš„æŽ’åˆ—æ–¹å‘)1234.box&#123; display:flex; flex-direction:column-revers|column|row-reverse|row; &#125; å±žæ€§å è¯´æ˜Ž row(é»˜è®¤) ä¸»è½´æ–¹å‘ä¸ºæ°´å¹³ï¼Œèµ·ç‚¹åœ¨å·¦ç«¯ row- reverse ä¸»è½´æ–¹å‘ä¸ºæ°´å¹³ï¼Œèµ·ç‚¹åœ¨å³ç«¯ column ä¸»è½´æ–¹å‘ä¸ºåž‚ç›´ï¼Œèµ·ç‚¹åœ¨ä¸Šç«¯ column-reverse ä¸»è½´æ–¹å‘ä¸ºåž‚ç›´ï¼Œèµ·ç‚¹åœ¨ä¸‹ç«¯ å•ç‹¬æ·»åŠ flex-direction: row; //é»˜è®¤æ˜¯ä¸ä¼šæ¢è¡Œ flex-wrap: å®šä¹‰å¦‚æžœä¸€æ¡è½´çº¿æŽ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ12345.box&#123; display:flex; flex-direction:now flex-wrap:wrap; &#125; å±žæ€§å è¯´æ˜Ž nowrap(é»˜è®¤) ä¸æ¢è¡Œ wrap æ¢è¡Œ wrap-reverse æ¢è¡Œåè½¬ flex-flowï¼ˆä»¥ä¸Šä¸¤ä¸ªå±žæ€§çš„ç®€å†™ï¼‰ flex-flowå±žæ€§æ˜¯flex-directionå±žæ€§å’Œflex-wrapå±žæ€§çš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼ä¸ºrow nowrapã€‚ 1234.box&#123; display:flex; flex-flow: row nowrap; &#125; justify-content:å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼1234.box&#123; display:flex; justify-content:flex-start | flex-end | center | space-between | space-around;&#125; å±žæ€§å è¯´æ˜Ž flex-start(é»˜è®¤) é¡¹ç›®æ²¿ç€ä¸»è½´æ–¹å‘çš„èµ·å§‹ä½ç½®é é½ flex-end é¡¹ç›®æ²¿ç€ä¸»è½´æ–¹å‘çš„ç»“æŸä½ç½®é é½ï¼Œå’Œflex-startç›¸å space-between é¡¹ç›®åœ¨ä¸»è½´æ–¹å‘ä¸Šä¸¤ç«¯å¯¹é½ï¼Œå…¶ä¸­çš„é—´éš”ç›¸ç­‰ space-around æ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸Žè¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ align-itemså®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½1234.box&#123; display:flex; align-items:flex-start | flex-end | center | baseline | stretch;&#125; å±žæ€§å è¯´æ˜Ž flex-start é¡¹ç›®æ²¿ç€ä¾§è½´ä¸Šçš„èµ·ç‚¹å¯¹é½ flex-end é¡¹ç›®æ²¿ç€ä¾§è½´ä¸Šçš„ç»ˆç‚¹å¯¹é½ center é¡¹ç›®åœ¨ä¾§è½´æ–¹å‘ä¸Šå±…ä¸­å¯¹é½ stretch(é»˜è®¤) å¦‚æžœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–é«˜åº¦ä¸ºauto,å°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ã€‚ align-contentå¤šè¡Œå¤šåˆ—å†…å®¹å¯¹é½æ–¹å¼æ³¨æ„å¦‚æžœé¡¹ç›®åªæœ‰ä¸€è¡Œï¼Œå±žæ€§ä¸èµ·ä½œç”¨ 1234.box&#123; display:flex; align-content:flex-start | flex-end | center | space-between | space-around | stretch;&#125; å±žæ€§å è¯´æ˜Ž flex-start é¡¹ç›®ä¸Žä¾§è½´çš„èµ·ç‚¹å¯¹é½ flex-end é¡¹ç›®ä¸Žä¾§è½´çš„ç»ˆç‚¹å¯¹é½ center é¡¹ç›®ä¸Žä¾§è½´çš„ä¸­ç‚¹å¯¹é½ space-between ä¸Žä¾§è½´ä¸¤ç«¯å¯¹é½ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”å¹³å‡åˆ†å¸ƒ space-around æ¯è¡Œè½´çº¿ä¸¤ä¾§çš„é—´éš”éƒ½ç›¸ç­‰ã€‚æ‰€ä»¥è½´çº¿ä¹‹é—´çš„é—´éš”æ¯”è½´çº¿ä¸Žè¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ stretchï¼ˆé»˜è®¤ï¼‰ è½´çº¿å æ»¡æ•´ä¸ªæµ‹è½´ flex itemé¡¹ç›®å±žæ€§ orderå±žæ€§ï¼šå®šä¹‰é¡¹ç›®çš„æŽ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼ŒæŽ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0 .item{order: &lt;integer&gt;;} flex-growå±žæ€§:å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æžœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ .item{flex-grow:&lt;number&gt;;} flex-growä¸ºé›¶çš„è¯åˆ™ä¸å˜åŒ–ï¼Œä¸èƒ½ä¸ºè² å€¼ã€‚å¦‚æžœæ‰€æœ‰é¡¹ç›®çš„flex-growå±žæ€§éƒ½ä¸º1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æžœæœ‰çš„è¯ï¼‰ã€‚å¦‚æžœä¸€ä¸ªé¡¹ç›®çš„flex-growå±žæ€§ä¸º2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹çš„2å€ã€‚ flex-shrinkå±žæ€§ï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æžœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å° .item{flex-shrink:&lt;number&gt;;} å¦‚æžœæ‰€æœ‰é¡¹ç›®çš„flex-shrinkå±žæ€§éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æžœä¸€ä¸ªé¡¹ç›®çš„flex-shrinkå±žæ€§ä¸º0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚è´Ÿå€¼å¯¹è¯¥å±žæ€§æ— æ•ˆã€‚ flex-basiså±žæ€§:å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰ æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±žæ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚å®ƒå¯ä»¥è®¾ä¸ºè·Ÿwidthæˆ–heightå±žæ€§ä¸€æ ·çš„å€¼ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´ .item{flex-basis: &lt;length&gt;| auto; flexå±žæ€§ï¼šflex-grow,flex-shrinkå’Œflex-basisçš„ç®€å†™ é»˜è®¤å€¼ä¸º0 1 autoã€‚åŽä¸¤ä¸ªå±žæ€§å¯é€‰ã€‚è¯¥å±žæ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼šauto(1 1 auto) å’Œ none (0 0 auto)ã€‚ align-selfå±žæ€§ï¼šå…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸Žå…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±žæ€§ é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±žæ€§ï¼Œå¦‚æžœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºŽstretchã€‚ .item{align-self:auto | flex-start | flex-end | center | baseline | stretch;} è¯¥å±žæ€§å¯èƒ½å–6ä¸ªå€¼ï¼Œé™¤äº†autoï¼Œå…¶ä»–éƒ½ä¸Žalign-itemså±žæ€§å®Œå…¨ä¸€è‡´ã€‚ æœ€è¿‘å‘çŽ°ä¸€ç¯‡å¾ˆè¯¦ç»†å…³äºŽflex box å¸ƒå±€çš„åšå®¢é“¾æŽ¥é˜®ä¸€å³°flexå®žæˆ˜å¸ƒå±€æ•™ç¨‹]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯ç¼“å­˜]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%2F</url>
    <content type="text"><![CDATA[localStorage è¿˜èƒ½è¿™ä¹ˆç”¨ HTML5ä¸­ Web Storage çš„å‡ºçŽ°ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¼¥è¡¥ä½¿ç”¨ Cookie ä½œä¸ºæœ¬åœ°å­˜å‚¨çš„ä¸è¶³ã€‚Cookie å­˜å‚¨çš„æ•°æ®é‡éžå¸¸å°ï¼Œè€Œä¸”æ•°æ®ä¼šè‡ªåŠ¨æºå¸¦åˆ°è¯·æ±‚å¤´é‡Œï¼Œä½†æœåŠ¡å™¨ç«¯å¯èƒ½å¹¶ä¸å…³å¿ƒè¿™äº›æ•°æ®ï¼Œæ‰€ä»¥ä¼šé€ æˆå¸¦å®½çš„æµªè´¹ã€‚ Web Storage æä¾›äº†ä¸¤ä¸ªå­˜å‚¨å¯¹è±¡ï¼šlocalStorage å’Œ sessionStorageã€‚ sessionStorage å­˜å‚¨çš„æ•°æ®ä»…åœ¨æœ¬æ¬¡ä¼šè¯æœ‰ç”¨ï¼Œä¼šè¯ç»“æŸåŽä¼šè‡ªåŠ¨å¤±æ•ˆï¼Œè€Œä¸”æ•°æ®ä»…åœ¨å½“å‰çª—å£æœ‰æ•ˆï¼ŒåŒä¸€æºä¸‹æ–°çª—å£ä¹Ÿè®¿é—®ä¸åˆ°å…¶ä»–çª—å£åŸºäºŽsessionStorage å­˜å‚¨çš„æ•°æ®ã€‚ä¹Ÿæ˜¯ç”±äºŽè¿™äº›ç‰¹æ€§ï¼Œå¯¼è‡´ sessionStorage çš„ä½¿ç”¨åœºæ™¯ä¼šæ¯”è¾ƒå°‘ã€‚ localStorage å¯ä»¥æ°¸ä¹…å­˜å‚¨ï¼Œè€Œä¸”åŒæºä¸‹æ•°æ®å¤šçª—å£ä¹Ÿèƒ½å…±äº«ï¼Œã€‚çœ‹èµ·æ¥å¾ˆç¾Žå¥½ï¼Œä½† localStorage ä¹Ÿæœ‰çŸ­æ¿ï¼Œç»å¤§å¤šæ•°æµè§ˆå™¨æœ‰ 5M çš„å¤§å°é™åˆ¶ã€‚ä½†æ˜¯è¿™ä¸è¶³ä»¥æˆä¸ºå¤§å®¶ä½¿ç”¨ localStorage çš„éšœç¢ï¼Œè¦çŸ¥é“ Cookie åªæœ‰ 4K çš„å¤§å°ï¼Œå¤šäº†ä¸€åƒå¤šå€ï¼Œå·ç€ä¹å§ã€‚ localStorage çš„åŸºæœ¬ä½¿ç”¨è®²è¿™ä¸ªå†…å®¹çš„æ–‡ç« ç½‘ä¸Šå¤ªå¤šäº†ï¼ŒçŽ°åœ¨å†æ¥è®²æœ‰ç‚¹è€å¥—äº†ã€‚è¿™é‡Œå°±ä¸åšæ›´å¤šä»‹ç»äº†ï¼Œä¸æ¸…æ¥šçš„è¯»è€…å¯ä»¥çœ‹è¿™é‡Œã€‚ æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚åœ¨ setItem æ—¶ï¼Œå¯èƒ½ä¼šè¾¾åˆ°å¤§å°é™åˆ¶ï¼Œæœ€å¥½åŠ ä¸Šé”™è¯¯æ•æ‰ 1ï¼š 123456789101112131415161718192021222324252627282930try &#123; localStorage.setItem(key, value);&#125; catch(e) &#123; if (isQuotaExceeded(e)) &#123; // Storage full, maybe notify user or do some clean-up &#125;&#125;function isQuotaExceeded(e) &#123; var quotaExceeded = false; if (e) &#123; if (e.code) &#123; switch (e.code) &#123; case 22: quotaExceeded = true; break; case 1014: // Firefox if (e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &#123; quotaExceeded = true; &#125; break; &#125; &#125; else if (e.number === -2147024882) &#123; // Internet Explorer 8 quotaExceeded = true; &#125; &#125; return quotaExceeded;&#125; å¦å¤–åœ¨å­˜å‚¨å®¹é‡å¿«æ»¡æ—¶ï¼Œä¼šé€ æˆ getItem æ€§èƒ½æ€¥å‰§ä¸‹é™ 2ã€‚ æˆ‘ä»¬ä¸‹é¢çœ‹çœ‹ localStorage æœ‰å“ªäº›è„‘æ´žå¤§å¼€çš„ç”¨æ³•ã€‚ ç¼“å­˜é™æ€æ–‡ä»¶ä½ ä¸ç¦è¦é—®ï¼ŒHTTP åè®®ä¸æ˜¯æœ¬æ¥å°±æ”¯æŒç¼“å­˜æ–‡ä»¶å—ï¼ˆä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ã€ŠWebç¼“å­˜ä¹‹HTTPæŒ‡å—ã€‹ï¼‰ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨ localStorage æ¥ç¼“å­˜ï¼Ÿä¸ºäº†å¯ç¼–ç¨‹åŒ–ï¼Œé€šä¿—ä¸€ç‚¹è¯´å°±æ˜¯æŠŠå‘½è¿æ¡åœ¨è‡ªå·±æ‰‹ä¸­ã€‚ HTTP åè®®çš„ç¼“å­˜ï¼Œå¯ä»¥ç”±ç”¨æˆ·æµè§ˆå™¨æ¸…é™¤æˆ–ç¦ç”¨ç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ç”± Web æœåŠ¡å™¨è®¾ç½®è¿‡æœŸæ—¶é—´æˆ–ä¸ç¼“å­˜ã€‚å¯¹äºŽå‰ç«¯å·¥ç¨‹å¸ˆï¼Œè¿™æ›´åƒæ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæƒ³è¦å†³å®šæ–‡ä»¶æ˜¯è®¿é—®ç¼“å­˜è¿˜æ˜¯è®¿é—®è¿œç¨‹æ˜¾å¾—æœ‰äº›åŠ›ä¸ä»Žå¿ƒäº†ã€‚ ä½¿ç”¨ localStorage æŽ§åˆ¶æ–‡ä»¶ç¼“å­˜çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š ä½¿ç”¨ Loader åŠ è½½é™æ€æ–‡ä»¶ å€ŸåŠ©æœåŠ¡å™¨ç«¯å°†é™æ€æ–‡ä»¶ inline åŒ– è¿™ä¸¤ç§æ–¹å¼ä¸€èˆ¬éƒ½ä¼šæå‰åšå¥½ç¼“å­˜è¿‡æœŸç­–ç•¥ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨ç‰ˆæœ¬å·æ¥æŽ§åˆ¶ï¼Œä¸‹é¢è¿˜ä¼šç»†è®²ã€‚å¦åˆ™æ–‡ä»¶æ–°ç‰ˆä¸Šçº¿ï¼Œç”¨æˆ·å®¢æˆ·ç«¯è¿˜æ˜¯æ—§ç‰ˆï¼Œè¿™å°±éº»çƒ¦å¤§äº†ï¼Œè€Œä¸”è¿™ç±»é—®é¢˜ï¼Œè¿˜ä¸å¥½è°ƒè¯•ä¸å¥½é‡çŽ°ã€‚ ä½¿ç”¨ Loader åŠ è½½é™æ€æ–‡ä»¶ç”±äºŽè¯·æ±‚éƒ½æ˜¯åŠ¨æ€å‘å‡ºçš„ï¼Œæ‰€ä»¥å¯ä»¥å¯¹è¯·æ±‚æ‹¦æˆªå¤„ç†ã€‚å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š æŸ¥çœ‹è¯·æ±‚çš„æ–‡ä»¶ url æ˜¯å¦æœ‰ç¼“å­˜åˆ° localStorage å¦‚æžœæ²¡æœ‰ï¼Œåˆ°ç¬¬ 2 å¤§æ­¥ å¦‚æžœæœ‰ï¼Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦è¿‡æœŸæˆ–ç‰ˆæœ¬å·æ˜¯å¦åŒ¹é… è¿‡æœŸæˆ–ä¸åŒ¹é…ï¼Œåˆ°ç¬¬ 2 å¤§æ­¥ æ–‡ä»¶å†…å®¹æœ‰æ•ˆï¼Œåˆ°ç¬¬ 4 å¤§æ­¥ è¯·æ±‚è¿œç¨‹æ–‡ä»¶ ç¼“å­˜æœ€æ–°æ–‡ä»¶å†…å®¹ æ‰§è¡Œæ–‡ä»¶å†…å®¹ è¿™ä¸ªæ–¹å¼æœ‰ä¸ªå¼€æºåº“ï¼šbasket.jsã€‚ å€ŸåŠ©æœåŠ¡å™¨ç«¯å°†é™æ€æ–‡ä»¶ inline åŒ–è¿™ä¸ªæ–¹å¼æ¯”ä¸Šé¢é‚£ç§æ›´è¿›ä¸€æ­¥ï¼Œåœ¨ç¬¬ä¸€æ¬¡å“åº”æ—¶æŠŠéœ€è¦æ”¾å…¥ localStorage çš„æ–‡ä»¶éƒ½å†…è”è¿› html ä¸­ï¼ŒåŽé¢æ¯æ¬¡å“åº”åªè¦æ–‡ä»¶ç‰ˆæœ¬æ²¡æœ‰å˜åŒ–ï¼Œéƒ½æ˜¯æ¸²æŸ“ä¸€æ®µä»Ž localStorage åŠ è½½è¯¥æ–‡ä»¶çš„ä»£ç ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥æœ‰æ•ˆå‡å°‘è¯·æ±‚æ¬¡æ•°ï¼Œå³ä½¿æ˜¯ç¬¬ä¸€æ¬¡ã€‚ ç‰ˆæœ¬å·ä¸åŒ¹é…ï¼ˆç‰ˆæœ¬å·å¯è®°åœ¨ Cookie ä¸­ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ²¡æœ‰ç‰ˆæœ¬å·ï¼‰ï¼ŒæœåŠ¡ç«¯å“åº”å†…å®¹ï¼š 1234567891011&lt;script&gt;function script2ls(id) &#123; var script = document.getElementById(id); if (script) &#123; localStorage[id] = script.innerHTML; &#125;&#125;&lt;/script&gt;&lt;script id="jquery.js"&gt;...jquery source code...&lt;/script&gt;&lt;script&gt;script2ls('jquery.js')&lt;/script&gt; ç‰ˆæœ¬å·åŒ¹é…ï¼ŒæœåŠ¡ç«¯å“åº”å†…å®¹ï¼š 123456789&lt;script&gt;function ls2script(id) &#123; var script = document.createElement('script'); script.text = localStorage[id]; document.head.appendChild(script);&#125;&lt;/script&gt;&lt;script&gt;ls2script('jquery.js')&lt;/script&gt; ä¸è¿‡ä½¿ç”¨ localStorage ç¼“å­˜æ–‡ä»¶ä¼šæœ‰ XSS çš„é£Žé™©ï¼Œè€Œä¸”é€ æˆçš„ä¼¤å®³å¯èƒ½æ˜¯æ°¸ä¹…çš„ 3ã€‚ åŒæºçª—å£é€šä¿¡ä½ å¯èƒ½ä¸ç¦åˆè¦é—®ï¼Œä¸æ˜¯æœ‰ postMessage å—ï¼Ÿæ²¡é”™ postMessage ç¡®å®žå¯ä»¥ç”¨äºŽçª—å£æˆ– iframe é—´é€šä¿¡ï¼Œä½†æ˜¯å‰ææ˜¯ä½ å¿…é¡»æ‹¿åˆ°æ‰“å¼€æ–°çª—æˆ– iframe çš„å¥æŸ„å¯¹è±¡ï¼š 12var popup = window.open(...popup details...);popup.postMessage("hello there!", "http://example.com"); è¿™æ ·åœ¨æ–°çª—ä¸­å†æ‰“å¼€æ–°çª—ï¼Œä¼¼ä¹Žå°±ä¸å¥½ä¼ é€’æ¶ˆæ¯äº†ã€‚ ä½ å¯èƒ½è¿˜æƒ³é—®ï¼Œä¸ºä»€ä¹ˆè¦åœ¨çª—å£é—´é€šä¿¡ï¼Ÿå¥½é—®é¢˜ï¼Œæ²¡æœ‰åº”ç”¨åœºæ™¯çš„æŠ€æœ¯éƒ½æ˜¯è€æµæ°“ã€‚åƒå¤šçª—å£å…±ç”¨çš„ä¸€äº›ç»„ä»¶ï¼Œè€Œä¸”å¯¹æ•°æ®å®žæ—¶åŒæ­¥éƒ½æœ‰è¾ƒé«˜è¦æ±‚çš„éƒ½ä¼šæ˜¯è¿™ä¸ªæŠ€æœ¯çš„åº”ç”¨åœºæ™¯ã€‚æ¯”å¦‚é€šçŸ¥ä¸­å¿ƒä¸Šé¢çš„æœªè¯»æ•°é‡ï¼Œä¸¤ä¸ªçª—å£ï¼ŒA çª—å£æ›´æ–°ä¸º 8ï¼Œåˆ‡åˆ° B çª—å£è¿˜æ˜¯ 9ï¼Œè¿™å°±é€ æˆäº†ä½“éªŒä¸ä¸€è‡´ï¼Œè¿™ä¸ªä¾‹å­å¯èƒ½è¿˜è§‰å¾—æ— å…³ç—›ç—’ï¼›å†æ¯”å¦‚è´­ç‰©è½¦ï¼Œä¸¤ä¸ªäº§å“çª—å£ï¼ŒA çª—å£æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œåˆ‡åˆ° B çª—å£æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œå‘çŽ°æ²¡æœ‰ A æ·»åŠ çš„äº§å“ï¼Œè¿™æ ·å°±æ¯”è¾ƒä¸¥é‡äº†ã€‚è¿™å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æ¯ä¸ªçª—å£éƒ½ä¸ŽåŽå°å»ºç«‹è¿žæŽ¥æ¥æ›´æ–°ï¼Œä½†ç”¨æˆ·å¦‚æžœå¼€åå‡ ä¸ªçª—å£å°±å¼€é”€å¤§äº†ã€‚ æœ‰äº†åŒæºçª—å£é€šä¿¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åªæœ‰ä¸€ä¸ªçª—å£ä¸ŽåŽå°å»ºç«‹è¿žæŽ¥ï¼Œæ”¶åˆ°æ›´æ–°åŽï¼Œå¹¿æ’­ç»™å…¶ä»–çª—å£å°±å¯ä»¥ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œå®žçŽ°åŽŸç†æ˜¯æ€Žæ ·çš„å‘¢ï¼Ÿ å…¶å®žåŽŸç†ä¹Ÿç®€å•ï¼Œæ¯æ¬¡ localStorage ä¸­æœ‰ä»»ä½•å˜åŠ¨éƒ½ä¼šè§¦å‘ä¸€ä¸ª storage äº‹ä»¶ï¼Œæ‰€æœ‰çª—å£éƒ½ç›‘å¬è¿™ä¸ªäº‹ä»¶ï¼Œä¸€æ—¦æœ‰çª—å£æ›´æ–° localStorageï¼Œå…¶ä»–çª—å£éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œæ ¹æ®äº‹ä»¶ä¸­çš„ key æŠŠä¸å…³å¿ƒçš„å˜åŠ¨è¿‡æ»¤æŽ‰ã€‚åŽŸç†æ˜¯å¾ˆç®€å•ï¼Œä½†æ˜¯è¦å®žçŽ°ä¸€å¥—å®Œæ•´çš„å¹¿æ’­æœºåˆ¶è¿˜æ˜¯æœ‰äº›å¤æ‚ï¼Œä½ éœ€è¦ï¼š ç®¡ç†å¥½æ¯ä¸ªçª—å£çš„å”¯ä¸€ ID é˜²æ­¢æ¶ˆæ¯é‡å¤ é˜²æ­¢æ¶ˆæ¯å‘ç»™ä¸å…³å¿ƒçš„çª—å£ çª—å£å¿ƒè·³ keep alive ä¸»çª—å£é€‰ä¸¾ â€¦ ä¸ç”¨æ‹…å¿ƒï¼Œå·²ç»æœ‰äº†ä¸é”™çš„å¼€æºå®žçŽ°ï¼šdiy/intercom.jsã€tejacques/crosstab å…¶ä»–ä½œä¸ºå‰ç«¯ DB çš„å­˜å‚¨ä»‹è´¨ä½ å¯èƒ½ä¸æ»¡è¶³äºŽç”¨é”®å€¼å¯¹ä¿å­˜æ•°æ®ï¼Œä½ è¿˜æƒ³ä¿å­˜æ›´å¤æ‚çš„æ•°æ®ç»“æž„ã€‚ çµæ´»å­˜å– json æ ¼å¼çš„æ•°æ®ï¼štypicode/lowdb é€šè¿‡ sql å¯¹æ•°æ® CURD æ“ä½œï¼šagershun/alasql è¡¨å•è‡ªåŠ¨æŒä¹…åŒ–åœ¨å¡«å†™è¡¨å•æ—¶ï¼Œé‡åˆ°æµè§ˆå™¨å¥”æºƒæˆ–è€…è¯¯æ“ä½œå¯¼è‡´å¡«å†™å†…å®¹ä¸¢å¤±ï¼Œæ­¤åˆ»ç”¨æˆ·çš„å†…å¿ƒä¹Ÿåº”è¯¥æ˜¯å¥”æºƒçš„ã€‚è¯¯æ“ä½œè¿˜å¯ä»¥åŠ ä¸€ä¸ª beforeunload äº‹ä»¶ï¼Œåœ¨å…³é—­æµè§ˆå™¨æˆ–è·³å‡ºå½“å‰é¡µå‰æé†’ä¸€ä¸‹ç”¨æˆ·ã€‚é‚£æµè§ˆå™¨å´©æºƒå‘¢ï¼Œå°†æ•°æ®å˜æ›´å®žæ—¶ä¿å­˜åˆ°åŽå°ï¼Œè¿™æ ·ä¼¼ä¹Žå¼€é”€å¾ˆå¤§ï¼Œå®žæ—¶ä¿å­˜åˆ° localStorage æ˜¯ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼ŒçœŸå·§ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå¼€æºå®žçŽ°ï¼šsimsalabim/sisyphus æ€»ç»“æ–‡ä»¶ç¼“å­˜çŽ°åœ¨æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ²¡é”™ï¼Œè¯´çš„å°±æ˜¯ Service Worker çš„ CacheStorageã€‚ ä¸è¿‡å¤šäº†è§£ä¸€äº›è„‘æ´žå¤§å¼€çš„æƒ³æ³•ï¼Œæœ‰åˆ©äºŽæ‹“å±•è§£å†³é—®é¢˜çš„æ€è·¯ã€‚]]></content>
      <categories>
        <category>ç¼“å­˜</category>
      </categories>
      <tags>
        <tag>ç¼“å­˜</tag>
        <tag>localStorage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯å…¥é—¨å¸¸è§é€‚é…é—®é¢˜]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%85%A5%E9%97%A8%E5%B8%B8%E8%A7%81%E9%80%82%E9%85%8D%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[è¿™ä¸ªé¡¹ç›®æ”¶é›†ç§»åŠ¨ç«¯å¼€å‘æ‰€éœ€è¦çš„ä¸€äº›èµ„æºä¸Žå°æŠ€å·§ç§»åŠ¨ç«¯å¼€å‘åˆ†ä¸º4ç±» Nativeï¼ˆåŽŸç”Ÿ APPï¼‰ä½¿ç”¨ Java/Objective-C/Swift å¼€å‘ Webappåœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šå±•ç¤ºçš„ç½‘é¡µ Hybirdï¼ˆæ··åˆåº”ç”¨ï¼‰Native + Html å¾®ä¿¡å°ç¨‹åºhttps://www.zhihu.com/topic/20061410/hot æ¯”è¾ƒ å¼€å‘æˆæœ¬å¼€å‘Appæˆæœ¬æ¯”è¾ƒå¤§ï¼šandroid + ios+å‰ç«¯+åŽå°Webapp=å¾®ä¿¡å°ç¨‹åºï¼šå‰ç«¯ æ›´æ–°Nativeï¼šéœ€è¦æç¤ºç”¨æˆ·æ›´æ–°ä¸‹è½½æ–°ç‰ˆæœ¬Webapp=Hybird=å°ç¨‹åºï¼š ä¸éœ€è¦ç”¨æˆ·æ›´æ–°ä¸‹è½½æ–°ç‰ˆæœ¬ æ€§èƒ½ä½“éªŒNativeï¼šä½“éªŒæœ€ä½³ï¼Œé€Ÿåº¦å¿«ï¼ŒåŠŸèƒ½å¼ºå¤§Hybirdï¼šæ¬¡ä¹‹Webappï¼šæœ€å·® å®‰è£…æ–¹å¼Native=Hybirdï¼šä¸‹è½½å®‰è£…Webappï¼šæ— éœ€ä¸‹è½½ è·¨å¹³å°andriodå¹³å°ioså¹³å°Webappï¼šä¸éœ€è¦è€ƒè™‘å¹³å° ç§»åŠ¨ç«¯å’Œ PC çš„åŒºåˆ« å¼€å‘æµç¨‹ä¸€æ ·ï¼špsdç¨¿å­-&gt;åˆ‡å›¾-&gt;åˆ†æžåŠŸèƒ½-&gt;&gt;å†™html-&gt;å†™css-&gt;å†™js ç§»åŠ¨ç«¯vsPCç«¯ï¼Œç§»åŠ¨ç«¯çš„å¸ƒå±€æ›´ç®€å• 1.è§¦æ‘¸äº‹ä»¶touchstart, touchend, touchmove, touchcancel touchcancelï¼šç³»ç»Ÿå–æ¶ˆtouchäº‹ä»¶çš„æ—¶å€™è§¦å‘ï¼ˆä¸å¸¸ç”¨ï¼‰ touchstartç«‹å³å“åº” 123456node.addEventListener(&apos;touchstart&apos;, function()&#123; console.log(&apos;start touch&apos;)&#125;)node.addEventListener(&apos;touchend&apos;, function()&#123; console.log(&apos;&apos;)&#125;) JSæ²¡æœ‰æ»‘åŠ¨äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è§¦æ‘¸ç‚¹çš„åæ ‡æ¥åˆ¤æ–­æ»‘åŠ¨æ–¹å‘ã€‚ 2.ç§»åŠ¨ç«¯ 300ms å»¶æ—¶300ms å»¶æ—¶çš„åŽŸå›  å‡ºäºŽå¯¹æ‰‹æŒ‡è§¦æ‘¸æ»‘åŠ¨çš„åŒºåˆ†ï¼Œç§»åŠ¨ç«¯é¡µé¢å¯¹äºŽè§¦æ‘¸äº‹ä»¶ä¼šæœ‰ 300 æ¯«ç§’çš„å»¶è¿Ÿã€‚ 2007 å¹´åˆï¼Œè‹¹æžœå…¬å¸åœ¨å‘å¸ƒé¦–æ¬¾ iPhone å‰å¤•ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ â€”â€” å½“æ—¶çš„ç½‘ç«™éƒ½æ˜¯ä¸ºå¤§å±å¹•è®¾å¤‡æ‰€è®¾è®¡çš„ã€‚äºŽæ˜¯è‹¹æžœçš„å·¥ç¨‹å¸ˆä»¬åšäº†ä¸€äº›çº¦å®šï¼Œåº”å¯¹ iPhone è¿™ç§å°å±å¹•æµè§ˆæ¡Œé¢ç«¯ç«™ç‚¹çš„é—®é¢˜ã€‚ è¿™å½“ä¸­æœ€å‡ºåçš„ï¼Œå½“å±žåŒå‡»ç¼©æ”¾(double tap to zoom)ï¼Œæµè§ˆPCé¡µé¢æ—¶ï¼Œé»˜è®¤ç¼©å°æ˜¾ç¤ºï¼ˆ980pxçš„è§†çª—å®½åº¦ï¼‰ï¼Œç”¨æ‰‹æŒ‡åœ¨å±å¹•ä¸Šå¿«é€Ÿç‚¹å‡»ä¸¤æ¬¡ï¼ŒSafari æµè§ˆå™¨ä¼šå°†ç½‘é¡µç¼©æ”¾è‡³åŽŸå§‹æ¯”ä¾‹ã€‚ å‡å®šç”¨æˆ·åœ¨ iOS Safari é‡Œè¾¹ç‚¹å‡»äº†ä¸€ä¸ªé“¾æŽ¥ã€‚ç”±äºŽç”¨æˆ·å¯ä»¥è¿›è¡ŒåŒå‡»ç¼©æ”¾æˆ–è€…åŒå‡»æ»šåŠ¨çš„æ“ä½œï¼Œå½“ç”¨æˆ·ä¸€æ¬¡ç‚¹å‡»å±å¹•ä¹‹åŽï¼Œæµè§ˆå™¨å¹¶ä¸èƒ½ç«‹åˆ»åˆ¤æ–­ç”¨æˆ·æ˜¯ç¡®å®žè¦æ‰“å¼€è¿™ä¸ªé“¾æŽ¥ï¼Œè¿˜æ˜¯æƒ³è¦è¿›è¡ŒåŒå‡»æ“ä½œã€‚å› æ­¤ï¼ŒiOS Safari å°±ç­‰å¾… 300 æ¯«ç§’ï¼Œä»¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å†æ¬¡ç‚¹å‡»äº†å±å¹•ã€‚ é¿å…300mså»¶æ—¶çš„æ–¹æ³•æ–¹æ¡ˆä¸€ï¼šç¦æ­¢ç¼©æ”¾ï¼Œå°±æ— éœ€ç­‰å¾…300ms 12&lt;meta name=&quot;viewport&quot; content=&quot;user-scalable=no&quot;&gt; ç¦æ­¢ç”¨æˆ·ç¼©æ”¾&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1&quot;&gt; ç¦æ­¢æµè§ˆå™¨ç¼©æ”¾ æ–¹æ¡ˆäºŒï¼šæ›´æ”¹é»˜è®¤çš„è§†å£å®½åº¦ ç”¨ æ ‡ç­¾é…ç½®width=device-widthã€‚ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt;å°†è§†å£å¤§å°è®¾ä¸ºè®¾å¤‡æœ¬èº«çš„å°ºå¯¸ Chrome 32å¯¹åŒ…å« width=device-width æˆ–è€…ç½®ä¸ºæ¯” viewport å€¼æ›´å°çš„é¡µé¢ä¸Šç¦ç”¨åŒå‡»ç¼©æ”¾ã€‚æ²¡æœ‰åŒå‡»ç¼©æ”¾å°±æ²¡æœ‰ 300 æ¯«ç§’ç‚¹å‡»å»¶è¿Ÿã€‚ iOS 9.3 ä¸­ï¼šSafari é’ˆå¯¹ç§»åŠ¨ç‰ˆçš„ç½‘é¡µåŽ»æŽ‰äº†ç‚¹å‡»æ—¶çš„ 300ms å»¶è¿Ÿã€‚å¯¹äºŽç½‘é¡µå¼€å‘è€…æ¥è¯´ï¼Œä¸å†éœ€è¦å¼•å…¥ç±»ä¼¼ FastClick è¿™æ ·çš„ Hack äº†ã€‚åŒå‡»æ”¾å¤§çš„åŠŸèƒ½ä»ç„¶å¯ç”¨ï¼Œä½†æ˜¯å¿…é¡»ç‚¹å‡»é“¾æŽ¥ä¹‹å¤–çš„åœ°æ–¹æ‰æœ‰æ•ˆï¼ˆå¦åˆ™å°±ç›´æŽ¥è¿›å…¥é“¾æŽ¥äº†ï¼‰ æ–¹æ¡ˆä¸‰ï¼šCSS touch-action: manipulation; CSSå±žæ€§ touch-action ç”¨äºŽæŒ‡å®šæŸä¸ªç»™å®šçš„åŒºåŸŸæ˜¯å¦å…è®¸ç”¨æˆ·æ“ä½œï¼Œä»¥åŠå¦‚ä½•å“åº”ç”¨æˆ·æ“ä½œï¼ˆæ¯”å¦‚æµè§ˆå™¨è‡ªå¸¦çš„åˆ’åŠ¨ã€ç¼©æ”¾ç­‰ï¼‰ ç§»åŠ¨ç«¯300mså»¶è¿Ÿï¼Œå°±å¯ä»¥ä½¿ç”¨touch-action: manipulation;æ¥è§£å†³ã€‚ manipulation: æµè§ˆå™¨åªå…è®¸è¿›è¡Œæ»šåŠ¨å’ŒæŒç»­ç¼©æ”¾æ“ä½œï¼Œç¦ç”¨å…¶ä»–éžæ ‡å‡†æ‰‹åŠ¿ï¼Œä¾‹å¦‚åŒå‡»ä»¥è¿›è¡Œç¼©æ”¾ï¼Œä¹Ÿå°±æ²¡æœ‰300 æ¯«ç§’ç‚¹å‡»å»¶è¿Ÿå•¦ã€‚ æ–¹æ¡ˆå››ï¼šä½¿ç”¨fastclickåº“ FastClick æ˜¯ FT Labs ä¸“é—¨ä¸ºè§£å†³ç§»åŠ¨ç«¯æµè§ˆå™¨ 300 æ¯«ç§’ç‚¹å‡»å»¶è¿Ÿé—®é¢˜æ‰€å¼€å‘çš„ä¸€ä¸ªè½»é‡çº§çš„åº“ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒFastClick åœ¨æ£€æµ‹åˆ° touchend äº‹ä»¶çš„æ—¶å€™ï¼Œä¼šé€šè¿‡ DOM è‡ªå®šä¹‰äº‹ä»¶ç«‹å³è§¦å‘ä¸€ä¸ªæ¨¡æ‹Ÿ click äº‹ä»¶ï¼Œå¹¶æŠŠæµè§ˆå™¨åœ¨ 300 æ¯«ç§’ä¹‹åŽçœŸæ­£è§¦å‘çš„ click äº‹ä»¶é˜»æ­¢æŽ‰ã€‚ç”¨æ³•å¾ˆç®€å•ï¼š 123456789//å¼•å…¥fastclick.js&lt;script type=&apos;application/javascript&apos; src=&apos;/path/to/fastclick.js&apos;&gt;&lt;/script&gt;//åœ¨bodyé‡Œé¢å†™if (&apos;addEventListener&apos; in document) &#123; document.addEventListener(&apos;DOMContentLoaded&apos;, function() &#123; FastClick.attach(document.body); &#125;, false);&#125; 3.å¸¸è§æ‰‹åŠ¿ image ä½†åŽŸç”Ÿjsåªæœ‰touchstart, touchend, touchmoveäº‹ä»¶ï¼Œ hammerjs ä¸ºæˆ‘ä»¬å®žçŽ°äº†ä¸€ä¸ªæ‰‹åŠ¿åº“ 4.æ»šåŠ¨ä»¥å¾€æˆ‘ä»¬å¯ä»¥é€šè¿‡CSSçš„overflow:scrollæˆ–è€…overflow:autoå®žçŽ°æ»šåŠ¨ï¼Œä½†æ˜¯åœ¨ç§»åŠ¨ç«¯è¿™æ ·æ•ˆæžœä¸å¥½ã€‚å¯ä»¥ä½¿ç”¨iscroll 5.éœ€è¦è®¾ç½®viewportæ¥æŽ§åˆ¶å±å¹•å…¨å±æ˜¾ç¤ºï¼Œç¦æ­¢ç¼©æ”¾inital-scaleé¡µé¢åˆå§‹çš„æ”¾å¤§å€æ•°ï¼Œmaximum-scaleæœ€å¤§æ”¾å¤§å€æ•° user-scalable=no é¡µé¢ä¸å¯ä»¥æ”¾å¤§ç¼©å° 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, height=device-height, inital-scale=1.0, maximum-scale=1.0, user-scalable=no;&quot; /&gt; 6.é¡µé¢é€‚é…-åŠ¨æ€ rem ï¼ˆç§»åŠ¨ç«¯æ–¹æ¡ˆï¼Œä¸æ˜¯å“åº”å¼ï¼‰å“åº”å¼æ–¹æ¡ˆç›®çš„æ˜¯ä¸€ä»½ä»£ç è§£å†³æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘çš„é¡µé¢é€‚é…ã€‚ meta:vpç¦æ­¢ç¼©æ”¾&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, height=device-height, inital-scale=1.0, maximum-scale=1.0, user-scalable=no;&quot; /&gt; å°½é‡ä¸è¦å†™width/heightï¼Œè¯¥ç”¨max-width/max-height å¤šç”¨flexå¸ƒå±€ media query åŠ¨æ€ remæ–¹æ¡ˆè€ŒåŠ¨æ€ remæ˜¯åªé’ˆå¯¹ç§»åŠ¨ç«¯é¡µé¢çš„é€‚é…æ–¹æ³•ã€‚ä¾‹å¦‚æ‰‹æœºæ·˜å® åœ¨ç§»åŠ¨ç«¯å®½åº¦ä¸é€‚åˆå†ç”¨å›ºå®šå®½åº¦pxï¼Œæˆ‘ä»¬å¸Œæœ›æ•´ä½“ç­‰æ¯”ç¼©æ”¾ã€‚å¦‚æžœç”¨åª’ä½“æŸ¥è¯¢çš„å“åº”å¼ï¼Œé‚£ä¹ˆå¯¹äºŽå®½åº¦ä¸åŒçš„æ‰‹æœºï¼Œæ˜¾ç¤ºé¡µé¢å†…å®¹çš„å®½åº¦ä»ç„¶ä¸€æ ·ï¼Œå†…å®¹å±…ä¸­ï¼Œåªæ˜¯ä¸¤è¾¹ç•™ç™½å®½åº¦ä¸åŒã€‚ remæ˜¯CSS3æ–°å¢žçš„ä¸€ä¸ªç›¸å¯¹å•ä½ï¼ˆroot emï¼Œæ ¹emï¼‰ï¼Œç›¸å¯¹çš„åªæ˜¯HTMLæ ¹å…ƒç´ ï¼ˆ1rem=html font sizeï¼‰ã€‚é€šè¿‡å®ƒæ—¢å¯ä»¥åšåˆ°åªä¿®æ”¹æ ¹å…ƒç´ å°±æˆæ¯”ä¾‹åœ°è°ƒæ•´æ‰€æœ‰å­—ä½“å¤§å°ï¼Œåˆå¯ä»¥é¿å…å­—ä½“å¤§å°é€å±‚å¤åˆçš„è¿žé”ååº”ï¼ˆemä¹Ÿæ˜¯ç›¸å¯¹é•¿åº¦å•ä½ï¼Œä½†ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°ï¼‰ã€‚ remæ˜¯ç›¸å¯¹äºŽæ ¹èŠ‚ç‚¹htmlçš„font-sizeçš„å€æ•°ï¼Œæµè§ˆå™¨å¯¹font-sizeå€¼æœ‰é™åˆ¶ï¼Œä¸€èˆ¬font-sizeæœ€å°å€¼é»˜è®¤ä¸º12ã€‚ åŠ¨æ€ remæ–¹æ¡ˆ1 meta:vpç¦æ­¢ç¼©æ”¾&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, height=device-height, inital-scale=1.0, maximum-scale=1.0, user-scalable=no;&quot; /&gt; document.documentElement.clientWidthåŠ¨æ€èŽ·å–é¡µé¢å®½åº¦ èµ‹ç»™htmlçš„font-sizeï¼Œå³æ‹¼æŽ¥æˆhtml{font-size:&#39;+document.documentElement.clientWidth +&#39;px;} æ‰€æœ‰éœ€è¦è·Ÿè§†è§‰ç¨¿ä¸€è‡´çš„åœ°æ–¹ï¼ŒæŒ‰æ¯”ä¾‹ç®—å‡ºremå€¼ç¤ºä¾‹1 åŠ¨æ€remæ–¹æ¡ˆ2 meta:vpç¦æ­¢ç¼©æ”¾&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, height=device-height, inital-scale=1.0, maximum-scale=1.0, user-scalable=no;&quot; /&gt; document.documentElement.clientWidthåŠ¨æ€èŽ·å–é¡µé¢å®½åº¦width èµ‹ç»™htmlçš„font-sizeï¼Œå³æ‹¼æŽ¥æˆhtml{font-size:&#39;+ width/10 +&#39;px;} 10rem==é¡µé¢å®½åº¦width æ‰€æœ‰å•ä½éƒ½ç”¨rem == æ‰€æœ‰é•¿åº¦éƒ½ä»¥é¡µé¢çš„å®½åº¦ä¸ºåŸºå‡†ç¤ºä¾‹2 åŠ¨æ€remæ–¹æ¡ˆ3 + retinaä¸‹ï¼Œborder: 1pxé—®é¢˜ æ™®é€šå±å¹•CSS 1px == è®¾å¤‡çš„1px åœ¨RetinaCSS 1px == è®¾å¤‡çš„2pxè®¾è®¡å¸ˆè¦æ±‚ border-width == è®¾å¤‡çš„1pxæ‰€ä»¥æˆ‘ä»¬è®©border-width ï¼š0.5px== è®¾å¤‡çš„1pxï¼ˆå…¼å®¹æ€§æœ‰é—®é¢˜ï¼Œä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒ0.5pxï¼‰ è§£å†³æ–¹æ¡ˆï¼š 1.èŽ·å–è®¾å¤‡ åƒç´ æ¯”window.devicePixelRatio 2.var sacle = 1/window.devicePixelRatio; 3.è®©remå˜ä¸ºrem*åƒç´ æ¯” 4.border-top:1px solid red; ç¤ºä¾‹3 ç§»åŠ¨ç«¯é«˜æ¸…ã€å¤šå±é€‚é…æ–¹æ¡ˆ-é˜¿é‡Œ ç§»åŠ¨webé€‚é…-rem-è…¾è®¯ åŠ¨æ€remæ–¹æ¡ˆå¯ä»¥è¢«css3ä¸­ç›¸å¯¹é•¿åº¦å•ä½vw å–ä»£ æŸ¥çœ‹æµè§ˆå™¨å¯¹vwçš„æ”¯æŒæƒ…å†µ vw ç›¸å¯¹äºŽè§†å£çš„å®½åº¦ã€‚è§†å£è¢«å‡åˆ†ä¸º100å•ä½çš„vw(å³æµè§ˆå™¨å¯è§†åŒº) 100vw = å¯è§†åŒºå®½åº¦ vh ç›¸å¯¹äºŽè§†å£çš„é«˜åº¦ã€‚è§†å£è¢«å‡åˆ†ä¸º100å•ä½çš„vh(å³æµè§ˆå™¨å¯è§†åŒº) 100vh = å¯è§†åŒºé«˜åº¦ 7.å¼€å‘è°ƒè¯•PCç«¯ï¼šé‡‡ç”¨æœ¬åœ°ç¼–å†™ï¼Œæµè§ˆå™¨æŸ¥çœ‹ï¼Œdev-toolsè°ƒè¯• ç§»åŠ¨ç«¯ï¼šnpm install browser-sync ç”¨äºŽåœ¨æ‰‹æœºç«¯éªŒè¯å’Œè°ƒè¯•ã€‚æ‰‹æœºé€šè¿‡è¿žæŽ¥å±€åŸŸç½‘åœ°å€ä¹Ÿå¯ä»¥è®¿é—®é¡µé¢ã€‚ 12345678$ browser-sync[Browsersync] Access URLs: --------------------------------------- Local: http://localhost:3000 External: http://192.168.10.101:3000 --------------------------------------- UI: http://localhost:3001 (è°ƒè¯•åœ°å€) UI External: http://192.168.10.101:3001 8.ç§»åŠ¨ç«¯è§£å†³æ–¹æ³•æ”¶é›†https://github.com/jtyjty99999/mobileTech/blob/master/README.md image place holderå ä½å›¾ç‰‡å®šåˆ¶åŒ–]]></content>
      <categories>
        <category>ç§»åŠ¨ç«¯</category>
        <category>é€‚é…</category>
      </categories>
      <tags>
        <tag>ç§»åŠ¨ç«¯</tag>
        <tag>é€‚é…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯remé€‚é…]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E7%A7%BB%E5%8A%A8%E7%AB%AFrem%E9%80%82%E9%85%8D%2F</url>
    <content type="text"><![CDATA[å…³äºŽç§»åŠ¨ç«¯ rem å¸ƒå±€çš„ä¸€äº›æ€»ç»“å…ˆä¸Šä¸€æ®µä»£ç åŽŸç†ä¸‹è¾¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155!function(win, lib) &#123; var timer, doc = win.document, docElem = doc.documentElement, vpMeta = doc.querySelector('meta[name="viewport"]'), flexMeta = doc.querySelector('meta[name="flexible"]'), dpr = 0, scale = 0, flexible = lib.flexible || (lib.flexible = &#123;&#125;); // è®¾ç½®äº† viewport meta if (vpMeta) &#123; console.warn("å°†æ ¹æ®å·²æœ‰çš„metaæ ‡ç­¾æ¥è®¾ç½®ç¼©æ”¾æ¯”ä¾‹"); var initial = vpMeta.getAttribute("content").match(/initial\-scale=([\d\.]+)/); if (initial) &#123; scale = parseFloat(initial[1]); // å·²è®¾ç½®çš„ initialScale dpr = parseInt(1 / scale); // è®¾å¤‡åƒç´ æ¯” devicePixelRatio &#125; &#125; // è®¾ç½®äº† flexible Meta else if (flexMeta) &#123; var flexMetaContent = flexMeta.getAttribute("content"); if (flexMetaContent) &#123; var initial = flexMetaContent.match(/initial\-dpr=([\d\.]+)/), maximum = flexMetaContent.match(/maximum\-dpr=([\d\.]+)/); if (initial) &#123; dpr = parseFloat(initial[1]); scale = parseFloat((1 / dpr).toFixed(2)); &#125; if (maximum) &#123; dpr = parseFloat(maximum[1]); scale = parseFloat((1 / dpr).toFixed(2)); &#125; &#125; &#125; // viewport æˆ– flexible // meta å‡æœªè®¾ç½® if (!dpr &amp;&amp; !scale) &#123; // QST // è¿™é‡Œçš„ ç¬¬ä¸€å¥æœ‰ä»€ä¹ˆç”¨ ? // å’Œ Android æœ‰æ¯›å…³ç³» ? var u = (win.navigator.appVersion.match(/android/gi), win.navigator.appVersion.match(/iphone/gi)), _dpr = win.devicePixelRatio; // æ‰€ä»¥è¿™é‡Œä¼¼ä¹Žæ˜¯å°†æ‰€æœ‰ Android è®¾å¤‡éƒ½è®¾ç½®ä¸º 1 äº† dpr = u ? ( (_dpr &gt;= 3 &amp;&amp; (!dpr || dpr &gt;= 3)) ? 3 : (_dpr &gt;= 2 &amp;&amp; (!dpr || dpr &gt;= 2)) ? 2 : 1 ) : 1; scale = 1 / dpr; &#125; docElem.setAttribute("data-dpr", dpr); // æ’å…¥ viewport meta if (!vpMeta) &#123; vpMeta = doc.createElement("meta"); vpMeta.setAttribute("name", "viewport"); vpMeta.setAttribute("content", "initial-scale=" + scale + ", maximum-scale=" + scale + ", minimum-scale=" + scale + ", user-scalable=no"); if (docElem.firstElementChild) &#123; docElem.firstElementChild.appendChild(vpMeta) &#125; else &#123; var div = doc.createElement("div"); div.appendChild(vpMeta); doc.write(div.innerHTML); &#125; &#125; function setFontSize() &#123; var winWidth = docElem.getBoundingClientRect().width; if (winWidth / dpr &gt; 540) &#123; (winWidth = 540 * dpr); &#125; // æ ¹èŠ‚ç‚¹ fontSize æ ¹æ®å®½åº¦å†³å®š var baseSize = winWidth / 10; docElem.style.fontSize = baseSize + "px"; flexible.rem = win.rem = baseSize; &#125; // è°ƒæ•´çª—å£æ—¶é‡ç½® win.addEventListener("resize", function() &#123; clearTimeout(timer); timer = setTimeout(setFontSize, 300); &#125;, false); // è¿™ä¸€æ®µæ˜¯æˆ‘è‡ªå·±åŠ çš„ // orientationchange æ—¶ä¹Ÿéœ€è¦é‡ç®—ä¸‹å§ win.addEventListener("orientationchange", function() &#123; clearTimeout(timer); timer = setTimeout(setFontSize, 300); &#125;, false); // pageshow // keyword: å€’é€€ ç¼“å­˜ç›¸å…³ win.addEventListener("pageshow", function(e) &#123; if (e.persisted) &#123; clearTimeout(timer); timer = setTimeout(setFontSize, 300); &#125; &#125;, false); // è®¾ç½®åŸºå‡†å­—ä½“ if ("complete" === doc.readyState) &#123; doc.body.style.fontSize = 12 * dpr + "px"; &#125; else &#123; doc.addEventListener("DOMContentLoaded", function() &#123; doc.body.style.fontSize = 12 * dpr + "px"; &#125;, false); &#125; setFontSize(); flexible.dpr = win.dpr = dpr; flexible.refreshRem = setFontSize; flexible.rem2px = function(d) &#123; var c = parseFloat(d) * this.rem; if ("string" == typeof d &amp;&amp; d.match(/rem$/)) &#123; c += "px"; &#125; return c; &#125;; flexible.px2rem = function(d) &#123; var c = parseFloat(d) / this.rem; if ("string" == typeof d &amp;&amp; d.match(/px$/)) &#123; c += "rem"; &#125; return c; &#125;&#125;(window, window.lib || (window.lib = &#123;&#125;)); è§†å£åœ¨å‰ä¸€æ®µæ—¶é—´ï¼Œæˆ‘æ›¾ç»å†™è¿‡ä¸€ç¯‡å…³äºŽviewportçš„æ–‡ç« ã€‚æœ€è¿‘ç”±äºŽåœ¨æŽ¥è§¦ç§»åŠ¨ç«¯å¼€å‘ï¼Œå¯¹viewportæœ‰äº†æ–°çš„ç†è§£ã€‚äºŽæ˜¯ï¼Œæ‰“ç®—é‡æ–°å†™ä¸€ç¯‡æ–‡ç« ï¼Œä»‹ç»ç§»åŠ¨ç«¯è§†å£çš„ç›¸å…³æ¦‚å¿µã€‚ å…³äºŽè¿™ç¯‡æ–‡ç« è¯´åˆ°çš„æ‰€æœ‰çŸ¥è¯†ï¼Œæœ¬è´¨ä¸Šç¦»ä¸å¼€ä»¥ä¸‹ä»£ç  12345&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no&quot; /&gt;@media all and (max-width: 320px) &#123; // do something&#125; äº†è§£è¿‡ç§»åŠ¨ç«¯å¼€å‘çš„æœ‹å‹ï¼Œå…¶å®žå¯¹ä»¥ä¸Šçš„ä»£ç å°±ä¸ä¼šé™Œç”Ÿã€‚ä¸Šé¢çš„ä»£ç ï¼Œä¸»è¦æ¶‰åŠåˆ°metaè§†å£æ ‡ç­¾ä¸Žåª’ä½“æŸ¥è¯¢ã€‚å•å•ä»¥ä¸Šç®€çŸ­çš„ä»£ç å°±éœ€è¦æ˜Žç™½ï¼š åƒç´ (pixel) è§†å£(viewport) åˆ†è¾¨çŽ‡(resolution)ä¸Žè®¾å¤‡åƒç´ æ¯”(device-pixel-ratio) metaè§†å£æ ‡ç­¾ åª’ä½“æŸ¥è¯¢(media query) JavaScriptç›¸å…³çš„å±žæ€§å’Œæ–¹æ³• å¦‚ä½•å®žçŽ°ç§»åŠ¨ç«¯å“åº”å¼é€‚é…çš„é—®é¢˜ é‚£å°±è¿›å…¥ä¸»é¢˜å§ï¼šï¼‰ åƒç´ åœ¨ç§»åŠ¨ç«¯ä¸Šï¼Œæ‰€è°“çš„åƒç´ åˆ†ä¸ºä¸¤ç§ CSSåƒç´ ï¼šCSSåƒç´ å°±æ˜¯æˆ‘ä»¬åœ¨ç¼–å†™CSSä»£ç æ—¶çš„åƒç´ ã€‚ è®¾å¤‡åƒç´ ï¼šè®¾å¤‡å±å¹•çš„ç‰©ç†åƒç´ ï¼Œä»»ä½•è®¾å¤‡çš„ç‰©ç†åƒç´ çš„æ•°é‡éƒ½æ˜¯å›ºå®šçš„ã€‚ 1ä¸ªCSSåƒç´ ç­‰äºŽå¤šå°‘ä¸ªè®¾å¤‡åƒç´ å–å†³äºŽå±å¹•ç‰¹æ€§(æ˜¯å¦æ˜¯é«˜æ¸…å±)å’Œç”¨æˆ·ç¼©æ”¾çš„æ¯”ä¾‹ã€‚å½“ç”¨æˆ·å°†å±å¹•ä»Ž100%æ”¾å¤§åˆ°200%æ—¶ï¼Œ1ä¸ªCSSåƒç´ ç­‰äºŽ2ä¸ªè®¾å¤‡åƒç´ ï¼Œåä¹‹ç›¸åï¼›å½“å±å¹•ä¸ºRetinaé«˜æ¸…å±(å¦‚iPhone6ï¼Œdpr=2)æ—¶ï¼Œ1ä¸ªCSSåƒç´ å°±ç­‰äºŽ2ä¸ªè®¾å¤‡åƒç´ ï¼Œåä¹‹ç›¸åã€‚ éœ€è¦æ˜Žç™½ä¸€ç‚¹çš„æ˜¯ï¼Œ2ä¸ªè®¾å¤‡åƒç´ å¹¶ä¸æ˜¯è¯´å®ƒæ‰©å¤§äº†ä¸¤å€ï¼Œè€Œæ˜¯è¯´åœ¨é¡µé¢ä¸Šä»ç„¶æ˜¾ç¤ºçš„æ˜¯1px(1ä¸ªCSSåƒç´ )ï¼Œä½†æ˜¯è¿™1pxæ˜¯ç”±2ä¸ªè®¾å¤‡åƒç´ ç»„æˆã€‚åƒç´ ç‚¹å˜å¤šäº†ï¼Œå› æ­¤å›¾åƒä¼šå˜å¾—æ›´åŠ æ¸…æ™°ã€‚ä¸‹é¢è¿™å¹…å›¾å¤§è‡´è¯´æ˜Žäº†CSSåƒç´ å’Œè®¾å¤‡åƒç´ çš„åŒºåˆ«ã€‚ è§†å£åœ¨ç§»åŠ¨ç«¯ä¸Šï¼Œå­˜åœ¨ä¸‰ç§ä¸åŒçš„è§†å£ã€‚ å¸ƒå±€è§†å£ï¼šåœ¨PCç«¯ä¸Šï¼Œå¸ƒå±€è§†å£ç­‰äºŽæµè§ˆå™¨çª—å£çš„å®½åº¦ã€‚è€Œåœ¨ç§»åŠ¨ç«¯ä¸Šï¼Œç”±äºŽè¦ä½¿ä¸ºPCç«¯æµè§ˆå™¨è®¾è®¡çš„ç½‘ç«™èƒ½å¤Ÿå®Œå…¨æ˜¾ç¤ºåœ¨ç§»åŠ¨ç«¯çš„å°å±å¹•é‡Œï¼Œæ­¤æ—¶çš„å¸ƒå±€è§†å£ä¼šè¿œå¤§äºŽç§»åŠ¨è®¾å¤‡çš„å±å¹•ã€‚åœ¨ç§»åŠ¨ç«¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¸ƒå±€è§†å£ç­‰äºŽæµè§ˆå™¨çª—å£å®½åº¦ã€‚å¸ƒå±€è§†å£é™åˆ¶äº†CSSçš„å¸ƒå±€ã€‚åœ¨JavaScirptä¸ŠèŽ·å–å¸ƒå±€è§†å£çš„å®½åº¦å¯ä»¥é€šè¿‡document.documentElement.clientWidth | document.body.clientWidthå¾—åˆ°ã€‚ è§†è§‰è§†å£ï¼šè§†è§‰è§†å£æ˜¯ç”¨æˆ·æ­£åœ¨çœ‹åˆ°çš„åŒºåŸŸã€‚ç”¨æˆ·å¯ä»¥ç¼©æ”¾æ¥æ“ä½œè§†è§‰è§†å£ï¼Œè€Œä¸å½±å“è§†è§‰è§†å£çš„å®½åº¦ã€‚è§†è§‰è§†å£å†³å®šäº†ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆã€‚åœ¨JavaScriptä¸ŠèŽ·å–è§†è§‰è§†å£çš„å®½åº¦å¯ä»¥é€šè¿‡`window.innerWidthå¾—åˆ°ã€‚ åœ¨PCç«¯ä¸Šï¼Œè§†è§‰è§†å£ç­‰äºŽå¸ƒå±€è§†å£çš„å®½åº¦ï¼Œæ— è®ºç”¨æˆ·æ˜¯æ”¾å¤§å±å¹•è¿˜æ˜¯ç¼©å°å±å¹•ï¼Œè¿™ä¸¤ä¸ªè§†å£çš„å®½åº¦ä»ç„¶ç›¸ç­‰ã€‚ä½†æ˜¯ï¼Œåœ¨ç§»åŠ¨ç«¯ä¸Šï¼Œå¹¶éžå¦‚æ­¤ã€‚ç¼©æ”¾å±å¹•çš„è¿‡ç¨‹å®žè´¨ä¸Šå°±æ˜¯CSSåƒç´ ç¼©æ”¾çš„è¿‡ç¨‹ã€‚å½“ç”¨æˆ·å°†å±å¹•æ”¾åˆ°åˆ°ä¸¤å€æ—¶ï¼Œè§†è§‰è§†å£å˜å°äº†(å› ä¸ºè§†è§‰è§†å£ä¸­CSSåƒç´ å˜å°‘äº†)ï¼Œè€Œæ¯å•ä½çš„CSSåƒç´ å´å˜å¤§äº†ï¼Œå› æ­¤1px(1ä¸ªCSSåƒç´ )ç­‰äºŽ2ä¸ªè®¾å¤‡åƒç´ ã€‚åŒç†ï¼Œå½“ä¸ºiPhone6(dpr=2)æ—¶ï¼Œè§†è§‰è§†å£ä¸­CSSåƒç´ å˜å°‘äº†ï¼Œä½†æ˜¯1pxç­‰äºŽ2ä¸ªè®¾å¤‡åƒç´ ã€‚å½“ç”¨æˆ·ç¼©å°å±å¹•æ—¶ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚ç¼©æ”¾çš„è¿‡ç¨‹å¹¶ä¸ä¼šå½±å“å¸ƒå±€è§†å£çš„å¤§å°ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œé«˜æ¸…å±(dpr&gt;=2)æˆ–å±å¹•æ”¾å¤§æ—¶ï¼Œè§†è§‰è§†å£å˜å°(CSSåƒç´ å˜å°‘)ï¼Œæ¯å•ä½çš„CSSåƒç´ ç­‰äºŽæ›´å¤šçš„è®¾å¤‡åƒç´ ï¼›éžé«˜æ¸…å±(dpr&lt;2)æˆ–å±å¹•ç¼©å°æ—¶ï¼Œè§†è§‰è§†å£å˜å¤§(CSSåƒç´ å˜å¤š)ï¼Œæ¯å•ä½çš„CSSåƒç´ ç­‰äºŽæ›´å°‘çš„è®¾å¤‡åƒç´ ã€‚ä½†æ˜¯æ— è®ºæ”¾å¤§æˆ–ç¼©å°å±å¹•ï¼Œå¸ƒå±€è§†å£çš„å®½åº¦ä»ç„¶ä¿æŒä¸å˜ã€‚ ç†æƒ³è§†å£ï¼šç”±äºŽé»˜è®¤æƒ…å†µä¸‹å¸ƒå±€è§†å£ç­‰äºŽæµè§ˆå™¨çª—å£å®½åº¦ï¼Œå› æ­¤åœ¨ç§»åŠ¨ç«¯ä¸Šéœ€è¦é€šè¿‡æ”¾å¤§æˆ–ç¼©å°è§†è§‰è§†å£æ¥æŸ¥çœ‹é¡µé¢å†…å®¹ï¼Œè¿™å½“ç„¶ä½“éªŒç³Ÿç³•å•Šï¼å› æ­¤åœ¨ç§»åŠ¨ç«¯å¼•å…¥äº†ç†æƒ³è§†å£çš„æ¦‚å¿µã€‚ç†æƒ³è§†å£çš„å‡ºçŽ°å¿…é¡»éœ€è¦è®¾ç½®metaè§†å£æ ‡ç­¾ï¼Œæ­¤æ—¶å¸ƒå±€è§†å£ç­‰äºŽç†æƒ³è§†å£çš„å®½åº¦ã€‚å¸¸è§çš„ï¼ŒiPhone6çš„ç†æƒ³è§†å£ä¸º375px 667pxï¼ŒiPhon6 plusçš„ç†æƒ³è§†å£ä¸º414px 736pxã€‚åœ¨JavaScriptä¸ŠèŽ·å–ç†æƒ³è§†å£çš„å®½åº¦window.screen.widthå¾—åˆ°ã€‚ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt; å½“è®¾ç½®äº†metaè§†å£æ ‡ç­¾ä¹‹åŽï¼ŒiPhone6çš„å¸ƒå±€è§†å£å®½åº¦å°†ç­‰äºŽ375pxï¼ŒiPhone6pluså¸ƒå±€è§†å£çš„å®½åº¦ç­‰äºŽ414pxã€‚å…¶ä»–ç§»åŠ¨è®¾å¤‡ç›¸ä¼¼ã€‚ ç†æƒ³è§†å£ä¼šéšç€å±å¹•çš„æ—‹è½¬è€Œæ”¹å˜ã€‚å½“iPhone6ä¸ºè‚–åƒæ¨¡å¼æ—¶(å³ç«–å±)ï¼Œæ­¤æ—¶ç†æƒ³è§†å£ä¸º375px 667pxï¼›ä½†ä¸ºæ¨ªå±æ¨¡å¼æ—¶ï¼Œæ­¤æ—¶ç†æƒ³è§†å£ä¸º667px 375pxã€‚ åˆ†è¾¨çŽ‡ä¸Žè®¾å¤‡åƒç´ æ¯”åˆ†è¾¨çŽ‡æ˜¯æŒ‡æ¯è‹±å¯¸å†…ç‚¹çš„ä¸ªæ•°ï¼Œå•ä½æ˜¯dpiæˆ–è€…dppxã€‚è®¾å¤‡åƒç´ æ¯”æ˜¯æŒ‡è®¾å¤‡åƒç´ ä¸Žç†æƒ³è§†å£å®½åº¦çš„æ¯”å€¼ï¼Œæ²¡æœ‰å•ä½ã€‚ åˆ†è¾¨çŽ‡åœ¨CSSä¸Šå¯ä»¥é€šè¿‡resolutionå±žæ€§è®¾ç½®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä¼šä½¿ç”¨dpiä½œä¸ºåˆ†è¾¨çŽ‡çš„å•ä½ï¼Œå› ä¸ºdppxå¹¶éžæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚ è€Œè®¾å¤‡åƒç´ æ¯”åœ¨CSSä¸Šå¯ä»¥é€šè¿‡device-pixel-ratioå±žæ€§è®¾ç½®ï¼Œè€Œåœ¨JavaScriptä¸Šå¯ä»¥é€šè¿‡window.devicePixelRatioå±žæ€§èŽ·å–ã€‚ åŒæ—¶ï¼Œ1dpr=96dpiã€‚ä¸¾ä¸ªä¾‹å­ã€‚åœ¨iPhon6ä¸‹ï¼Œç†æƒ³è§†å£å®½åº¦ä¸º375pxï¼Œè€Œè®¾å¤‡åƒç´ ä¸º750pxï¼Œå› æ­¤æ­¤æ—¶è®¾å¤‡åƒç´ æ¯”ä¸º2ï¼Œåˆ†è¾¨çŽ‡ä¸º192dpiã€‚å› æ­¤å¦‚æžœä¸ºiPhon6ä»¥ä¸‹çš„è®¾å¤‡å†™æŸä¸ªç‰¹å®šæ ·å¼ï¼Œå¯ä»¥è¿™æ ·å†™ 123456789101112// æ³¨æ„ï¼Œdevice-pixel-ratioéœ€è¦å¸¦ä¸Š-webkit-å‰ç¼€ï¼Œä¿è¯æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ã€‚@media all and (max-width: 375px) and (-webkit-max-device-pixel-ratio: 2) &#123; body &#123; background-color: red; &#125;&#125;æˆ–è€…@media all and (max-width: 375px) and (max-resolution: 192dpi) &#123; body &#123; background-color: red; &#125;&#125; metaè§†å£æ ‡ç­¾metaè§†å£æ ‡ç­¾æ˜¯æ˜¯è®¾ç½®ç†æƒ³è§†å£çš„é‡è¦å…ƒç´ ï¼Œä¸»è¦ç”¨äºŽå°†å¸ƒå±€è§†å£çš„å°ºå¯¸å’Œç†æƒ³è§†å£çš„å°ºå¯¸ç›¸åŒ¹é…ã€‚metaè§†å£æ ‡ç­¾å­˜åœ¨5ä¸ªæŒ‡ä»¤ widthï¼šè®¾ç½®å¸ƒå±€è§†å£çš„å®½åº¦ï¼Œä¸€èˆ¬è®¾ä¸ºdevice-widthã€‚ initial-scaleï¼šåˆå§‹ç¼©æ”¾æ¯”ä¾‹ã€‚1å³100%ï¼Œ2å³200%ï¼Œä»¥æ­¤ç±»æŽ¨ maximum=scaleï¼šæœ€å¤§ç¼©æ”¾æ¯”ä¾‹ã€‚ minimum-scaleï¼šæœ€å°ç¼©æ”¾æ¯”ä¾‹ã€‚ user-scalableï¼šæ˜¯å¦é™æ­¢ç”¨æˆ·è¿›è¡Œç¼©æ”¾ï¼Œé»˜è®¤ä¸ºnoã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¼©æ”¾æ˜¯æ ¹æ®ç†æƒ³è§†å£è¿›è¡Œè®¡ç®—çš„ã€‚ç¼©æ”¾ç¨‹åº¦ä¸Žè§†è§‰è§†å£çš„å®½åº¦æ˜¯é€†ç›¸å…³çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ å°†å±å¹•æ”¾åˆ°åˆ°2å€æ—¶ï¼Œè§†è§‰è§†å£ä¸ºç†æƒ³è§†å£çš„ä¸€åŠï¼Œæ­¤æ—¶æ¯å•ä½çš„CSSåƒç´ ç­‰äºŽ2ä¸ªè®¾å¤‡åƒç´ ã€‚ç¼©å°æ—¶åˆ™ç›¸åã€‚ å“åº”å¼é€‚é…é—®é¢˜ç†è§£äº†ä¸€äº›åŸºæœ¬æ¦‚å¿µä¹‹åŽï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å®žçŽ°å“åº”å¼é€‚é…ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆä¼šæ ¹æ®è®¾è®¡å¸ˆç»™çš„è®¾è®¡ç¨¿è¿›è¡Œå¼€å‘ã€‚è€Œè®¾è®¡ç¨¿ä¸€èˆ¬æ˜¯æ ¹æ®iPhon6æ‰‹æœºè¿›è¡Œé¡µé¢çš„è®¾è®¡çš„ã€‚æˆ‘ä»¬çŸ¥é“iPhone6çš„ç†æƒ³è§†å£å®½åº¦ä¸º375pxï¼ŒåŒæ—¶iPhone6çš„è®¾å¤‡åƒç´ æ¯”ä¸º2ï¼Œè®¾å¤‡åƒç´ ä¸º750pxã€‚æˆ‘ä»¬éœ€è¦åœ¨åªæœ‰ä¸€ä»½è®¾è®¡ç¨¿çš„æƒ…å†µä¸‹å†™å‡ºé€‚åº”å„ç§å±å¹•ä¸ä¸€çš„ç»ˆç«¯è®¾å¤‡ï¼Œå› æ­¤éœ€è¦ä¸€äº›ç§»åŠ¨ç«¯å“åº”å¼é€‚é…çš„æ–¹æ¡ˆã€‚æ­¤æ—¶éœ€è¦ç”¨åˆ°çš„ä¸€ä¸ªå•ä½æ˜¯REMã€‚ç®€å•çš„è¯´ï¼ŒREMä¼šæ ¹æ®HTMLå…ƒç´ çš„font-sizeè¿›è¡Œè®¾ç½®ã€‚å½“HTMLå…ƒç´ çš„font-size: 16pxæ—¶ï¼Œ1rem = 16px, 1.5rem = 24px ä¸ªäººæ€»ç»“å‡ºäº†ä¸¤å¥—å“åº”å¼é€‚é…çš„æ–¹æ¡ˆ(å‰ææ˜¯è®¾ç½®metaè§†å£æ ‡ç­¾)ã€‚ä¸¤å¥—æ–¹æ¡ˆç”±ä¸€ä¸ªå…±åŒç‚¹ï¼šç»™å®šä¸€ä¸ªåŸºå‡†å€¼ã€‚ å‡å¦‚çŽ°åœ¨æ‹¿åˆ°çš„è®¾è®¡ç¨¿æ˜¯æ ¹æ®iPhone6è¿›è¡Œè®¾è®¡çš„ã€‚ æ–¹æ¡ˆä¸€æ–¹æ¡ˆä¸€æ˜¯è®¾è®¡ç¨¿ç»™ä»€ä¹ˆå°ºå¯¸ï¼Œæˆ‘ä»¬å°±å°†å…¶ç¼©å°100å€ï¼Œæœ€åŽæ¢ç®—æˆremå•ä½ã€‚æ¯”å¦‚ï¼Œè®¾è®¡ç¨¿ä¸ŠæŸä¸ªtitleçš„font-sizeä¸º32pxï¼Œæ­¤æ—¶å†™CSSæ ·å¼æ—¶å°±ç›´æŽ¥ç¼©å°100å€ï¼Œå³0.32remã€‚ ç”±äºŽremæ˜¯æ ¹æ®æ ¹å…ƒç´ è¿›è¡Œè®¾ç½®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾ç½®æ ¹å…ƒç´ çš„font-sizeã€‚ ç»™HTMLè®¾ç½®font-sizeçš„åŸºæœ¬æ€è·¯ï¼š é€šè¿‡window.screen.widthèŽ·å–ä¸åŒç§»åŠ¨è®¾å¤‡çš„ç†æƒ³è§†å£å®½åº¦ã€‚ è§„å®šåŸºå‡†å€¼ä¸º750px(æ­¤å€¼ä¸ºiPhon6çš„è®¾å¤‡åƒç´ )ã€‚ (1) / (2) * 100å³å¾—åˆ°HTMLå…ƒç´ çš„font-sizeã€‚(ä¹˜äºŽ100æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨å‰é¢å°†å­—ä½“ç¼©å°äº†100å€ï¼Œæ­¤æ—¶è¦ä¹˜å›žæ¥) æ¢ç®—æˆå…¬å¼å³ï¼šè®¾è®¡ç¨¿å°ºå¯¸ / 100 * (ä¸åŒè®¾å¤‡çš„ç†æƒ³è§†å£å®½åº¦ / åŸºå‡†å€¼ * 100) ä¸¾ä¸ªä¾‹å­ã€‚ 1234// æ ¹æ®ä¸åŒè®¾å¤‡çš„ç†æƒ³è§†å£å®½åº¦åŠ¨æ€è®¾ç½®æ ¹å…ƒç´ çš„`font-size`ã€‚let idealViewWidth = window.screen.width;const BASICVALUE = 750;document.documentElement.style.fontSize = (idealViewWidth / BASICVALUE) * 100 + &apos;px&apos;; å› æ­¤ï¼Œåœ¨ä¸åŒè®¾å¤‡ä¸‹çš„HTMLå…ƒç´ çš„font-sizeå¤§å°å’Œå®žé™…åƒç´ å¦‚ä¸‹ 12345678iPhone5 : (320 / 750) * 100 = 42.667pxiPhone6 : (375 / 750) * 100 = 50pxiPhone6+: (414 / 750) * 100 = 55.2pxå‡å¦‚è®¾è®¡ç¨¿ä¸Šæ ‡æ³¨.titleç±»ä¸Šçš„å­—ä½“ä¸º32pxï¼Œæ­¤æ—¶æœ‰iPhone5ä¸Šçš„æŸå­—ä½“: 42.667 * 0.32rem = 13.653pxiPhone6ä¸Šçš„æŸå­—ä½“ï¼š 50 * 0.32rem = 16pxiPhone6+ä¸Šçš„æŸå­—ä½“: 55.2 * 0.32rem = 17.664px å¯ä»¥çœ‹å‡ºï¼Œåœ¨ä¸åŒè®¾å¤‡ä¸‹ï¼ŒåŒä¸€å­—å·çš„å­—ä½“ä½¿ç”¨remå•ä½å¯ä»¥å®žçŽ°ä¸åŒè®¾å¤‡çš„å“åº”å¼é€‚é…ã€‚ä¸å•å•åœ¨å­—ä½“ä¸Šå¯ä»¥ä½¿ç”¨ï¼Œåœ¨ç§»åŠ¨ç«¯ä¸Šçš„widthã€heightç­‰æ¶‰åŠå•ä½çš„éƒ½å¯ä»¥ä½¿ç”¨ã€‚è¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥åœ¨ä¸åŒè®¾å¤‡ä¸‹å®Œç¾Žçš„å¤çŽ°è®¾è®¡ç¨¿çš„è¦æ±‚ã€‚ æ–¹æ¡ˆäºŒæ­¤æ–¹æ¡ˆä½¿ç”¨äº†SASSé¢„å¤„ç†å™¨ã€‚åŸºæœ¬æ€è·¯ï¼š è®¾ç½®æ ¹å…ƒç´ çš„font-sizeã€‚é€šè¿‡èŽ·å–ä¸åŒè®¾å¤‡çš„ç†æƒ³è§†å£å®½åº¦ï¼Œå†é™¤ä»¥10ã€‚(é™¤ä»¥10æ˜¯å› ä¸ºä¸æƒ³font-sizeå¤ªå¤§ã€‚) ç»™å®šåŸºå‡†å€¼ï¼Œæ­¤æ—¶ç»™çš„åŸºå‡†å€¼ä¸º75px(æ­¤å€¼ä¸ºiPhone6çš„è®¾å¤‡åƒç´ é™¤ä»¥10) å†™SASS Function ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627SASS@function px2rem ($value) &#123; $para: 75px; @return $value / $para + rem;&#125;JSlet idealViewWidth = window.screen.width;document.documentElement.style.fontSize = idealViewWidth / 10 + &apos;px&apos;;åœ¨ä¸åŒè®¾å¤‡ä¸‹æ ¹å…ƒç´ çš„`font-size`ï¼šiPhone5 : 320px / 10 = 32pxiPhone6 : 375px / 10 = 37.5pxiPhone6+: 414px / 10 = 41.4pxæ ¹æ®ä»¥ä¸Šï¼Œå¯ä»¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚æŸè®¾è®¡ç¨¿ä¸‹5ä¸ªliï¼Œæ¨ªå‘æŽ’å¸ƒï¼Œæ¯ä¸ªçš„å®½åº¦ä¸º200pxCSS@import (è·¯å¾„å)iPhone5: li &#123; width: px2rem(200px) &#125; =&gt; width: 85.333px// æ­¤æ—¶(200px / 75px = 2.667rem) 2.667rem = 2.667 * (320 / 10) = 85.3333pxiPhone6: li &#123; width: px2rem(200px) &#125; =&gt; width: 100px// æ­¤æ—¶(200px / 75px = 2.667rem) 2.667rem = 2.667 * (375 / 10) = 100pxiPhone6+: li &#123; width: px2rem(200px) &#125; =&gt; width: 4138px// æ­¤æ—¶(200px / 75px = 2.667rem) 2.667rem = 2.667 * (414 / 10) = 110.4138pxå› æ­¤ï¼Œä¸€ä¸ª200pxçš„(å®žé™…åªæœ‰100px)çš„liå…ƒç´ çš„å®½åº¦åœ¨ä¸åŒè®¾å¤‡ä¸‹æ˜¾ç¤ºäº†ä¸åŒçš„å®½åº¦ï¼Œå®žçŽ°äº†å“åº”å¼é€‚é…çš„é—®é¢˜ã€‚ æ–¹æ¡ˆä¸‰æ–¹æ¡ˆä¸‰ä¸Žå‰ä¸¤ä¸ªæ–¹æ¡ˆä¸ç›¸åŒï¼Œæ­¤æ–¹æ¡ˆå¹¶ä¸éœ€è¦ç»™æ ¹å…ƒç´ è®¾ç½®font-sizeï¼Œä¸éœ€è¦åŸºå‡†å€¼ã€‚æ­¤æ–¹æ¡ˆæ˜¯æ ¹æ®ä¸åŒè®¾å¤‡çš„dpræ¥å®žçŽ°é¡µé¢çš„ç¼©æ”¾çš„ã€‚ åŸºæœ¬æ€è·¯å¦‚ä¸‹ï¼š é€šè¿‡window.devicePixelRatioèŽ·å–è®¾å¤‡çš„dpr æ ¹æ®ä¸åŒçš„dprç¼©æ”¾é¡µé¢ï¼ŒåŠ¨æ€è®¾ç½®metaè§†å£æ ‡ç­¾ã€‚(ç¼©æ”¾æ˜¯æ”¾å¤§æˆ–ç¼©å°CSSçš„è¿‡ç¨‹ï¼Œæ ¹æ®ç†æƒ³è§†å£è¿›è¡Œç¼©æ”¾ï¼Œä¸Žè§†è§‰è§†å£æ–¹å‘ç›¸å) ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314let dpr = window.devicePixelRatio;let meta = document.createElement(&apos;meta&apos;);let initialScale = 1 / dpr;let maximumScale = 1 / dpr;let minimumScale = 1 / dpr;meta.setAttribute(&apos;name&apos;, &apos;viewport&apos;);meta.setAttribute(&apos;content&apos;, `width=device-width, user-scalable=no, initial-scale=$&#123;initialScale&#125;, maximum-scale=$&#123;maximumScale&#125;, minimum-scale=$&#123;minimumScale&#125;`);document.head.appendChild(meta);å› æ­¤ï¼Œå¯ä»¥ç›´æŽ¥æ ¹æ®è®¾è®¡ç¨¿çš„å°ºå¯¸å†™CSSæ ·å¼ï¼Œå¦‚è®¾è®¡ç¨¿ä¸‹æœ‰5ä¸ªliå…ƒç´ ï¼Œå®½åº¦ä¸º200pxï¼Œæ­¤æ—¶ä¸åŒè®¾å¤‡ä¸‹liçš„å®½åº¦iPhone5 : li &#123; width: 200px &#125; å®žé™…å®½åº¦ä¸ºï¼š100pxiPhone6 : li &#123; width: 200px &#125; å®žé™…å®½åº¦ä¸ºï¼š100pxiPhone6+: li &#123; width: 200px &#125; å®žé™…å®½åº¦ä¸ºï¼š66.667px ä»¥ä¸Šä¸‰ç§æ–¹æ³•è§£å†³äº†å¤§éƒ¨åˆ†ç§»åŠ¨ç«¯å“åº”å¼é€‚é…çš„é—®é¢˜ï¼Œä½†æ˜¯åœ¨1pxé—®é¢˜ä¸Šï¼Œä½¿ç”¨ä»¥ä¸Šçš„æ–¹æ³•ä»ç„¶(é™¤äº†ç¬¬ä¸‰ä¸ªæ–¹æ¡ˆ)ï¼Œéƒ½ä¸èƒ½å¾ˆå¥½çš„è§£å†³1pxçš„é—®é¢˜ã€‚æœ‰æ—¶é—´å†™ä¸€ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•è§£å†³1pxçš„é—®é¢˜ã€‚ æ·˜å®flexibleé€‚é…æ–¹æ³•åŽŸæ–‡æ¥æº ç›´æŽ¥æ’å…¥åˆ°HTMLä¸­ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152! function (a, b) &#123; function c() &#123; var b = f.getBoundingClientRect().width; b / i &gt; 540 &amp;&amp; (b = 540 * i); var c = b / 10; f.style.fontSize = c + "px", k.rem = a.rem = c &#125; var d, e = a.document, f = e.documentElement, g = e.querySelector('meta[name="viewport"]'), h = e.querySelector('meta[name="flexible"]'), i = 0, j = 0, k = b.flexible || (b.flexible = &#123;&#125;); if (g) &#123; console.warn("å°†æ ¹æ®å·²æœ‰çš„metaæ ‡ç­¾æ¥è®¾ç½®ç¼©æ”¾æ¯”ä¾‹"); var l = g.getAttribute("content").match(/initial\-scale=([\d\.]+)/); l &amp;&amp; (j = parseFloat(l[1]), i = parseInt(1 / j)) &#125; else if (h) &#123; var m = h.getAttribute("content"); if (m) &#123; var n = m.match(/initial\-dpr=([\d\.]+)/), o = m.match(/maximum\-dpr=([\d\.]+)/); n &amp;&amp; (i = parseFloat(n[1]), j = parseFloat((1 / i).toFixed(2))), o &amp;&amp; (i = parseFloat(o[1]), j = parseFloat((1 / i).toFixed(2))) &#125; &#125; if (!i &amp;&amp; !j) &#123; var p = a.navigator.userAgent, q = (!!p.match(/android/gi), !!p.match(/iphone/gi)), r = q &amp;&amp; !!p.match(/OS 9_3/), s = a.devicePixelRatio; i = q &amp;&amp; !r ? s &gt;= 3 &amp;&amp; (!i || i &gt;= 3) ? 3 : s &gt;= 2 &amp;&amp; (!i || i &gt;= 2) ? 2 : 1 : 1, j = 1 / i &#125; if (f.setAttribute("data-dpr", i), !g) if (g = e.createElement("meta"), g.setAttribute("name", "viewport"), g.setAttribute("content", "initial-scale=" + j + ", maximum-scale=" + j + ", minimum-scale=" + j + ", user-scalable=no"), f.firstElementChild) f.firstElementChild.appendChild(g); else &#123; var t = e.createElement("div"); t.appendChild(g), e.write(t.innerHTML) &#125; a.addEventListener("resize", function () &#123; clearTimeout(d), d = setTimeout(c, 300) &#125;, !1), a.addEventListener("pageshow", function (a) &#123; a.persisted &amp;&amp; (clearTimeout(d), d = setTimeout(c, 300)) &#125;, !1), "complete" === e.readyState ? e.body.style.fontSize = 12 * i + "px" : e.addEventListener("DOMContentLoaded", function () &#123; e.body.style.fontSize = 12 * i + "px" &#125;, !1), c(), k.dpr = a.dpr = i, k.refreshRem = c, k.rem2px = function (a) &#123; var b = parseFloat(a) * this.rem; return "string" == typeof a &amp;&amp; a.match(/rem$/) &amp;&amp; (b += "px"), b &#125;, k.px2rem = function (a) &#123; var b = parseFloat(a) / this.rem; return "string" == typeof a &amp;&amp; a.match(/px$/) &amp;&amp; (b += "rem"), b &#125;&#125;(window, window.lib || (window.lib = &#123;&#125;));]]></content>
      <categories>
        <category>é€‚é…</category>
        <category>ç§»åŠ¨ç«¯</category>
      </categories>
      <tags>
        <tag>ç§»åŠ¨ç«¯</tag>
        <tag>é€‚é…</tag>
        <tag>rem</tag>
        <tag>Flexible</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£åˆ™è¡¨è¾¾å¼å®žä¾‹]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AE%9E%E4%BE%8B%2F</url>
    <content type="text"><![CDATA[æ”¶é›†åœ¨ä¸šåŠ¡ä¸­ç»å¸¸ä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å®žä¾‹ï¼Œæ–¹ä¾¿ä»¥åŽè¿›è¡ŒæŸ¥æ‰¾ï¼Œå‡å°‘å·¥ä½œé‡ã€‚ æ ¡éªŒåŸºæœ¬æ—¥æœŸæ ¼å¼ æ ¡éªŒå¯†ç å¼ºåº¦ æ ¡éªŒä¸­æ–‡ ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸² æ ¡éªŒE-Mail åœ°å€ æ ¡éªŒèº«ä»½è¯å·ç  æ ¡éªŒæ—¥æœŸ æ ¡éªŒé‡‘é¢ æ ¡éªŒæ‰‹æœºå· åˆ¤æ–­IEçš„ç‰ˆæœ¬ æ ¡éªŒIP-v4åœ°å€ æ ¡éªŒIP-v6åœ°å€ æ£€æŸ¥URLçš„å‰ç¼€ æå–URLé“¾æŽ¥ æ–‡ä»¶è·¯å¾„åŠæ‰©å±•åæ ¡éªŒ æå–Color Hex Codes æå–ç½‘é¡µå›¾ç‰‡ æå–é¡µé¢è¶…é“¾æŽ¥ æŸ¥æ‰¾CSSå±žæ€§ æŠ½å–æ³¨é‡Š è½¬æ¢åƒåˆ†ä½åˆ†éš”ç¬¦ 1. æ ¡éªŒåŸºæœ¬æ—¥æœŸæ ¼å¼12var reg1 = /^\d&#123;4&#125;(\-|\/|\.)\d&#123;1,2&#125;\1\d&#123;1,2&#125;$/;var reg2 = /^(^(\d&#123;4&#125;|\d&#123;2&#125;)(\-|\/|\.)\d&#123;1,2&#125;\3\d&#123;1,2&#125;$)|(^\d&#123;4&#125;å¹´\d&#123;1,2&#125;æœˆ\d&#123;1,2&#125;æ—¥$)$/; 2. æ ¡éªŒå¯†ç å¼ºåº¦å¯†ç çš„å¼ºåº¦å¿…é¡»æ˜¯åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´ã€‚ 1var reg = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$/; ç½‘å‹æä¾›çš„è§£å†³æ£€æµ‹ç‰¹æ®Šå­—ç¬¦çš„æ–¹æ³• 1var reg = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$/; 3. æ ¡éªŒä¸­æ–‡å­—ç¬¦ä¸²ä»…èƒ½æ˜¯ä¸­æ–‡ã€‚ 1var reg = /^[\\u4e00-\\u9fa5]&#123;0,&#125;$/; 4. ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²1var reg = /^\\w+$/; 5. æ ¡éªŒE-Mail åœ°å€åŒå¯†ç ä¸€æ ·ï¼Œä¸‹é¢æ˜¯E-mailåœ°å€åˆè§„æ€§çš„æ­£åˆ™æ£€æŸ¥è¯­å¥ã€‚ 1var reg = /[\\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+(?:\\.[\\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/; 6. æ ¡éªŒèº«ä»½è¯å·ç ä¸‹é¢æ˜¯èº«ä»½è¯å·ç çš„æ­£åˆ™æ ¡éªŒã€‚15 æˆ– 18ä½ã€‚ 15ä½ï¼š 1var reg = /^[1-9]\\d&#123;7&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;$/; 18ä½ï¼š 1var reg = /^[1-9]\\d&#123;5&#125;[1-9]\\d&#123;3&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;([0-9]|X)$/; 7. æ ¡éªŒæ—¥æœŸâ€œyyyy-mm-ddâ€ æ ¼å¼çš„æ—¥æœŸæ ¡éªŒï¼Œå·²è€ƒè™‘å¹³é—°å¹´ã€‚ 1var reg = /^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/; 8. æ ¡éªŒé‡‘é¢é‡‘é¢æ ¡éªŒï¼Œç²¾ç¡®åˆ°2ä½å°æ•°ã€‚ 1var reg = /^[0-9]+(.[0-9]&#123;2&#125;)?$/; 9. æ ¡éªŒæ‰‹æœºå·ä¸‹é¢æ˜¯å›½å†… 13ã€15ã€18å¼€å¤´çš„æ‰‹æœºå·æ­£åˆ™è¡¨è¾¾å¼ã€‚ï¼ˆå¯æ ¹æ®ç›®å‰å›½å†…æ”¶é›†å·æ‰©å±•å‰ä¸¤ä½å¼€å¤´å·ç ï¼‰ 1var reg = /^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d&#123;8&#125;$/; 10. åˆ¤æ–­IEçš„ç‰ˆæœ¬IEç›®å‰è¿˜æ²¡è¢«å®Œå…¨å–ä»£ï¼Œå¾ˆå¤šé¡µé¢è¿˜æ˜¯éœ€è¦åšç‰ˆæœ¬å…¼å®¹ï¼Œä¸‹é¢æ˜¯IEç‰ˆæœ¬æ£€æŸ¥çš„è¡¨è¾¾å¼ã€‚ 1var reg = /^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\\/[5-9]\\.0).*$/; 11. æ ¡éªŒIP-v4åœ°å€1var reg = /\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b/; 12. æ ¡éªŒIP-v6åœ°å€1var reg = /(([0-9a-fA-F]&#123;1,4&#125;:)&#123;7,7&#125;[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,7&#125;:|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,6&#125;:[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,5&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,2&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,3&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,3&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,2&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,5&#125;|[0-9a-fA-F]&#123;1,4&#125;:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,6&#125;)|:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,7&#125;|:)|fe80:(:[0-9a-fA-F]&#123;0,4&#125;)&#123;0,4&#125;%[0-9a-zA-Z]&#123;1,&#125;|::(ffff(:0&#123;1,4&#125;)&#123;0,1&#125;:)&#123;0,1&#125;((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;:((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9]))/; 13. æ£€æŸ¥URLçš„å‰ç¼€åº”ç”¨å¼€å‘ä¸­å¾ˆå¤šæ—¶å€™éœ€è¦åŒºåˆ†è¯·æ±‚æ˜¯HTTPSè¿˜æ˜¯HTTPï¼Œé€šè¿‡ä¸‹é¢çš„è¡¨è¾¾å¼å¯ä»¥å–å‡ºä¸€ä¸ªurlçš„å‰ç¼€ç„¶åŽå†é€»è¾‘åˆ¤æ–­ã€‚ 123if (!s.match(/^[a-zA-Z]+:\/\//)) &#123; s = &apos;http://&apos; + s;&#125; 14. æå–URLé“¾æŽ¥ä¸‹é¢çš„è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥ç­›é€‰å‡ºä¸€æ®µæ–‡æœ¬ä¸­çš„URLã€‚ 1var reg = /^(f|ht)&#123;1&#125;(tp|tps):\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&amp;=]*)?/; 15. æ–‡ä»¶è·¯å¾„åŠæ‰©å±•åæ ¡éªŒéªŒè¯windowsä¸‹æ–‡ä»¶è·¯å¾„å’Œæ‰©å±•åï¼ˆä¸‹é¢çš„ä¾‹å­ä¸­ä¸º.txtæ–‡ä»¶ï¼‰ 1var reg = /^([a-zA-Z]\\:|\\\\)\\\\([^\\]+\\)*[^\\/:*?&quot;&lt;&gt;|]+\\.txt(l)?$/; 16. æå–Color Hex Codesæœ‰æ—¶éœ€è¦æŠ½å–ç½‘é¡µä¸­çš„é¢œè‰²ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¡¨è¾¾å¼ã€‚ 1var reg = /^#([A-Fa-f0-9]&#123;6&#125;|[A-Fa-f0-9]&#123;3&#125;)$/; 17. æå–ç½‘é¡µå›¾ç‰‡å‡è‹¥ä½ æƒ³æå–ç½‘é¡µä¸­æ‰€æœ‰å›¾ç‰‡ä¿¡æ¯ï¼Œå¯ä»¥åˆ©ç”¨ä¸‹é¢çš„è¡¨è¾¾å¼ã€‚ 1var reg = /\\&lt; *[img][^\\&gt;]*[src] *= *[\\&quot;\&apos;]&#123;0,1&#125;([^\\&quot;\&apos;\ &gt;]*)/; 18. æå–é¡µé¢è¶…é“¾æŽ¥æå–htmlä¸­çš„è¶…é“¾æŽ¥ã€‚ 1var reg = /(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href=&quot;https?:\/\/)((?!(?:(?:www\\.)?&apos;.implode(&apos;|(?:www\\.)?&apos;, $follow_list).&apos;))[^&quot;]+)&quot;((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;/; 19. æŸ¥æ‰¾CSSå±žæ€§é€šè¿‡ä¸‹é¢çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥æœç´¢åˆ°ç›¸åŒ¹é…çš„CSSå±žæ€§ã€‚ 1var reg = /^\\s*[a-zA-Z\\-]+\\s*[:]&#123;1&#125;\\s[a-zA-Z0-9\\s.#]+[;]&#123;1&#125;/; 20. æŠ½å–æ³¨é‡Šå¦‚æžœä½ éœ€è¦ç§»é™¤HMTLä¸­çš„æ³¨é‡Šï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„è¡¨è¾¾å¼ã€‚ 1var reg = /&lt;!--(.*?)--&gt;/; 21. è½¬æ¢åƒåˆ†ä½åˆ†éš”ç¬¦1return total.toString().replace(/\B(?=(\d&#123;3&#125;)+$)/g, &apos;,&apos;);]]></content>
      <categories>
        <category>æ­£åˆ™</category>
      </categories>
      <tags>
        <tag>æ­£åˆ™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[åŽŸæ–‡é“¾æŽ¥ï¼šæ­£åˆ™è¡¨è¾¾å¼æ‰‹å†Œ å­—ç¬¦ æè¿° \ å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŽŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åŽå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œnâ€åŒ¹é…å­—ç¬¦â€œnâ€ã€‚â€œ\nâ€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œâ€œ\\â€åŒ¹é…â€œ\â€è€Œâ€œ\(â€åˆ™åŒ¹é…â€œ(â€ã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æžœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±žæ€§ï¼Œ^ä¹ŸåŒ¹é…â€œ\nâ€æˆ–â€œ\râ€ä¹‹åŽçš„ä½ç½®ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æžœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±žæ€§ï¼Œ$ä¹ŸåŒ¹é…â€œ\nâ€æˆ–â€œ\râ€ä¹‹å‰çš„ä½ç½®ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo*èƒ½åŒ¹é…â€œzâ€ä»¥åŠâ€œzooâ€ã€‚*ç­‰ä»·äºŽ{0,}ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œzo+â€èƒ½åŒ¹é…â€œzoâ€ä»¥åŠâ€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œzâ€ã€‚+ç­‰ä»·äºŽ{1,}ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œdo(es)?â€å¯ä»¥åŒ¹é…â€œdoesâ€æˆ–â€œdoesâ€ä¸­çš„â€œdoâ€ã€‚?ç­‰ä»·äºŽ{0,1}ã€‚ {n} næ˜¯ä¸€ä¸ªéžè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„næ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œo{2}â€ä¸èƒ½åŒ¹é…â€œBobâ€ä¸­çš„â€œoâ€ï¼Œä½†æ˜¯èƒ½åŒ¹é…â€œfoodâ€ä¸­çš„ä¸¤ä¸ªoã€‚ {n,} næ˜¯ä¸€ä¸ªéžè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…næ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œo{2,}â€ä¸èƒ½åŒ¹é…â€œBobâ€ä¸­çš„â€œoâ€ï¼Œä½†èƒ½åŒ¹é…â€œfooooodâ€ä¸­çš„æ‰€æœ‰oã€‚â€œo{1,}â€ç­‰ä»·äºŽâ€œo+â€ã€‚â€œo{0,}â€åˆ™ç­‰ä»·äºŽâ€œo*â€ã€‚ {n,m} må’Œnå‡ä¸ºéžè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n&lt;=mã€‚æœ€å°‘åŒ¹é…næ¬¡ä¸”æœ€å¤šåŒ¹é…mæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œo{1,3}â€å°†åŒ¹é…â€œfoooooodâ€ä¸­çš„å‰ä¸‰ä¸ªoã€‚â€œo{0,1}â€ç­‰ä»·äºŽâ€œo?â€ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ ? å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ï¼ˆ*,+,?ï¼Œ{n}ï¼Œ{n,}ï¼Œ{n,m}ï¼‰åŽé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éžè´ªå©ªçš„ã€‚éžè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽå­—ç¬¦ä¸²â€œooooâ€ï¼Œâ€œo+?â€å°†åŒ¹é…å•ä¸ªâ€œoâ€ï¼Œè€Œâ€œo+â€å°†åŒ¹é…æ‰€æœ‰â€œoâ€ã€‚ . åŒ¹é…é™¤â€œ\nâ€ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬â€œ\nâ€åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒâ€œ(.\n)â€çš„æ¨¡å¼ã€‚ (pattern) åŒ¹é…patternå¹¶èŽ·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€èŽ·å–çš„åŒ¹é…å¯ä»¥ä»Žäº§ç”Ÿçš„Matchesé›†åˆå¾—åˆ°ï¼Œåœ¨VBScriptä¸­ä½¿ç”¨SubMatchesé›†åˆï¼Œåœ¨JScriptä¸­åˆ™ä½¿ç”¨$0â€¦$9å±žæ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨â€œ\(â€æˆ–â€œ` â€ã€‚` (?:pattern) åŒ¹é…patternä½†ä¸èŽ·å–åŒ¹é…ç»“æžœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéžèŽ·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åŽä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦â€œ`( )â€æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚â€œindustr(?:y ies)â€å°±æ˜¯ä¸€ä¸ªæ¯”â€œindustry industries`â€æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚ (?=pattern) æ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéžèŽ·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦èŽ·å–ä¾›ä»¥åŽä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€œ`Windows(?=95 98 NT 2000)â€èƒ½åŒ¹é…â€œWindows2000â€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œWindows3.1â€ä¸­çš„â€œWindows`â€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”ŸåŽï¼Œåœ¨æœ€åŽä¸€æ¬¡åŒ¹é…ä¹‹åŽç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»ŽåŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åŽå¼€å§‹ã€‚ (?!pattern) æ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéžèŽ·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦èŽ·å–ä¾›ä»¥åŽä½¿ç”¨ã€‚ä¾‹å¦‚â€œ`Windows(?!95 98 NT 2000)â€èƒ½åŒ¹é…â€œWindows3.1â€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œWindows2000â€ä¸­çš„â€œWindows`â€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”ŸåŽï¼Œåœ¨æœ€åŽä¸€æ¬¡åŒ¹é…ä¹‹åŽç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»ŽåŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åŽå¼€å§‹ã€‚ (?&lt;=pattern) åå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸Žæ­£å‘è‚¯å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œâ€œ`(?&lt;=95 98 NT 2000)Windowsâ€èƒ½åŒ¹é…â€œ2000Windowsâ€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ3.1Windowsâ€ä¸­çš„â€œWindows`â€ã€‚ (?&lt;!pattern) åå‘å¦å®šé¢„æŸ¥ï¼Œä¸Žæ­£å‘å¦å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚â€œ`(?&lt;!95 98 NT 2000)Windowsâ€èƒ½åŒ¹é…â€œ3.1Windowsâ€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ2000Windowsâ€ä¸­çš„â€œWindows`â€ã€‚ `x y` åŒ¹é…xæˆ–yã€‚ä¾‹å¦‚ï¼Œâ€œ`z foodâ€èƒ½åŒ¹é…â€œzâ€æˆ–â€œfoodâ€ã€‚â€œ(z f)oodâ€åˆ™åŒ¹é…â€œzoodâ€æˆ–â€œfood`â€ã€‚ [xyz] å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ[abc]â€å¯ä»¥åŒ¹é…â€œplainâ€ä¸­çš„â€œaâ€ã€‚ [^xyz] è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ[^abc]â€å¯ä»¥åŒ¹é…â€œplainâ€ä¸­çš„â€œpâ€ã€‚ [a-z] å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ[a-z]â€å¯ä»¥åŒ¹é…â€œaâ€åˆ°â€œzâ€èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚ [^a-z] è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ[^a-z]â€å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨â€œaâ€åˆ°â€œzâ€èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ \b åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œâ€œer\bâ€å¯ä»¥åŒ¹é…â€œneverâ€ä¸­çš„â€œerâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œverbâ€ä¸­çš„â€œerâ€ã€‚ \B åŒ¹é…éžå•è¯è¾¹ç•Œã€‚â€œer\Bâ€èƒ½åŒ¹é…â€œverbâ€ä¸­çš„â€œerâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œneverâ€ä¸­çš„â€œerâ€ã€‚ \cx åŒ¹é…ç”±xæŒ‡æ˜Žçš„æŽ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\cMåŒ¹é…ä¸€ä¸ªControl-Mæˆ–å›žè½¦ç¬¦ã€‚xçš„å€¼å¿…é¡»ä¸ºA-Zæˆ–a-zä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°†cè§†ä¸ºä¸€ä¸ªåŽŸä¹‰çš„â€œcâ€å­—ç¬¦ã€‚ \d åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äºŽ[0-9]ã€‚ \D åŒ¹é…ä¸€ä¸ªéžæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äºŽ[^0-9]ã€‚ \f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äºŽ\x0cå’Œ\cLã€‚ \n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äºŽ\x0aå’Œ\cJã€‚ \r åŒ¹é…ä¸€ä¸ªå›žè½¦ç¬¦ã€‚ç­‰ä»·äºŽ\x0då’Œ\cMã€‚ \s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äºŽ[\f\n\r\t\v]ã€‚ \S åŒ¹é…ä»»ä½•éžç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äºŽ[^\f\n\r\t\v]ã€‚ \t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ\x09å’Œ\cIã€‚ \v åŒ¹é…ä¸€ä¸ªåž‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ\x0bå’Œ\cKã€‚ \w åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äºŽâ€œ[A-Za-z0-9_]â€ã€‚ \W åŒ¹é…ä»»ä½•éžå•è¯å­—ç¬¦ã€‚ç­‰ä»·äºŽâ€œ[^A-Za-z0-9_]â€ã€‚ \xn åŒ¹é…nï¼Œå…¶ä¸­nä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œâ€œ\x41â€åŒ¹é…â€œAâ€ã€‚â€œ\x041â€åˆ™ç­‰ä»·äºŽâ€œ\x04&amp;1â€ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ASCIIç¼–ç ã€‚ \num åŒ¹é…numï¼Œå…¶ä¸­numæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€èŽ·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€œ(.)\1â€åŒ¹é…ä¸¤ä¸ªè¿žç»­çš„ç›¸åŒå­—ç¬¦ã€‚ \n æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åŽå¼•ç”¨ã€‚å¦‚æžœ\nä¹‹å‰è‡³å°‘nä¸ªèŽ·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™nä¸ºå‘åŽå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æžœnä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™nä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚ \nm æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åŽå¼•ç”¨ã€‚å¦‚æžœ\nmä¹‹å‰è‡³å°‘æœ‰nmä¸ªèŽ·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™nmä¸ºå‘åŽå¼•ç”¨ã€‚å¦‚æžœ\nmä¹‹å‰è‡³å°‘æœ‰nä¸ªèŽ·å–ï¼Œåˆ™nä¸ºä¸€ä¸ªåŽè·Ÿæ–‡å­—mçš„å‘åŽå¼•ç”¨ã€‚å¦‚æžœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥nå’Œmå‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™\nmå°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼nmã€‚ \nml å¦‚æžœnä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-3ï¼‰ï¼Œä¸”må’Œlå‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼nmlã€‚ \un åŒ¹é…nï¼Œå…¶ä¸­næ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„Unicodeå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u00A9åŒ¹é…ç‰ˆæƒç¬¦å·ï¼ˆÂ©ï¼‰ã€‚ å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ åŒ¹é…å†…å®¹ æ­£åˆ™è¡¨è¾¾å¼ ç”¨æˆ·å /^[a-z0-9_-]{3,16}$/ å¯†ç  /^[a-z0-9_-]{6,18}$/ åå…­è¿›åˆ¶å€¼ `/^#?([a-f0-9]{6} [a-f0-9]{3})$/` ç”µå­é‚®ç®± /^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/ /^[a-z\d]+(\.[a-z\d]+)*@([\da-z](-[\da-z])?)+(\.{1,2}[a-z]+)+$/ URL /^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/ IP åœ°å€ `/((2[0-4]d 25[0-5] [01]?dd?).){3}(2[0-4]d 25[0-5] [01]?dd?)//^(?:(?:25[0-5] 20-4 [01]?0-9?).){3}(?:25[0-5] 20-4 [01]?0-9?)$/` HTMLæ ‡ç­¾ `/^&lt;([a-z]+)([^&lt;]+)(?:&gt;(.) s+/&gt;)$/` åˆ é™¤ä»£ç \æ³¨é‡Š `(?&lt;!http: S)//.*$` Unicodeç¼–ç ä¸­çš„æ±‰å­—èŒƒå›´ /^[\u2E80-\u9FFF]+$/]]></content>
      <categories>
        <category>æ­£åˆ™</category>
      </categories>
      <tags>
        <tag>æ­£åˆ™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„é¢å‘å¯¹è±¡å®žæˆ˜ä¹‹æ‹–æ‹½å¯¹è±¡å°è£…]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%AE%9E%E6%88%98%E4%B9%8B%E6%8B%96%E6%8B%BD%E5%AF%B9%E8%B1%A1%E5%B0%81%E8%A3%85%2F</url>
    <content type="text"><![CDATA[å‰é¢å‡ ç¯‡æ–‡ç« ï¼Œæˆ‘è·Ÿå¤§å®¶åˆ†äº«äº†JavaScriptçš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œè¿™ç¯‡æ–‡ç« ï¼Œå°†ä¼šè¿›å…¥ç¬¬ä¸€ä¸ªå®žæˆ˜çŽ¯èŠ‚ï¼šåˆ©ç”¨å‰é¢å‡ ç« çš„æ‰€æ¶‰åŠåˆ°çš„çŸ¥è¯†ï¼Œå°è£…ä¸€ä¸ªæ‹–æ‹½å¯¹è±¡ã€‚ä¸ºäº†èƒ½å¤Ÿå¸®åŠ©å¤§å®¶äº†è§£æ›´å¤šçš„æ–¹å¼ä¸Žè¿›è¡Œå¯¹æ¯”ï¼Œæˆ‘ä¼šä½¿ç”¨ä¸‰ç§ä¸åŒçš„æ–¹å¼æ¥å®žçŽ°æ‹–æ‹½ã€‚ ä¸å°è£…å¯¹è±¡ç›´æŽ¥å®žçŽ°ï¼› åˆ©ç”¨åŽŸç”ŸJavaScriptå°è£…æ‹–æ‹½å¯¹è±¡ï¼› é€šè¿‡æ‰©å±•jQueryæ¥å®žçŽ°æ‹–æ‹½å¯¹è±¡ã€‚ æœ¬æ–‡çš„ä¾‹å­ä¼šæ”¾ç½®äºŽcodepen.ioä¸­ï¼Œä¾›å¤§å®¶åœ¨é˜…è¯»æ—¶ç›´æŽ¥æŸ¥çœ‹ã€‚å¦‚æžœå¯¹äºŽcodepenä¸äº†è§£çš„åŒå­¦ï¼Œå¯ä»¥èŠ±ç‚¹æ—¶é—´ç¨å¾®äº†è§£ä¸€ä¸‹ã€‚ æ‹–æ‹½çš„å®žçŽ°è¿‡ç¨‹ä¼šæ¶‰åŠåˆ°éžå¸¸å¤šçš„å®žç”¨å°çŸ¥è¯†ï¼Œå› æ­¤ä¸ºäº†å·©å›ºæˆ‘è‡ªå·±çš„çŸ¥è¯†ç§¯ç´¯ï¼Œä¹Ÿä¸ºäº†å¤§å®¶èƒ½å¤Ÿå­¦åˆ°æ›´å¤šçš„çŸ¥è¯†ï¼Œæˆ‘ä¼šå°½é‡è¯¦ç»†çš„å°†ä¸€äº›ç»†èŠ‚åˆ†äº«å‡ºæ¥ï¼Œç›¸ä¿¡å¤§å®¶è®¤çœŸé˜…è¯»ä¹‹åŽï¼Œä¸€å®šèƒ½å­¦åˆ°ä¸€äº›ä¸œè¥¿ã€‚ 1ã€å¦‚ä½•è®©ä¸€ä¸ªDOMå…ƒç´ åŠ¨èµ·æ¥æˆ‘ä»¬å¸¸å¸¸ä¼šé€šè¿‡ä¿®æ”¹å…ƒç´ çš„topï¼Œleftï¼Œtranslateæ¥å…¶çš„ä½ç½®å‘ç”Ÿæ”¹å˜ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ¯ç‚¹å‡»ä¸€æ¬¡æŒ‰é’®ï¼Œå¯¹åº”çš„å…ƒç´ å°±ä¼šç§»åŠ¨5pxã€‚å¤§å®¶å¯ç‚¹å‡»æŸ¥çœ‹ã€‚ ç‚¹å‡»æŸ¥çœ‹ä¸€ä¸ªè®©å…ƒç´ åŠ¨èµ·æ¥çš„å°ä¾‹å­ ç”±äºŽä¿®æ”¹ä¸€ä¸ªå…ƒç´ top/leftå€¼ä¼šå¼•èµ·é¡µé¢é‡ç»˜ï¼Œè€Œtranslateä¸ä¼šï¼Œå› æ­¤ä»Žæ€§èƒ½ä¼˜åŒ–ä¸Šæ¥åˆ¤æ–­ï¼Œæˆ‘ä»¬ä¼šä¼˜å…ˆä½¿ç”¨translateå±žæ€§ã€‚ 2ã€å¦‚ä½•èŽ·å–å½“å‰æµè§ˆå™¨æ”¯æŒçš„transformå…¼å®¹å†™æ³•transformæ˜¯css3çš„å±žæ€§ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å®ƒæ—¶å°±ä¸å¾—ä¸é¢å¯¹å…¼å®¹æ€§çš„é—®é¢˜ã€‚ä¸åŒç‰ˆæœ¬æµè§ˆå™¨çš„å…¼å®¹å†™æ³•å¤§è‡´æœ‰å¦‚ä¸‹å‡ ç§ï¼š [&#39;transform&#39;, &#39;webkitTransform&#39;, &#39;MozTransform&#39;, &#39;msTransform&#39;, &#39;OTransform&#39;] å› æ­¤æˆ‘ä»¬éœ€è¦åˆ¤æ–­å½“å‰æµè§ˆå™¨çŽ¯å¢ƒæ”¯æŒçš„transformå±žæ€§æ˜¯å“ªä¸€ç§ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š 1234567891011121314151617181920// èŽ·å–å½“å‰æµè§ˆå™¨æ”¯æŒçš„transformå…¼å®¹å†™æ³•function getTransform() &#123; var transform = '', divStyle = document.createElement('div').style, // å¯èƒ½æ¶‰åŠåˆ°çš„å‡ ç§å…¼å®¹æ€§å†™æ³•ï¼Œé€šè¿‡å¾ªçŽ¯æ‰¾å‡ºæµè§ˆå™¨è¯†åˆ«çš„é‚£ä¸€ä¸ª transformArr = ['transform', 'webkitTransform', 'MozTransform', 'msTransform', 'OTransform'], i = 0, len = transformArr.length; for(; i &lt; len; i++) &#123; if(transformArr[i] in divStyle) &#123; // æ‰¾åˆ°ä¹‹åŽç«‹å³è¿”å›žï¼Œç»“æŸå‡½æ•° return transform = transformArr[i]; &#125; &#125; // å¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ç›´æŽ¥è¿”å›žç©ºå­—ç¬¦ä¸² return transform;&#125; è¯¥æ–¹æ³•ç”¨äºŽèŽ·å–æµè§ˆå™¨æ”¯æŒçš„transformå±žæ€§ã€‚å¦‚æžœè¿”å›žçš„ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¡¨ç¤ºå½“å‰æµè§ˆå™¨å¹¶ä¸æ”¯æŒtransformï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨leftï¼Œtopå€¼æ¥æ”¹å˜å…ƒç´ çš„ä½ç½®ã€‚å¦‚æžœæ”¯æŒï¼Œå°±æ”¹å˜transformçš„å€¼ã€‚ 3ã€ å¦‚ä½•èŽ·å–å…ƒç´ çš„åˆå§‹ä½ç½®æˆ‘ä»¬é¦–å…ˆéœ€è¦èŽ·å–åˆ°ç›®æ ‡å…ƒç´ çš„åˆå§‹ä½ç½®ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸“é—¨ç”¨æ¥èŽ·å–å…ƒç´ æ ·å¼çš„åŠŸèƒ½å‡½æ•°ã€‚ ä½†æ˜¯èŽ·å–å…ƒç´ æ ·å¼åœ¨IEæµè§ˆå™¨ä¸Žå…¶ä»–æµè§ˆå™¨æœ‰ä¸€äº›ä¸åŒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…¼å®¹æ€§çš„å†™æ³•ã€‚ 1234function getStyle(elem, property) &#123; // ieé€šè¿‡currentStyleæ¥èŽ·å–å…ƒç´ çš„æ ·å¼ï¼Œå…¶ä»–æµè§ˆå™¨é€šè¿‡getComputedStyleæ¥èŽ·å– return document.defaultView.getComputedStyle ? document.defaultView.getComputedStyle(elem, false)[property] : elem.currentStyle[property];&#125; æœ‰äº†è¿™ä¸ªæ–¹æ³•ä¹‹åŽï¼Œå°±å¯ä»¥å¼€å§‹åŠ¨æ‰‹å†™èŽ·å–ç›®æ ‡å…ƒç´ åˆå§‹ä½ç½®çš„æ–¹æ³•äº†ã€‚ 1234567891011121314151617181920212223242526272829function getTargetPos(elem) &#123; var pos = &#123;x: 0, y: 0&#125;; var transform = getTransform(); if(transform) &#123; var transformValue = getStyle(elem, transform); if(transformValue == 'none') &#123; elem.style[transform] = 'translate(0, 0)'; return pos; &#125; else &#123; var temp = transformValue.match(/-?\d+/g); return pos = &#123; x: parseInt(temp[4].trim()), y: parseInt(temp[5].trim()) &#125; &#125; &#125; else &#123; if(getStyle(elem, 'position') == 'static') &#123; elem.style.position = 'relative'; return pos; &#125; else &#123; var x = parseInt(getStyle(elem, 'left') ? getStyle(elem, 'left') : 0); var y = parseInt(getStyle(elem, 'top') ? getStyle(elem, 'top') : 0); return pos = &#123; x: x, y: y &#125; &#125; &#125;&#125; åœ¨æ‹–æ‹½è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸åœçš„è®¾ç½®ç›®æ ‡å…ƒç´ çš„æ–°ä½ç½®ï¼Œè¿™æ ·å®ƒæ‰ä¼šç§»åŠ¨èµ·æ¥ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè®¾ç½®ç›®æ ‡å…ƒç´ ä½ç½®çš„æ–¹æ³•ã€‚ 1234567891011// pos = &#123; x: 200, y: 100 &#125;function setTargetPos(elem, pos) &#123; var transform = getTransform(); if(transform) &#123; elem.style[transform] = 'translate('+ pos.x +'px, '+ pos.y +'px)'; &#125; else &#123; elem.style.left = pos.x + 'px'; elem.style.top = pos.y + 'px'; &#125; return elem;&#125; 5ã€æˆ‘ä»¬éœ€è¦ç”¨åˆ°å“ªäº›äº‹ä»¶ï¼Ÿåœ¨pcä¸Šçš„æµè§ˆå™¨ä¸­ï¼Œç»“åˆmousedownã€mousemoveã€mouseupè¿™ä¸‰ä¸ªäº‹ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®žçŽ°æ‹–æ‹½ã€‚ mousedown é¼ æ ‡æŒ‰ä¸‹æ—¶è§¦å‘ mousemove é¼ æ ‡æŒ‰ä¸‹åŽæ‹–åŠ¨æ—¶è§¦å‘ mouseup é¼ æ ‡æ¾å¼€æ—¶è§¦å‘ è€Œåœ¨ç§»åŠ¨ç«¯ï¼Œåˆ†åˆ«ä¸Žä¹‹å¯¹åº”çš„åˆ™æ˜¯touchstartã€touchmoveã€touchendã€‚ å½“æˆ‘ä»¬å°†å…ƒç´ ç»‘å®šè¿™äº›äº‹ä»¶æ—¶ï¼Œæœ‰ä¸€ä¸ªäº‹ä»¶å¯¹è±¡å°†ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™å›žè°ƒå‡½æ•°ï¼Œé€šè¿‡äº‹ä»¶å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å–åˆ°å½“å‰é¼ æ ‡çš„ç²¾ç¡®ä½ç½®ï¼Œé¼ æ ‡ä½ç½®ä¿¡æ¯æ˜¯å®žçŽ°æ‹–æ‹½çš„å…³é”®ã€‚ äº‹ä»¶å¯¹è±¡ååˆ†é‡è¦ï¼Œå…¶ä¸­åŒ…å«äº†éžå¸¸å¤šçš„æœ‰ç”¨çš„ä¿¡æ¯ï¼Œè¿™é‡Œæˆ‘å°±ä¸æ‰©å±•äº†ï¼Œå¤§å®¶å¯ä»¥åœ¨å‡½æ•°ä¸­å°†äº‹ä»¶å¯¹è±¡æ‰“å°å‡ºæ¥æŸ¥çœ‹å…¶ä¸­çš„å…·ä½“å±žæ€§ï¼Œè¿™ä¸ªæ–¹æ³•å¯¹äºŽè®°ä¸æ¸…äº‹ä»¶å¯¹è±¡é‡è¦å±žæ€§çš„ç«¥éž‹éžå¸¸æœ‰ç”¨ã€‚ 6ã€æ‹–æ‹½çš„åŽŸç†å½“äº‹ä»¶è§¦å‘æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äº‹ä»¶å¯¹è±¡èŽ·å–åˆ°é¼ æ ‡çš„ç²¾åˆ‡ä½ç½®ã€‚è¿™æ˜¯å®žçŽ°æ‹–æ‹½çš„å…³é”®ã€‚å½“é¼ æ ‡æŒ‰ä¸‹(mousedownè§¦å‘)æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è®°ä½é¼ æ ‡çš„åˆå§‹ä½ç½®ä¸Žç›®æ ‡å…ƒç´ çš„åˆå§‹ä½ç½®ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯å®žçŽ°å½“é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œç›®æ ‡å…ƒç´ ä¹Ÿè·Ÿç€ç§»åŠ¨ï¼Œæ ¹æ®å¸¸ç†æˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹å…³ç³»ï¼š 1ç§»åŠ¨åŽçš„é¼ æ ‡ä½ç½® - é¼ æ ‡åˆå§‹ä½ç½® = ç§»åŠ¨åŽçš„ç›®æ ‡å…ƒç´ ä½ç½® - ç›®æ ‡å…ƒç´ çš„åˆå§‹ä½ç½® å¦‚æžœé¼ æ ‡ä½ç½®çš„å·®å€¼æˆ‘ä»¬ç”¨disæ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆç›®æ ‡å…ƒç´ çš„ä½ç½®å°±ç­‰äºŽï¼š 1ç§»åŠ¨åŽç›®æ ‡å…ƒç´ çš„ä½ç½® = dis + ç›®æ ‡å…ƒç´ çš„åˆå§‹ä½ç½® é€šè¿‡äº‹ä»¶å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç²¾ç¡®çš„çŸ¥é“é¼ æ ‡çš„å½“å‰ä½ç½®ï¼Œå› æ­¤å½“é¼ æ ‡æ‹–åŠ¨(mousemove)æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸åœçš„è®¡ç®—å‡ºé¼ æ ‡ç§»åŠ¨çš„å·®å€¼ï¼Œä»¥æ­¤æ¥æ±‚å‡ºç›®æ ‡å…ƒç´ çš„å½“å‰ä½ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±å®žçŽ°äº†æ‹–æ‹½ã€‚ è€Œåœ¨é¼ æ ‡æ¾å¼€(mouseup)ç»“æŸæ‹–æ‹½æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†ä¸€äº›æ”¶å°¾å·¥ä½œã€‚è¯¦æƒ…è§ä»£ç ã€‚ 7ã€ æˆ‘åˆæ¥æŽ¨èæ€ç»´å¯¼å›¾è¾…åŠ©å†™ä»£ç äº†å¸¸å¸¸æœ‰æ–°äººæœ‹å‹è·‘æ¥é—®æˆ‘ï¼Œå¦‚æžœé€»è¾‘æ€ç»´èƒ½åŠ›ä¸å¼ºï¼Œèƒ½ä¸èƒ½å†™ä»£ç åšå‰ç«¯ã€‚æˆ‘çš„ç­”æ¡ˆæ˜¯ï¼šèƒ½ã€‚å› ä¸ºå€ŸåŠ©æ€ç»´å¯¼å›¾ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„å¼¥è¡¥é€»è¾‘çš„çŸ­æ¿ã€‚è€Œä¸”æ¯”åœ¨è‡ªå·±å¤´è„‘ä¸­è„‘è¡¥é€»è¾‘æ›´åŠ æ¸…æ™°æ˜Žäº†ï¼Œä¸æ˜“å‡ºé”™ã€‚ ä¸Šé¢ç¬¬å…­ç‚¹æˆ‘ä»‹ç»äº†åŽŸç†ï¼Œå› æ­¤å¦‚ä½•åšå°±æ˜¾å¾—ä¸æ˜¯é‚£ä¹ˆéš¾äº†ï¼Œè€Œå…·ä½“çš„æ­¥éª¤ï¼Œåˆ™åœ¨ä¸‹é¢çš„æ€ç»´å¯¼å›¾ä¸­æ˜Žç¡®ç»™å‡ºï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§è¿™ä¸ªæ­¥éª¤æ¥å†™ä»£ç å³å¯ï¼Œè¯•è¯•çœ‹ï¼Œä¸€å®šå¾ˆè½»æ¾ã€‚ 8ã€ä»£ç å®žçŽ°part1ã€å‡†å¤‡å·¥ä½œ 12345678910// èŽ·å–ç›®æ ‡å…ƒç´ å¯¹è±¡var oElem = document.getElementById('target');// å£°æ˜Ž2ä¸ªå˜é‡ç”¨æ¥ä¿å­˜é¼ æ ‡åˆå§‹ä½ç½®çš„xï¼Œyåæ ‡var startX = 0;var startY = 0;// å£°æ˜Ž2ä¸ªå˜é‡ç”¨æ¥ä¿å­˜ç›®æ ‡å…ƒç´ åˆå§‹ä½ç½®çš„xï¼Œyåæ ‡var sourceX = 0;var sourceY = 0; part2ã€åŠŸèƒ½å‡½æ•° å› ä¸ºä¹‹å‰å·²ç»è´´è¿‡ä»£ç ï¼Œå°±ä¸å†é‡å¤ 1234567891011// èŽ·å–å½“å‰æµè§ˆå™¨æ”¯æŒçš„transformå…¼å®¹å†™æ³•function getTransform() &#123;&#125;// èŽ·å–å…ƒç´ å±žæ€§function getStyle(elem, property) &#123;&#125;// èŽ·å–å…ƒç´ çš„åˆå§‹ä½ç½®function getTargetPos(elem) &#123;&#125;// è®¾ç½®å…ƒç´ çš„åˆå§‹ä½ç½®function setTargetPos(elem, potions) &#123;&#125; part3ã€å£°æ˜Žä¸‰ä¸ªäº‹ä»¶çš„å›žè°ƒå‡½æ•° è¿™ä¸‰ä¸ªæ–¹æ³•å°±æ˜¯å®žçŽ°æ‹–æ‹½çš„æ ¸å¿ƒæ‰€åœ¨ï¼Œæˆ‘å°†ä¸¥æ ¼æŒ‰ç…§ä¸Šé¢æ€ç»´å¯¼å›¾ä¸­çš„æ­¥éª¤æ¥å®Œæˆæˆ‘ä»¬çš„ä»£ç ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738// ç»‘å®šåœ¨mousedownä¸Šçš„å›žè°ƒï¼Œeventä¸ºä¼ å…¥çš„äº‹ä»¶å¯¹è±¡function start(event) &#123; // èŽ·å–é¼ æ ‡åˆå§‹ä½ç½® startX = event.pageX; startY = event.pageY; // èŽ·å–å…ƒç´ åˆå§‹ä½ç½® var pos = getTargetPos(oElem); sourceX = pos.x; sourceY = pos.y; // ç»‘å®š document.addEventListener('mousemove', move, false); document.addEventListener('mouseup', end, false);&#125;function move(event) &#123; // èŽ·å–é¼ æ ‡å½“å‰ä½ç½® var currentX = event.pageX; var currentY = event.pageY; // è®¡ç®—å·®å€¼ var distanceX = currentX - startX; var distanceY = currentY - startY; // è®¡ç®—å¹¶è®¾ç½®å…ƒç´ å½“å‰ä½ç½® setTargetPos(oElem, &#123; x: (sourceX + distanceX).toFixed(), y: (sourceY + distanceY).toFixed() &#125;)&#125;function end(event) &#123; document.removeEventListener('mousemove', move); document.removeEventListener('mouseup', end); // do other things&#125; OKï¼Œä¸€ä¸ªç®€å•çš„æ‹–æ‹½ï¼Œå°±è¿™æ ·æ„‰å¿«çš„å®žçŽ°äº†ã€‚ç‚¹å‡»ä¸‹é¢çš„é“¾æŽ¥ï¼Œå¯ä»¥åœ¨çº¿æŸ¥çœ‹è¯¥ä¾‹å­çš„demoã€‚ ä½¿ç”¨åŽŸç”Ÿjså®žçŽ°æ‹–æ‹½ 9ã€å°è£…æ‹–æ‹½å¯¹è±¡åœ¨å‰é¢ä¸€ç« æˆ‘ç»™å¤§å®¶åˆ†äº«äº†é¢å‘å¯¹è±¡å¦‚ä½•å®žçŽ°ï¼ŒåŸºäºŽé‚£äº›åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬æ¥å°†ä¸Šé¢å®žçŽ°çš„æ‹–æ‹½å°è£…ä¸ºä¸€ä¸ªæ‹–æ‹½å¯¹è±¡ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼Œåªè¦æˆ‘ä»¬å£°æ˜Žä¸€ä¸ªæ‹–æ‹½å®žä¾‹ï¼Œé‚£ä¹ˆä¼ å…¥çš„ç›®æ ‡å…ƒç´ å°†è‡ªåŠ¨å…·å¤‡å¯ä»¥è¢«æ‹–æ‹½çš„åŠŸèƒ½ã€‚ åœ¨å®žé™…å¼€å‘ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡æˆ‘ä»¬å¸¸å¸¸ä¼šå•ç‹¬æ”¾åœ¨ä¸€ä¸ªjsæ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªjsæ–‡ä»¶å°†å•ç‹¬ä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œåˆ©ç”¨å„ç§æ¨¡å—çš„æ–¹å¼ç»„ç»‡èµ·æ¥ä½¿ç”¨ã€‚å½“ç„¶è¿™é‡Œæ²¡æœ‰å¤æ‚çš„æ¨¡å—äº¤äº’ï¼Œå› ä¸ºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªæ¨¡å—å³å¯ã€‚ ä¸ºäº†é¿å…å˜é‡æ±¡æŸ“ï¼Œæˆ‘ä»¬éœ€è¦å°†æ¨¡å—æ”¾ç½®äºŽä¸€ä¸ªå‡½æ•°è‡ªæ‰§è¡Œæ–¹å¼æ¨¡æ‹Ÿçš„å—çº§ä½œç”¨åŸŸä¸­ã€‚ 1234;(function() &#123; ...&#125;)(); åœ¨æ™®é€šçš„æ¨¡å—ç»„ç»‡ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯å•çº¯çš„å°†è®¸å¤šjsæ–‡ä»¶åŽ‹ç¼©æˆä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œå› æ­¤æ­¤å¤„çš„ç¬¬ä¸€ä¸ªåˆ†å·åˆ™æ˜¯ä¸ºäº†é˜²æ­¢ä¸Šä¸€ä¸ªæ¨¡å—çš„ç»“å°¾ä¸ç”¨åˆ†å·å¯¼è‡´æŠ¥é”™ã€‚å¿…ä¸å¯å°‘ã€‚å½“ç„¶åœ¨é€šè¿‡requireæˆ–è€…ES6æ¨¡å—ç­‰æ–¹å¼å°±ä¸ä¼šå‡ºçŽ°è¿™æ ·çš„æƒ…å†µã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨å°è£…ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°†å±žæ€§ä¸Žæ–¹æ³•æ”¾ç½®äºŽæž„é€ å‡½æ•°æˆ–è€…åŽŸåž‹ä¸­ï¼Œè€Œåœ¨å¢žåŠ äº†è‡ªæ‰§è¡Œå‡½æ•°ä¹‹åŽï¼Œæˆ‘ä»¬åˆå¯ä»¥å°†å±žæ€§å’Œæ–¹æ³•é˜²æ­¢ä¸Žæ¨¡å—çš„å†…éƒ¨ä½œç”¨åŸŸã€‚è¿™æ˜¯é—­åŒ…çš„çŸ¥è¯†ã€‚ é‚£ä¹ˆæˆ‘ä»¬é¢ä¸´çš„æŒ‘æˆ˜å°±åœ¨äºŽï¼Œå¦‚ä½•åˆç†çš„å¤„ç†å±žæ€§ä¸Žæ–¹æ³•çš„ä½ç½®ã€‚ å½“ç„¶ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡çš„æƒ…å†µéƒ½ä¸ä¸€æ ·ï¼Œä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Œæˆ‘ä»¬éœ€è¦æ¸…æ™°çš„çŸ¥é“è¿™ä¸‰ç§ä½ç½®çš„ç‰¹æ€§æ‰èƒ½åšå‡ºæœ€é€‚åˆçš„å†³å®šã€‚ æž„é€ å‡½æ•°ä¸­ï¼š å±žæ€§ä¸Žæ–¹æ³•ä¸ºå½“å‰å®žä¾‹å•ç‹¬æ‹¥æœ‰ï¼Œåªèƒ½è¢«å½“å‰å®žä¾‹è®¿é—®ï¼Œå¹¶ä¸”æ¯å£°æ˜Žä¸€ä¸ªå®žä¾‹ï¼Œå…¶ä¸­çš„æ–¹æ³•éƒ½ä¼šè¢«é‡æ–°åˆ›å»ºä¸€æ¬¡ã€‚ åŽŸåž‹ä¸­ï¼š å±žæ€§ä¸Žæ–¹æ³•ä¸ºæ‰€æœ‰å®žä¾‹å…±åŒæ‹¥æœ‰ï¼Œå¯ä»¥è¢«æ‰€æœ‰å®žä¾‹è®¿é—®ï¼Œæ–°å£°æ˜Žå®žä¾‹ä¸ä¼šé‡å¤åˆ›å»ºæ–¹æ³•ã€‚ æ¨¡å—ä½œç”¨åŸŸä¸­ï¼šå±žæ€§å’Œæ–¹æ³•ä¸èƒ½è¢«ä»»ä½•å®žä¾‹è®¿é—®ï¼Œä½†æ˜¯èƒ½è¢«å†…éƒ¨æ–¹æ³•è®¿é—®ï¼Œæ–°å£°æ˜Žçš„å®žä¾‹ï¼Œä¸ä¼šé‡å¤åˆ›å»ºç›¸åŒçš„æ–¹æ³•ã€‚ å¯¹äºŽæ–¹æ³•çš„åˆ¤æ–­æ¯”è¾ƒç®€å•ã€‚ å› ä¸ºåœ¨æž„é€ å‡½æ•°ä¸­çš„æ–¹æ³•æ€»ä¼šåœ¨å£°æ˜Žä¸€ä¸ªæ–°çš„å®žä¾‹æ—¶è¢«é‡å¤åˆ›å»ºï¼Œå› æ­¤æˆ‘ä»¬å£°æ˜Žçš„æ–¹æ³•éƒ½å°½é‡é¿å…å‡ºçŽ°åœ¨æž„é€ å‡½æ•°ä¸­ã€‚ è€Œå¦‚æžœä½ çš„æ–¹æ³•ä¸­éœ€è¦ç”¨åˆ°æž„é€ å‡½æ•°ä¸­çš„å˜é‡ï¼Œæˆ–è€…æƒ³è¦å…¬å¼€ï¼Œé‚£å°±éœ€è¦æ”¾åœ¨åŽŸåž‹ä¸­ã€‚ å¦‚æžœæ–¹æ³•éœ€è¦ç§æœ‰ä¸è¢«å¤–ç•Œè®¿é—®ï¼Œé‚£ä¹ˆå°±æ”¾ç½®åœ¨æ¨¡å—ä½œç”¨åŸŸä¸­ã€‚ å¯¹äºŽå±žæ€§æ”¾ç½®äºŽä»€ä¹ˆä½ç½®æœ‰çš„æ—¶å€™å¾ˆéš¾åšå‡ºæ­£ç¡®çš„åˆ¤æ–­ï¼Œå› æ­¤æˆ‘å¾ˆéš¾ç»™å‡ºä¸€ä¸ªå‡†ç¡®çš„å®šä¹‰å‘Šè¯‰ä½ ä»€ä¹ˆå±žæ€§ä¸€å®šè¦æ”¾åœ¨ä»€ä¹ˆä½ç½®ï¼Œè¿™éœ€è¦åœ¨å®žé™…å¼€å‘ä¸­ä¸æ–­çš„æ€»ç»“ç»éªŒã€‚ä½†æ˜¯æ€»çš„æ¥è¯´ï¼Œä»ç„¶è¦ç»“åˆè¿™ä¸‰ä¸ªä½ç½®çš„ç‰¹æ€§æ¥åšå‡ºæœ€åˆé€‚çš„åˆ¤æ–­ã€‚ å¦‚æžœå±žæ€§å€¼åªèƒ½è¢«å®žä¾‹å•ç‹¬æ‹¥æœ‰ï¼Œæ¯”å¦‚personå¯¹è±¡çš„nameï¼Œåªèƒ½å±žäºŽæŸä¸€ä¸ªpersonå®žä¾‹ï¼Œåˆæ¯”å¦‚è¿™é‡Œæ‹–æ‹½å¯¹è±¡ä¸­ï¼ŒæŸä¸€ä¸ªå…ƒç´ çš„åˆå§‹ä½ç½®ï¼Œä¹Ÿä»…ä»…åªæ˜¯è¿™ä¸ªå…ƒç´ çš„å½“å‰ä½ç½®ï¼Œè¿™ä¸ªå±žæ€§ï¼Œåˆ™é€‚åˆæ”¾åœ¨æž„é€ å‡½æ•°ä¸­ã€‚ è€Œå¦‚æžœä¸€ä¸ªå±žæ€§ä»…ä»…ä¾›å†…éƒ¨æ–¹æ³•è®¿é—®ï¼Œè¿™ä¸ªå±žæ€§å°±é€‚åˆæ”¾åœ¨æ¨¡å—ä½œç”¨åŸŸä¸­ã€‚ å…³äºŽé¢å‘å¯¹è±¡ï¼Œä¸Šé¢çš„å‡ ç‚¹æ€è€ƒæˆ‘è®¤ä¸ºæ˜¯è¿™ç¯‡æ–‡ç« æœ€å€¼å¾—è®¤çœŸæ€è€ƒçš„ç²¾åŽã€‚å¦‚æžœåœ¨å°è£…æ—¶æ²¡æœ‰æ€è€ƒæ¸…æ¥šï¼Œå¾ˆå¯èƒ½ä¼šé‡åˆ°å¾ˆå¤šä½ æ„æƒ³ä¸åˆ°çš„bugï¼Œæ‰€ä»¥å»ºè®®å¤§å®¶ç»“åˆè‡ªå·±çš„å¼€å‘ç»éªŒï¼Œå¤šå¤šæ€è€ƒï¼Œæ€»ç»“å‡ºè‡ªå·±çš„è§‚ç‚¹ã€‚ æ ¹æ®è¿™äº›æ€è€ƒï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å°è¯•å°è£…ä¸€ä¸‹ã€‚ç„¶åŽä¸Žæˆ‘çš„åšä¸€äº›å¯¹æ¯”ï¼Œçœ‹çœ‹æˆ‘ä»¬çš„æƒ³æ³•æœ‰ä»€ä¹ˆä¸åŒï¼Œåœ¨ä¸‹é¢ä¾‹å­çš„æ³¨é‡Šä¸­ï¼Œæˆ‘å°†è‡ªå·±çš„æƒ³æ³•è¡¨è¾¾å‡ºæ¥ã€‚ ç‚¹å‡»æŸ¥çœ‹å·²ç»å°è£…å¥½çš„demo js æºç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132;(function() &#123; // è¿™æ˜¯ä¸€ä¸ªç§æœ‰å±žæ€§ï¼Œä¸éœ€è¦è¢«å®žä¾‹è®¿é—® var transform = getTransform(); function Drag(selector) &#123; // æ”¾åœ¨æž„é€ å‡½æ•°ä¸­çš„å±žæ€§ï¼Œéƒ½æ˜¯å±žäºŽæ¯ä¸€ä¸ªå®žä¾‹å•ç‹¬æ‹¥æœ‰ this.elem = typeof selector == 'Object' ? selector : document.getElementById(selector); this.startX = 0; this.startY = 0; this.sourceX = 0; this.sourceY = 0; this.init(); &#125; // åŽŸåž‹ Drag.prototype = &#123; constructor: Drag, init: function() &#123; // åˆå§‹æ—¶éœ€è¦åšäº›ä»€ä¹ˆäº‹æƒ… this.setDrag(); &#125;, // ç¨ä½œæ”¹é€ ï¼Œä»…ç”¨äºŽèŽ·å–å½“å‰å…ƒç´ çš„å±žæ€§ï¼Œç±»ä¼¼äºŽgetName getStyle: function(property) &#123; return document.defaultView.getComputedStyle ? document.defaultView.getComputedStyle(this.elem, false)[property] : this.elem.currentStyle[property]; &#125;, // ç”¨æ¥èŽ·å–å½“å‰å…ƒç´ çš„ä½ç½®ä¿¡æ¯ï¼Œæ³¨æ„ä¸Žä¹‹å‰çš„ä¸åŒä¹‹å¤„ getPosition: function() &#123; var pos = &#123;x: 0, y: 0&#125;; if(transform) &#123; var transformValue = this.getStyle(transform); if(transformValue == 'none') &#123; this.elem.style[transform] = 'translate(0, 0)'; &#125; else &#123; var temp = transformValue.match(/-?\d+/g); pos = &#123; x: parseInt(temp[4].trim()), y: parseInt(temp[5].trim()) &#125; &#125; &#125; else &#123; if(this.getStyle('position') == 'static') &#123; this.elem.style.position = 'relative'; &#125; else &#123; pos = &#123; x: parseInt(this.getStyle('left') ? this.getStyle('left') : 0), y: parseInt(this.getStyle('top') ? this.getStyle('top') : 0) &#125; &#125; &#125; return pos; &#125;, // ç”¨æ¥è®¾ç½®å½“å‰å…ƒç´ çš„ä½ç½® setPostion: function(pos) &#123; if(transform) &#123; this.elem.style[transform] = 'translate('+ pos.x +'px, '+ pos.y +'px)'; &#125; else &#123; this.elem.style.left = pos.x + 'px'; this.elem.style.top = pos.y + 'px'; &#125; &#125;, // è¯¥æ–¹æ³•ç”¨æ¥ç»‘å®šäº‹ä»¶ setDrag: function() &#123; var self = this; this.elem.addEventListener('mousedown', start, false); function start(event) &#123; self.startX = event.pageX; self.startY = event.pageY; var pos = self.getPosition(); self.sourceX = pos.x; self.sourceY = pos.y; document.addEventListener('mousemove', move, false); document.addEventListener('mouseup', end, false); &#125; function move(event) &#123; var currentX = event.pageX; var currentY = event.pageY; var distanceX = currentX - self.startX; var distanceY = currentY - self.startY; self.setPostion(&#123; x: (self.sourceX + distanceX).toFixed(), y: (self.sourceY + distanceY).toFixed() &#125;) &#125; function end(event) &#123; document.removeEventListener('mousemove', move); document.removeEventListener('mouseup', end); // do other things &#125; &#125; &#125; // ç§æœ‰æ–¹æ³•ï¼Œä»…ä»…ç”¨æ¥èŽ·å–transformçš„å…¼å®¹å†™æ³• function getTransform() &#123; var transform = '', divStyle = document.createElement('div').style, transformArr = ['transform', 'webkitTransform', 'MozTransform', 'msTransform', 'OTransform'], i = 0, len = transformArr.length; for(; i &lt; len; i++) &#123; if(transformArr[i] in divStyle) &#123; return transform = transformArr[i]; &#125; &#125; return transform; &#125; // ä¸€ç§å¯¹å¤–æš´éœ²çš„æ–¹å¼ window.Drag = Drag;&#125;)();// ä½¿ç”¨ï¼šå£°æ˜Ž2ä¸ªæ‹–æ‹½å®žä¾‹new Drag('target');new Drag('target2'); è¿™æ ·ä¸€ä¸ªæ‹–æ‹½å¯¹è±¡å°±å°è£…å®Œæ¯•äº†ã€‚ å»ºè®®å¤§å®¶æ ¹æ®æˆ‘æä¾›çš„æ€ç»´æ–¹å¼ï¼Œå¤šå¤šå°è¯•å°è£…ä¸€äº›ç»„ä»¶ã€‚æ¯”å¦‚å°è£…ä¸€ä¸ªå¼¹çª—ï¼Œå°è£…ä¸€ä¸ªå¾ªçŽ¯è½®æ’­ç­‰ã€‚ç»ƒå¾—å¤šäº†ï¼Œé¢å‘å¯¹è±¡å°±ä¸å†æ˜¯é—®é¢˜äº†ã€‚è¿™ç§æ€ç»´æ–¹å¼ï¼Œåœ¨æœªæ¥ä»»ä½•æ—¶å€™éƒ½æ˜¯èƒ½å¤Ÿç”¨åˆ°çš„ã€‚ ä¸‹ä¸€ç« åˆ†æžjQueryå¯¹è±¡çš„å®žçŽ°ï¼Œä¸Žå¦‚ä½•å°†æˆ‘ä»¬è¿™é‡Œå°è£…çš„æ‹–æ‹½å¯¹è±¡æ‰©å±•ä¸ºjQueryæ’ä»¶ã€‚]]></content>
      <categories>
        <category>é¢å‘å¯¹è±¡</category>
      </categories>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
        <tag>æ‹–æ‹½å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„é¢å‘å¯¹è±¡]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[å¦‚æžœè¦æˆ‘æ€»ç»“ä¸€ä¸‹å­¦ä¹ å‰ç«¯ä»¥æ¥æˆ‘é‡åˆ°äº†å“ªäº›ç“¶é¢ˆï¼Œé‚£ä¹ˆé¢å‘å¯¹è±¡ä¸€å®šæ˜¯ç¬¬ä¸€ä¸ªæ¯«ä¸çŠ¹è±«æƒ³åˆ°çš„ã€‚å°½ç®¡æˆ‘çŽ°åœ¨å¯¹äºŽé¢å‘å¯¹è±¡æœ‰äº†ä¸€äº›çš„äº†è§£ï¼Œä½†æ˜¯å½“åˆçš„é‚£ç§ä¼¼æ‡‚éžæ‡‚çš„ç—›è‹¦ï¼Œä¾ç„¶åŽ†åŽ†åœ¨ç›®ã€‚ ä¸ºäº†å¸®åŠ©å¤§å®¶èƒ½å¤Ÿæ›´åŠ ç›´è§‚çš„å­¦ä¹ å’Œäº†è§£é¢å‘å¯¹è±¡ï¼Œæˆ‘ä¼šç”¨å°½é‡ç®€å•æ˜“æ‡‚çš„æè¿°æ¥å±•ç¤ºé¢å‘å¯¹è±¡çš„ç›¸å…³çŸ¥è¯†ã€‚å¹¶ä¸”ä¹Ÿå‡†å¤‡äº†ä¸€äº›å®žç”¨çš„ä¾‹å­å¸®åŠ©å¤§å®¶æ›´åŠ å¿«é€Ÿçš„æŽŒæ¡é¢å‘å¯¹è±¡çš„çœŸè°›ã€‚ jQueryçš„é¢å‘å¯¹è±¡å®žçŽ° å°è£…æ‹–æ‹½ ç®€æ˜“ç‰ˆè¿åŠ¨æ¡†æž¶å°è£… è¿™å¯èƒ½ä¼šèŠ±ä¸€ç‚¹æ—¶é—´ï¼Œä½†æ˜¯å´å€¼å¾—æœŸå¾…ã€‚æ‰€ä»¥å¦‚æžœæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥æ¥ç®€ä¹¦å’Œå…¬ä¼—å·å…³æ³¨æˆ‘ã€‚ è€Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ¥èŠä¸€èŠå…³äºŽé¢å‘å¯¹è±¡çš„ä¸€äº›é‡è¦çš„åŸºæœ¬åŠŸã€‚ ä¸€ã€å¯¹è±¡çš„å®šä¹‰åœ¨ECMAScript-262ä¸­ï¼Œå¯¹è±¡è¢«å®šä¹‰ä¸ºâ€œæ— åºå±žæ€§çš„é›†åˆï¼Œå…¶å±žæ€§å¯ä»¥åŒ…å«åŸºæœ¬å€¼ï¼Œå¯¹è±¡æˆ–è€…å‡½æ•°â€ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨JavaScriptä¸­ï¼Œå¯¹è±¡æ— éžå°±æ˜¯ç”±ä¸€äº›åˆ—æ— åºçš„key-valueå¯¹ç»„æˆã€‚å…¶ä¸­valueå¯ä»¥æ˜¯åŸºæœ¬å€¼ï¼Œå¯¹è±¡æˆ–è€…å‡½æ•°ã€‚ 1234567// è¿™é‡Œçš„personå°±æ˜¯ä¸€ä¸ªå¯¹è±¡var person = &#123; name: 'Tom', age: 18, getName: function() &#123;&#125;, parent: &#123;&#125;&#125; åˆ›å»ºå¯¹è±¡æˆ‘ä»¬å¯ä»¥é€šè¿‡newçš„æ–¹å¼åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚ 1var obj = new Object(); ä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡å­—é¢é‡çš„å½¢å¼åˆ›å»ºä¸€ä¸ªç®€å•çš„å¯¹è±¡ã€‚ 1var obj = &#123;&#125;; å½“æˆ‘ä»¬æƒ³è¦ç»™æˆ‘ä»¬åˆ›å»ºçš„ç®€å•å¯¹è±¡æ·»åŠ æ–¹æ³•æ—¶ï¼Œå¯ä»¥è¿™æ ·è¡¨ç¤ºã€‚ 1234567891011121314// å¯ä»¥è¿™æ ·var person = &#123;&#125;;person.name = "TOM";person.getName = function() &#123; return this.name;&#125;// ä¹Ÿå¯ä»¥è¿™æ ·var person = &#123; name: "TOM", getName: function() &#123; return this.name; &#125;&#125; è®¿é—®å¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„å¯¹è±¡å¦‚ä¸‹ï¼š 1234567var person = &#123; name: 'TOM', age: '20', getName: function() &#123; return this.name &#125;&#125; å½“æˆ‘ä»¬æƒ³è¦è®¿é—®ä»–çš„nameå±žæ€§æ—¶ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼è®¿é—®ã€‚ 1234person.name// æˆ–è€…person['name'] å¦‚æžœæˆ‘ä»¬æƒ³è¦è®¿é—®çš„å±žæ€§åæ˜¯ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¸¸å¸¸ä¼šä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦åŒæ—¶è®¿é—®personçš„nameä¸Žageï¼Œå¯ä»¥è¿™æ ·å†™ï¼š 123['name', 'age'].forEach(function(item) &#123; console.log(person[item]);&#125;) è¿™ç§æ–¹å¼ä¸€å®šè¦é‡è§†ï¼Œè®°ä½å®ƒä»¥åŽåœ¨æˆ‘ä»¬å¤„ç†å¤æ‚æ•°æ®çš„æ—¶å€™ä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ äºŒã€å·¥åŽ‚æ¨¡å¼ä½¿ç”¨ä¸Šé¢çš„æ–¹å¼åˆ›å»ºå¯¹è±¡å¾ˆç®€å•ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šæ—¶å€™å¹¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚å°±ä»¥personå¯¹è±¡ä¸ºä¾‹ã€‚å‡å¦‚æˆ‘ä»¬åœ¨å®žé™…å¼€å‘ä¸­ï¼Œä¸ä»…ä»…éœ€è¦ä¸€ä¸ªåå­—å«åšTOMçš„personå¯¹è±¡ï¼ŒåŒæ—¶è¿˜éœ€è¦å¦å¤–ä¸€ä¸ªåä¸ºJakeçš„personå¯¹è±¡ï¼Œè™½ç„¶ä»–ä»¬æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¾—ä¸é‡å¤å†™ä¸¤æ¬¡ã€‚ 123456789101112131415var perTom = &#123; name: 'TOM', age: 20, getName: function() &#123; return this.name &#125;&#125;;var perJake = &#123; name: 'Jake', age: 22, getName: function() &#123; return this.name &#125;&#125; å¾ˆæ˜¾ç„¶è¿™å¹¶ä¸æ˜¯åˆç†çš„æ–¹å¼ï¼Œå½“ç›¸ä¼¼å¯¹è±¡å¤ªå¤šæ—¶ï¼Œå¤§å®¶éƒ½ä¼šå´©æºƒæŽ‰ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥åŽ‚æ¨¡å¼çš„æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é¡¾åæ€ä¹‰ï¼Œå·¥åŽ‚æ¨¡å¼å°±æ˜¯æˆ‘ä»¬æä¾›ä¸€ä¸ªæ¨¡å­ï¼Œç„¶åŽé€šè¿‡è¿™ä¸ªæ¨¡å­å¤åˆ¶å‡ºæˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ã€‚æˆ‘ä»¬éœ€è¦å¤šå°‘ä¸ªï¼Œå°±å¤åˆ¶å¤šå°‘ä¸ªã€‚ 123456789101112131415161718var createPerson = function(name, age) &#123; // å£°æ˜Žä¸€ä¸ªä¸­é—´å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°±æ˜¯å·¥åŽ‚æ¨¡å¼çš„æ¨¡å­ var o = new Object(); // ä¾æ¬¡æ·»åŠ æˆ‘ä»¬éœ€è¦çš„å±žæ€§ä¸Žæ–¹æ³• o.name = name; o.age = age; o.getName = function() &#123; return this.name; &#125; return o;&#125;// åˆ›å»ºä¸¤ä¸ªå®žä¾‹var perTom = createPerson('TOM', 20);var PerJake = createPerson('Jake', 22); ç›¸ä¿¡ä¸Šé¢çš„ä»£ç å¹¶ä¸éš¾ç†è§£ï¼Œä¹Ÿä¸ç”¨æŠŠå·¥åŽ‚æ¨¡å¼çœ‹å¾—å¤ªè¿‡é«˜å¤§ä¸Šã€‚å¾ˆæ˜¾ç„¶ï¼Œå·¥åŽ‚æ¨¡å¼å¸®åŠ©æˆ‘ä»¬è§£å†³äº†é‡å¤ä»£ç ä¸Šçš„éº»çƒ¦ï¼Œè®©æˆ‘ä»¬å¯ä»¥å†™å¾ˆå°‘çš„ä»£ç ï¼Œå°±èƒ½å¤Ÿåˆ›å»ºå¾ˆå¤šä¸ªpersonå¯¹è±¡ã€‚ä½†æ˜¯è¿™é‡Œè¿˜æœ‰ä¸¤ä¸ªéº»çƒ¦ï¼Œéœ€è¦æˆ‘ä»¬æ³¨æ„ã€‚ ç¬¬ä¸€ä¸ªéº»çƒ¦å°±æ˜¯è¿™æ ·å¤„ç†ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠžæ³•è¯†åˆ«å¯¹è±¡å®žä¾‹çš„ç±»åž‹ã€‚ä½¿ç”¨instanceofå¯ä»¥è¯†åˆ«å¯¹è±¡çš„ç±»åž‹ï¼Œå¦‚ä¸‹ä¾‹å­ï¼š 12345var obj = &#123;&#125;;var foo = function() &#123;&#125;console.log(obj instanceof Object); // trueconsole.log(foo instanceof Function); // true å› æ­¤åœ¨å·¥åŽ‚æ¨¡å¼çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æž„é€ å‡½æ•°çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªéº»çƒ¦ã€‚ ä¸‰ã€æž„é€ å‡½æ•°åœ¨JavaScriptä¸­ï¼Œnewå…³é”®å­—å¯ä»¥è®©ä¸€ä¸ªå‡½æ•°å˜å¾—ä¸Žä¼—ä¸åŒã€‚é€šè¿‡ä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ¥ä¸€æŽ¢newå…³é”®å­—çš„ç¥žå¥‡ä¹‹å¤„ã€‚ 123456function demo() &#123; console.log(this);&#125;demo(); // windownew demo(); // demo ä¸ºäº†èƒ½å¤Ÿç›´è§‚çš„æ„Ÿå—ä»–ä»¬ä¸åŒï¼Œå»ºè®®å¤§å®¶åŠ¨æ‰‹å®žè·µè§‚å¯Ÿä¸€ä¸‹ã€‚å¾ˆæ˜¾ç„¶ï¼Œä½¿ç”¨newä¹‹åŽï¼Œå‡½æ•°å†…éƒ¨å‘ç”Ÿäº†ä¸€äº›å˜åŒ–ï¼Œè®©thisæŒ‡å‘æ”¹å˜ã€‚é‚£ä¹ˆnewå…³é”®å­—åˆ°åº•åšäº†ä»€ä¹ˆäº‹æƒ…å‘¢ã€‚å—¯ï¼Œå…¶å®žæˆ‘ä¹‹å‰åœ¨æ–‡ç« é‡Œç”¨æ–‡å­—å¤§æ¦‚è¡¨è¾¾äº†ä¸€ä¸‹newåˆ°åº•å¹²äº†ä»€ä¹ˆï¼Œä½†æ˜¯ä¸€äº›åŒå­¦å¥½å¥‡å¿ƒå¾ˆè¶³ï¼Œæ€»æœŸæœ›ç”¨ä»£ç å®žçŽ°ä¸€ä¸‹ï¼Œæˆ‘å°±å¤§æ¦‚ä»¥æˆ‘çš„ç†è§£æ¥è¡¨è¾¾ä¸€ä¸‹å§ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738// å…ˆä¸€æœ¬æ­£ç»çš„åˆ›å»ºä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œå…¶å®žè¯¥å‡½æ•°ä¸Žæ™®é€šå‡½æ•°å¹¶æ— åŒºåˆ«var Person = function(name, age) &#123; this.name = name; this.age = age; this.getName = function() &#123; return this.name; &#125;&#125;// å°†æž„é€ å‡½æ•°ä»¥å‚æ•°å½¢å¼ä¼ å…¥function New(func) &#123; // å£°æ˜Žä¸€ä¸ªä¸­é—´å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸ºæœ€ç»ˆè¿”å›žçš„å®žä¾‹ var res = &#123;&#125;; if (func.prototype !== null) &#123; // å°†å®žä¾‹çš„åŽŸåž‹æŒ‡å‘æž„é€ å‡½æ•°çš„åŽŸåž‹ res.__proto__ = func.prototype; &#125; // retä¸ºæž„é€ å‡½æ•°æ‰§è¡Œçš„ç»“æžœï¼Œè¿™é‡Œé€šè¿‡applyï¼Œå°†æž„é€ å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘ä¿®æ”¹ä¸ºæŒ‡å‘resï¼Œå³ä¸ºå®žä¾‹å¯¹è±¡ var ret = func.apply(res, Array.prototype.slice.call(arguments, 1)); // å½“æˆ‘ä»¬åœ¨æž„é€ å‡½æ•°ä¸­æ˜Žç¡®æŒ‡å®šäº†è¿”å›žå¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆnewçš„æ‰§è¡Œç»“æžœå°±æ˜¯è¯¥è¿”å›žå¯¹è±¡ if ((typeof ret === "object" || typeof ret === "function") &amp;&amp; ret !== null) &#123; return ret; &#125; // å¦‚æžœæ²¡æœ‰æ˜Žç¡®æŒ‡å®šè¿”å›žå¯¹è±¡ï¼Œåˆ™é»˜è®¤è¿”å›žresï¼Œè¿™ä¸ªreså°±æ˜¯å®žä¾‹å¯¹è±¡ return res;&#125;// é€šè¿‡newå£°æ˜Žåˆ›å»ºå®žä¾‹ï¼Œè¿™é‡Œçš„p1ï¼Œå®žé™…æŽ¥æ”¶çš„æ­£æ˜¯newä¸­è¿”å›žçš„resvar p1 = New(Person, 'tom', 20);console.log(p1.getName());// å½“ç„¶ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥åˆ¤æ–­å‡ºå®žä¾‹çš„ç±»åž‹äº†console.log(p1 instanceof Person); // true JavaScriptå†…éƒ¨å†é€šè¿‡å…¶ä»–çš„ä¸€äº›ç‰¹æ®Šå¤„ç†ï¼Œå°†var p1 = New(Person, &#39;tom&#39;, 20); ç­‰æ•ˆäºŽvar p1 = new Person(&#39;tom&#39;, 20);ã€‚å°±æ˜¯æˆ‘ä»¬è®¤è¯†çš„newå…³é”®å­—äº†ã€‚å…·ä½“æ€Žä¹ˆå¤„ç†çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œåˆ«åˆ¨æ ¹é—®åº•äº†ï¼Œä¸€ç›´å›žç­”ä¸‹åŽ»å¤ªéš¾ - -ï¼ è€å®žè®²ï¼Œä½ å¯èƒ½å¾ˆéš¾åœ¨å…¶ä»–åœ°æ–¹çœ‹åˆ°æœ‰å¦‚æ­¤æ˜Žç¡®çš„å‘Šè¯‰ä½ newå…³é”®å­—åˆ°åº•å¯¹æž„é€ å‡½æ•°å¹²äº†ä»€ä¹ˆçš„æ–‡ç« äº†ã€‚ç†è§£äº†è¿™æ®µä»£ç ï¼Œä½ å¯¹JavaScriptçš„ç†è§£åˆæ¯”åˆ«äººæ·±åˆ»äº†ä¸€åˆ†ï¼Œæ‰€ä»¥ï¼Œä¸€æœ¬æ­£ç»åŽšé¢œæ— è€»æ±‚ä¸ªèµžå¯å¥½ï¼Ÿ å½“ç„¶ï¼Œå¾ˆå¤šæœ‹å‹ç”±äºŽå¯¹äºŽå‰é¢å‡ ç¯‡æ–‡ç« çš„çŸ¥è¯†ç†è§£ä¸å¤Ÿåˆ°ä½ï¼Œä¼šå¯¹newçš„å®žçŽ°è¡¨ç¤ºéžå¸¸å›°æƒ‘ã€‚ä½†æ˜¯è€å®žè®²ï¼Œå¦‚æžœä½ è¯»äº†æˆ‘çš„å‰é¢å‡ ç¯‡æ–‡ç« ï¼Œä¸€å®šä¼šå¯¹è¿™é‡Œnewçš„å®žçŽ°æœ‰ä¼¼æ›¾ç›¸è¯†çš„æ„Ÿè§‰ã€‚è€Œä¸”æˆ‘è¿™é‡Œå·²ç»å°½åŠ›åšäº†è¯¦ç»†çš„æ³¨è§£ï¼Œå‰©ä¸‹çš„åªèƒ½é ä½ è‡ªå·±äº†ã€‚ ä½†æ˜¯åªè¦ä½ èŠ±ç‚¹æ—¶é—´ï¼Œç†è§£äº†ä»–çš„åŽŸç†ï¼Œé‚£ä¹ˆå›°æ‰°äº†æ— æ•°äººçš„æž„é€ å‡½æ•°ä¸­thisåˆ°åº•æŒ‡å‘è°å°±å˜å¾—éžå¸¸ç®€å•äº†ã€‚ æ‰€ä»¥ï¼Œä¸ºäº†èƒ½å¤Ÿåˆ¤æ–­å®žä¾‹ä¸Žå¯¹è±¡çš„å…³ç³»ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨æž„é€ å‡½æ•°æ¥æžå®šã€‚ 123456789101112var Person = function(name, age) &#123; this.name = name; this.age = age; this.getName = function() &#123; return this.name; &#125;&#125;var p1 = new Person('Ness', 20);console.log(p1.getName()); // Nessconsole.log(p1 instanceof Person); // true å…³äºŽæž„é€ å‡½æ•°ï¼Œå¦‚æžœä½ æš‚æ—¶ä¸èƒ½å¤Ÿç†è§£newçš„å…·ä½“å®žçŽ°ï¼Œå°±å…ˆè®°ä½ä¸‹é¢è¿™å‡ ä¸ªç»“è®ºå§ã€‚ ä¸Žæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œæž„é€ å‡½æ•°å¹¶æ²¡æœ‰ä»»ä½•ç‰¹åˆ«çš„åœ°æ–¹ï¼Œé¦–å­—æ¯å¤§å†™åªæ˜¯æˆ‘ä»¬çº¦å®šçš„å°è§„å®šï¼Œç”¨äºŽåŒºåˆ†æ™®é€šå‡½æ•°ï¼› newå…³é”®å­—è®©æž„é€ å‡½æ•°å…·æœ‰äº†ä¸Žæ™®é€šå‡½æ•°ä¸åŒçš„è®¸å¤šç‰¹ç‚¹ï¼Œè€Œnewçš„è¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œäº†å¦‚ä¸‹è¿‡ç¨‹ï¼š å£°æ˜Žä¸€ä¸ªä¸­é—´å¯¹è±¡ï¼› å°†è¯¥ä¸­é—´å¯¹è±¡çš„åŽŸåž‹æŒ‡å‘æž„é€ å‡½æ•°çš„åŽŸåž‹ï¼› å°†æž„é€ å‡½æ•°çš„thisï¼ŒæŒ‡å‘è¯¥ä¸­é—´å¯¹è±¡ï¼› è¿”å›žè¯¥ä¸­é—´å¯¹è±¡ï¼Œå³è¿”å›žå®žä¾‹å¯¹è±¡ã€‚ å››ã€åŽŸåž‹è™½ç„¶æž„é€ å‡½æ•°è§£å†³äº†åˆ¤æ–­å®žä¾‹ç±»åž‹çš„é—®é¢˜ï¼Œä½†æ˜¯ï¼Œè¯´åˆ°åº•ï¼Œè¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¤åˆ¶è¿‡ç¨‹ã€‚è·Ÿå·¥åŽ‚æ¨¡å¼é¢‡æœ‰ç›¸ä¼¼ä¹‹å¤„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬å£°æ˜Žäº†100ä¸ªpersonå¯¹è±¡ï¼Œé‚£ä¹ˆå°±æœ‰100ä¸ªgetNameæ–¹æ³•è¢«é‡æ–°ç”Ÿæˆã€‚ è¿™é‡Œçš„æ¯ä¸€ä¸ªgetNameæ–¹æ³•å®žçŽ°çš„åŠŸèƒ½å…¶å®žæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œä½†æ˜¯ç”±äºŽåˆ†åˆ«å±žäºŽä¸åŒçš„å®žä¾‹ï¼Œå°±ä¸å¾—ä¸ä¸€ç›´ä¸åœçš„ä¸ºgetNameåˆ†é…ç©ºé—´ã€‚è¿™å°±æ˜¯å·¥åŽ‚æ¨¡å¼å­˜åœ¨çš„ç¬¬äºŒä¸ªéº»çƒ¦ã€‚ æ˜¾ç„¶è¿™æ˜¯ä¸åˆç†çš„ã€‚æˆ‘ä»¬æœŸæœ›çš„æ˜¯ï¼Œæ—¢ç„¶éƒ½æ˜¯å®žçŽ°åŒä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½å°±è®©æ¯ä¸€ä¸ªå®žä¾‹å¯¹è±¡éƒ½è®¿é—®åŒä¸€ä¸ªæ–¹æ³•ï¼Ÿ å½“ç„¶èƒ½ï¼Œè¿™å°±æ˜¯åŽŸåž‹å¯¹è±¡è¦å¸®æˆ‘ä»¬è§£å†³çš„é—®é¢˜äº†ã€‚ æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½å¯ä»¥æœ‰ä¸€ä¸ªprototypeå±žæ€§ï¼Œè¯¥å±žæ€§æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯æˆ‘ä»¬è¿™é‡Œè¯´çš„åŽŸåž‹ã€‚ å½“æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œé€‰æ‹©æ€§çš„å°†ä¸€äº›å±žæ€§å’Œæ–¹æ³•é€šè¿‡prototypeå±žæ€§ï¼ŒæŒ‚è½½åœ¨åŽŸåž‹å¯¹è±¡ä¸Šã€‚è€Œæ¯ä¸€ä¸ªnewå‡ºæ¥çš„å®žä¾‹ï¼Œéƒ½æœ‰ä¸€ä¸ª__proto__å±žæ€§ï¼Œè¯¥å±žæ€§æŒ‡å‘æž„é€ å‡½æ•°çš„åŽŸåž‹å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå±žæ€§ï¼Œè®©å®žä¾‹å¯¹è±¡ä¹Ÿèƒ½å¤Ÿè®¿é—®åŽŸåž‹å¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚å› æ­¤ï¼Œå½“æ‰€æœ‰çš„å®žä¾‹éƒ½èƒ½å¤Ÿé€šè¿‡__proto__è®¿é—®åˆ°åŽŸåž‹å¯¹è±¡æ—¶ï¼ŒåŽŸåž‹å¯¹è±¡çš„æ–¹æ³•ä¸Žå±žæ€§å°±å˜æˆäº†å…±æœ‰æ–¹æ³•ä¸Žå±žæ€§ã€‚ æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­ä¸Žå›¾ç¤ºï¼Œæ¥äº†è§£æž„é€ å‡½æ•°ï¼Œå®žä¾‹ä¸ŽåŽŸåž‹ä¸‰è€…ä¹‹é—´çš„å…³ç³»ã€‚ ç”±äºŽæ¯ä¸ªå‡½æ•°éƒ½å¯ä»¥æ˜¯æž„é€ å‡½æ•°ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æ˜¯åŽŸåž‹å¯¹è±¡ï¼Œå› æ­¤å¦‚æžœåœ¨ç†è§£åŽŸåž‹ä¹‹åˆå°±æƒ³çš„å¤ªå¤šå¤ªå¤æ‚çš„è¯ï¼Œåè€Œä¼šé˜»ç¢ä½ çš„ç†è§£ï¼Œè¿™é‡Œæˆ‘ä»¬è¦å­¦ä¼šå…ˆç®€åŒ–å®ƒä»¬ã€‚å°±å•çº¯çš„å‰–æžè¿™ä¸‰è€…çš„å…³ç³»ã€‚ 1234567891011121314// å£°æ˜Žæž„é€ å‡½æ•°function Person(name, age) &#123; this.name = name; this.age = age;&#125;// é€šè¿‡prototyeå±žæ€§ï¼Œå°†æ–¹æ³•æŒ‚è½½åˆ°åŽŸåž‹å¯¹è±¡ä¸ŠPerson.prototype.getName = function() &#123; return this.name;&#125;var p1 = new Person('tim', 10);var p2 = new Person('jak', 22);console.log(p1.getName === p2.getName); // true é€šè¿‡å›¾ç¤ºæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæž„é€ å‡½æ•°çš„prototypeä¸Žæ‰€æœ‰å®žä¾‹å¯¹è±¡çš„__proto__éƒ½æŒ‡å‘åŽŸåž‹å¯¹è±¡ã€‚è€ŒåŽŸåž‹å¯¹è±¡çš„constructoræŒ‡å‘æž„é€ å‡½æ•°ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä»Žå›¾ä¸­çœ‹å‡ºï¼Œå®žä¾‹å¯¹è±¡å®žé™…ä¸Šå¯¹å‰é¢æˆ‘ä»¬æ‰€è¯´çš„ä¸­é—´å¯¹è±¡çš„å¤åˆ¶ï¼Œè€Œä¸­é—´å¯¹è±¡ä¸­çš„å±žæ€§ä¸Žæ–¹æ³•éƒ½åœ¨æž„é€ å‡½æ•°ä¸­æ·»åŠ ã€‚äºŽæ˜¯æ ¹æ®æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†åœ¨æž„é€ å‡½æ•°ä¸­ï¼Œé€šè¿‡thiså£°æ˜Žçš„å±žæ€§ä¸Žæ–¹æ³•ç§°ä¸ºç§æœ‰å˜é‡ä¸Žæ–¹æ³•ï¼Œå®ƒä»¬è¢«å½“å‰è¢«æŸä¸€ä¸ªå®žä¾‹å¯¹è±¡æ‰€ç‹¬æœ‰ã€‚è€Œé€šè¿‡åŽŸåž‹å£°æ˜Žçš„å±žæ€§ä¸Žæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºå…±æœ‰å±žæ€§ä¸Žæ–¹æ³•ï¼Œå®ƒä»¬å¯ä»¥è¢«æ‰€æœ‰çš„å®žä¾‹å¯¹è±¡è®¿é—®ã€‚ å½“æˆ‘ä»¬è®¿é—®å®žä¾‹å¯¹è±¡ä¸­çš„å±žæ€§æˆ–è€…æ–¹æ³•æ—¶ï¼Œä¼šä¼˜å…ˆè®¿é—®å®žä¾‹å¯¹è±¡è‡ªèº«çš„å±žæ€§å’Œæ–¹æ³•ã€‚ 123456789101112131415function Person(name, age) &#123; this.name = name; this.age = age; this.getName = function() &#123; console.log('this is constructor.'); &#125;&#125;Person.prototype.getName = function() &#123; return this.name;&#125;var p1 = new Person('tim', 10);p1.getName(); // this is constructor. åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åŒæ—¶åœ¨åŽŸåž‹ä¸Žæž„é€ å‡½æ•°ä¸­éƒ½å£°æ˜Žäº†ä¸€ä¸ªgetNameå‡½æ•°ï¼Œè¿è¡Œä»£ç çš„ç»“æžœè¡¨ç¤ºåŽŸåž‹ä¸­çš„è®¿é—®å¹¶æ²¡æœ‰è¢«è®¿é—®ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡inæ¥åˆ¤æ–­ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ‹¥æœ‰æŸä¸€ä¸ªå±žæ€§/æ–¹æ³•ï¼Œæ— è®ºæ˜¯è¯¥å±žæ€§/æ–¹æ³•å­˜åœ¨ä¸Žå®žä¾‹å¯¹è±¡è¿˜æ˜¯åŽŸåž‹å¯¹è±¡ã€‚ 123456789101112function Person(name, age) &#123; this.name = name; this.age = age;&#125;Person.prototype.getName = function() &#123; return this.name;&#125;var p1 = new Person('tim', 10);console.log('name' in p1); // true inçš„è¿™ç§ç‰¹æ€§æœ€å¸¸ç”¨çš„åœºæ™¯ä¹‹ä¸€ï¼Œå°±æ˜¯åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦åœ¨ç§»åŠ¨ç«¯æ‰“å¼€ã€‚ 123isMobile = 'ontouchstart' in document;// å¾ˆå¤šäººå–œæ¬¢ç”¨æµè§ˆå™¨UAçš„æ–¹å¼æ¥åˆ¤æ–­ï¼Œä½†å¹¶ä¸æ˜¯å¾ˆå¥½çš„æ–¹å¼ æ›´ç®€å•çš„åŽŸåž‹å†™æ³• æ ¹æ®å‰é¢ä¾‹å­çš„å†™æ³•ï¼Œå¦‚æžœæˆ‘ä»¬è¦åœ¨åŽŸåž‹ä¸Šæ·»åŠ æ›´å¤šçš„æ–¹æ³•ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š 123456function Person() &#123;&#125;Person.prototype.getName = function() &#123;&#125;Person.prototype.getAge = function() &#123;&#125;Person.prototype.sayHello = function() &#123;&#125;... ... é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜å¯ä»¥ä½¿ç”¨æ›´ä¸ºç®€å•çš„å†™æ³•ã€‚ 12345678function Person() &#123;&#125;Person.prototype = &#123; constructor: Person, getName: function() &#123;&#125;, getAge: function() &#123;&#125;, sayHello: function() &#123;&#125;&#125; è¿™ç§å­—é¢é‡çš„å†™æ³•çœ‹ä¸ŠåŽ»ç®€å•å¾ˆå¤šï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªéœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹ã€‚Person.prototype = {}å®žé™…ä¸Šæ˜¯é‡æ–°åˆ›å»ºäº†ä¸€ä¸ª{}å¯¹è±¡å¹¶èµ‹å€¼ç»™Person.prototypeï¼Œè¿™é‡Œçš„{}å¹¶ä¸æ˜¯æœ€åˆçš„é‚£ä¸ªåŽŸåž‹å¯¹è±¡ã€‚å› æ­¤å®ƒé‡Œé¢å¹¶ä¸åŒ…å«constructorå±žæ€§ã€‚ä¸ºäº†ä¿è¯æ­£ç¡®æ€§ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ–°åˆ›å»ºçš„{}å¯¹è±¡ä¸­æ˜¾ç¤ºçš„è®¾ç½®constructorçš„æŒ‡å‘ã€‚å³ä¸Šé¢çš„constructor: Personã€‚ äº”ã€åŽŸåž‹é“¾åŽŸåž‹å¯¹è±¡å…¶å®žä¹Ÿæ˜¯æ™®é€šçš„å¯¹è±¡ã€‚å‡ ä¹Žæ‰€æœ‰çš„å¯¹è±¡éƒ½å¯èƒ½æ˜¯åŽŸåž‹å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½æ˜¯å®žä¾‹å¯¹è±¡ï¼Œè€Œä¸”è¿˜å¯ä»¥åŒæ—¶æ˜¯åŽŸåž‹å¯¹è±¡ä¸Žå®žä¾‹å¯¹è±¡ã€‚è¿™æ ·çš„ä¸€ä¸ªå¯¹è±¡ï¼Œæ­£æ˜¯æž„æˆåŽŸåž‹é“¾çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å› æ­¤ç†è§£äº†åŽŸåž‹ï¼Œé‚£ä¹ˆåŽŸåž‹é“¾å¹¶ä¸æ˜¯ä¸€ä¸ªå¤šä¹ˆå¤æ‚çš„æ¦‚å¿µã€‚ æˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå«åštoStringçš„æ–¹æ³•ã€‚é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆ°åº•æ˜¯åœ¨å“ªé‡Œçš„å‘¢ï¼Ÿ å…ˆéšæ„å£°æ˜Žä¸€ä¸ªå‡½æ•°ï¼š 1function add() &#123;&#125; é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹çš„å›¾æ¥è¡¨ç¤ºè¿™ä¸ªå‡½æ•°çš„åŽŸåž‹é“¾ã€‚ å…¶ä¸­addæ˜¯Functionå¯¹è±¡çš„å®žä¾‹ã€‚è€ŒFunctionçš„åŽŸåž‹å¯¹è±¡åŒæ—¶åˆæ˜¯ObjectåŽŸåž‹çš„å®žä¾‹ã€‚è¿™æ ·å°±æž„æˆäº†ä¸€æ¡åŽŸåž‹é“¾ã€‚åŽŸåž‹é“¾çš„è®¿é—®ï¼Œå…¶å®žè·Ÿä½œç”¨åŸŸé“¾æœ‰å¾ˆå¤§çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€æ¬¡å•å‘çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚å› æ­¤å®žä¾‹å¯¹è±¡èƒ½å¤Ÿé€šè¿‡åŽŸåž‹é“¾ï¼Œè®¿é—®åˆ°å¤„äºŽåŽŸåž‹é“¾ä¸Šå¯¹è±¡çš„æ‰€æœ‰å±žæ€§ä¸Žæ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯fooæœ€ç»ˆèƒ½å¤Ÿè®¿é—®åˆ°å¤„äºŽObjectåŽŸåž‹å¯¹è±¡ä¸Šçš„toStringæ–¹æ³•çš„åŽŸå› ã€‚ åŸºäºŽåŽŸåž‹é“¾çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„å®žçŽ°ç»§æ‰¿ã€‚ å…­ã€ç»§æ‰¿æˆ‘ä»¬å¸¸å¸¸ç»“åˆæž„é€ å‡½æ•°ä¸ŽåŽŸåž‹æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚å› ä¸ºæž„é€ å‡½æ•°ä¸ŽåŽŸåž‹çš„ä¸åŒç‰¹æ€§ï¼Œåˆ†åˆ«è§£å†³äº†æˆ‘ä»¬ä¸åŒçš„å›°æ‰°ã€‚å› æ­¤å½“æˆ‘ä»¬æƒ³è¦å®žçŽ°ç»§æ‰¿æ—¶ï¼Œå°±å¿…é¡»å¾—æ ¹æ®æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹çš„ä¸åŒè€Œé‡‡å–ä¸åŒçš„ç­–ç•¥ã€‚ æˆ‘ä»¬å£°æ˜Žä¸€ä¸ªPersonå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†ä½œä¸ºçˆ¶çº§ï¼Œè€Œå­çº§cPersonå°†è¦ç»§æ‰¿Personçš„æ‰€æœ‰å±žæ€§ä¸Žæ–¹æ³•ã€‚ 12345678function Person(name, age) &#123; this.name = name; this.age = age;&#125;Person.prototype.getName = function() &#123; return this.name;&#125; é¦–å…ˆæˆ‘ä»¬æ¥çœ‹æž„é€ å‡½æ•°çš„ç»§æ‰¿ã€‚åœ¨ä¸Šé¢æˆ‘ä»¬å·²ç»ç†è§£äº†æž„é€ å‡½æ•°çš„æœ¬è´¨ï¼Œå®ƒå…¶å®žæ˜¯åœ¨newå†…éƒ¨å®žçŽ°çš„ä¸€ä¸ªå¤åˆ¶è¿‡ç¨‹ã€‚è€Œæˆ‘ä»¬åœ¨ç»§æ‰¿æ—¶æƒ³è¦çš„ï¼Œå°±æ˜¯æƒ³çˆ¶çº§æž„é€ å‡½æ•°ä¸­çš„æ“ä½œåœ¨å­çº§çš„æž„é€ å‡½æ•°ä¸­é‡çŽ°ä¸€éå³å¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡callæ–¹æ³•æ¥è¾¾åˆ°ç›®çš„ã€‚ 12345// æž„é€ å‡½æ•°çš„ç»§æ‰¿function cPerson(name, age, job) &#123; Person.call(this, name, age); this.job = job;&#125; è€ŒåŽŸåž‹çš„ç»§æ‰¿ï¼Œåˆ™åªéœ€è¦å°†å­çº§çš„åŽŸåž‹å¯¹è±¡è®¾ç½®ä¸ºçˆ¶çº§çš„ä¸€ä¸ªå®žä¾‹ï¼ŒåŠ å…¥åˆ°åŽŸåž‹é“¾ä¸­å³å¯ã€‚ 12345// ç»§æ‰¿åŽŸåž‹cPerson.prototype = new Person(name, age);// æ·»åŠ æ›´å¤šæ–¹æ³•cPerson.prototype.getLive = function() &#123;&#125; å½“ç„¶å…³äºŽç»§æ‰¿è¿˜æœ‰æ›´å¥½çš„æ–¹å¼ã€‚ ä¸ƒã€æ›´å¥½çš„ç»§æ‰¿å‡è®¾åŽŸåž‹é“¾çš„ç»ˆç‚¹Object.prototypeä¸ºåŽŸåž‹é“¾çš„E(end)ç«¯ï¼ŒåŽŸåž‹é“¾çš„èµ·ç‚¹ä¸ºS(start)ç«¯ã€‚ é€šè¿‡å‰é¢åŽŸåž‹é“¾çš„å­¦ä¹ æˆ‘ä»¬çŸ¥é“ï¼Œå¤„äºŽSç«¯çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡S -&gt; Eçš„å•å‘æŸ¥æ‰¾ï¼Œè®¿é—®åˆ°åŽŸåž‹é“¾ä¸Šçš„æ‰€æœ‰æ–¹æ³•ä¸Žå±žæ€§ã€‚å› æ­¤è¿™ç»™ç»§æ‰¿æä¾›äº†ç†è®ºåŸºç¡€ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨Sç«¯æ·»åŠ æ–°çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å°±èƒ½å¤Ÿé€šè¿‡åŽŸåž‹é“¾è®¿é—®åˆ°çˆ¶çº§çš„æ–¹æ³•ä¸Žå±žæ€§ã€‚å› æ­¤æƒ³è¦å®žçŽ°ç»§æ‰¿ï¼Œæ˜¯ä¸€ä»¶éžå¸¸ç®€å•çš„äº‹æƒ…ã€‚ å› ä¸ºå°è£…ä¸€ä¸ªå¯¹è±¡ç”±æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹å…±åŒç»„æˆï¼Œå› æ­¤ç»§æ‰¿ä¹Ÿä¼šåˆ†åˆ«æœ‰æž„é€ å‡½æ•°çš„ç»§æ‰¿ä¸ŽåŽŸåž‹çš„ç»§æ‰¿ã€‚ å‡è®¾æˆ‘ä»¬å·²ç»å°è£…å¥½äº†ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡Personã€‚å¦‚ä¸‹ã€‚ 123456789101112var Person = function(name, age) &#123; this.name = name; this.age = age;&#125;Person.prototype.getName = function() &#123; return this.name;&#125;Person.prototype.getAge = function() &#123; return this.age;&#125; æž„é€ å‡½æ•°çš„ç»§æ‰¿æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©call/applyæ¥å®žçŽ°ã€‚å‡è®¾æˆ‘ä»¬è¦é€šè¿‡ç»§æ‰¿å°è£…ä¸€ä¸ªStudentçš„å­ç±»å¯¹è±¡ã€‚é‚£ä¹ˆæž„é€ å‡½æ•°å¯ä»¥å¦‚ä¸‹å®žçŽ°ã€‚ 12345678910111213var Student = function(name, age, grade) &#123; // é€šè¿‡callæ–¹æ³•è¿˜åŽŸPersonæž„é€ å‡½æ•°ä¸­çš„æ‰€æœ‰å¤„ç†é€»è¾‘ Student.call(Person, name, age); this.grade = grade;&#125;// ç­‰ä»·äºŽvar Student = function(name, age, grade) &#123; this.name = name; this.age = age; this.grade = grade;&#125; åŽŸåž‹çš„ç»§æ‰¿åˆ™ç¨å¾®éœ€è¦ä¸€ç‚¹æ€è€ƒã€‚é¦–å…ˆæˆ‘ä»¬åº”è¯¥è€ƒè™‘ï¼Œå¦‚ä½•å°†å­ç±»å¯¹è±¡çš„åŽŸåž‹åŠ å…¥åˆ°åŽŸåž‹é“¾ä¸­ï¼Ÿæˆ‘ä»¬åªéœ€è¦è®©å­ç±»å¯¹è±¡çš„åŽŸåž‹ï¼Œæˆä¸ºçˆ¶ç±»å¯¹è±¡çš„ä¸€ä¸ªå®žä¾‹ï¼Œç„¶åŽé€šè¿‡__proto__å°±å¯ä»¥è®¿é—®çˆ¶ç±»å¯¹è±¡çš„åŽŸåž‹ã€‚è¿™æ ·å°±ç»§æ‰¿äº†çˆ¶ç±»åŽŸåž‹ä¸­çš„æ–¹æ³•ä¸Žå±žæ€§äº†ã€‚ å› æ­¤æˆ‘ä»¬å¯ä»¥å…ˆå°è£…ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ ¹æ®çˆ¶ç±»å¯¹è±¡çš„åŽŸåž‹åˆ›å»ºä¸€ä¸ªå®žä¾‹ï¼Œè¯¥å®žä¾‹å°†ä¼šä½œä¸ºå­ç±»å¯¹è±¡çš„åŽŸåž‹ã€‚ 1234567891011function create(proto, options) &#123; // åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ var tmp = &#123;&#125;; // è®©è¿™ä¸ªæ–°çš„ç©ºå¯¹è±¡æˆä¸ºçˆ¶ç±»å¯¹è±¡çš„å®žä¾‹ tmp.__proto__ = proto; // ä¼ å…¥çš„æ–¹æ³•éƒ½æŒ‚è½½åˆ°æ–°å¯¹è±¡ä¸Šï¼Œæ–°çš„å¯¹è±¡å°†ä½œä¸ºå­ç±»å¯¹è±¡çš„åŽŸåž‹ Object.defineProperties(tmp, options); return tmp;&#125; ç®€å•å°è£…äº†createå¯¹è±¡ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•æ¥å®žçŽ°åŽŸåž‹çš„ç»§æ‰¿äº†ã€‚ 1234567891011Student.prototype = create(Person.prototype, &#123; // ä¸è¦å¿˜äº†é‡æ–°æŒ‡å®šæž„é€ å‡½æ•° constructor: &#123; value: Student &#125; getGrade: &#123; value: function() &#123; return this.grade &#125; &#125;&#125;) é‚£ä¹ˆæˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹æˆ‘ä»¬è¿™é‡Œå®žçŽ°çš„ç»§æ‰¿æ˜¯å¦æ­£ç¡®ã€‚ 12345var s1 = new Student('ming', 22, 5);console.log(s1.getName()); // mingconsole.log(s1.getAge()); // 22console.log(s1.getGrade()); // 5 å…¨éƒ¨éƒ½èƒ½æ­£å¸¸è®¿é—®ï¼Œæ²¡é—®é¢˜ã€‚åœ¨ECMAScript5ä¸­ç›´æŽ¥æä¾›äº†ä¸€ä¸ªObject.createæ–¹æ³•æ¥å®Œæˆæˆ‘ä»¬ä¸Šé¢è‡ªå·±å°è£…çš„createçš„åŠŸèƒ½ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æŽ¥ä½¿ç”¨Object.create. 1234567891011Student.prototype = create(Person.prototype, &#123; // ä¸è¦å¿˜äº†é‡æ–°æŒ‡å®šæž„é€ å‡½æ•° constructor: &#123; value: Student &#125; getGrade: &#123; value: function() &#123; return this.grade &#125; &#125;&#125;) å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536function Person(name, age) &#123; this.name = name; this.age = age;&#125;Person.prototype.getName = function() &#123; return this.name&#125;Person.prototype.getAge = function() &#123; return this.age;&#125;function Student(name, age, grade) &#123; // æž„é€ å‡½æ•°ç»§æ‰¿ Person.call(this, name, age); this.grade = grade;&#125;// åŽŸåž‹ç»§æ‰¿Student.prototype = Object.create(Person.prototype, &#123; // ä¸è¦å¿˜äº†é‡æ–°æŒ‡å®šæž„é€ å‡½æ•° constructor: &#123; value: Student &#125; getGrade: &#123; value: function() &#123; return this.grade &#125; &#125;&#125;)var s1 = new Student('ming', 22, 5);console.log(s1.getName()); // mingconsole.log(s1.getAge()); // 22console.log(s1.getGrade()); // 5 å…«ã€å±žæ€§ç±»åž‹åœ¨ä¸Šé¢çš„ç»§æ‰¿å®žçŽ°ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå¤§å®¶å¯èƒ½ä¸å¤ªç†Ÿæ‚‰çš„æ–¹æ³•definePropertiesã€‚å¹¶ä¸”åœ¨å®šä¹‰getGradeæ—¶ä½¿ç”¨äº†ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„æ–¹å¼ã€‚ 12345getGrade: &#123; value: function() &#123; return this.grade &#125;&#125; è¿™å…¶å®žæ˜¯å¯¹è±¡ä¸­çš„å±žæ€§ç±»åž‹ã€‚åœ¨æˆ‘ä»¬å¹³å¸¸çš„ä½¿ç”¨ä¸­ï¼Œç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªå±žæ€§æ—¶ï¼Œç›´æŽ¥ä½¿ç”¨object.paramçš„æ–¹å¼å°±å¯ä»¥äº†ï¼Œæˆ–è€…ç›´æŽ¥åœ¨å¯¹è±¡ä¸­æŒ‚è½½ã€‚ 123var person = &#123; name: 'TOM'&#125; åœ¨ECMAScript5ä¸­ï¼Œå¯¹æ¯ä¸ªå±žæ€§éƒ½æ·»åŠ äº†å‡ ä¸ªå±žæ€§ç±»åž‹ï¼Œæ¥æè¿°è¿™äº›å±žæ€§çš„ç‰¹ç‚¹ã€‚ä»–ä»¬åˆ†åˆ«æ˜¯ configurable: è¡¨ç¤ºè¯¥å±žæ€§æ˜¯å¦èƒ½è¢«deleteåˆ é™¤ã€‚å½“å…¶å€¼ä¸ºfalseæ—¶ï¼Œå…¶ä»–çš„ç‰¹æ€§ä¹Ÿä¸èƒ½è¢«æ”¹å˜ã€‚é»˜è®¤å€¼ä¸ºtrue enumerable: æ˜¯å¦èƒ½æžšä¸¾ã€‚ä¹Ÿå°±æ˜¯æ˜¯å¦èƒ½è¢«for-inéåŽ†ã€‚é»˜è®¤å€¼ä¸ºtrue writable: æ˜¯å¦èƒ½ä¿®æ”¹å€¼ã€‚é»˜è®¤ä¸ºtrue value: è¯¥å±žæ€§çš„å…·ä½“å€¼æ˜¯å¤šå°‘ã€‚é»˜è®¤ä¸ºundefined get: å½“æˆ‘ä»¬é€šè¿‡person.nameè®¿é—®nameçš„å€¼æ—¶ï¼Œgetå°†è¢«è°ƒç”¨ã€‚è¯¥æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰è¿”å›žçš„å…·ä½“å€¼æ—¶å¤šå°‘ã€‚geté»˜è®¤å€¼ä¸ºundefined set: å½“æˆ‘ä»¬é€šè¿‡person.name = &#39;Jake&#39;è®¾ç½®nameçš„å€¼æ—¶ï¼Œsetæ–¹æ³•å°†è¢«è°ƒç”¨ã€‚è¯¥æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰è®¾ç½®å€¼çš„å…·ä½“æ–¹å¼ã€‚seté»˜è®¤å€¼ä¸ºundefined éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸èƒ½åŒæ—¶è®¾ç½®valueã€writable ä¸Ž getã€setçš„å€¼ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡Object.definePropertyæ–¹æ³•æ¥ä¿®æ”¹è¿™äº›å±žæ€§ç±»åž‹ã€‚ ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€äº›ç®€å•çš„ä¾‹å­æ¥æ¼”ç¤ºä¸€ä¸‹è¿™äº›å±žæ€§ç±»åž‹çš„å…·ä½“è¡¨çŽ°ã€‚ configurable 1234567891011121314151617181920212223// ç”¨æ™®é€šçš„æ–¹å¼ç»™personå¯¹è±¡æ·»åŠ ä¸€ä¸ªnameå±žæ€§ï¼Œå€¼ä¸ºTOMvar person = &#123; name: 'TOM'&#125;// ä½¿ç”¨deleteåˆ é™¤è¯¥å±žæ€§delete person.name; // è¿”å›žtrue è¡¨ç¤ºåˆ é™¤æˆåŠŸ// é€šè¿‡Object.definePropertyé‡æ–°æ·»åŠ nameå±žæ€§// å¹¶è®¾ç½®nameçš„å±žæ€§ç±»åž‹çš„configurableä¸ºfalseï¼Œè¡¨ç¤ºä¸èƒ½å†ç”¨deleteåˆ é™¤Object.defineProperty(person, 'name', &#123; configurable: false, value: 'Jake' // è®¾ç½®nameå±žæ€§çš„å€¼&#125;)// å†æ¬¡deleteï¼Œå·²ç»ä¸èƒ½åˆ é™¤äº†delete person.name // falseconsole.log(person.name) // å€¼ä¸ºJake// è¯•å›¾æ”¹å˜valueperson.name = "alex";console.log(person.name) // Jake æ”¹å˜å¤±è´¥ enumerable 123456789101112131415161718192021222324252627var person = &#123; name: 'TOM', age: 20&#125;// ä½¿ç”¨for-inæžšä¸¾personçš„å±žæ€§var params = [];for(var key in person) &#123; params.push(key);&#125;// æŸ¥çœ‹æžšä¸¾ç»“æžœconsole.log(params); // ['name', 'age']// é‡æ–°è®¾ç½®nameå±žæ€§çš„ç±»åž‹ï¼Œè®©å…¶ä¸å¯è¢«æžšä¸¾Object.defineProperty(person, 'name', &#123; enumerable: false&#125;)var params_ = [];for(var key in person) &#123; params_.push(key)&#125;// å†æ¬¡æŸ¥çœ‹æžšä¸¾ç»“æžœconsole.log(params_); // ['age'] writable 12345678910111213141516171819var person = &#123; name: 'TOM'&#125;// ä¿®æ”¹nameçš„å€¼person.name = 'Jake';// æŸ¥çœ‹ä¿®æ”¹ç»“æžœconsole.log(person.name); // Jake ä¿®æ”¹æˆåŠŸ// è®¾ç½®nameçš„å€¼ä¸èƒ½è¢«ä¿®æ”¹Object.defineProperty(person, 'name', &#123; writable: false&#125;)// å†æ¬¡è¯•å›¾ä¿®æ”¹nameçš„å€¼person.name = 'alex';console.log(person.name); // Jake ä¿®æ”¹å¤±è´¥ value 12345678var person = &#123;&#125;// æ·»åŠ ä¸€ä¸ªnameå±žæ€§Object.defineProperty(person, 'name', &#123; value: 'TOM'&#125;)console.log(person.name) // TOM get/set 12345678910111213141516171819202122var person = &#123;&#125;// é€šè¿‡getä¸Žsetè‡ªå®šä¹‰è®¿é—®ä¸Žè®¾ç½®nameå±žæ€§çš„æ–¹å¼Object.defineProperty(person, 'name', &#123; get: function() &#123; // ä¸€ç›´è¿”å›žTOM return 'TOM' &#125;, set: function(value) &#123; // è®¾ç½®nameå±žæ€§æ—¶ï¼Œè¿”å›žè¯¥å­—ç¬¦ä¸²ï¼Œvalueä¸ºæ–°å€¼ console.log(value + ' in set'); &#125;&#125;)// ç¬¬ä¸€æ¬¡è®¿é—®nameï¼Œè°ƒç”¨getconsole.log(person.name) // TOM// å°è¯•ä¿®æ”¹nameå€¼ï¼Œæ­¤æ—¶setæ–¹æ³•è¢«è°ƒç”¨person.name = 'alex' // alex in set// ç¬¬äºŒæ¬¡è®¿é—®nameï¼Œè¿˜æ˜¯è°ƒç”¨getconsole.log(person.name) // TOM è¯·å°½é‡åŒæ—¶è®¾ç½®getã€setã€‚å¦‚æžœä»…ä»…åªè®¾ç½®äº†getï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†æ— æ³•è®¾ç½®è¯¥å±žæ€§å€¼ã€‚å¦‚æžœä»…ä»…åªè®¾ç½®äº†setï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•è¯»å–è¯¥å±žæ€§çš„å€¼ã€‚ Object.definePropertyåªèƒ½è®¾ç½®ä¸€ä¸ªå±žæ€§çš„å±žæ€§ç‰¹æ€§ã€‚å½“æˆ‘ä»¬æƒ³è¦åŒæ—¶è®¾ç½®å¤šä¸ªå±žæ€§çš„ç‰¹æ€§æ—¶ï¼Œéœ€è¦ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡çš„Object.defineProperties 12345678910111213141516171819var person = &#123;&#125;Object.defineProperties(person, &#123; name: &#123; value: 'Jake', configurable: true &#125;, age: &#123; get: function() &#123; return this.value || 22 &#125;, set: function(value) &#123; this.value = value &#125; &#125;&#125;)person.name // Jakeperson.age // 22 è¯»å–å±žæ€§çš„ç‰¹æ€§å€¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Object.getOwnPropertyDescriptoræ–¹æ³•è¯»å–æŸä¸€ä¸ªå±žæ€§çš„ç‰¹æ€§å€¼ã€‚ 123456789101112131415161718var person = &#123;&#125;Object.defineProperty(person, 'name', &#123; value: 'alex', writable: false, configurable: false&#125;)var descripter = Object.getOwnPropertyDescriptor(person, 'name');console.log(descripter); // è¿”å›žç»“æžœå¦‚ä¸‹descripter = &#123; configurable: false, enumerable: false, value: 'alex', writable: false&#125; ä¹ã€æ€»ç»“ å…³äºŽé¢å‘å¯¹è±¡çš„åŸºç¡€çŸ¥è¯†å¤§æ¦‚å°±æ˜¯è¿™äº›äº†ã€‚æˆ‘ä»Žæœ€ç®€å•çš„åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¼€å§‹ï¼Œè§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹ï¼Œç†è§£äº†è¿™å…¶ä¸­çš„ç»†èŠ‚ï¼Œæœ‰åŠ©äºŽæˆ‘ä»¬åœ¨å®žé™…å¼€å‘ä¸­çµæ´»çš„ç»„ç»‡è‡ªå·±çš„å¯¹è±¡ã€‚å› ä¸ºæˆ‘ä»¬å¹¶ä¸æ˜¯æ‰€æœ‰çš„åœºæ™¯éƒ½ä¼šä½¿ç”¨æž„é€ å‡½æ•°æˆ–è€…åŽŸåž‹æ¥åˆ›å»ºå¯¹è±¡ï¼Œä¹Ÿè®¸æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡å¹¶ä¸ä¼šå£°æ˜Žå¤šä¸ªå®žä¾‹ï¼Œæˆ–è€…ä¸ç”¨åŒºåˆ†å¯¹è±¡çš„ç±»åž‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©æ›´ç®€å•çš„æ–¹å¼ã€‚ æˆ‘ä»¬è¿˜éœ€è¦å…³æ³¨æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹çš„å„è‡ªç‰¹æ€§ï¼Œæœ‰åŠ©äºŽæˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶å‡†ç¡®çš„åˆ¤æ–­æˆ‘ä»¬çš„å±žæ€§ä¸Žæ–¹æ³•åˆ°åº•æ˜¯æ”¾åœ¨æž„é€ å‡½æ•°ä¸­è¿˜æ˜¯æ”¾åœ¨åŽŸåž‹ä¸­ã€‚å¦‚æžœæ²¡æœ‰ç†è§£æ¸…æ¥šï¼Œè¿™ä¼šç»™æˆ‘ä»¬åœ¨å®žé™…å¼€å‘ä¸­é€ æˆéžå¸¸å¤§çš„å›°æ‰°ã€‚ æœ€åŽæŽ¥ä¸‹æ¥çš„å‡ ç¯‡æ–‡ç« ï¼Œæˆ‘ä¼šæŒ‘å‡ ä¸ªé¢å‘å¯¹è±¡çš„ä¾‹å­ï¼Œç»§ç»­å¸®åŠ©å¤§å®¶æŽŒæ¡é¢å‘å¯¹è±¡çš„å®žé™…è¿ç”¨ã€‚]]></content>
      <categories>
        <category>é¢å‘å¯¹è±¡</category>
      </categories>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„è¯¦è§£ES6]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E8%AF%A6%E8%A7%A3ES6%2F</url>
    <content type="text"><![CDATA[å¯¹äºŽæ–°äººæœ‹å‹æ¥è¯´ï¼Œæƒ³è¦è‡ªå·±åŽ»æžå®šä¸€ä¸ªES6å¼€å‘çŽ¯å¢ƒå¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ï¼Œå› ä¸ºæž„å»ºå·¥å…·çš„å­¦ä¹ æœ¬èº«åˆæ˜¯ä¸€ä¸ªéžå¸¸å¤§çš„æ–¹å‘ï¼Œæˆ‘ä»¬éœ€è¦èŠ±è´¹ä¸å°‘çš„æ—¶é—´æ‰èƒ½æŽŒæ¡å®ƒã€‚ å¥½åœ¨æ…¢æ…¢çš„å¼€å§‹æœ‰å¤§ç¥žæä¾›äº†ä¸€äº›éžå¸¸ç®€å•æ˜“æ‡‚ï¼Œå­¦ä¹ æˆæœ¬éžå¸¸ä½Žçš„è§£å†³æ–¹æ¡ˆæ¥å¸®åŠ©å¤§å®¶å­¦ä¹ ã€‚create-react-appå°±æ˜¯è¿™äº›è§£å†³æ–¹æ¡ˆä¸­ï¼Œä¸ªäººè®¤ä¸ºæœ€ç®€å•æ˜“æ‡‚çš„ä¸€ç§æ–¹å¼ã€‚ æ‰€ä»¥åœ¨å­¦ä¹ ES6 modulesä¹‹å‰ï¼Œå…ˆè·Ÿå¤§å®¶ä»‹ç»ä¸€ä¸‹create-react-appçš„å®‰è£…ä¸Žä½¿ç”¨ã€‚ å°½ç®¡create-react-appçš„ç›®çš„æ˜¯ç”¨äºŽå¼€å‘reactç¨‹åºï¼Œä½†æ˜¯æˆ‘ä»¬ä»…ä»…åªç”¨æ¥å­¦ä¹ ES6æ˜¯å†åˆé€‚ä¸è¿‡äº†ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥å€ŸåŠ©vue-cliæ¥å­¦ä¹ ï¼ŒåŒæ ·ååˆ†ç®€å•ã€‚ 1ã€ç¡®ä¿è‡ªå·±çš„æœ¬åœ°çŽ¯å¢ƒå·²ç»å®‰è£…äº†nodeä¸Žnpmé€šå¸¸å®‰è£…çš„æ–¹å¼å°±æ˜¯åŽ»nodeçš„å®˜æ–¹ç½‘ç«™ä¸‹è½½å®‰è£…ï¼Œåœ¨å®‰è£…nodeçš„æ—¶å€™ï¼Œnpmä¹Ÿä¼šä¸€èµ·è¢«å®‰è£…ã€‚ ä¸‹è½½åœ°å€ï¼š http://nodejs.cn/download/ 2ã€å®‰è£…ä¸€ä¸ªå¥½ç”¨çš„å‘½ä»¤è¡Œå·¥å…·åœ¨windowsçŽ¯å¢ƒä¸‹ï¼Œç³»ç»Ÿé»˜è®¤çš„cmdéžå¸¸éš¾ç”¨ï¼Œæ‰€ä»¥æˆ‘ä¸ªäººæ¯”è¾ƒæŽ¨èå¤§å®¶ä½¿ç”¨git.bash æˆ–è€… cmderã€‚ git ä¸‹è½½åœ°å€ï¼š https://git-scm.com/downloadsåœ¨gitå®‰è£…ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ªbashå·¥å…·ï¼Œæ‰¾åˆ°å®‰è£…ç›®å½•ç›´æŽ¥ä½¿ç”¨å³å¯ã€‚ cmderä¸‹è½½åœ°å€ï¼š http://cmder.net/ åœ¨macä¸Šå°±æ–¹ä¾¿å¾ˆå¤šäº†ï¼Œä½ å¯ä»¥ç›´æŽ¥ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„terminalå·¥å…·ï¼Œå°±éžå¸¸å¥½ç”¨ã€‚ä½†æ˜¯ä¸€èˆ¬æˆ‘æŽ¨èå¤§å®¶ä½¿ç”¨iterm2ï¼Œå¹¶å®‰è£…oh my zshæ’ä»¶ã€‚å…·ä½“çš„é…ç½®å¤§å®¶å¯ä»¥è‡ªå·±åŽ»æŠ˜è…¾ï¼Œç½‘ä¸Šçš„æ•™ç¨‹åº”è¯¥è¶³å¤Ÿå¸®åŠ©ä½ æžå®šè¿™ä¸€åˆ‡äº†ã€‚ iterm2 ä¸‹è½½åœ°å€ http://www.iterm2.com/downloads.html oh my zsh ä¸»é¢˜é€‰æ‹© https://github.com/robbyrussell/oh-my-zsh/wiki/External-themes å¦å¤–è¿˜å¼ºçƒˆæŽ¨èä¸€æ¬¾è¶…é«˜é¢œå€¼çš„ç»ˆç«¯å·¥å…· hyperTermã€‚ è¿™æ¬¾å·¥å…·çš„ç‰¹è‰²å°±æ˜¯é¢œå€¼é«˜ï¼Œç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯æƒŠè‰³ï¼Œå¤§å®¶ä¸å¦¨ä¸€è¯•ã€‚ hyperTerm ä¸‹è½½åœ°å€ https://hyper.is/ 3ã€å®‰è£…create-react-appåœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­ä½¿ç”¨æŸ¥çœ‹ç‰ˆæœ¬çš„æ–¹å¼ç¡®ä¿nodeä¸Žnpméƒ½å®‰è£…å¥½ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥å®‰è£…create-react-appäº†ã€‚ 12345&gt; node -v// è¾“å‡ºnodeç‰ˆæœ¬å·&gt; npm -v// è¾“å‡ºnpmç‰ˆæœ¬å· ä½¿ç”¨npmå…¨å±€å®‰è£…create-react-app 1&gt; npm install create-react-app -g ç„¶åŽæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨create-react-appæ¥åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªé¡¹ç›®ã€‚ æ‰¾åˆ°ä¸€ä¸ªä½ è¦å­˜æ”¾é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œå‡è®¾å«åšdevelopï¼Œè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ã€‚ 1&gt; create-react-app es6app create-react-appä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬åœ¨developç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå«åšes6appçš„æ–‡ä»¶å¤¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ–°åˆ›å»ºçš„é¡¹ç›®ã€‚ å½“é¡¹ç›®åˆ›å»ºå®Œæˆä¹‹åŽï¼Œåœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚å›¾æ‰€ç¤ºçš„æç¤ºã€‚è¿™äº›æç¤ºå‘Šè¯‰äº†æˆ‘ä»¬å¦‚ä½•è¿è¡Œé¡¹ç›®npm start ï¼Œå¦‚ä½•æ‰“åŒ…é¡¹ç›®npm run buildç­‰ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†èµ˜è¿°ã€‚ é¡¹ç›®åˆ›å»ºå®Œæ¯•ä¹‹åŽï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹ã€‚ 1234&gt; cd es6app// æŸ¥çœ‹æ–‡ä»¶å¤¹é‡Œçš„å†…å®¹&gt; ls æˆ‘ä»¬ä¼šå‘çŽ°é‡Œé¢æœ‰ä¸€ä¸ªå«åšpackage.jsonçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶é‡ŒåŒ…å«äº†é¡¹ç›®æ‰€éœ€è¦çš„æ‰€æœ‰ä¾èµ–ã€‚å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¿è¡Œé¡¹ç›®ä¹‹å‰ï¼Œè¿˜éœ€è¦å®‰è£…è¯¥æ–‡ä»¶é‡Œçš„ä¾èµ–åŒ…ã€‚ 1&gt; npm install å®‰è£…å®Œæ¯•ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨è¯¥é¡¹ç›®äº†ã€‚ 1&gt; npm start ä¸€èˆ¬æ¥è¯´ï¼Œå¯åŠ¨ä¹‹åŽä¼šè‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚ create-react-appå·²ç»è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬å®žçŽ°äº†çƒ­æ›´æ–°ï¼Œå› æ­¤å½“æˆ‘ä»¬ä¿®æ”¹ä»£ç æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ›´æ–°ã€‚å½“ç„¶ï¼Œå¦‚æžœæˆ‘ä»¬ä»…ä»…åªæ˜¯ä¿®æ”¹é¡µé¢æ ·å¼æ—¶ï¼Œçƒ­æ›´æ–°å°†ä¼šéžå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æžœä½ æ­£åœ¨è¿›è¡Œå•é¡µé¢çš„ç»„ä»¶å¼€å‘ï¼Œå¯èƒ½çƒ­æ›´æ–°èƒ½å¤Ÿæä¾›çš„å¸®åŠ©éžå¸¸æœ‰é™ã€‚ 4ã€è®¤è¯†é¡¹ç›®åªè¦æˆ‘ä»¬æŒ‰ç…§æž„å»ºå·¥å…·çš„è§„åˆ™è¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆæž„å»ºå·¥å…·ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬å°†ä»£ç è¿›è¡Œæ•´åˆï¼Œå› æ­¤åœ¨è¯¥é¡¹ç›®ä¸­å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦è‡ªå·±æ¥ä½¿ç”¨scriptæˆ–è€…linkæ ‡ç­¾æ¥å¼•å…¥jsä¸Žcssï¼Œæ‰€ä»¥è®¤è¯†create-react-appçš„è§„åˆ™å°±å˜å¾—å¾ˆé‡è¦ã€‚ åˆæ¬¡åˆ›å»ºçš„é¡¹ç›®ä¸‹ï¼Œä¼šæœ‰3ä¸ªæ–‡ä»¶å¤¹ã€‚ node_modulesé¡¹ç›®ä¾èµ–åŒ…å­˜æ”¾ä½ç½®ã€‚å½“æˆ‘ä»¬è¿è¡Œnpm installå®‰è£…package.jsonä¸­çš„ä¾èµ–åŒ…æ—¶ï¼Œè¯¥æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œæ‰€æœ‰çš„ä¾èµ–åŒ…ä¼šå®‰è£…åˆ°è¯¥æ–‡ä»¶å¤¹é‡Œã€‚ publicä¸»è¦çš„ä½œç”¨æ˜¯htmlå…¥å£æ–‡ä»¶çš„å­˜æ”¾ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å­˜æ”¾å…¶ä»–å…¬ç”¨çš„é™æ€èµ„æºï¼Œå¦‚å›¾ç‰‡ï¼Œcssç­‰ã€‚å…¶ä¸­çš„index.htmlå°±æ˜¯æˆ‘ä»¬é¡¹ç›®çš„å…¥å£htmlæ–‡ä»¶ srcç»„ä»¶çš„å­˜æ”¾ç›®å½•ã€‚åœ¨create-react-appåˆ›å»ºçš„é¡¹ç›®ä¸­ï¼Œæ¯ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶éƒ½å¯ä»¥è¢«çœ‹æˆä¸€ä¸ªå•ç‹¬çš„æ¨¡å—ï¼Œå•ç‹¬çš„imageï¼Œå•ç‹¬çš„cssï¼Œå•ç‹¬jsç­‰ï¼Œè€Œæ‰€æœ‰çš„ç»„ä»¶éƒ½å­˜æ”¾äºŽsrcç›®å½•ä¸­ï¼Œå…¶ä¸­index.jsåˆ™æ˜¯jsçš„å…¥å£æ–‡ä»¶ã€‚è™½ç„¶æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨index.htmlä¸­ä½¿ç”¨scriptæ ‡ç­¾å¼•å…¥ä»–ï¼Œä½†æ˜¯ä»–çš„ä½œç”¨å°±å’Œæ­¤ä¸€æ ·ã€‚ å½“ç„¶ï¼Œå¦‚æžœæˆ‘ä»¬è¦è¿›ä¸€æ­¥è¿›è¡Œreactçš„å­¦ä¹ ï¼Œé‚£ä¹ˆè‚¯å®šéœ€è¦äº†è§£å¤šä¸€ç‚¹çš„è§„åˆ™ï¼Œä½†æ˜¯åœ¨å­¦ä¹ reactä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆæŠŠES6 modulesçš„çŸ¥è¯†æžå®šåœ¨è¯´å§ï¼Œæ‰€ä»¥ï¼ŒæŽ¥ä¸‹æ¥ä½ è¦åšçš„äº‹æƒ…å°±æ˜¯ï¼Œåˆ æŽ‰srcç›®å½•é‡Œçš„é™¤äº†index.jsä¹‹å¤–çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶æ¸…ç©ºindex.jsï¼Œæˆ‘ä»¬ä»Ž0å¼€å§‹å­¦ä¹ ES6 modulesã€‚ ä¸ºäº†ç¡®ä¿ç¨‹åºä»ç„¶èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œæˆ‘ä»¬åœ¨index.jsä¸­éšä¾¿å†™ç‚¹ä»£ç æµ‹è¯•ä¸€ä¸‹ 12const app = document.querySelector('#root')app.innerHTML = 'å•Šï¼Œå…¨éƒ¨è¢«æ¸…ç©ºå•¦ï¼Œå‡†å¤‡å·¥ä½œç»ˆäºŽåšå®Œäº†ï¼Œå¯ä»¥å¼€å§‹å­¦ä¹ ES6å•¦' é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™ä¸ªçŽ¯å¢ƒä¸‹å­¦ä¹ ES6çš„æ‰€æœ‰çŸ¥è¯†äº†ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬ES6 modulesã€‚ ES6 modules1. å¼•å…¥æ¨¡å—é¦–å…ˆåœ¨srcç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtest.jsï¼Œåœ¨test.jsä¸­æˆ‘ä»¬éšä¾¿å¹²ç‚¹ä»€ä¹ˆç®€å•çš„äº‹æƒ…å³å¯ã€‚ 12// src/test.jsconsole.log('your first module'); åœ¨index.jsä¸­é€šè¿‡importå¼•å…¥test.jsï¼Œè¿™æ˜¯æˆ‘ä»¬è¦å­¦ä¼šçš„ç¬¬ä¸€ä¸ªè¯­æ³• 1234// src/index.jsimport test from './test'console.log(test); importè¡¨ç¤ºå¼•å…¥ä¸€ä¸ªæ¨¡å—ï¼Œ test æˆ‘ä»¬æš‚æ—¶ç†è§£ä¸ºå¼•å…¥æ¨¡å—çš„åå­—ï¼Œ fromè¡¨ç¤ºä»Žå“ªé‡Œå¼•å…¥ ./testä¸º./test.jsçš„ç®€å†™ï¼Œè¡¨ç¤ºå°†è¦å¼•å…¥æ¨¡å—çš„è·¯å¾„ å¼•å…¥è¿™ä¸ªåŠ¨ä½œæ‰§è¡Œæ—¶ï¼Œtest.jsä¸­çš„ä»£ç ä¹Ÿæ‰§è¡Œäº†ã€‚ç”±äºŽåœ¨test.jsä¸­å¹¶æ²¡æœ‰å¯¹å¤–æš´éœ²ä»»ä½•æŽ¥å£ï¼Œå› æ­¤index.jsä¸­çš„testä¸ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹å¤–æš´éœ²æŽ¥å£çš„æ–¹å¼ï¼Œåˆ™æ˜¯æˆ‘ä»¬è¦å­¦ä¹ çš„ç¬¬äºŒä¸ªè¯­æ³•ã€‚ 2. å¯¹å¤–æä¾›æŽ¥å£ES6 modulesä½¿ç”¨exportå…³é”®å­—å¯¹å¤–æä¾›æŽ¥å£ï¼Œåœ¨æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„test.jsä¸­ï¼Œæˆ‘ä»¬æ·»åŠ å¦‚ä¸‹ä»£ç  12345678910111213141516171819// test.jsconst num = 20;const arr = [1, 2, 3, 4];const obj = &#123; a: 0, b: function() &#123;&#125;&#125;const foo = () =&gt; &#123; const a = 0; const b = 20; return a + b;&#125;export default &#123; num, arr, obj, foo&#125; åœ¨test.jsä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨export defaultå¯¹åŒ…æš´éœ²äº†ä¸€ä¸ªå¯¹è±¡ã€‚ä»–çš„æ„æ€å°±æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨import test from &#39;./test&#39;æ—¶ï¼Œè¿™ä¸ªtestå¯¹è±¡å°±é»˜è®¤ç­‰äºŽexport defaultæš´éœ²çš„å¯¹è±¡ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥åœ¨test.jsä¸­ï¼Œä»…ä»…é€šè¿‡exportæš´éœ²å‡ ä¸ªæ–¹æ³•ä¸Žå±žæ€§ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹index.jsä¸­testä¼šå˜æˆä»€ä¹ˆæ ·å­ã€‚ 123// src/test.jsexport const bar = () =&gt; &#123;&#125;export const zcar = 12345; ä¿å­˜è¿è¡ŒåŽï¼Œæˆ‘ä»¬å‘çŽ°ï¼Œindex.jsä¸­çš„testå¯¹è±¡å¹¶æ²¡æœ‰å˜åŒ–ï¼Œå› ä¸ºå®ƒä»…ä»…ç­‰äºŽexport defaultæŠ›å‡ºçš„å¯¹è±¡ï¼Œå› æ­¤ï¼Œä¸ºäº†èŽ·å¾—æ¨¡å—test.jsæš´éœ²çš„æ‰€æœ‰æŽ¥å£ï¼Œæˆ‘ä»¬å¾—é€šè¿‡å¦‚ä¸‹çš„æ–¹å¼ã€‚ 12// src/index.jsimport * as test from './test'; å…¶ä¸­çš„ * è¡¨ç¤ºæ‰€æœ‰ï¼Œè¿™æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„é€šé…ç¬¦ï¼Œasè¡¨ç¤ºåˆ«åï¼Œ* as testçš„æ„æ€æ˜¯å°†test.jsæš´éœ²çš„æ‰€æœ‰æŽ¥å£ç»„æˆçš„å¯¹è±¡ï¼Œå‘½åä¸ºtestã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨index.jsä¸­logå‡ºtestï¼Œç»“æžœå°±å¦‚ä¸‹ã€‚ å¦‚æžœå¤§å®¶è¿˜è®°å¾—å‰é¢ä¸€ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘æ‰€è®²çš„ES6è§£æžç»“æž„çš„è¯­æ³•ï¼Œé‚£ä¹ˆå¯¹äºŽå¦‚ä¸‹çš„ç”¨æ³•ç›¸ä¿¡å°±ä¸éš¾ç†è§£ã€‚ 123456// src/index.jsimport test, &#123; bar, zcar &#125; from './test';console.log(test);console.log('bar:', bar);console.log('zcar:', zcar); testï¼Œä»ç„¶è¡¨ç¤ºä¸ºexport defaultæš´éœ²çš„å¯¹è±¡ï¼Œè€Œ { bar, zcar }åˆ™è¡¨ç¤ºåˆ©ç”¨è§£æžç»“æž„çš„è¯­æ³•ï¼Œä»Žæ•´ä¸ªè¿”å›žå¯¹è±¡ä¸­åŽ»å–å¾—å¯¹åº”çš„æŽ¥å£ã€‚è¾“å‡ºç»“æžœä¹Ÿå°±å¾ˆæ¸…æ™°äº†ã€‚ è¿™ç§æ–¹å¼è¿˜æ˜¯æ¯”è¾ƒå¸¸è§ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨reactæ—¶ï¼Œå¸¸å¸¸è¿™æ ·ä½¿ç”¨ï¼š 1import React, &#123; Component &#125; from 'react' å®ƒå…¶å®žæš—ç¤ºäº†Reactçš„å°è£…æ–¹å¼ï¼Œä¹Ÿæš—ç¤ºäº†æˆ‘ä»¬åº”è¯¥å¦‚ä½•åŽ»å°è£…æˆ‘ä»¬çš„æ¨¡å—ã€‚ è¿™é‡Œæˆ‘ä»¬èƒ½å¤Ÿç›´æŽ¥å¼•å…¥reactçš„åŽŸå› ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å°†å®ƒå®‰è£…åˆ°äº†æ–‡ä»¶å¤¹node_modulesä¸­ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸­å®‰è£…çš„æ‰€æœ‰æ¨¡å—éƒ½å¯ä»¥è¿™æ ·ç›´æŽ¥å¼•ç”¨ã€‚ä¾‹å¦‚æˆ‘ä»¬å®‰è£…ä¸€ä¸ªjqueryã€‚ 12// å®‰è£…jquery&gt; npm install jquery ç„¶åŽåœ¨å…¶ä»–æ¨¡å—ä¸­å°±å¯ä»¥ç›´æŽ¥å¼•å…¥ 1import $ from 'jquery' è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å’Œå¾€å¸¸ä¸€æ ·ä½¿ç”¨jqueryã€‚é€šè¿‡è¿™æ ·æ–¹å¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ‰©å±•æ›´å¤šçš„åº“ï¼Œè¿™å°±ä½¿å¾—æˆ‘ä»¬è¿™ä¸ªå¼€å‘çŽ¯å¢ƒä¸ä»…ä»…èƒ½å¤Ÿç”¨äºŽreactçš„å¼€å‘ï¼Œæ€Žä¹ˆç”¨ï¼Œå®Œå…¨å–å†³ä¸Žä½ è‡ªå·±ã€‚ OKï¼ŒES6 æ¨¡å—çš„åŸºç¡€è¯­æ³•å¤§æ¦‚å°±è¿™äº›å§ï¼Œä»–å‘Šè¯‰äº†æˆ‘ä»¬åœ¨ES6ä¸­ï¼Œä¸€ä¸ªæ¨¡å—åº”è¯¥å¦‚ä½•å¯¹å¤–æš´éœ²æŽ¥å£ä¸Žå¦‚ä½•å¼•å…¥å…¶ä»–æ¨¡å—æš´éœ²çš„æŽ¥å£ï¼Œè¿™ä¸ªçŸ¥è¯†ç‚¹åœ¨å®žé™…å¼€å‘ä¸­éžå¸¸å¸¸ç”¨ï¼Œå› æ­¤è™½ç„¶ç®€å•ï¼Œä½†æ˜¯ä¸å¾—ä¸æŽŒæ¡ï¼Œè¿™ä¹Ÿæ˜¯å¤§å®¶è¿›ä¸€æ­¥å­¦ä¹ reactæˆ–è€…vueçš„åŸºç¡€ï¼Œä¸»è¦çš„éš¾ç‚¹å¤§æ¦‚åœ¨äºŽæœ¬åœ°å¼€å‘çŽ¯å¢ƒçš„æŠ˜è…¾ï¼Œå¦‚æžœä½ æ˜¯åˆæ¬¡æŠ˜è…¾è¿™äº›ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›å°é—®é¢˜ï¼Œæ‰€ä»¥ä¸€å®šè¦æœ‰ä¸€ç‚¹è€å¿ƒã€‚ é€šå¸¸æ¥è¯´ï¼Œä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œåœ¨å®Œå…¨ç†è§£ä¹‹å‰è¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œä½†æ˜¯ç†è§£ä¹‹åŽå°±å˜å¾—éžå¸¸ç®€å•ï¼Œæ‰€ä»¥å¦‚æžœä½ åœ¨å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹æ—¶æ„Ÿè§‰æœ‰ç‚¹å›°éš¾ï¼Œä¹Ÿä¸è¦è¿‡äºŽæ‹…å¿ƒï¼Œå¤šå¤šåŠ¨æ‰‹å°è¯•ï¼Œå¹¶åœ¨å®žè·µä¸­è¿ç”¨èµ·æ¥ï¼Œç›¸ä¿¡å¾ˆå¿«å°±èƒ½æŽŒæ¡ã€‚]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„æµ…æžjQuery]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E6%B5%85%E6%9E%90jQuery%2F</url>
    <content type="text"><![CDATA[æ—©å‡ å¹´å­¦ä¹ å‰ç«¯ï¼Œå¤§å®¶éƒ½éžå¸¸çƒ­è¡·äºŽç ”ç©¶jQueryæºç ã€‚æˆ‘è¿˜è®°å¾—å½“åˆä»ŽjQueryæºç ä¸­å­¦åˆ°ä¸€æ˜ŸåŠç‚¹åº”ç”¨æŠ€å·§çš„æ—¶å€™å¸¸ä¼šæœ‰ä¸€ç§å‘è‡ªå†…å¿ƒçš„æƒŠå¹ï¼Œâ€œåŽŸæ¥JavaScriptå±…ç„¶å¯ä»¥è¿™æ ·ç”¨ï¼â€ è™½ç„¶éšç€å‰ç«¯çš„å‘å±•ï¼Œå¦å¤–å‡ ç§å‰ç«¯æ¡†æž¶çš„å´›èµ·ï¼ŒjQueryæ…¢æ…¢å˜å¾—ä¸å†æ˜¯å¿…é¡»ã€‚å› æ­¤å¤§å®¶å¯¹äºŽjQueryçš„çƒ­æƒ…ä½Žäº†å¾ˆå¤šã€‚ä½†æ˜¯è®¸å¤šä»ŽjQueryä¸­å­¦åˆ°çš„æŠ€å·§ç”¨åœ¨å®žé™…å¼€å‘ä¸­ä»ç„¶éžå¸¸å¥½ç”¨ã€‚ç®€å•çš„äº†è§£å®ƒä¹Ÿæœ‰åŠ©äºŽæˆ‘ä»¬æ›´åŠ æ·±å…¥çš„ç†è§£JavaScriptã€‚ è¿™ç¯‡æ–‡ç« çš„ä¸»è¦ç›®çš„å°±æ˜¯è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œjqueryå¯¹è±¡æ˜¯å¦‚ä½•å°è£…çš„ã€‚ç®—æ˜¯å¯¹äºŽå¤§å®¶è¿›ä¸€æ­¥å­¦ä¹ jQueryæºç çš„ä¸€ä¸ªæŠ›ç –å¼•çŽ‰ã€‚ ä½¿ç”¨jQueryå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬è¿™æ ·å†™ï¼š 12345678// å£°æ˜Žä¸€ä¸ªjQueryå¯¹è±¡$('.target')// èŽ·å–å…ƒç´ çš„csså±žæ€§$('.target').css('width')// èŽ·å–å…ƒç´ çš„ä½ç½®ä¿¡æ¯$('.target').offset() åœ¨ä½¿ç”¨ä¹‹åˆå¯èƒ½ä¼šæœ‰è®¸å¤šç–‘é—®ï¼Œæ¯”å¦‚$æ˜¯æ€Žä¹ˆå›žäº‹ï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨newå°±å¯ä»¥ç›´æŽ¥å£°æ˜Žä¸€ä¸ªå¯¹è±¡ç­‰ç­‰ã€‚åŽæ¥äº†è§£ä¹‹åŽï¼Œæ‰çŸ¥é“åŽŸæ¥è¿™æ­£æ˜¯jQueryå¯¹è±¡åˆ›å»ºçš„å·§å¦™ä¹‹å¤„ã€‚ å…ˆç›´æŽ¥ç”¨ä»£ç å±•ç¤ºå‡ºæ¥ï¼Œå†ç”¨å›¾è·Ÿå¤§å®¶è§£é‡Šæ˜¯æ€Žä¹ˆå›žäº‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081;(function(ROOT) &#123; // æž„é€ å‡½æ•° var jQuery = function(selector) &#123; // åœ¨jQueryä¸­ç›´æŽ¥è¿”å›žnewè¿‡çš„å®žä¾‹ï¼Œè¿™é‡Œçš„initæ˜¯jQueryçš„çœŸæ­£æž„é€ å‡½æ•° return new jQuery.fn.init(selector) &#125; jQuery.fn = jQuery.prototype = &#123; constructor: jQuery, version: '1.0.0', init: function(selector) &#123; // åœ¨jqueryä¸­è¿™é‡Œæœ‰ä¸€ä¸ªå¤æ‚çš„åˆ¤æ–­ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘åšäº†ç®€åŒ– var elem, selector; elem = document.querySelector(selector); this[0] = elem; // åœ¨jqueryä¸­è¿”å›žä¸€ä¸ªç”±æ‰€æœ‰åŽŸåž‹å±žæ€§æ–¹æ³•ç»„æˆçš„æ•°ç»„ï¼Œæˆ‘ä»¬è¿™é‡Œç®€åŒ–ï¼Œç›´æŽ¥è¿”å›žthiså³å¯ // return jQuery.makeArray(selector, this); return this; &#125;, // åœ¨åŽŸåž‹ä¸Šæ·»åŠ ä¸€å †æ–¹æ³• toArray: function() &#123;&#125;, get: function() &#123;&#125;, each: function() &#123;&#125;, ready: function() &#123;&#125;, first: function() &#123;&#125;, slice: function() &#123;&#125; // ... ... &#125; jQuery.fn.init.prototype = jQuery.fn; // å®žçŽ°jQueryçš„ä¸¤ç§æ‰©å±•æ–¹å¼ jQuery.extend = jQuery.fn.extend = function(options) &#123; // åœ¨jqueryæºç ä¸­ä¼šæ ¹æ®å‚æ•°ä¸åŒè¿›è¡Œå¾ˆå¤šåˆ¤æ–­ï¼Œæˆ‘ä»¬è¿™é‡Œå°±ç›´æŽ¥èµ°ä¸€ç§æ–¹å¼ï¼Œæ‰€ä»¥å°±ä¸ç”¨åˆ¤æ–­äº† var target = this; var copy; for(name in options) &#123; copy = options[name]; target[name] = copy; &#125; return target; &#125; // jQueryä¸­åˆ©ç”¨ä¸Šé¢å®žçŽ°çš„æ‰©å±•æœºåˆ¶ï¼Œæ·»åŠ äº†è®¸å¤šæ–¹æ³•ï¼Œå…¶ä¸­ // ç›´æŽ¥æ·»åŠ åœ¨æž„é€ å‡½æ•°ä¸Šï¼Œè¢«ç§°ä¸ºå·¥å…·æ–¹æ³• jQuery.extend(&#123; isFunction: function() &#123;&#125;, type: function() &#123;&#125;, parseHTML: function() &#123;&#125;, parseJSON: function() &#123;&#125;, ajax: function() &#123;&#125; // ... &#125;) // æ·»åŠ åˆ°åŽŸåž‹ä¸Š jQuery.fn.extend(&#123; queue: function() &#123;&#125;, promise: function() &#123;&#125;, attr: function() &#123;&#125;, prop: function() &#123;&#125;, addClass: function() &#123;&#125;, removeClass: function() &#123;&#125;, val: function() &#123;&#125;, css: function() &#123;&#125; // ... &#125;) // $ç¬¦å·çš„ç”±æ¥ï¼Œå®žé™…ä¸Šå®ƒå°±æ˜¯jQueryï¼Œä¸€ä¸ªç®€åŒ–çš„å†™æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è¿˜å¯ä»¥æ›¿æ¢æˆå…¶ä»–å¯ç”¨å­—ç¬¦ ROOT.jQuery = ROOT.$ = jQuery;&#125;)(window); åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘å°è£…äº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„jQueryå¯¹è±¡ã€‚å®ƒå‘å¤§å®¶ç®€å•å±•ç¤ºäº†jQueryçš„æ•´ä½“æ¡†æž¶æƒ…å†µã€‚å¦‚æžœäº†è§£äº†æ•´ä½“æ¡†æž¶ï¼Œé‚£ä¹ˆå¤§å®¶åŽ»è¯»jQueryæºç ï¼Œå°±ä¼šå˜å¾—éžå¸¸è½»æ¾ã€‚ æˆ‘ä»¬åœ¨ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒjQueryè‡ªèº«å¯¹äºŽåŽŸåž‹çš„å¤„ç†ä½¿ç”¨äº†ä¸€äº›å·§å¦™çš„è¯­æ³•ï¼Œæ¯”å¦‚jQuery.fn = jQuery.prototypeï¼ŒjQuery.fn.init.prototype = jQuery.fn;ç­‰ï¼Œè¿™å‡ å¥æ­£å¼jQueryå¯¹è±¡çš„å…³é”®æ‰€åœ¨ï¼Œä¸‹é¢æˆ‘ç”¨å›¾ç»™å¤§å®¶å±•ç¤ºä¸€ä¸‹è¿™ä¸­é—´çš„é€»è¾‘æ˜¯æ€Žä¹ˆå›žäº‹ã€‚ å¯¹è±¡å°è£…åˆ†æž åœ¨ä¸Šé¢çš„å®žçŽ°ä¸­ï¼Œä»£ç é¦–å…ˆåœ¨jQueryæž„é€ å‡½æ•°ä¸­å£°æ˜Žäº†ä¸€ä¸ªfnå±žæ€§ï¼Œå¹¶å°†å…¶æŒ‡å‘äº†åŽŸåž‹jQuery.prototypeã€‚å¹¶åœ¨åŽŸåž‹ä¸­æ·»åŠ äº†initæ–¹æ³•ã€‚ 123jQuery.fn = jQuery.prototype = &#123; init: &#123;&#125;&#125; ä¹‹åŽåˆå°†initçš„åŽŸåž‹ï¼ŒæŒ‡å‘äº†jQuery.prototypeã€‚ 1jQuery.fn.init.prototype = jQuery.fn; è€Œåœ¨æž„é€ å‡½æ•°jQueryä¸­ï¼Œè¿”å›žäº†initçš„å®žä¾‹å¯¹è±¡ã€‚ 12345var jQuery = function(selector) &#123; // åœ¨jQueryä¸­ç›´æŽ¥è¿”å›žnewè¿‡çš„å®žä¾‹ï¼Œè¿™é‡Œçš„initæ˜¯jQueryçš„çœŸæ­£æž„é€ å‡½æ•° return new jQuery.fn.init(selector)&#125; æœ€åŽå¯¹å¤–æš´éœ²å…¥å£æ—¶ï¼Œå°†å­—ç¬¦$ä¸ŽjQueryå¯¹ç­‰èµ·æ¥ã€‚ 1ROOT.jQuery = ROOT.$ = jQuery; å› æ­¤å½“æˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨$(&#39;#test&#39;)åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®žé™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªinitçš„å®žä¾‹ï¼Œè¿™é‡Œçš„æ­£çœŸæž„é€ å‡½æ•°æ˜¯åŽŸåž‹ä¸­çš„initæ–¹æ³•ã€‚ æ³¨æ„ï¼šè®¸å¤šå¯¹jQueryå†…éƒ¨å®žçŽ°ä¸å¤ªäº†è§£çš„ç›†å‹ï¼Œåœ¨ä½¿ç”¨jQueryæ—¶å¸¸å¸¸ä¼šæ¯«æ— èŠ‚åˆ¶ä½¿ç”¨$()ï¼Œæ¯”å¦‚å¯¹äºŽåŒä¸€ä¸ªå…ƒç´ çš„ä¸åŒæ“ä½œï¼š 1234var width = parseInt($('#test').css('width'));if(width &gt; 20) &#123; $('#test').css('backgroundColor', 'red');&#125; é€šè¿‡æˆ‘ä»¬ä¸Šé¢çš„ä¸€ç³»åˆ—åˆ†æžï¼Œæˆ‘ä»¬çŸ¥é“æ¯å½“æˆ‘ä»¬æ‰§è¡Œ$()æ—¶ï¼Œå°±ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªinitçš„å®žä¾‹å¯¹è±¡ï¼Œå› æ­¤å½“æˆ‘ä»¬è¿™æ ·æ²¡æœ‰èŠ‚åˆ¶çš„ä½¿ç”¨jQueryæ—¶æ˜¯éžå¸¸ä¸æ­£ç¡®çš„ï¼Œè™½ç„¶çœ‹ä¸ŠåŽ»æ–¹ä¾¿äº†ä¸€äº›ï¼Œä½†æ˜¯å¯¹äºŽå†…å­˜çš„æ¶ˆè€—æ˜¯éžå¸¸å¤§çš„ã€‚æ­£ç¡®çš„åšæ³•æ˜¯æ—¢ç„¶æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå°±ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜èµ·æ¥åŽç»­ä½¿ç”¨å³å¯ã€‚ 12345var $test = $('#test');var width = parseInt($test.css('width'));if(width &gt; 20) &#123; $test.css('backgroundColor', 'red');&#125; æ‰©å±•æ–¹æ³•åˆ†æž åœ¨ä¸Šé¢çš„ä»£ç å®žçŽ°ä¸­ï¼Œæˆ‘è¿˜ç®€å•å®žçŽ°äº†ä¸¤ä¸ªæ‰©å±•æ–¹æ³•ã€‚ 123456789101112jQuery.extend = jQuery.fn.extend = function(options) &#123; // åœ¨jqueryæºç ä¸­ä¼šæ ¹æ®å‚æ•°ä¸åŒè¿›è¡Œå¾ˆå¤šåˆ¤æ–­ï¼Œæˆ‘ä»¬è¿™é‡Œå°±ç›´æŽ¥èµ°ä¸€ç§æ–¹å¼ï¼Œæ‰€ä»¥å°±ä¸ç”¨åˆ¤æ–­äº† var target = this; var copy; for(name in options) &#123; copy = options[name]; target[name] = copy; &#125; return target;&#125; è¦ç†è§£å®ƒçš„å®žçŽ°ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ˜Žç¡®çš„çŸ¥é“thisçš„æŒ‡å‘ã€‚å¦‚æžœä½ æžä¸æ¸…æ¥šï¼Œå¯ä»¥å›žå¤´åŽ»çœ‹çœ‹æˆ‘ä»¬ä¹‹å‰å…³äºŽthisæŒ‡å‘çš„è®²è§£ã€‚ä¼ å…¥çš„å‚æ•°optionså¯¹è±¡ä¸ºä¸€ä¸ªkey: valueæ¨¡å¼çš„å¯¹è±¡ï¼Œæˆ‘é€šè¿‡for inéåŽ†optionsï¼Œå°†keyä½œä¸ºjQueryçš„æ–°å±žæ€§ï¼Œvalueä½œä¸ºè¯¥æ–°å±žæ€§æ‰€å¯¹åº”çš„æ–°æ–¹æ³•ï¼Œåˆ†åˆ«æ·»åŠ åˆ°jQueryæ–¹æ³•å’ŒjQuery.fnä¸­ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬é€šè¿‡jQuery.extendæ‰©å±•jQueryæ—¶ï¼Œæ–¹æ³•è¢«æ·»åŠ åˆ°äº†jQueryæž„é€ å‡½æ•°ä¸­ï¼Œè€Œå½“æˆ‘ä»¬é€šè¿‡jQuery.fn.extendæ‰©å±•jQueryæ—¶ï¼Œæ–¹æ³•è¢«æ·»åŠ åˆ°äº†jQueryåŽŸåž‹ä¸­ã€‚ ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä¹Ÿç®€å•å±•ç¤ºäº†åœ¨jQueryå†…éƒ¨ï¼Œè®¸å¤šæ–¹æ³•çš„å®žçŽ°éƒ½æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªæ‰©å±•æ–¹æ³•æ¥å®Œæˆçš„ã€‚ å½“æˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„çŸ¥è¯†äº†è§£äº†jQueryçš„å¤§ä½“æ¡†æž¶ä¹‹åŽï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹äºŽjQueryçš„å­¦ä¹ å°±å¯ä»¥å…·ä½“åˆ°è¯¸å¦‚css/val/attrç­‰æ–¹æ³•æ˜¯å¦‚ä½•å®žçŽ°è¿™æ ·çš„ç¨‹åº¦ï¼Œé‚£ä¹ˆæºç å­¦ä¹ èµ·æ¥å°±ä¼šè½»æ¾å¾ˆå¤šï¼Œä¹Ÿä¼šèŠ‚çº¦æ›´å¤šçš„æ—¶é—´ã€‚ä¹Ÿç»™ä¸€äº›å¯¹äºŽæºç æ•¬è€Œè¿œä¹‹çš„æœ‹å‹æä¾›äº†ä¸€ä¸ªå­¦ä¹ çš„å¯èƒ½ã€‚ æœ‰ä¸€ä¸ªæœ‹å‹ç•™è¨€ç»™æˆ‘ï¼Œè¯´å¥¹è¢«é™æ€æ–¹æ³•ï¼Œå·¥å…·æ–¹æ³•å’Œå®žä¾‹æ–¹æ³•è¿™å‡ ä¸ªæ¦‚å¿µå›°æ‰°äº†å¾ˆä¹…ï¼Œåˆ°åº•ä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å…¶å®žåœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œå…³äºŽå°è£…ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘è·Ÿå¤§å®¶åˆ†äº«äº†ä¸€ä¸ªéžå¸¸éžå¸¸å¹²è´§ï¼Œä½†æ˜¯å´åªæœ‰å°‘æ•°å‡ ä¸ªè¯»è€…è€çˆ·getåˆ°çš„çŸ¥è¯†ï¼Œé‚£å°±æ˜¯åœ¨å°è£…å¯¹è±¡æ—¶ï¼Œå±žæ€§å’Œæ–¹æ³•å¯ä»¥å…·ä½“æ”¾ç½®çš„ä¸‰ä¸ªä½ç½®ï¼Œå¹¶ä¸”å¯¹äºŽè¿™ä¸‰ä¸ªä½ç½®çš„ä¸åŒåšäº†ä¸€ä¸ªè¯¦ç»†çš„è§£è¯»ã€‚ è€Œåœ¨å®žçŽ°jQueryæ‰©å±•æ–¹æ³•çš„æƒ³æ³•ä¸­ï¼Œä¸€éƒ¨åˆ†æ–¹æ³•éœ€è¦æ‰©å±•åˆ°jQueryæž„é€ å‡½æ•°ä¸­ï¼Œä¸€éƒ¨åˆ†æ–¹æ³•éœ€è¦æ‰©å±•åˆ°åŽŸåž‹ä¸­ï¼Œå½“æˆ‘ä»¬é€šè¯»jQueryæºç ï¼Œè¿˜å‘çŽ°æœ‰ä¸€äº›æ–¹æ³•æ”¾åœ¨äº†æ¨¡å—ä½œç”¨åŸŸä¸­ï¼Œè‡³äºŽä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„åŒºåˆ«ï¼Œå»ºè®®å¤§å®¶å›žè¿‡å¤´åŽ»è¯»è¯»å‰ä¸€ç¯‡æ–‡ç« ã€‚ è€Œæ”¾åœ¨æž„é€ å‡½æ•°ä¸­çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶ï¼Œä¸éœ€è¦å£°æ˜Žä¸€ä¸ªå®žä¾‹å¯¹è±¡å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨ï¼Œå› æ­¤è¿™æ ·çš„æ–¹æ³•å¸¸å¸¸è¢«å«åšå·¥å…·æ–¹æ³•ï¼Œæˆ–è€…æ‰€è°“çš„é™æ€æ–¹æ³•ã€‚å·¥å…·æ–¹æ³•åœ¨ä½¿ç”¨æ—¶å› ä¸ºä¸ç”¨åˆ›å»ºæ–°çš„å®žä¾‹ï¼Œå› æ­¤ç›¸å¯¹è€Œè¨€æ•ˆçŽ‡ä¼šé«˜å¾ˆå¤šï¼Œä½†æ˜¯å¹¶ä¸èŠ‚çœå†…å­˜ã€‚ è€Œå·¥å…·æ–¹æ³•çš„ç‰¹æ€§ä¹Ÿå’Œå·¥å…·ä¸€è¯éžå¸¸è´´è¿‘ï¼Œä»–ä»¬ä¸Žå®žä¾‹çš„è‡ªèº«å±žæ€§æ¯«æ— å…³è”ï¼Œä»…ä»…åªæ˜¯å®žçŽ°ä¸€äº›é€šç”¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡$.eachä¸Ž$(&#39;div&#39;).eachè¿™2ä¸ªæ–¹æ³•æ¥ä½“ä¼šå·¥å…·æ–¹æ³•ä¸Žå®žä¾‹æ–¹æ³•çš„ä¸åŒä¹‹å¤„ã€‚ åœ¨å®žé™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¿ç”¨å¾—éžå¸¸å¤šçš„ä¸€ä¸ªå·¥å…·åº“å°±æ˜¯lodash.jsï¼Œå¤§å®¶å¦‚æžœæ—¶é—´å……è£•ä¸€å®šè¦åŽ»å­¦ä¹ ä¸€ä¸‹ä»–çš„ä½¿ç”¨ã€‚ 1234$.ajax()$.isFunction()$.each()... ... è€Œæ”¾åœ¨åŽŸåž‹ä¸­çš„æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨æ—¶å¿…é¡»åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å®žä¾‹å¯¹è±¡æ‰èƒ½è®¿é—®ï¼Œå› æ­¤è¿™æ ·çš„æ–¹æ³•å«åšå®žä¾‹æ–¹æ³•ã€‚ä¹Ÿæ­£æ˜¯ç”±äºŽå¿…é¡»åˆ›å»ºäº†ä¸€ä¸ªå®žä¾‹ä¹‹åŽæ‰èƒ½è®¿é—®ï¼Œæ‰€ä»¥ä»–çš„ä½¿ç”¨æˆæœ¬ä¼šæ¯”å·¥å…·æ–¹æ³•é«˜å¾ˆå¤šã€‚ä½†æ˜¯èŠ‚çœäº†å†…å­˜ã€‚ 123$('#test').css()$('#test').attr()$('div').each() è¿™æ ·ï¼Œé‚£ä½åŒå­¦çš„ç–‘é—®å°±å¾ˆç®€å•çš„è¢«æžå®šäº†ã€‚æˆ‘ä»¬åœ¨å­¦ä¹ çš„æ—¶å€™ï¼Œä¸€å®šä¸è¦è¿‡åˆ†åŽ»çº ç»“ä¸€äº›æ¦‚å¿µï¼Œè€Œè¦æ˜Žç™½å…·ä½“æ€Žä¹ˆå›žäº‹å„¿ï¼Œé‚£ä¹ˆå­¦ä¹ è¿™ä»¶äº‹æƒ…å°±ä¸ä¼šåœ¨ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„åœ°æ–¹å¡ä½äº†ã€‚ æ‰€ä»¥é€šè¿‡$.extendæ‰©å±•çš„æ–¹æ³•ï¼Œå…¶å®žå°±æ˜¯å¯¹å·¥å…·æ–¹æ³•çš„æ‰©å±•ï¼Œè€Œé€šè¿‡$.fn.extendæ‰©å±•çš„æ–¹æ³•ï¼Œå°±æ˜¯å¯¹äºŽå®žä¾‹æ–¹æ³•çš„æ‰©å±•ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™å°±çŸ¥é“å¦‚ä½•å‡†ç¡®çš„åŽ»ä½¿ç”¨è‡ªå·±æ‰©å±•çš„æ–¹æ³•äº†ã€‚ jQueryæ’ä»¶çš„å®žçŽ° æˆ‘åœ¨åˆçº§é˜¶æ®µçš„æ—¶å€™ï¼Œè§‰å¾—è¦è‡ªå·±ç¼–å†™ä¸€ä¸ªjQueryæ’ä»¶æ˜¯ä¸€ä»¶é«˜å¤§ä¸Šçš„äº‹æƒ…ï¼Œå¯æœ›ä¸å¯å³ã€‚ä½†æ˜¯é€šè¿‡å¯¹äºŽä¸Šé¢çš„ç†è§£ï¼Œæˆ‘å°±çŸ¥é“æ‰©å±•jQueryæ’ä»¶å…¶å®žæ˜¯ä¸€ä»¶æˆ‘ä»¬è‡ªå·±ä¹Ÿå¯ä»¥å®Œæˆçš„äº‹æƒ…ã€‚ åœ¨å‰é¢æˆ‘è·Ÿå¤§å®¶åˆ†äº«äº†jQueryå¦‚ä½•å®žçŽ°ï¼Œä»¥åŠä»–ä»¬çš„æ–¹æ³•å¦‚ä½•æ‰©å±•ï¼Œå¹¶ä¸”å‰ä¸€ç¯‡æ–‡ç« åˆ†äº«äº†æ‹–æ‹½å¯¹è±¡çš„å…·ä½“å®žçŽ°ã€‚æ‰€ä»¥å»ºè®®å¤§å®¶æš‚æ—¶ä¸è¦é˜…è¯»ä¸‹åŽ»ï¼Œè‡ªå·±åŠ¨æ‰‹å°è¯•å°†æ‹–æ‹½æ‰©å±•æˆä¸ºjQueryçš„ä¸€ä¸ªå®žä¾‹æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªjQueryæ’ä»¶äº†ã€‚ å…·ä½“ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¯å¤šè¯´çš„äº†ï¼Œå¤§å®¶çœ‹äº†ä»£ç å°±å¯ä»¥æ˜Žç™½ä¸€åˆ‡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243// Dragå¯¹è±¡ç®€åŒ–ä»£ç ï¼Œå®Œæ•´æºç å¯åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æŸ¥çœ‹;(function() &#123; // æž„é€  function Drag(selector) &#123;&#125; // åŽŸåž‹ Drag.prototype = &#123; constructor: Drag, init: function() &#123; // åˆå§‹æ—¶éœ€è¦åšäº›ä»€ä¹ˆäº‹æƒ… this.setDrag(); &#125;, // ç¨ä½œæ”¹é€ ï¼Œä»…ç”¨äºŽèŽ·å–å½“å‰å…ƒç´ çš„å±žæ€§ï¼Œç±»ä¼¼äºŽgetName getStyle: function(property) &#123;&#125;, // ç”¨æ¥èŽ·å–å½“å‰å…ƒç´ çš„ä½ç½®ä¿¡æ¯ï¼Œæ³¨æ„ä¸Žä¹‹å‰çš„ä¸åŒä¹‹å¤„ getPosition: function() &#123;&#125;, // ç”¨æ¥è®¾ç½®å½“å‰å…ƒç´ çš„ä½ç½® setPostion: function(pos) &#123;&#125;, // è¯¥æ–¹æ³•ç”¨æ¥ç»‘å®šäº‹ä»¶ setDrag: function() &#123;&#125; &#125; // ä¸€ç§å¯¹å¤–æš´éœ²çš„æ–¹å¼ window.Drag = Drag;&#125;)();// é€šè¿‡æ‰©å±•æ–¹æ³•å°†æ‹–æ‹½æ‰©å±•ä¸ºjQueryçš„ä¸€ä¸ªå®žä¾‹æ–¹æ³•(function ($) &#123; $.fn.extend(&#123; becomeDrag: function () &#123; new Drag(this[0]); return this; // æ³¨æ„ï¼šä¸ºäº†ä¿è¯jQueryæ‰€æœ‰çš„æ–¹æ³•éƒ½èƒ½å¤Ÿé“¾å¼è®¿é—®ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•çš„æœ€åŽéƒ½éœ€è¦è¿”å›žthisï¼Œå³è¿”å›žjQueryå®žä¾‹ &#125; &#125;)&#125;)(jQuery); åŽç»­æ–‡ç« å†…å®¹ä¸€ä¸ªå¤§æ¦‚é¢„æƒ³ åŽ»å¹´å¹´æœ«çš„æ—¶å€™å°±æœ‰äº†æƒ³è¦å°†JavaScriptåŸºç¡€çŸ¥è¯†æ€»ç»“ä¸€ä¸‹çš„è¿™æ ·ä¸€ä¸ªæƒ³æ³•ï¼Œå¯æ˜¯JavaScriptåŸºç¡€çŸ¥è¯†ç¡®å®žå¹¶éžå…¨éƒ¨æ˜¯å±‚å±‚é€’è¿›çš„å…³ç³»ï¼Œæœ‰å¾ˆå¤šç¢Žç‰‡åŒ–çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä¹‹å‰ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„æ•´ç†æ–¹æ³•ã€‚ ç›´åˆ°åœ¨segmentfaultä¸­æˆ‘åœ¨ç»™é¢˜ä¸»å»ºè®®å¦‚ä½•å¿«é€Ÿå­¦ä¹ ä¸€é—¨è¯¸å¦‚react/vueè¿™æ ·çš„æµè¡Œæ¡†æž¶æ—¶ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå¥½ä¸€ç‚¹çš„æ€è·¯ï¼ŒäºŽæ˜¯å°±æœ‰äº†è¿™æ ·ä¸€ç³»åˆ—æ–‡ç« ï¼Œè™½ç„¶å®ƒå¹¶ä¸å…¨é¢ï¼Œå¾ˆå¤šçŸ¥è¯†æ²¡æœ‰æ¶‰åŠåˆ°ï¼Œä½†æ˜¯å…¶å®žæˆ‘æ˜¯å›´ç»•æœ€ç»ˆé€šè¿‡æ¨¡å—åŒ–æ¥æž„å»ºè‡ªå·±ä»£ç è¿™æ ·ä¸€ä¸ªæ€è·¯æ¥æ€»ç»“çš„ï¼Œå› æ­¤è¿™ç³»åˆ—æ–‡ç« èƒ½å¤Ÿè§£å†³å¤§å®¶æœ€æ ¸å¿ƒçš„é—®é¢˜ã€‚ ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œè¿™ç³»åˆ—çš„æ–‡ç« çš„ç»ˆç‚¹å°†ä¼šæ˜¯åœ¨ES6çŽ¯å¢ƒä¸‹æŽŒæ¡reactçš„ä½¿ç”¨ã€‚è™½ç„¶å‰é¢æˆ‘å¤šå¤šå°‘å°‘éƒ½æ¶‰åŠåˆ°äº†æ¨¡å—çš„ä¸€äº›æ¦‚å¿µï¼Œä½†æ˜¯è¿˜å·®ä¸€ä¸ªå®žè·µã€‚å› æ­¤æœ€ç»ˆæˆ‘ä¼šä»¥ES6çš„æ¨¡å—è·Ÿå¤§å®¶åˆ†äº«å¦‚ä½•ä½¿ç”¨ã€‚ é‚£ä¹ˆåŽç»­çš„æ–‡ç« åº”è¯¥ä¼šæ¶‰åŠçš„å†…å®¹ï¼Œå°±å¤§æ¦‚åŒ…æ‹¬ï¼š äº‹ä»¶å¾ªçŽ¯æœºåˆ¶ Promise ES6çš„åŸºç¡€è¯­æ³• ES6ä¸‹çš„å¸¸ç”¨è®¾è®¡æ¨¡å¼ ES6æ¨¡å— ç»“åˆES6çš„å®žä¾‹ ReactåŸºç¡€è¯­æ³• Reactç»„ä»¶ Reacté«˜é˜¶ç»„ä»¶ Reactå®žä¾‹ Redux è¿™ç³»åˆ—æ–‡ç« ï¼Œç®—æ˜¯å¯¹äºŽå¤§å®¶å­¦ä¹ æ–¹å‘çš„ä¸€ä¸ªå…·ä½“çš„ï¼Œåˆ‡å®žå¯è¡Œçš„ä¸€ä¸ªæŒ‡å¼•ï¼Œè€Œéžç®€å•çš„é€šè¿‡é¸¡æ±¤çš„æ–¹å¼å‘Šè¯‰ä½ åº”è¯¥å¦‚ä½•å­¦ä¹ ã€‚æ‰€ä»¥ï¼Œæƒ³è¦å­¦ä¹ è¿™äº›çŸ¥è¯†çš„æœ‹å‹ï¼Œèµ¶ç´§æ¥ç®€ä¹¦å…³æ³¨æˆ‘å§ï¼ï¼ï¼ï¼]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„æŸ¯é‡ŒåŒ–]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E6%9F%AF%E9%87%8C%E5%8C%96%2F</url>
    <content type="text"><![CDATA[æŸ¯é‡ŒåŒ–æ˜¯å‡½æ•°çš„ä¸€ä¸ªæ¯”è¾ƒé«˜çº§çš„åº”ç”¨ï¼Œæƒ³è¦ç†è§£å®ƒå¹¶ä¸ç®€å•ã€‚å› æ­¤æˆ‘ä¸€ç›´åœ¨æ€è€ƒåº”è¯¥å¦‚ä½•æ›´åŠ è¡¨è¾¾æ‰èƒ½è®©å¤§å®¶ç†è§£èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚ ä»¥ä¸‹æ˜¯æ–°ç‰ˆæœ¬è®²è§£ã€‚é«˜é˜¶å‡½æ•°ç« èŠ‚ç”±äºŽä¸€äº›åŽŸå› å¹¶æœªå…¬å¼€ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œæœç´¢å­¦ä¹  é€šè¿‡ä¸Šä¸€ä¸ªç« èŠ‚çš„å­¦ä¹ æˆ‘ä»¬çŸ¥é“ï¼ŒæŽ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ï¼Œéƒ½å¯ä»¥å«åšé«˜é˜¶å‡½æ•°ã€‚æˆ‘ä»¬å¸¸å¸¸åˆ©ç”¨é«˜é˜¶å‡½æ•°æ¥å°è£…ä¸€äº›å…¬å…±çš„é€»è¾‘ã€‚ è¿™ä¸€ç« æˆ‘ä»¬è¦å­¦ä¹ çš„æŸ¯é‡ŒåŒ–ï¼Œå…¶å®žå°±æ˜¯é«˜é˜¶å‡½æ•°çš„ä¸€ç§ç‰¹æ®Šç”¨æ³•ã€‚ æŸ¯é‡ŒåŒ–æ˜¯æŒ‡è¿™æ ·ä¸€ä¸ªå‡½æ•°(å‡è®¾å«åšcreateCurry)ï¼Œä»–æŽ¥æ”¶å‡½æ•°Aä½œä¸ºå‚æ•°ï¼Œè¿è¡ŒåŽèƒ½å¤Ÿè¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚å¹¶ä¸”è¿™ä¸ªæ–°çš„å‡½æ•°èƒ½å¤Ÿå¤„ç†å‡½æ•°Açš„å‰©ä½™å‚æ•°ã€‚ è¿™æ ·çš„å®šä¹‰å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä¾‹å­é…åˆç†è§£ã€‚ å‡å¦‚æœ‰ä¸€ä¸ªæŽ¥æ”¶ä¸‰ä¸ªå‚æ•°çš„å‡½æ•°Aã€‚ 123function A(a, b, c) &#123; // do something&#125; åˆå‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå·²ç»å°è£…å¥½äº†çš„æŸ¯é‡ŒåŒ–é€šç”¨å‡½æ•°createCurryã€‚ä»–æŽ¥æ”¶barä½œä¸ºå‚æ•°ï¼Œèƒ½å¤Ÿå°†Aè½¬åŒ–ä¸ºæŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œè¿”å›žç»“æžœå°±æ˜¯è¿™ä¸ªè¢«è½¬åŒ–ä¹‹åŽçš„å‡½æ•°ã€‚ 1var _A = createCurry(A); é‚£ä¹ˆ_Aä½œä¸ºcreateCurryè¿è¡Œçš„è¿”å›žå‡½æ•°ï¼Œä»–èƒ½å¤Ÿå¤„ç†Açš„å‰©ä½™å‚æ•°ã€‚å› æ­¤ä¸‹é¢çš„è¿è¡Œç»“æžœéƒ½æ˜¯ç­‰ä»·çš„ã€‚ 12345_A(1, 2, 3);_A(1, 2)(3);_A(1)(2, 3);_A(1)(2)(3);A(1, 2, 3); å‡½æ•°Aè¢«createCurryè½¬åŒ–ä¹‹åŽå¾—åˆ°æŸ¯é‡ŒåŒ–å‡½æ•°_Aï¼Œ_Aèƒ½å¤Ÿå¤„ç†Açš„æ‰€æœ‰å‰©ä½™å‚æ•°ã€‚å› æ­¤æŸ¯é‡ŒåŒ–ä¹Ÿè¢«ç§°ä¸ºéƒ¨åˆ†æ±‚å€¼ã€‚ åœ¨ç®€å•çš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨å€ŸåŠ©æŸ¯é‡ŒåŒ–é€šç”¨å¼æ¥è½¬åŒ–å¾—åˆ°æŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å‡­å€Ÿçœ¼åŠ›è‡ªå·±å°è£…ã€‚ ä¾‹å¦‚æœ‰ä¸€ä¸ªç®€å•çš„åŠ æ³•å‡½æ•°ï¼Œä»–èƒ½å¤Ÿå°†è‡ªèº«çš„ä¸‰ä¸ªå‚æ•°åŠ èµ·æ¥å¹¶è¿”å›žè®¡ç®—ç»“æžœã€‚ 123function add(a, b, c) &#123; return a + b + c;&#125; é‚£ä¹ˆaddå‡½æ•°çš„æŸ¯é‡ŒåŒ–å‡½æ•°_addåˆ™å¯ä»¥å¦‚ä¸‹ï¼š 1234567function _add(a) &#123; return function(b) &#123; return function(c) &#123; return a + b + c; &#125; &#125;&#125; å› æ­¤ä¸‹é¢çš„è¿ç®—æ–¹å¼æ˜¯ç­‰ä»·çš„ã€‚ 12add(1, 2, 3);_add(1)(2)(3); å½“ç„¶ï¼ŒæŸ¯é‡ŒåŒ–é€šç”¨å¼å…·å¤‡æ›´åŠ å¼ºå¤§çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬é çœ¼åŠ›è‡ªå·±å°è£…çš„æŸ¯é‡ŒåŒ–å‡½æ•°åˆ™è‡ªç”±åº¦åä½Žã€‚å› æ­¤æˆ‘ä»¬ä»ç„¶éœ€è¦çŸ¥é“è‡ªå·±å¦‚ä½•åŽ»å°è£…è¿™æ ·ä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„é€šç”¨å¼ã€‚ é¦–å…ˆé€šè¿‡_addå¯ä»¥çœ‹å‡ºï¼ŒæŸ¯é‡ŒåŒ–å‡½æ•°çš„è¿è¡Œè¿‡ç¨‹å…¶å®žæ˜¯ä¸€ä¸ªå‚æ•°çš„æ”¶é›†è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°†æ¯ä¸€æ¬¡ä¼ å…¥çš„å‚æ•°æ”¶é›†èµ·æ¥ï¼Œå¹¶åœ¨æœ€é‡Œå±‚é‡Œé¢å¤„ç†ã€‚å› æ­¤æˆ‘ä»¬åœ¨å®žçŽ°createCurryæ—¶ï¼Œå¯ä»¥å€ŸåŠ©è¿™ä¸ªæ€è·¯æ¥è¿›è¡Œå°è£…ã€‚ å°è£…å¦‚ä¸‹: 12345678910111213141516171819// ç®€å•å®žçŽ°ï¼Œå‚æ•°åªèƒ½ä»Žå³åˆ°å·¦ä¼ é€’function createCurry(func, args) &#123; var arity = func.length; var args = args || []; return function() &#123; var _args = [].slice.call(arguments); [].push.apply(_args, args); // å¦‚æžœå‚æ•°ä¸ªæ•°å°äºŽæœ€åˆçš„func.lengthï¼Œåˆ™é€’å½’è°ƒç”¨ï¼Œç»§ç»­æ”¶é›†å‚æ•° if (_args.length &lt; arity) &#123; return createCurry.call(this, func, _args); &#125; // å‚æ•°æ”¶é›†å®Œæ¯•ï¼Œåˆ™æ‰§è¡Œfunc return func.apply(this, _args); &#125;&#125; å°½ç®¡æˆ‘å·²ç»åšäº†è¶³å¤Ÿè¯¦ç»†çš„æ³¨è§£ï¼Œä½†æ˜¯æˆ‘æƒ³ç†è§£èµ·æ¥ä¹Ÿå¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ï¼Œå› æ­¤å»ºè®®å¤§å®¶ç”¨ç‚¹è€å¿ƒå¤šé˜…è¯»å‡ éã€‚è¿™ä¸ªcreateCurryå‡½æ•°çš„å°è£…å€ŸåŠ©é—­åŒ…ä¸Žé€’å½’ï¼Œå®žçŽ°äº†ä¸€ä¸ªå‚æ•°æ”¶é›†ï¼Œå¹¶åœ¨æ”¶é›†å®Œæ¯•ä¹‹åŽæ‰§è¡Œæ‰€æœ‰å‚æ•°çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚ å› æ­¤èªæ˜Žçš„è¯»è€…å¯èƒ½å·²ç»å‘çŽ°ï¼ŒæŠŠå‡½æ•°ç»è¿‡createCurryè½¬åŒ–ä¸ºä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œæœ€åŽæ‰§è¡Œçš„ç»“æžœï¼Œä¸æ˜¯æ­£å¥½ç›¸å½“äºŽæ‰§è¡Œå‡½æ•°è‡ªèº«å—ï¼ŸæŸ¯é‡ŒåŒ–æ˜¯ä¸æ˜¯æŠŠç®€å•çš„é—®é¢˜å¤æ‚åŒ–äº†ï¼Ÿ å¦‚æžœä½ èƒ½å¤Ÿæå‡ºè¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¹ˆè¯´æ˜Žä½ ç¡®å®žå·²ç»å¯¹æŸ¯é‡ŒåŒ–æœ‰äº†ä¸€å®šçš„äº†è§£ã€‚æŸ¯é‡ŒåŒ–ç¡®å®žæ˜¯æŠŠç®€ç­”çš„é—®é¢˜å¤æ‚åŒ–äº†ï¼Œä½†æ˜¯å¤æ‚åŒ–çš„åŒæ—¶ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å‡½æ•°æ—¶æ‹¥æœ‰äº†æ›´åŠ å¤šçš„è‡ªç”±åº¦ã€‚è€Œè¿™é‡Œå¯¹äºŽå‡½æ•°å‚æ•°çš„è‡ªç”±å¤„ç†ï¼Œæ­£æ˜¯æŸ¯é‡ŒåŒ–çš„æ ¸å¿ƒæ‰€åœ¨ã€‚ æˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªéžå¸¸å¸¸è§çš„ä¾‹å­ã€‚ å¦‚æžœæˆ‘ä»¬æƒ³è¦éªŒè¯ä¸€ä¸²æ•°å­—æ˜¯å¦æ˜¯æ­£ç¡®çš„æ‰‹æœºå·ï¼Œé‚£ä¹ˆæŒ‰ç…§æ™®é€šçš„æ€è·¯æ¥åšï¼Œå¤§å®¶å¯èƒ½æ˜¯è¿™æ ·å°è£…ï¼Œå¦‚ä¸‹ï¼š 123function checkPhone(phoneNumber) &#123; return /^1[34578]\d&#123;9&#125;$/.test(phoneNumber);&#125; è€Œå¦‚æžœæˆ‘ä»¬æƒ³è¦éªŒè¯æ˜¯å¦æ˜¯é‚®ç®±å‘¢ï¼Ÿè¿™ä¹ˆå°è£…ï¼š 123function checkEmail(email) &#123; return /^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/.test(email);&#125; æˆ‘ä»¬è¿˜å¯èƒ½ä¼šé‡åˆ°éªŒè¯èº«ä»½è¯å·ï¼ŒéªŒè¯å¯†ç ç­‰å„ç§éªŒè¯ä¿¡æ¯ï¼Œå› æ­¤åœ¨å®žè·µä¸­ï¼Œä¸ºäº†ç»Ÿä¸€é€»è¾‘ï¼Œï¼Œæˆ‘ä»¬å°±ä¼šå°è£…ä¸€ä¸ªæ›´ä¸ºé€šç”¨çš„å‡½æ•°ï¼Œå°†ç”¨äºŽéªŒè¯çš„æ­£åˆ™ä¸Žå°†è¦è¢«éªŒè¯çš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚ 123function check(targetString, reg) &#123; return reg.test(targetString);&#125; ä½†æ˜¯è¿™æ ·å°è£…ä¹‹åŽï¼Œåœ¨ä½¿ç”¨æ—¶åˆä¼šç¨å¾®éº»çƒ¦ä¸€ç‚¹ï¼Œå› ä¸ºä¼šæ€»æ˜¯è¾“å…¥ä¸€ä¸²æ­£åˆ™ï¼Œè¿™æ ·å°±å¯¼è‡´äº†ä½¿ç”¨æ—¶çš„æ•ˆçŽ‡ä½Žä¸‹ã€‚ 12check(/^1[34578]\d&#123;9&#125;$/, '14900000088');check(/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/, 'test@163.com'); é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©æŸ¯é‡ŒåŒ–ï¼Œåœ¨checkçš„åŸºç¡€ä¸Šå†åšä¸€å±‚å°è£…ï¼Œä»¥ç®€åŒ–ä½¿ç”¨ã€‚ 1234var _check = createCurry(check);var checkPhone = _check(/^1[34578]\d&#123;9&#125;$/);var checkEmail = _check(/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/); æœ€åŽåœ¨ä½¿ç”¨çš„æ—¶å€™å°±ä¼šå˜å¾—æ›´åŠ ç›´è§‚ä¸Žç®€æ´äº†ã€‚ 12checkPhone('183888888');checkEmail('xxxxx@test.com'); ç»è¿‡è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å‘çŽ°ï¼ŒæŸ¯é‡ŒåŒ–èƒ½å¤Ÿåº”å¯¹æ›´åŠ å¤æ‚çš„é€»è¾‘å°è£…ã€‚å½“æƒ…å†µå˜å¾—å¤šå˜ï¼ŒæŸ¯é‡ŒåŒ–ä¾ç„¶èƒ½å¤Ÿåº”ä»˜è‡ªå¦‚ã€‚ è™½ç„¶æŸ¯é‡ŒåŒ–ç¡®å®žåœ¨ä¸€å®šç¨‹åº¦ä¸Šå°†é—®é¢˜å¤æ‚åŒ–äº†ï¼Œä¹Ÿè®©ä»£ç æ›´åŠ ä¸å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯æŸ¯é‡ŒåŒ–åœ¨é¢å¯¹å¤æ‚æƒ…å†µä¸‹çš„çµæ´»æ€§å´è®©æˆ‘ä»¬ä¸å¾—ä¸çˆ±ã€‚ å½“ç„¶è¿™ä¸ªæ¡ˆä¾‹æœ¬èº«æƒ…å†µè¿˜ç®—ç®€å•ï¼Œæ‰€ä»¥è¿˜ä¸èƒ½å¤Ÿç‰¹åˆ«æ˜Žæ˜¾çš„å‡¸æ˜¾æŸ¯é‡ŒåŒ–çš„ä¼˜åŠ¿ï¼Œæˆ‘ä»¬çš„ä¸»è¦ç›®çš„åœ¨äºŽå€ŸåŠ©è¿™ä¸ªæ¡ˆä¾‹å¸®åŠ©å¤§å®¶äº†è§£æŸ¯é‡ŒåŒ–åœ¨å®žè·µä¸­çš„ç”¨é€”ã€‚ æˆ‘ä»¬ç»§ç»­æ¥æ€è€ƒä¸€ä¸ªä¾‹å­ã€‚è¿™ä¸ªä¾‹å­ä¸Žmapæœ‰å…³ã€‚åœ¨é«˜é˜¶å‡½æ•°çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬åˆ†æžäº†å°è£…mapæ–¹æ³•çš„æ€è€ƒè¿‡ç¨‹ã€‚ç”±äºŽæˆ‘ä»¬æ²¡æœ‰åŠžæ³•ç¡®è®¤ä¸€ä¸ªæ•°ç»„åœ¨éåŽ†æ—¶ä¼šæ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½å°†è°ƒç”¨forå¾ªçŽ¯çš„è¿™ä¸ªç»Ÿä¸€é€»è¾‘å°è£…èµ·æ¥ï¼Œè€Œå…·ä½“çš„æ“ä½œåˆ™é€šè¿‡å‚æ•°ä¼ å…¥çš„å½¢å¼è®©ä½¿ç”¨è€…è‡ªå®šä¹‰ã€‚è¿™å°±æ˜¯mapå‡½æ•°ã€‚ ä½†æ˜¯ï¼Œè¿™æ˜¯é’ˆå¯¹äº†æ‰€æœ‰çš„æƒ…å†µæˆ‘ä»¬æ‰ä¼šè¿™æ ·æƒ³ã€‚ å®žè·µä¸­æˆ‘ä»¬å¸¸å¸¸ä¼šå‘çŽ°ï¼Œåœ¨æˆ‘ä»¬çš„æŸä¸ªé¡¹ç›®ä¸­ï¼Œé’ˆå¯¹äºŽæŸä¸€ä¸ªæ•°ç»„çš„æ“ä½œå…¶å®žæ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒæ ·çš„æ“ä½œï¼Œå¯èƒ½ä¼šåœ¨é¡¹ç›®çš„ä¸åŒåœ°æ–¹è°ƒç”¨å¾ˆå¤šæ¬¡ã€‚ äºŽæ˜¯ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨mapå‡½æ•°çš„åŸºç¡€ä¸Šï¼Œè¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œä»¥ç®€åŒ–æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ã€‚å‡å¦‚è¿™ä¸ªåœ¨æˆ‘ä»¬é¡¹ç›®ä¸­ä¼šè°ƒç”¨å¤šæ¬¡çš„æ“ä½œæ˜¯å°†æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½è½¬åŒ–ä¸ºç™¾åˆ†æ¯” 1 â€“&gt; 100%ã€‚ æ™®é€šæ€ç»´ä¸‹æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å°è£…ã€‚ 1234567function getNewArray(array) &#123; return array.map(function(item) &#123; return item * 100 + '%' &#125;)&#125;getNewArray([1, 2, 3, 0.12]); // ['100%', '200%', '300%', '12%']; è€Œå¦‚æžœå€ŸåŠ©æŸ¯é‡ŒåŒ–æ¥äºŒæ¬¡å°è£…è¿™æ ·çš„é€»è¾‘ï¼Œåˆ™ä¼šå¦‚ä¸‹å®žçŽ°ï¼š 123456789101112function _map(func, array) &#123; return array.map(func);&#125;var _getNewArray = createCurry(_map);var getNewArray = _getNewArray(function(item) &#123; return item * 100 + '%'&#125;)getNewArray([1, 2, 3, 0.12]); // ['100%', '200%', '300%', '12%'];getNewArray([0.01, 1]); // ['1%', '100%'] å¦‚æžœæˆ‘ä»¬çš„é¡¹ç›®ä¸­çš„å›ºå®šæ“ä½œæ˜¯å¸Œæœ›å¯¹æ•°ç»„è¿›è¡Œä¸€ä¸ªè¿‡æ»¤ï¼Œæ‰¾å‡ºæ•°ç»„ä¸­çš„æ‰€æœ‰Numberç±»åž‹çš„æ•°æ®ã€‚å€ŸåŠ©æŸ¯é‡ŒåŒ–æ€ç»´æˆ‘ä»¬å¯ä»¥è¿™æ ·åšã€‚ 123456789101112131415161718192021222324252627282930function _filter(func, array) &#123; return array.filter(func);&#125;var _find = createCurry(_filter);var findNumber = _find(function(item) &#123; if (typeof item == 'number') &#123; return item; &#125;&#125;)findNumber([1, 2, 3, '2', '3', 4]); // [1, 2, 3, 4]// å½“æˆ‘ä»¬ç»§ç»­å°è£…å¦å¤–çš„è¿‡æ»¤æ“ä½œæ—¶å°±ä¼šå˜å¾—éžå¸¸ç®€å•// æ‰¾å‡ºæ•°å­—ä¸º20çš„å­é¡¹var find20 = _find(function(item, i) &#123; if (typeof item === 20) &#123; return i; &#125;&#125;)find20([1, 2, 3, 30, 20, 100]); // 4// æ‰¾å‡ºæ•°ç»„ä¸­å¤§äºŽ100çš„æ‰€æœ‰æ•°æ®var findGreater100 = _find(function(item) &#123; if (item &gt; 100) &#123; return item; &#125;&#125;)findGreater100([1, 2, 101, 300, 2, 122]); // [101, 300, 122] æˆ‘é‡‡ç”¨äº†ä¸Žcheckä¾‹å­ä¸ä¸€æ ·çš„æ€ç»´æ–¹å‘æ¥æƒ³å¤§å®¶å±•ç¤ºæˆ‘ä»¬åœ¨ä½¿ç”¨æŸ¯é‡ŒåŒ–æ—¶çš„æƒ³æ³•ã€‚ç›®çš„æ˜¯æƒ³å‘Šè¯‰å¤§å®¶ï¼ŒæŸ¯é‡ŒåŒ–èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åº”å¯¹æ›´å¤šæ›´å¤æ‚çš„åœºæ™¯ã€‚ å½“ç„¶ä¸å¾—ä¸æ‰¿è®¤ï¼Œè¿™äº›ä¾‹å­éƒ½å¤ªç®€å•äº†ï¼Œç®€å•åˆ°å¦‚æžœä½¿ç”¨æŸ¯é‡ŒåŒ–çš„æ€ç»´æ¥å¤„ç†ä»–ä»¬æ˜¾å¾—æœ‰ä¸€ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œè€Œä¸”å˜å¾—éš¾ä»¥ç†è§£ã€‚å› æ­¤æˆ‘æƒ³è¯»è€…æœ‹å‹ä»¬ä¹Ÿå¾ˆéš¾ä»Žè¿™äº›ä¾‹å­ä¸­æ„Ÿå—åˆ°æŸ¯é‡ŒåŒ–çš„é­…åŠ›ã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œå¦‚æžœæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡è¿™äº›ä¾‹å­æŽŒæ¡åˆ°æŸ¯é‡ŒåŒ–çš„æ€ç»´ï¼Œé‚£å°±æ˜¯æœ€å¥½çš„ç»“æžœäº†ã€‚åœ¨æœªæ¥ä½ çš„å®žè·µä¸­ï¼Œå¦‚æžœä½ å‘çŽ°ç”¨æ™®é€šçš„æ€ç»´å°è£…ä¸€äº›é€»è¾‘æ…¢æ…¢å˜å¾—å›°éš¾ï¼Œä¸å¦¨æƒ³ä¸€æƒ³åœ¨è¿™é‡Œå­¦åˆ°çš„æŸ¯é‡ŒåŒ–æ€ç»´ï¼Œåº”ç”¨èµ·æ¥ï¼ŒæŸ¯é‡ŒåŒ–è¶³å¤Ÿå¼ºå¤§çš„è‡ªç”±åº¦ä¸€å®šèƒ½ç»™ä½ ä¸€ä¸ªæƒŠå–œã€‚ å½“ç„¶ä¹Ÿå¹¶ä¸å»ºè®®åœ¨ä»»ä½•æƒ…å†µä¸‹ä»¥ç‚«æŠ€ä¸ºç›®çš„çš„åŽ»ä½¿ç”¨æŸ¯é‡ŒåŒ–ï¼Œåœ¨æŸ¯é‡ŒåŒ–çš„å®žçŽ°ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“æŸ¯é‡ŒåŒ–è™½ç„¶å…·æœ‰äº†æ›´å¤šçš„è‡ªç”±åº¦ï¼Œä½†åŒæ—¶æŸ¯é‡ŒåŒ–é€šç”¨å¼é‡Œè°ƒç”¨äº†argumentså¯¹è±¡ï¼Œä½¿ç”¨äº†é€’å½’ä¸Žé—­åŒ…ï¼Œå› æ­¤æŸ¯é‡ŒåŒ–çš„è‡ªç”±åº¦æ˜¯ä»¥ç‰ºç‰²äº†ä¸€å®šçš„æ€§èƒ½ä¸ºä»£ä»·æ¢æ¥çš„ã€‚åªæœ‰åœ¨æƒ…å†µå˜å¾—å¤æ‚æ—¶ï¼Œæ‰æ˜¯æŸ¯é‡ŒåŒ–å¤§æ˜¾èº«æ‰‹çš„æ—¶å€™ã€‚ é¢å¤–çŸ¥è¯†è¡¥å……æ— é™å‚æ•°çš„æŸ¯é‡ŒåŒ–ã€‚ è¯¥éƒ¨åˆ†å†…å®¹å¯å¿½ç•¥ åœ¨å‰ç«¯é¢è¯•ä¸­ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªæ¶‰åŠåˆ°æŸ¯é‡ŒåŒ–çš„é¢˜ç›®ã€‚ 1234// å®žçŽ°ä¸€ä¸ªaddæ–¹æ³•ï¼Œä½¿è®¡ç®—ç»“æžœèƒ½å¤Ÿæ»¡è¶³å¦‚ä¸‹é¢„æœŸï¼šadd(1)(2)(3) = 6;add(1, 2, 3)(4) = 10;add(1)(2)(3)(4)(5) = 15; è¿™ä¸ªé¢˜ç›®çš„ç›®çš„æ˜¯æƒ³è®©addæ‰§è¡Œä¹‹åŽè¿”å›žä¸€ä¸ªå‡½æ•°èƒ½å¤Ÿç»§ç»­æ‰§è¡Œï¼Œæœ€ç»ˆè¿ç®—çš„ç»“æžœæ˜¯æ‰€æœ‰å‡ºçŽ°è¿‡çš„å‚æ•°ä¹‹å’Œã€‚è€Œè¿™ä¸ªé¢˜ç›®çš„éš¾ç‚¹åˆ™åœ¨äºŽå‚æ•°çš„ä¸å›ºå®šã€‚æˆ‘ä»¬ä¸çŸ¥é“å‡½æ•°ä¼šæ‰§è¡Œå‡ æ¬¡ã€‚å› æ­¤æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ä¸Šé¢æˆ‘ä»¬å°è£…çš„createCurryçš„é€šç”¨å…¬å¼æ¥è½¬æ¢ä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°ã€‚åªèƒ½è‡ªå·±å°è£…ï¼Œé‚£ä¹ˆæ€Žä¹ˆåŠžå‘¢ï¼Ÿåœ¨æ­¤ä¹‹å‰ï¼Œè¡¥å……2ä¸ªéžå¸¸é‡è¦çš„çŸ¥è¯†ç‚¹ã€‚ ä¸€ä¸ªæ˜¯ES6å‡½æ•°çš„ä¸å®šå‚æ•°ã€‚å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå¸Œæœ›æŠŠè¿™ä¸ªæ•°ç»„ä¸­æ‰€æœ‰çš„å­é¡¹å±•å¼€ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€Žä¹ˆåšï¼Ÿ 12345// å¤§å®¶å¯ä»¥æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æžœå°†argsæ•°ç»„çš„å­é¡¹å±•å¼€ä½œä¸ºaddçš„å‚æ•°ä¼ å…¥function add(a, b, c, d) &#123; return a + b + c + d;&#125;var args = [1, 3, 100, 1]; åœ¨ES5ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¹‹å‰å­¦è¿‡çš„applyæ¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚ 1add.apply(null, args); // 105 è€Œåœ¨ES6ä¸­ï¼Œæä¾›äº†ä¸€ç§æ–°çš„è¯­æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ä¸å®šå‚ã€‚å†™æ³•å¦‚ä¸‹ï¼š 1add(...args); // 105 è¿™ä¸¤ç§å†™æ³•æ˜¯ç­‰æ•ˆçš„ã€‚OKï¼Œå…ˆè®°åœ¨è¿™é‡Œã€‚åœ¨æŽ¥ä¸‹çš„å®žçŽ°ä¸­ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°ä¸å®šå‚æ•°çš„ç‰¹æ€§ã€‚ ç¬¬äºŒä¸ªè¦è¡¥å……çš„çŸ¥è¯†ç‚¹æ˜¯å‡½æ•°çš„éšå¼è½¬æ¢ã€‚å½“æˆ‘ä»¬ç›´æŽ¥å°†å‡½æ•°å‚ä¸Žå…¶ä»–çš„è®¡ç®—æ—¶ï¼Œå‡½æ•°ä¼šé»˜è®¤è°ƒç”¨toStringæ–¹æ³•ï¼Œç›´æŽ¥å°†å‡½æ•°ä½“è½¬æ¢ä¸ºå­—ç¬¦ä¸²å‚ä¸Žè®¡ç®—ã€‚ 12function fn() &#123; return 20 &#125;console.log(fn + 10); // è¾“å‡ºç»“æžœ function fn() &#123; return 20 &#125;10 ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é‡å†™å‡½æ•°çš„toStringæ–¹æ³•ï¼Œè®©å‡½æ•°å‚ä¸Žè®¡ç®—æ—¶ï¼Œè¾“å‡ºæˆ‘ä»¬æƒ³è¦çš„ç»“æžœã€‚ 1234function fn() &#123; return 20; &#125;fn.toString = function() &#123; return 30 &#125;console.log(fn + 10); // 40 é™¤æ­¤ä¹‹å¤–ï¼Œå½“æˆ‘ä»¬é‡å†™å‡½æ•°çš„valueOfæ–¹æ³•ä¹Ÿèƒ½å¤Ÿæ”¹å˜å‡½æ•°çš„éšå¼è½¬æ¢ç»“æžœã€‚ 1234function fn() &#123; return 20; &#125;fn.valueOf = function() &#123; return 60 &#125;console.log(fn + 10); // 70 å½“æˆ‘ä»¬åŒæ—¶é‡å†™å‡½æ•°çš„toStringæ–¹æ³•ä¸ŽvalueOfæ–¹æ³•æ—¶ï¼Œæœ€ç»ˆçš„ç»“æžœä¼šå–valueOfæ–¹æ³•çš„è¿”å›žç»“æžœã€‚ 12345function fn() &#123; return 20; &#125;fn.valueOf = function() &#123; return 50 &#125;fn.toString = function() &#123; return 30 &#125;console.log(fn + 10); // 60 è¡¥å……äº†è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹ä¹‹åŽï¼Œæˆ‘ä»¬å¯ä»¥æ¥å°è¯•å®Œæˆä¹‹å‰çš„é¢˜ç›®äº†ã€‚addæ–¹æ³•çš„å®žçŽ°ä»ç„¶ä¼šæ˜¯ä¸€ä¸ªå‚æ•°çš„æ”¶é›†è¿‡ç¨‹ã€‚å½“addå‡½æ•°æ‰§è¡Œåˆ°æœ€åŽæ—¶ï¼Œä»ç„¶è¿”å›žçš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰toString/valueOfçš„æ–¹å¼ï¼Œè®©è¿™ä¸ªå‡½æ•°å¯ä»¥ç›´æŽ¥å‚ä¸Žè®¡ç®—ï¼Œå¹¶ä¸”è½¬æ¢çš„ç»“æžœæ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚è€Œä¸”å®ƒæœ¬èº«ä¹Ÿä»ç„¶å¯ä»¥ç»§ç»­æ‰§è¡ŒæŽ¥æ”¶æ–°çš„å‚æ•°ã€‚å®žçŽ°æ–¹å¼å¦‚ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041function add() &#123; // ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œå®šä¹‰ä¸€ä¸ªæ•°ç»„ä¸“é—¨ç”¨æ¥å­˜å‚¨æ‰€æœ‰çš„å‚æ•° var _args = [].slice.call(arguments); // åœ¨å†…éƒ¨å£°æ˜Žä¸€ä¸ªå‡½æ•°ï¼Œåˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§ä¿å­˜_argså¹¶æ”¶é›†æ‰€æœ‰çš„å‚æ•°å€¼ var adder = function () &#123; var _adder = function() &#123; // [].push.apply(_args, [].slice.call(arguments)); _args.push(...arguments); return _adder; &#125;; // åˆ©ç”¨éšå¼è½¬æ¢çš„ç‰¹æ€§ï¼Œå½“æœ€åŽæ‰§è¡Œæ—¶éšå¼è½¬æ¢ï¼Œå¹¶è®¡ç®—æœ€ç»ˆçš„å€¼è¿”å›ž _adder.toString = function () &#123; return _args.reduce(function (a, b) &#123; return a + b; &#125;); &#125; return _adder; &#125; // return adder.apply(null, _args); return adder(..._args);&#125;var a = add(1)(2)(3)(4); // f 10var b = add(1, 2, 3, 4); // f 10var c = add(1, 2)(3, 4); // f 10var d = add(1, 2, 3)(4); // f 10// å¯ä»¥åˆ©ç”¨éšå¼è½¬æ¢çš„ç‰¹æ€§å‚ä¸Žè®¡ç®—console.log(a + 10); // 20console.log(b + 20); // 30console.log(c + 30); // 40console.log(d + 40); // 50// ä¹Ÿå¯ä»¥ç»§ç»­ä¼ å…¥å‚æ•°ï¼Œå¾—åˆ°çš„ç»“æžœå†æ¬¡åˆ©ç”¨éšå¼è½¬æ¢å‚ä¸Žè®¡ç®—console.log(a(10) + 100); // 120console.log(b(10) + 100); // 120console.log(c(10) + 100); // 120console.log(d(10) + 100); // 120 1234// å…¶å®žä¸Šæ —ä¸­çš„addæ–¹æ³•ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸ªå‡½æ•°çš„æŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œåªä¸è¿‡æˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨é€šç”¨å¼æ¥è½¬åŒ–ï¼Œè€Œæ˜¯è‡ªå·±å°è£…function add(...args) &#123; return args.reduce((a, b) =&gt; a + b);&#125; ä»¥ä¸‹ä¸ºè€ç‰ˆæœ¬è®²è§£ï¼Œè¯·å‹¿é˜…è¯»å­¦ä¹ ï¼Œå› ä¸ºéƒ¨åˆ†æ€ç»´å¹¶ä¸å®Œå…¨æ­£ç¡®ã€‚ ä¸€ã€è¡¥å……çŸ¥è¯†ç‚¹ä¹‹å‡½æ•°çš„éšå¼è½¬æ¢JavaScriptä½œä¸ºä¸€ç§å¼±ç±»åž‹è¯­è¨€ï¼Œå®ƒçš„éšå¼è½¬æ¢æ˜¯éžå¸¸çµæ´»æœ‰è¶£çš„ã€‚å½“æˆ‘ä»¬æ²¡æœ‰æ·±å…¥äº†è§£éšå¼è½¬æ¢çš„æ—¶å€™å¯èƒ½ä¼šå¯¹ä¸€äº›è¿ç®—çš„ç»“æžœä¼šæ„ŸåŠ¨å›°æƒ‘ï¼Œæ¯”å¦‚4 + true = 5ã€‚å½“ç„¶ï¼Œå¦‚æžœå¯¹éšå¼è½¬æ¢äº†è§£è¶³å¤Ÿæ·±åˆ»ï¼Œè‚¯å®šæ˜¯èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜å¯¹jsçš„ä½¿ç”¨èƒ½åŠ›ã€‚åªæ˜¯æˆ‘æ²¡æœ‰æ‰“ç®—å°†æ‰€æœ‰çš„éšå¼è½¬æ¢è§„åˆ™åˆ†äº«ç»™å¤§å®¶ï¼Œè¿™é‡Œæš‚æ—¶åªåˆ†äº«ä¸€ä¸‹ï¼Œå‡½æ•°åœ¨éšå¼è½¬æ¢ä¸­çš„ä¸€äº›è§„åˆ™ã€‚ æ¥ä¸€ä¸ªç®€å•çš„æ€è€ƒé¢˜ã€‚ 12345function fn() &#123; return 20;&#125;console.log(fn + 10); // è¾“å‡ºç»“æžœæ˜¯å¤šå°‘ï¼Ÿ ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼Œå†æƒ³æƒ³è¾“å‡ºç»“æžœä¼šæ˜¯ä»€ä¹ˆï¼Ÿ 123456789function fn() &#123; return 20;&#125;fn.toString = function() &#123; return 10;&#125;console.log(fn + 10); // è¾“å‡ºç»“æžœæ˜¯å¤šå°‘ï¼Ÿ è¿˜å¯ä»¥ç»§ç»­ä¿®æ”¹ä¸€ä¸‹ã€‚ 12345678910111213function fn() &#123; return 20;&#125;fn.toString = function() &#123; return 10;&#125;fn.valueOf = function() &#123; return 5;&#125;console.log(fn + 10); // è¾“å‡ºç»“æžœæ˜¯å¤šå°‘ï¼Ÿ 12345678// è¾“å‡ºç»“æžœåˆ†åˆ«ä¸ºfunction fn() &#123; return 20;&#125;102015 å½“ä½¿ç”¨console.logï¼Œæˆ–è€…è¿›è¡Œè¿ç®—æ—¶ï¼Œéšå¼è½¬æ¢å°±å¯èƒ½ä¼šå‘ç”Ÿã€‚ä»Žä¸Šé¢ä¸‰ä¸ªä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€äº›å…³äºŽå‡½æ•°éšå¼è½¬æ¢çš„ç»“è®ºã€‚ å½“æˆ‘ä»¬æ²¡æœ‰é‡æ–°å®šä¹‰toStringä¸ŽvalueOfæ—¶ï¼Œå‡½æ•°çš„éšå¼è½¬æ¢ä¼šè°ƒç”¨é»˜è®¤çš„toStringæ–¹æ³•ï¼Œå®ƒä¼šå°†å‡½æ•°çš„å®šä¹‰å†…å®¹ä½œä¸ºå­—ç¬¦ä¸²è¿”å›žã€‚è€Œå½“æˆ‘ä»¬ä¸»åŠ¨å®šä¹‰äº†toString/vauleOfæ–¹æ³•æ—¶ï¼Œé‚£ä¹ˆéšå¼è½¬æ¢çš„è¿”å›žç»“æžœåˆ™ç”±æˆ‘ä»¬è‡ªå·±æŽ§åˆ¶äº†ã€‚å…¶ä¸­valueOfä¼šæ¯”toStringåŽæ‰§è¡Œ å› æ­¤ä¸Šé¢ä¾‹å­çš„ç»“è®ºå°±å¾ˆå®¹æ˜“ç†è§£äº†ã€‚å»ºè®®å¤§å®¶åŠ¨æ‰‹å°è¯•ä¸€ä¸‹ã€‚ äºŒã€è¡¥å……çŸ¥è¯†ç‚¹ä¹‹åˆ©ç”¨call/applyå°æ•°ç»„çš„mapæ–¹æ³• map(): å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›žæ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æžœç»„æˆçš„æ•°ç»„ã€‚ é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯éåŽ†æ•°ç»„çš„æ¯ä¸€é¡¹å…ƒç´ ï¼Œå¹¶ä¸”åœ¨mapçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆå›žè°ƒå‡½æ•°ï¼‰ä¸­è¿›è¡Œè¿ç®—å¤„ç†åŽè¿”å›žè®¡ç®—ç»“æžœã€‚è¿”å›žä¸€ä¸ªç”±æ‰€æœ‰è®¡ç®—ç»“æžœç»„æˆçš„æ–°æ•°ç»„ã€‚ 12345678910// å›žè°ƒå‡½æ•°ä¸­æœ‰ä¸‰ä¸ªå‚æ•°// ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºnewArrçš„æ¯ä¸€é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¯¥é¡¹åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•å€¼// ç¬¬ä¸‰ä¸ªè¡¨ç¤ºæ•°ç»„æœ¬èº«// é™¤æ­¤ä¹‹å¤–ï¼Œå›žè°ƒå‡½æ•°ä¸­çš„thisï¼Œå½“mapä¸å­˜åœ¨ç¬¬äºŒå‚æ•°æ—¶ï¼ŒthisæŒ‡å‘ä¸¢å¤±ï¼Œå½“å­˜åœ¨ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼ŒæŒ‡å‘æ”¹å‚æ•°æ‰€è®¾å®šçš„å¯¹è±¡var newArr = [1, 2, 3, 4].map(function(item, i, arr) &#123; console.log(item, i, arr, this); // å¯è¿è¡Œè¯•è¯•çœ‹ return item + 1; // æ¯ä¸€é¡¹åŠ 1&#125;, &#123; a: 1 &#125;)console.log(newArr); // [2, 3, 4, 5] åœ¨ä¸Šé¢ä¾‹å­çš„æ³¨é‡Šä¸­è¯¦ç»†é˜è¿°äº†mapæ–¹æ³•çš„ç»†èŠ‚ã€‚çŽ°åœ¨è¦é¢ä¸´ä¸€ä¸ªéš¾é¢˜ï¼Œå°±æ˜¯å¦‚ä½•å°è£…mapã€‚ å¯ä»¥å…ˆæƒ³æƒ³forå¾ªçŽ¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨forå¾ªçŽ¯æ¥å®žçŽ°ä¸€ä¸ªmapï¼Œä½†æ˜¯åœ¨å°è£…çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘ä¸€äº›é—®é¢˜ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨forå¾ªçŽ¯çš„æ—¶å€™ï¼Œä¸€ä¸ªå¾ªçŽ¯è¿‡ç¨‹ç¡®å®žå¾ˆå¥½å°è£…ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨forå¾ªçŽ¯é‡Œé¢è¦å¯¹æ¯ä¸€é¡¹åšçš„äº‹æƒ…å´å¾ˆéš¾ç”¨ä¸€ä¸ªå›ºå®šçš„ä¸œè¥¿åŽ»æŠŠå®ƒå°è£…èµ·æ¥ã€‚å› ä¸ºæ¯ä¸€ä¸ªåœºæ™¯ï¼Œforå¾ªçŽ¯é‡Œå¯¹æ•°æ®çš„å¤„ç†è‚¯å®šéƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚ äºŽæ˜¯å¤§å®¶å°±æƒ³äº†ä¸€ä¸ªå¾ˆå¥½çš„åŠžæ³•ï¼Œå°†è¿™äº›ä¸ä¸€æ ·çš„æ“ä½œå•ç‹¬ç”¨ä¸€ä¸ªå‡½æ•°æ¥å¤„ç†ï¼Œè®©è¿™ä¸ªå‡½æ•°æˆä¸ºmapæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…·ä½“è¿™ä¸ªå›žè°ƒå‡½æ•°ä¸­ä¼šæ˜¯ä»€ä¹ˆæ ·çš„æ“ä½œï¼Œåˆ™ç”±æˆ‘ä»¬è‡ªå·±åœ¨ä½¿ç”¨æ—¶å†³å®šã€‚å› æ­¤ï¼Œæ ¹æ®è¿™ä¸ªæ€è·¯çš„å°è£…å®žçŽ°å¦‚ä¸‹ã€‚ 12345678910111213141516171819202122Array.prototype._map = function(fn, context) &#123; var temp = []; if(typeof fn == &apos;function&apos;) &#123; var k = 0; var len = this.length; // å°è£…forå¾ªçŽ¯è¿‡ç¨‹ for(; k &lt; len; k++) &#123; // å°†æ¯ä¸€é¡¹çš„è¿ç®—æ“ä½œä¸¢è¿›fné‡Œï¼Œåˆ©ç”¨callæ–¹æ³•æŒ‡å®šfnçš„thisæŒ‡å‘ä¸Žå…·ä½“å‚æ•° temp.push(fn.call(context, this[k], k, this)) &#125; &#125; else &#123; console.error(&apos;TypeError: &apos;+ fn +&apos; is not a function.&apos;); &#125; // è¿”å›žæ¯ä¸€é¡¹è¿ç®—ç»“æžœç»„æˆçš„æ–°æ•°ç»„ return temp;&#125;var newArr = [1, 2, 3, 4]._map(function(item) &#123; return item + 1;&#125;)// [2, 3, 4, 5] åœ¨ä¸Šé¢çš„å°è£…ä¸­ï¼Œæˆ‘é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªç©ºçš„tempæ•°ç»„ï¼Œè¯¥æ•°ç»„ç”¨æ¥å­˜å‚¨æœ€ç»ˆçš„è¿”å›žç»“æžœã€‚åœ¨forå¾ªçŽ¯ä¸­ï¼Œæ¯å¾ªçŽ¯ä¸€æ¬¡ï¼Œå°±æ‰§è¡Œä¸€æ¬¡å‚æ•°fnå‡½æ•°ï¼Œfnçš„å‚æ•°åˆ™ä½¿ç”¨callæ–¹æ³•ä¼ å…¥ã€‚ åœ¨ç†è§£äº†mapçš„å°è£…è¿‡ç¨‹ä¹‹åŽï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿæ˜Žç™½ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨mapæ—¶ï¼Œæ€»æ˜¯æœŸæœ›èƒ½å¤Ÿåœ¨ç¬¬ä¸€ä¸ªå›žè°ƒå‡½æ•°ä¸­æœ‰ä¸€ä¸ªè¿”å›žå€¼äº†ã€‚åœ¨eslintçš„è§„åˆ™ä¸­ï¼Œå¦‚æžœæˆ‘ä»¬åœ¨ä½¿ç”¨mapæ—¶æ²¡æœ‰è®¾ç½®ä¸€ä¸ªè¿”å›žå€¼ï¼Œå°±ä¼šè¢«åˆ¤å®šä¸ºé”™è¯¯ã€‚ okï¼Œæ˜Žç™½äº†å‡½æ•°çš„éšå¼è½¬æ¢è§„åˆ™ä¸Žcall/applyåœ¨è¿™ç§åœºæ™¯çš„ä½¿ç”¨æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°è¯•é€šè¿‡ç®€å•çš„ä¾‹å­æ¥äº†è§£ä¸€ä¸‹æŸ¯é‡ŒåŒ–äº†ã€‚ ä¸‰ã€ç”±æµ…å…¥æ·±çš„æŸ¯é‡ŒåŒ–åœ¨å‰ç«¯é¢è¯•ä¸­æœ‰ä¸€ä¸ªå…³äºŽæŸ¯é‡ŒåŒ–çš„é¢è¯•é¢˜ï¼Œæµä¼ ç”šå¹¿ã€‚ å®žçŽ°ä¸€ä¸ªaddæ–¹æ³•ï¼Œä½¿è®¡ç®—ç»“æžœèƒ½å¤Ÿæ»¡è¶³å¦‚ä¸‹é¢„æœŸï¼šadd(1)(2)(3) = 6add(1, 2, 3)(4) = 10add(1)(2)(3)(4)(5) = 15 å¾ˆæ˜Žæ˜¾ï¼Œè®¡ç®—ç»“æžœæ­£æ˜¯æ‰€æœ‰å‚æ•°çš„å’Œï¼Œaddæ–¹æ³•æ¯è¿è¡Œä¸€æ¬¡ï¼Œè‚¯å®šè¿”å›žäº†ä¸€ä¸ªåŒæ ·çš„å‡½æ•°ï¼Œç»§ç»­è®¡ç®—å‰©ä¸‹çš„å‚æ•°ã€‚ æˆ‘ä»¬å¯ä»¥ä»Žæœ€ç®€å•çš„ä¾‹å­ä¸€æ­¥ä¸€æ­¥å¯»æ‰¾è§£å†³æ–¹æ¡ˆã€‚ å½“æˆ‘ä»¬åªè°ƒç”¨ä¸¤æ¬¡æ—¶ï¼Œå¯ä»¥è¿™æ ·å°è£…ã€‚ 1234567function add(a) &#123; return function(b) &#123; return a + b; &#125;&#125;console.log(add(1)(2)); // 3 å¦‚æžœåªè°ƒç”¨ä¸‰æ¬¡ï¼š 123456789function add(a) &#123; return function(b) &#123; return function (c) &#123; return a + b + c; &#125; &#125;&#125;console.log(add(1)(2)(3)); // 6 ä¸Šé¢çš„å°è£…çœ‹ä¸ŠåŽ»è·Ÿæˆ‘ä»¬æƒ³è¦çš„ç»“æžœæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯å‚æ•°çš„ä½¿ç”¨è¢«é™åˆ¶å¾—å¾ˆæ­»ï¼Œå› æ­¤å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æœ€ç»ˆç»“æžœï¼Œæˆ‘ä»¬éœ€è¦é€šç”¨çš„å°è£…ã€‚åº”è¯¥æ€Žä¹ˆåŠžï¼Ÿæ€»ç»“ä¸€ä¸‹ä¸Šé¢2ä¸ªä¾‹å­ï¼Œå…¶å®žæˆ‘ä»¬æ˜¯åˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§ï¼Œå°†æ‰€æœ‰çš„å‚æ•°ï¼Œé›†ä¸­åˆ°æœ€åŽè¿”å›žçš„å‡½æ•°é‡Œè¿›è¡Œè®¡ç®—å¹¶è¿”å›žç»“æžœã€‚å› æ­¤æˆ‘ä»¬åœ¨å°è£…æ—¶ï¼Œä¸»è¦çš„ç›®çš„ï¼Œå°±æ˜¯å°†å‚æ•°é›†ä¸­èµ·æ¥è®¡ç®—ã€‚ æ¥çœ‹çœ‹å…·ä½“å®žçŽ°ã€‚ 123456789101112131415161718192021222324252627function add() &#123; // ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œå®šä¹‰ä¸€ä¸ªæ•°ç»„ä¸“é—¨ç”¨æ¥å­˜å‚¨æ‰€æœ‰çš„å‚æ•° var _args = [].slice.call(arguments); // åœ¨å†…éƒ¨å£°æ˜Žä¸€ä¸ªå‡½æ•°ï¼Œåˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§ä¿å­˜_argså¹¶æ”¶é›†æ‰€æœ‰çš„å‚æ•°å€¼ var adder = function () &#123; var _adder = function() &#123; [].push.apply(_args, [].slice.call(arguments)); return _adder; &#125;; // åˆ©ç”¨éšå¼è½¬æ¢çš„ç‰¹æ€§ï¼Œå½“æœ€åŽæ‰§è¡Œæ—¶éšå¼è½¬æ¢ï¼Œå¹¶è®¡ç®—æœ€ç»ˆçš„å€¼è¿”å›ž _adder.toString = function () &#123; return _args.reduce(function (a, b) &#123; return a + b; &#125;); &#125; return _adder; &#125; return adder.apply(null, [].slice.call(arguments));&#125;// è¾“å‡ºç»“æžœï¼Œå¯è‡ªç”±ç»„åˆçš„å‚æ•°console.log(add(1, 2, 3, 4, 5)); // 15console.log(add(1, 2, 3, 4)(5)); // 15console.log(add(1)(2)(3)(4)(5)); // 15 ä¸Šé¢çš„å®žçŽ°ï¼Œåˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§ï¼Œä¸»è¦ç›®çš„æ˜¯æƒ³é€šè¿‡ä¸€äº›å·§å¦™çš„æ–¹æ³•å°†æ‰€æœ‰çš„å‚æ•°æ”¶é›†åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå¹¶åœ¨æœ€ç»ˆéšå¼è½¬æ¢æ—¶å°†æ•°ç»„é‡Œçš„æ‰€æœ‰é¡¹åŠ èµ·æ¥ã€‚å› æ­¤æˆ‘ä»¬åœ¨è°ƒç”¨addæ–¹æ³•çš„æ—¶å€™ï¼Œå‚æ•°å°±æ˜¾å¾—éžå¸¸çµæ´»ã€‚å½“ç„¶ï¼Œä¹Ÿå°±å¾ˆè½»æ¾çš„æ»¡è¶³äº†æˆ‘ä»¬çš„éœ€æ±‚ã€‚ é‚£ä¹ˆè¯»æ‡‚äº†ä¸Šé¢çš„demoï¼Œç„¶åŽæˆ‘ä»¬å†æ¥çœ‹çœ‹æŸ¯é‡ŒåŒ–çš„å®šä¹‰ï¼Œç›¸ä¿¡å¤§å®¶å°±ä¼šæ›´åŠ å®¹æ˜“ç†è§£äº†ã€‚ æŸ¯é‡ŒåŒ–ï¼ˆè‹±è¯­ï¼šCurryingï¼‰ï¼Œåˆç§°ä¸ºéƒ¨åˆ†æ±‚å€¼ï¼Œæ˜¯æŠŠæŽ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæŽ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°çš„æŠ€æœ¯ï¼Œæ–°å‡½æ•°æŽ¥å—ä½™ä¸‹å‚æ•°å¹¶è¿”å›žè¿ç®—ç»“æžœã€‚ æŽ¥æ”¶å•ä¸€å‚æ•°ï¼Œå› ä¸ºè¦æºå¸¦ä¸å°‘ä¿¡æ¯ï¼Œå› æ­¤å¸¸å¸¸ä»¥å›žè°ƒå‡½æ•°çš„ç†ç”±æ¥è§£å†³ã€‚ å°†éƒ¨åˆ†å‚æ•°é€šè¿‡å›žè°ƒå‡½æ•°ç­‰æ–¹å¼ä¼ å…¥å‡½æ•°ä¸­ è¿”å›žä¸€ä¸ªæ–°å‡½æ•°ï¼Œç”¨äºŽå¤„ç†æ‰€æœ‰çš„æƒ³è¦ä¼ å…¥çš„å‚æ•° åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†add(1, 2, 3, 4)è½¬æ¢ä¸ºadd(1)(2)(3)(4)ã€‚è¿™å°±æ˜¯éƒ¨åˆ†æ±‚å€¼ã€‚æ¯æ¬¡ä¼ å…¥çš„å‚æ•°éƒ½åªæ˜¯æˆ‘ä»¬æƒ³è¦ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ä¸­çš„ä¸€éƒ¨åˆ†ã€‚å½“ç„¶å®žé™…åº”ç”¨ä¸­ï¼Œå¹¶ä¸ä¼šå¸¸å¸¸è¿™ä¹ˆå¤æ‚çš„åŽ»å¤„ç†å‚æ•°ï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿä»…ä»…åªæ˜¯åˆ†æˆä¸¤éƒ¨åˆ†è€Œå·²ã€‚ å’±ä»¬å†æ¥ä¸€èµ·æ€è€ƒä¸€ä¸ªä¸ŽæŸ¯é‡ŒåŒ–ç›¸å…³çš„é—®é¢˜ã€‚ å‡å¦‚æœ‰ä¸€ä¸ªè®¡ç®—è¦æ±‚ï¼Œéœ€è¦æˆ‘ä»¬å°†æ•°ç»„é‡Œé¢çš„æ¯ä¸€é¡¹ç”¨æˆ‘ä»¬è‡ªå·±æƒ³è¦çš„å­—ç¬¦ç»™è¿žèµ·æ¥ã€‚æˆ‘ä»¬åº”è¯¥æ€Žä¹ˆåšï¼Ÿæƒ³åˆ°ä½¿ç”¨joinæ–¹æ³•ï¼Œå°±å¾ˆç®€å•ã€‚ 1234567891011var arr = [1, 2, 3, 4, 5];// å®žé™…å¼€å‘ä¸­å¹¶ä¸å»ºè®®ç›´æŽ¥ç»™Arrayæ‰©å±•æ–°çš„æ–¹æ³•// åªæ˜¯ç”¨è¿™ç§æ–¹å¼æ¼”ç¤ºèƒ½å¤Ÿæ›´åŠ æ¸…æ™°ä¸€ç‚¹Array.prototype.merge = function(chars) &#123; return this.join(chars);&#125;var string = arr.merge(&apos;-&apos;)console.log(string); // 1-2-3-4-5 å¢žåŠ éš¾åº¦ï¼Œå°†æ¯ä¸€é¡¹åŠ ä¸€ä¸ªæ•°åŽå†è¿žèµ·æ¥ã€‚é‚£ä¹ˆè¿™é‡Œå°±éœ€è¦mapæ¥å¸®åŠ©æˆ‘ä»¬å¯¹æ¯ä¸€é¡¹è¿›è¡Œç‰¹æ®Šçš„è¿ç®—å¤„ç†ï¼Œç”Ÿæˆæ–°çš„æ•°ç»„ç„¶åŽç”¨å­—ç¬¦è¿žæŽ¥èµ·æ¥äº†ã€‚å®žçŽ°å¦‚ä¸‹ï¼š 1234567891011var arr = [1, 2, 3, 4, 5];Array.prototype.merge = function(chars, number) &#123; return this.map(function(item) &#123; return item + number; &#125;).join(chars);&#125;var string = arr.merge(&apos;-&apos;, 1);console.log(string); // 2-3-4-5-6 ä½†æ˜¯å¦‚æžœæˆ‘ä»¬åˆæƒ³è¦è®©æ•°ç»„æ¯ä¸€é¡¹éƒ½å‡åŽ»ä¸€ä¸ªæ•°ä¹‹åŽå†è¿žèµ·æ¥å‘¢ï¼Ÿå½“ç„¶å’Œä¸Šé¢çš„åŠ æ³•æ“ä½œä¸€æ ·çš„å®žçŽ°ã€‚ 1234567891011var arr = [1, 2, 3, 4, 5];Array.prototype.merge = function(chars, number) &#123; return this.map(function(item) &#123; return item - number; &#125;).join(chars);&#125;var string = arr.merge(&apos;~&apos;, 1);console.log(string); // 0~1~2~3~4 æœºæ™ºçš„å°ä¼™ä¼´è‚¯å®šå‘çŽ°å›°æƒ‘æ‰€åœ¨äº†ã€‚æˆ‘ä»¬æœŸæœ›å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½åŒæ—¶å¤„ç†ä¸åŒçš„è¿ç®—è¿‡ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½ä½¿ç”¨ä¸€ä¸ªå›ºå®šçš„å¥—è·¯å°†å¯¹æ¯ä¸€é¡¹çš„æ“ä½œéƒ½å°è£…èµ·æ¥ã€‚äºŽæ˜¯é—®é¢˜å°±å˜æˆäº†å’Œå°è£…mapçš„æ—¶å€™æ‰€é¢ä¸´çš„é—®é¢˜ä¸€æ ·äº†ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ©æŸ¯é‡ŒåŒ–æ¥æžå®šã€‚ ä¸Žmapå°è£…åŒæ ·çš„é“ç†ï¼Œæ—¢ç„¶æˆ‘ä»¬äº‹å…ˆå¹¶ä¸ç¡®å®šæˆ‘ä»¬å°†è¦å¯¹æ¯ä¸€é¡¹æ•°æ®è¿›è¡Œæ€Žä¹ˆæ ·çš„å¤„ç†ï¼Œæˆ‘åªæ˜¯çŸ¥é“æˆ‘ä»¬éœ€è¦å°†ä»–ä»¬å¤„ç†ä¹‹åŽç„¶åŽç”¨å­—ç¬¦è¿žèµ·æ¥ï¼Œæ‰€ä»¥ä¸å¦¨å°†å¤„ç†å†…å®¹ä¿å­˜åœ¨ä¸€ä¸ªå‡½æ•°é‡Œã€‚è€Œä»…ä»…å›ºå®šå°è£…è¿žèµ·æ¥çš„è¿™ä¸€éƒ¨åˆ†éœ€æ±‚ã€‚ äºŽæ˜¯æˆ‘ä»¬å°±æœ‰äº†ä»¥ä¸‹çš„å°è£…ã€‚ 123456789101112131415161718192021222324252627282930313233343536// å°è£…å¾ˆç®€å•ï¼Œä¸€å¥è¯æžå®šArray.prototype.merge = function(fn, chars) &#123; return this.map(fn).join(chars);&#125;var arr = [1, 2, 3, 4];// éš¾ç‚¹åœ¨äºŽï¼Œåœ¨å®žé™…ä½¿ç”¨çš„æ—¶å€™ï¼Œæ“ä½œæ€Žä¹ˆæ¥å®šä¹‰ï¼Œåˆ©ç”¨é—­åŒ…ä¿å­˜äºŽä¼ é€’numå‚æ•°var add = function(num) &#123; return function(item) &#123; return item + num; &#125;&#125;var red = function(num) &#123; return function(item) &#123; return item - num; &#125;&#125;// æ¯ä¸€é¡¹åŠ 2åŽåˆå¹¶var res1 = arr.merge(add(2), &apos;-&apos;);// æ¯ä¸€é¡¹å‡2åŽåˆå¹¶var res2 = arr.merge(red(1), &apos;-&apos;);// ä¹Ÿå¯ä»¥ç›´æŽ¥ä½¿ç”¨å›žè°ƒå‡½æ•°ï¼Œæ¯ä¸€é¡¹ä¹˜2åŽåˆå¹¶var res3 = arr.merge((function(num) &#123; return function(item) &#123; return item * num &#125;&#125;)(2), &apos;-&apos;)console.log(res1); // 3-4-5-6console.log(res2); // 0-1-2-3console.log(res3); // 2-4-6-8 å¤§å®¶èƒ½ä»Žä¸Šé¢çš„ä¾‹å­ï¼Œå‘çŽ°æŸ¯é‡ŒåŒ–çš„ç‰¹å¾å—ï¼Ÿ å››ã€æŸ¯é‡ŒåŒ–é€šç”¨å¼é€šç”¨çš„æŸ¯é‡ŒåŒ–å†™æ³•å…¶å®žæ¯”æˆ‘ä»¬ä¸Šè¾¹å°è£…çš„addæ–¹æ³•è¦ç®€å•è®¸å¤šã€‚ 12345678910111213141516171819var currying = function(fn) &#123; var args = [].slice.call(arguments, 1); return function() &#123; // ä¸»è¦è¿˜æ˜¯æ”¶é›†æ‰€æœ‰éœ€è¦çš„å‚æ•°åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä¾¿äºŽç»Ÿä¸€è®¡ç®— var _args = args.concat([].slice.call(arguments)); return fn.apply(null, _args); &#125;&#125;var sum = currying(function() &#123; var args = [].slice.call(arguments); return args.reduce(function(a, b) &#123; return a + b; &#125;)&#125;, 10)console.log(sum(20, 10)); // 40console.log(sum(10, 5)); // 25 äº”ã€æŸ¯é‡ŒåŒ–ä¸Žbind12345678Object.prototype.bind = function(context) &#123; var _this = this; var args = [].slice.call(arguments, 1); return function() &#123; return _this.apply(context, args) &#125;&#125; è¿™ä¸ªä¾‹å­åˆ©ç”¨callä¸Žapplyçš„çµæ´»è¿ç”¨ï¼Œå®žçŽ°äº†bindçš„åŠŸèƒ½ã€‚ åœ¨å‰é¢çš„å‡ ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“ä¸€ä¸‹æŸ¯é‡ŒåŒ–çš„ç‰¹ç‚¹ï¼š æŽ¥æ”¶å•ä¸€å‚æ•°ï¼Œå°†æ›´å¤šçš„å‚æ•°é€šè¿‡å›žè°ƒå‡½æ•°æ¥æžå®šï¼Ÿ è¿”å›žä¸€ä¸ªæ–°å‡½æ•°ï¼Œç”¨äºŽå¤„ç†æ‰€æœ‰çš„æƒ³è¦ä¼ å…¥çš„å‚æ•°ï¼› éœ€è¦åˆ©ç”¨call/applyä¸Žargumentså¯¹è±¡æ”¶é›†å‚æ•°ï¼› è¿”å›žçš„è¿™ä¸ªå‡½æ•°æ­£æ˜¯ç”¨æ¥å¤„ç†æ”¶é›†èµ·æ¥çš„å‚æ•°ã€‚ å¸Œæœ›å¤§å®¶è¯»å®Œä¹‹åŽéƒ½èƒ½å¤Ÿå¤§æ¦‚æ˜Žç™½æŸ¯é‡ŒåŒ–çš„æ¦‚å¿µï¼Œå¦‚æžœæƒ³è¦ç†Ÿç»ƒä½¿ç”¨å®ƒï¼Œå°±éœ€è¦æˆ‘ä»¬æŽŒæ¡æ›´å¤šçš„å®žé™…ç»éªŒæ‰è¡Œã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>æŸ¯é‡ŒåŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„æ‰§è¡Œä¸Šä¸‹æ–‡]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬åœ¨JSå­¦ä¹ åˆæœŸæˆ–è€…é¢è¯•çš„æ—¶å€™å¸¸å¸¸ä¼šé‡åˆ°è€ƒæ ¸å˜é‡æå‡çš„æ€è€ƒé¢˜ã€‚æ¯”å¦‚å…ˆæ¥ä¸€ä¸ªç®€å•ä¸€ç‚¹çš„ã€‚ 12console.log(a); // è¿™é‡Œä¼šæ‰“å°å‡ºä»€ä¹ˆï¼Ÿvar a = 20; æš‚æ—¶å…ˆä¸ç®¡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å…ˆå¼•å…¥ä¸€ä¸ªJavaScriptä¸­æœ€åŸºç¡€ï¼Œä½†åŒæ—¶ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰ã€‚ æ¯æ¬¡å½“æŽ§åˆ¶å™¨è½¬åˆ°å¯æ‰§è¡Œä»£ç çš„æ—¶å€™ï¼Œå°±ä¼šè¿›å…¥ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç†è§£ä¸ºå½“å‰ä»£ç çš„æ‰§è¡ŒçŽ¯å¢ƒï¼Œå®ƒä¼šå½¢æˆä¸€ä¸ªä½œç”¨åŸŸã€‚JavaScriptä¸­çš„è¿è¡ŒçŽ¯å¢ƒå¤§æ¦‚åŒ…æ‹¬ä¸‰ç§æƒ…å†µã€‚ å…¨å±€çŽ¯å¢ƒï¼šJavaScriptä»£ç è¿è¡Œèµ·æ¥ä¼šé¦–å…ˆè¿›å…¥è¯¥çŽ¯å¢ƒ å‡½æ•°çŽ¯å¢ƒï¼šå½“å‡½æ•°è¢«è°ƒç”¨æ‰§è¡Œæ—¶ï¼Œä¼šè¿›å…¥å½“å‰å‡½æ•°ä¸­æ‰§è¡Œä»£ç  evalï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼Œå¯å¿½ç•¥ï¼‰ å› æ­¤åœ¨ä¸€ä¸ªJavaScriptç¨‹åºä¸­ï¼Œå¿…å®šä¼šäº§ç”Ÿå¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåœ¨æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä¹Ÿæœ‰æåˆ°ï¼ŒJavaScriptå¼•æ“Žä¼šä»¥æ ˆçš„æ–¹å¼æ¥å¤„ç†å®ƒä»¬ï¼Œè¿™ä¸ªæ ˆï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºå‡½æ•°è°ƒç”¨æ ˆ(call stack)ã€‚æ ˆåº•æ°¸è¿œéƒ½æ˜¯å…¨å±€ä¸Šä¸‹æ–‡ï¼Œè€Œæ ˆé¡¶å°±æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ã€‚ å½“ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä»¥ä¸Šä¸‰ç§æƒ…å†µï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ”¾å…¥æ ˆä¸­ï¼Œè€Œå¤„äºŽæ ˆé¡¶çš„ä¸Šä¸‹æ–‡æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œå°±ä¼šè‡ªåŠ¨å‡ºæ ˆã€‚ä¸ºäº†æ›´åŠ æ¸…æ™°çš„ç†è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œæ ¹æ®ä¸‹é¢çš„ä¾‹å­ï¼Œç»“åˆå›¾ç¤ºç»™å¤§å®¶å±•ç¤ºã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç†è§£ä¸ºå‡½æ•°æ‰§è¡Œçš„çŽ¯å¢ƒï¼Œæ¯ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶ï¼Œéƒ½ä¼šç»™å¯¹åº”çš„å‡½æ•°åˆ›å»ºè¿™æ ·ä¸€ä¸ªæ‰§è¡ŒçŽ¯å¢ƒã€‚ 123456789101112131415var color = 'blue';function changeColor() &#123; var anotherColor = 'red'; function swapColors() &#123; var tempColor = anotherColor; anotherColor = color; color = tempColor; &#125; swapColors();&#125;changeColor(); æˆ‘ä»¬ç”¨ECStackæ¥è¡¨ç¤ºå¤„ç†æ‰§è¡Œä¸Šä¸‹æ–‡ç»„çš„å †æ ˆã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼Œç¬¬ä¸€æ­¥ï¼Œé¦–å…ˆæ˜¯å…¨å±€ä¸Šä¸‹æ–‡å…¥æ ˆã€‚ å…¨å±€ä¸Šä¸‹æ–‡å…¥æ ˆä¹‹åŽï¼Œå…¶ä¸­çš„å¯æ‰§è¡Œä»£ç å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°äº†changeColor()ï¼Œè¿™ä¸€å¥æ¿€æ´»å‡½æ•°changeColoråˆ›å»ºå®ƒè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå› æ­¤ç¬¬äºŒæ­¥å°±æ˜¯changeColorçš„æ‰§è¡Œä¸Šä¸‹æ–‡å…¥æ ˆã€‚ changeColorçš„ä¸Šä¸‹æ–‡å…¥æ ˆä¹‹åŽï¼ŒæŽ§åˆ¶å™¨å¼€å§‹æ‰§è¡Œå…¶ä¸­çš„å¯æ‰§è¡Œä»£ç ï¼Œé‡åˆ°swapColors()ä¹‹åŽåˆæ¿€æ´»äº†ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å› æ­¤ç¬¬ä¸‰æ­¥æ˜¯swapColorsçš„æ‰§è¡Œä¸Šä¸‹æ–‡å…¥æ ˆã€‚ åœ¨swapColorsçš„å¯æ‰§è¡Œä»£ç ä¸­ï¼Œå†æ²¡æœ‰é‡åˆ°å…¶ä»–èƒ½ç”Ÿæˆæ‰§è¡Œä¸Šä¸‹æ–‡çš„æƒ…å†µï¼Œå› æ­¤è¿™æ®µä»£ç é¡ºåˆ©æ‰§è¡Œå®Œæ¯•ï¼ŒswapColorsçš„ä¸Šä¸‹æ–‡ä»Žæ ˆä¸­å¼¹å‡ºã€‚ swapColorsçš„æ‰§è¡Œä¸Šä¸‹æ–‡å¼¹å‡ºä¹‹åŽï¼Œç»§ç»­æ‰§è¡ŒchangeColorçš„å¯æ‰§è¡Œä»£ç ï¼Œä¹Ÿæ²¡æœ‰å†é‡åˆ°å…¶ä»–æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œé¡ºåˆ©æ‰§è¡Œå®Œæ¯•ä¹‹åŽå¼¹å‡ºã€‚è¿™æ ·ï¼ŒECStackä¸­å°±åªèº«ä¸‹å…¨å±€ä¸Šä¸‹æ–‡äº†ã€‚ å…¨å±€ä¸Šä¸‹æ–‡åœ¨æµè§ˆå™¨çª—å£å…³é—­åŽå‡ºæ ˆã€‚ æ³¨æ„ï¼šå‡½æ•°ä¸­ï¼Œé‡åˆ°returnèƒ½ç›´æŽ¥ç»ˆæ­¢å¯æ‰§è¡Œä»£ç çš„æ‰§è¡Œï¼Œå› æ­¤ä¼šç›´æŽ¥å°†å½“å‰ä¸Šä¸‹æ–‡å¼¹å‡ºæ ˆã€‚ è¯¦ç»†äº†è§£äº†è¿™ä¸ªè¿‡ç¨‹ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡æ€»ç»“ä¸€äº›ç»“è®ºäº†ã€‚ å•çº¿ç¨‹ åŒæ­¥æ‰§è¡Œï¼Œåªæœ‰æ ˆé¡¶çš„ä¸Šä¸‹æ–‡å¤„äºŽæ‰§è¡Œä¸­ï¼Œå…¶ä»–ä¸Šä¸‹æ–‡éœ€è¦ç­‰å¾… å…¨å±€ä¸Šä¸‹æ–‡åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªï¼Œå®ƒåœ¨æµè§ˆå™¨å…³é—­æ—¶å‡ºæ ˆ å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸ªæ•°æ²¡æœ‰é™åˆ¶ æ¯æ¬¡æŸä¸ªå‡½æ•°è¢«è°ƒç”¨ï¼Œå°±ä¼šæœ‰ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ºå…¶åˆ›å»ºï¼Œå³ä½¿æ˜¯è°ƒç”¨çš„è‡ªèº«å‡½æ•°ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä¸ºäº†å·©å›ºä¸€ä¸‹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£ï¼Œæˆ‘ä»¬å†æ¥ç»˜åˆ¶ä¸€ä¸ªä¾‹å­çš„æ¼”å˜è¿‡ç¨‹ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•çš„é—­åŒ…ä¾‹å­ã€‚ 123456789function f1()&#123; var n=999; function f2()&#123; alert(n); &#125; return f2;&#125;var result=f1();result(); // 999 å› ä¸ºf1ä¸­çš„å‡½æ•°f2åœ¨f1çš„å¯æ‰§è¡Œä»£ç ä¸­ï¼Œå¹¶æ²¡æœ‰è¢«è°ƒç”¨æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œf1æ—¶ï¼Œf2ä¸ä¼šåˆ›å»ºæ–°çš„ä¸Šä¸‹æ–‡ï¼Œè€Œç›´åˆ°resultæ‰§è¡Œæ—¶ï¼Œæ‰åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ã€‚å…·ä½“æ¼”å˜è¿‡ç¨‹å¦‚ä¸‹ã€‚ å¦‚æžœä½ åœ¨æŸå…¬ä¼—å·çœ‹åˆ°æˆ‘çš„æ–‡ç« ï¼Œç„¶åŽå‘çŽ°ä¸‹é¢çš„è¯„è®ºè¯´æœ€åŽä¸€ä¸ªä¾‹å­é”™äº†ï¼Œè¯·ä¸è¦ç®¡ä»–ä»¬ï¼Œä»–ä»¬æŠŠå‡½æ•°è°ƒç”¨æ ˆå’Œä½œç”¨åŸŸé“¾æ²¡æœ‰åˆ†æ¸…æ¥šå°±è·‘å‡ºæ¥è´¨ç–‘ï¼ŒçœŸçš„å¾ˆæœ‰é—®é¢˜ã€‚å»ºè®®å¤§å®¶è¯»ä¸€è¯»è¿™ç³»åˆ—çš„ç¬¬å…­ç¯‡æ–‡ç« ï¼Œæ•™ä½ å¦‚ä½•è‡ªå·±æ‹¥æœ‰åˆ¤æ–­å¯¹é”™çš„èƒ½åŠ›ã€‚ æœ€åŽç•™ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±è„‘è¡¥ä¸€ä¸‹è¿™ä¸ªä¾‹å­åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜åŒ–æƒ…å†µã€‚ 1234567891011121314151617var name = "window";var p = &#123; name: 'Perter', getName: function() &#123; // åˆ©ç”¨å˜é‡ä¿å­˜çš„æ–¹å¼ä¿è¯å…¶è®¿é—®çš„æ˜¯på¯¹è±¡ var self = this; return function() &#123; return self.name; &#125; &#125;&#125;var getName = p.getName();var _name = getName();console.log(_name);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>æ‰§è¡Œä¸Šä¸‹æ–‡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„åœ¨chromeä¸­è§‚å¯Ÿå‡½æ•°è°ƒç”¨]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E5%9C%A8chrome%E4%B8%AD%E8%A7%82%E5%AF%9F%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæœ‰ä¸€ä¸ªéžå¸¸é‡è¦çš„æŠ€èƒ½ï¼Œå«åšæ–­ç‚¹è°ƒè¯•ã€‚ åœ¨chromeçš„å¼€å‘è€…å·¥å…·ä¸­ï¼Œé€šè¿‡æ–­ç‚¹è°ƒè¯•ï¼Œæˆ‘ä»¬èƒ½å¤Ÿéžå¸¸æ–¹ä¾¿çš„ä¸€æ­¥ä¸€æ­¥çš„è§‚å¯ŸJavaScriptçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œç›´è§‚æ„ŸçŸ¥å‡½æ•°è°ƒç”¨æ ˆï¼Œä½œç”¨åŸŸé“¾ï¼Œå˜é‡å¯¹è±¡ï¼Œé—­åŒ…ï¼Œthisç­‰å…³é”®ä¿¡æ¯çš„å˜åŒ–ã€‚å› æ­¤ï¼Œæ–­ç‚¹è°ƒè¯•å¯¹äºŽå¿«é€Ÿå®šä½ä»£ç é”™è¯¯ï¼Œå¿«é€Ÿäº†è§£ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹æœ‰ç€éžå¸¸é‡è¦çš„ä½œç”¨ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å‰ç«¯å¼€å‘è€…å¿…ä¸å¯å°‘çš„ä¸€ä¸ªé«˜çº§æŠ€èƒ½ã€‚ å½“ç„¶å¦‚æžœä½ å¯¹JavaScriptçš„è¿™äº›åŸºç¡€æ¦‚å¿µï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå˜é‡å¯¹è±¡ï¼Œé—­åŒ…ï¼Œthisç­‰ï¼‰äº†è§£è¿˜ä¸å¤Ÿçš„è¯ï¼Œæƒ³è¦é€å½»æŽŒæ¡æ–­ç‚¹è°ƒè¯•å¯èƒ½ä¼šæœ‰ä¸€äº›å›°éš¾ã€‚ä½†æ˜¯å¥½åœ¨åœ¨å‰é¢å‡ ç¯‡æ–‡ç« ï¼Œæˆ‘éƒ½å¯¹è¿™äº›æ¦‚å¿µè¿›è¡Œäº†è¯¦ç»†çš„æ¦‚è¿°ï¼Œå› æ­¤è¦æŽŒæ¡è¿™ä¸ªæŠ€èƒ½ï¼Œå¯¹å¤§å®¶æ¥è¯´ï¼Œåº”è¯¥æ˜¯æ¯”è¾ƒè½»æ¾çš„ã€‚ è¿™ç¯‡æ–‡ç« çš„ä¸»è¦ç›®çš„åœ¨äºŽå€ŸåŠ©å¯¹äºŽæ–­ç‚¹è°ƒè¯•çš„å­¦ä¹ ï¼Œæ¥è¿›ä¸€æ­¥åŠ æ·±å¯¹é—­åŒ…çš„ç†è§£ã€‚ ä¸€ã€åŸºç¡€æ¦‚å¿µå›žé¡¾å‡½æ•°åœ¨è¢«è°ƒç”¨æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå½“å‰å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚åœ¨è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ›å»ºé˜¶æ®µï¼Œå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€é—­åŒ…ã€thisæŒ‡å‘ä¼šåˆ†åˆ«è¢«ç¡®å®šã€‚è€Œä¸€ä¸ªJavaScriptç¨‹åºä¸­ä¸€èˆ¬æ¥è¯´ä¼šæœ‰å¤šä¸ªå‡½æ•°ï¼ŒJavaScriptå¼•æ“Žä½¿ç”¨å‡½æ•°è°ƒç”¨æ ˆæ¥ç®¡ç†è¿™äº›å‡½æ•°çš„è°ƒç”¨é¡ºåºã€‚å‡½æ•°è°ƒç”¨æ ˆçš„è°ƒç”¨é¡ºåºä¸Žæ ˆæ•°æ®ç»“æž„ä¸€è‡´ã€‚ äºŒã€è®¤è¯†æ–­ç‚¹è°ƒè¯•å·¥å…·åœ¨å°½é‡æ–°ç‰ˆæœ¬çš„chromeæµè§ˆå™¨ä¸­ï¼ˆä¸ç¡®å®šä½ ç”¨çš„è€ç‰ˆæœ¬ä¸Žæˆ‘çš„ä¸€è‡´ï¼‰ï¼Œè°ƒå‡ºchromeæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ã€‚ 1æµè§ˆå™¨å³ä¸Šè§’ç«–ç€çš„ä¸‰ç‚¹ -&gt; æ›´å¤šå·¥å…· -&gt; å¼€å‘è€…å·¥å…· -&gt; Sources ç•Œé¢å¦‚å›¾ã€‚ åœ¨æˆ‘çš„demoä¸­ï¼Œæˆ‘æŠŠä»£ç æ”¾åœ¨app.jsä¸­ï¼Œåœ¨index.htmlä¸­å¼•å…¥ã€‚æˆ‘ä»¬æš‚æ—¶åªéœ€è¦å…³æ³¨æˆªå›¾ä¸­çº¢è‰²ç®­å¤´çš„åœ°æ–¹ã€‚åœ¨æœ€å³ä¾§ä¸Šæ–¹ï¼Œæœ‰ä¸€æŽ’å›¾æ ‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ä»–ä»¬æ¥æŽ§åˆ¶å‡½æ•°çš„æ‰§è¡Œé¡ºåºã€‚ä»Žå·¦åˆ°å³ä»–ä»¬ä¾æ¬¡æ˜¯ï¼š resume/pause script executionæ¢å¤/æš‚åœè„šæœ¬æ‰§è¡Œ step over next function callè·¨è¿‡ï¼Œå®žé™…è¡¨çŽ°æ˜¯ä¸é‡åˆ°å‡½æ•°æ—¶ï¼Œæ‰§è¡Œä¸‹ä¸€æ­¥ã€‚é‡åˆ°å‡½æ•°æ—¶ï¼Œä¸è¿›å…¥å‡½æ•°ç›´æŽ¥æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚ step into next function callè·¨å…¥ï¼Œå®žé™…è¡¨çŽ°æ˜¯ä¸é‡åˆ°å‡½æ•°æ—¶ï¼Œæ‰§è¡Œä¸‹ä¸€æ­¥ã€‚é‡åˆ°åˆ°å‡½æ•°æ—¶ï¼Œè¿›å…¥å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ step out of current functionè·³å‡ºå½“å‰å‡½æ•° deactivate breakpointsåœç”¨æ–­ç‚¹ donâ€˜t pause on exceptionsä¸æš‚åœå¼‚å¸¸æ•èŽ· å…¶ä¸­è·¨è¿‡ï¼Œè·¨å…¥ï¼Œè·³å‡ºæ˜¯æˆ‘ä½¿ç”¨æœ€å¤šçš„ä¸‰ä¸ªæ“ä½œã€‚ ä¸Šå›¾å³ä¾§ç¬¬äºŒä¸ªçº¢è‰²ç®­å¤´æŒ‡å‘çš„æ˜¯å‡½æ•°è°ƒç”¨æ ˆï¼ˆcall Stackï¼‰ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨æ ˆçš„å˜åŒ–ã€‚ å³ä¾§ç¬¬ä¸‰ä¸ªçº¢è‰²ç®­å¤´æŒ‡å‘çš„æ˜¯ä½œç”¨åŸŸé“¾ï¼ˆScopeï¼‰ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºå½“å‰å‡½æ•°çš„ä½œç”¨åŸŸé“¾ã€‚å…¶ä¸­Localè¡¨ç¤ºå½“å‰çš„å±€éƒ¨å˜é‡å¯¹è±¡ï¼ŒClosureè¡¨ç¤ºå½“å‰ä½œç”¨åŸŸé“¾ä¸­çš„é—­åŒ…ã€‚å€ŸåŠ©æ­¤å¤„çš„ä½œç”¨åŸŸé“¾å±•ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆç›´è§‚çš„åˆ¤æ–­å‡ºä¸€ä¸ªä¾‹å­ä¸­ï¼Œåˆ°åº•è°æ˜¯é—­åŒ…ï¼Œå¯¹äºŽé—­åŒ…çš„æ·±å…¥äº†è§£å…·æœ‰éžå¸¸é‡è¦çš„å¸®åŠ©ä½œç”¨ã€‚ ä¸‰ã€æ–­ç‚¹è®¾ç½®åœ¨æ˜¾ç¤ºä»£ç è¡Œæ•°çš„åœ°æ–¹ç‚¹å‡»ï¼Œå³å¯è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ã€‚æ–­ç‚¹è®¾ç½®æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š åœ¨å•ç‹¬çš„å˜é‡å£°æ˜Ž(å¦‚æžœæ²¡æœ‰èµ‹å€¼)ï¼Œå‡½æ•°å£°æ˜Žçš„é‚£ä¸€è¡Œï¼Œæ— æ³•è®¾ç½®æ–­ç‚¹ã€‚ è®¾ç½®æ–­ç‚¹åŽåˆ·æ–°é¡µé¢ï¼ŒJavaScriptä»£ç ä¼šæ‰§è¡Œåˆ°æ–­ç‚¹ä½ç½®å¤„æš‚åœæ‰§è¡Œï¼Œç„¶åŽæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸Šè¾¹ä»‹ç»è¿‡çš„å‡ ä¸ªæ“ä½œå¼€å§‹è°ƒè¯•äº†ã€‚ å½“ä½ è®¾ç½®å¤šä¸ªæ–­ç‚¹æ—¶ï¼Œchromeå·¥å…·ä¼šè‡ªåŠ¨åˆ¤æ–­ä»Žæœ€æ—©æ‰§è¡Œçš„é‚£ä¸ªæ–­ç‚¹å¼€å§‹æ‰§è¡Œï¼Œå› æ­¤æˆ‘ä¸€èˆ¬éƒ½æ˜¯è®¾ç½®ä¸€ä¸ªæ–­ç‚¹å°±è¡Œäº†ã€‚ å››ã€å®žä¾‹æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å€ŸåŠ©ä¸€äº›å®žä¾‹ï¼Œæ¥ä½¿ç”¨æ–­ç‚¹è°ƒè¯•å·¥å…·ï¼Œçœ‹ä¸€çœ‹ï¼Œæˆ‘ä»¬çš„demoå‡½æ•°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å…·ä½“è¡¨çŽ°ã€‚ 12345678910111213141516// demo01var fn;function foo() &#123; var a = 2; function baz() &#123; console.log( a ); &#125; fn = baz;&#125;function bar() &#123; fn();&#125;foo();bar(); // 2 åœ¨å‘ä¸‹é˜…è¯»ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥åœä¸‹æ¥æ€è€ƒä¸€ä¸‹ï¼Œè¿™ä¸ªä¾‹å­ä¸­ï¼Œè°æ˜¯é—­åŒ…ï¼Ÿ è¿™æ˜¯æ¥è‡ªã€Šä½ ä¸çŸ¥é“çš„jsã€‹ä¸­çš„ä¸€ä¸ªä¾‹å­ã€‚ç”±äºŽåœ¨ä½¿ç”¨æ–­ç‚¹è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œå‘çŽ°chromeæµè§ˆå™¨ç†è§£çš„é—­åŒ…ä¸Žè¯¥ä¾‹å­ä¸­æ‰€ç†è§£çš„é—­åŒ…ä¸å¤ªä¸€è‡´ï¼Œå› æ­¤ä¸“é—¨æŒ‘å‡ºæ¥ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚æˆ‘ä¸ªäººæ›´åŠ å€¾å‘äºŽchromeä¸­çš„ç†è§£ã€‚ ç¬¬ä¸€æ­¥ï¼šè®¾ç½®æ–­ç‚¹ï¼Œç„¶åŽåˆ·æ–°é¡µé¢ã€‚ ç¬¬äºŒæ­¥ï¼šç‚¹å‡»ä¸Šå›¾çº¢è‰²ç®­å¤´æŒ‡å‘çš„æŒ‰é’®ï¼ˆstep intoï¼‰ï¼Œè¯¥æŒ‰é’®çš„ä½œç”¨ä¼šæ ¹æ®ä»£ç æ‰§è¡Œé¡ºåºï¼Œä¸€æ­¥ä¸€æ­¥å‘ä¸‹æ‰§è¡Œã€‚åœ¨ç‚¹å‡»çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¦æ³¨æ„è§‚å¯Ÿä¸‹æ–¹call stack ä¸Ž scopeçš„å˜åŒ–ï¼Œä»¥åŠå‡½æ•°æ‰§è¡Œä½ç½®çš„å˜åŒ–ã€‚ ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œï¼Œå½“å‡½æ•°æ‰§è¡Œåˆ°ä¸Šä¾‹å­ä¸­ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨chromeå·¥å…·çš„ç†è§£ä¸­ï¼Œç”±äºŽåœ¨fooå†…éƒ¨å£°æ˜Žçš„bazå‡½æ•°åœ¨è°ƒç”¨æ—¶è®¿é—®äº†å®ƒçš„å˜é‡aï¼Œå› æ­¤fooæˆä¸ºäº†é—­åŒ…ã€‚è¿™å¥½åƒå’Œæˆ‘ä»¬å­¦ä¹ åˆ°çš„çŸ¥è¯†ä¸å¤ªä¸€æ ·ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨ã€Šä½ ä¸çŸ¥é“çš„jsã€‹è¿™æœ¬ä¹¦ä¸­çš„ä¾‹å­ä¸­çš„ç†è§£ã€‚ ä¹¦ä¸­çš„æ³¨é‡Šå¯ä»¥æ˜Žæ˜¾çš„çœ‹å‡ºï¼Œä½œè€…è®¤ä¸ºfnä¸ºé—­åŒ…ã€‚å³bazï¼Œè¿™å’Œchromeå·¥å…·ä¸­æ˜Žæ˜¾æ˜¯ä¸ä¸€æ ·çš„ã€‚ è€Œåœ¨å¤‡å—å¤§å®¶æŽ¨å´‡çš„ã€ŠJavaScripté«˜çº§ç¼–ç¨‹ã€‹ä¸€ä¹¦ä¸­ï¼Œæ˜¯è¿™æ ·å®šä¹‰é—­åŒ…ã€‚ è¿™é‡Œchromeä¸­ç†è§£çš„é—­åŒ…ï¼Œä¸Žæˆ‘æ‰€é˜…è¯»çš„è¿™å‡ æœ¬ä¹¦ä¸­çš„ç†è§£çš„é—­åŒ…ä¸ä¸€æ ·ã€‚å…¶å®žåœ¨ä¹‹å‰å¯¹äºŽé—­åŒ…åˆ†æžçš„æ–‡ç« ä¸­ï¼Œæˆ‘å·²ç»æœ‰å¯¹è¿™ç§æƒ…å†µåšäº†ä¸€ä¸ªè§£è¯»ã€‚é—­åŒ…è¯¦è§£ é—­åŒ…æ˜¯ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œå®ƒç”±æ‰§è¡Œä¸Šä¸‹æ–‡(ä»£å·A)ä¸Žåœ¨è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„å‡½æ•°(ä»£å·B)å…±åŒç»„æˆã€‚ å½“Bæ‰§è¡Œæ—¶ï¼Œå¦‚æžœè®¿é—®äº†Aä¸­å˜é‡å¯¹è±¡ä¸­çš„å€¼ï¼Œé‚£ä¹ˆé—­åŒ…å°±ä¼šäº§ç”Ÿã€‚ é‚£ä¹ˆåœ¨å¤§å¤šæ•°ç†è§£ä¸­ï¼ŒåŒ…æ‹¬è®¸å¤šè‘—åçš„ä¹¦ç±ï¼Œæ–‡ç« é‡Œéƒ½ä»¥å‡½æ•°Bçš„åå­—ä»£æŒ‡è¿™é‡Œç”Ÿæˆçš„é—­åŒ…ã€‚è€Œåœ¨chromeä¸­ï¼Œåˆ™ä»¥æ‰§è¡Œä¸Šä¸‹æ–‡Açš„å‡½æ•°åä»£æŒ‡é—­åŒ…ã€‚ æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹demo01ä¸­çš„ä¾‹å­ï¼Œæ¥çœ‹çœ‹ä¸€ä¸ªéžå¸¸æœ‰æ„æ€çš„å˜åŒ–ã€‚ 12345678910111213141516// demo02var fn;var m = 20;function foo() &#123; var a = 2; function baz(a) &#123; console.log(a); &#125; fn = baz;&#125;function bar() &#123; fn(m);&#125;foo();bar(); // 20 è¿™ä¸ªä¾‹å­åœ¨demo01çš„åŸºç¡€ä¸Šï¼Œæˆ‘åœ¨bazå‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚åœ¨è°ƒç”¨æ—¶ï¼Œæˆ‘å°†å…¨å±€çš„å˜é‡mä¼ å…¥ã€‚è¾“å‡ºç»“æžœå˜ä¸º20ã€‚åœ¨ä½¿ç”¨æ–­ç‚¹è°ƒè¯•çœ‹çœ‹ä½œç”¨åŸŸé“¾ã€‚ æ˜¯ä¸æ˜¯ç»“æžœæœ‰ç‚¹æ„å¤–ï¼Œé—­åŒ…æ²¡äº†ï¼Œä½œç”¨åŸŸé“¾ä¸­æ²¡æœ‰åŒ…å«fooäº†ã€‚æˆ‘é ï¼Œè·Ÿæˆ‘ä»¬ç†è§£çš„å¥½åƒåˆæœ‰ç‚¹ä¸ä¸€æ ·ã€‚æ‰€ä»¥é€šè¿‡è¿™ä¸ªå¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šé—­åŒ…çš„å½¢æˆéœ€è¦ä¸¤ä¸ªæ¡ä»¶ã€‚ åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºæ–°çš„å‡½æ•°ï¼› æ–°çš„å‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼Œè®¿é—®äº†å‡½æ•°çš„å˜é‡å¯¹è±¡ï¼› è¿˜æœ‰æ›´æœ‰æ„æ€çš„ã€‚ æˆ‘ä»¬ç»§ç»­æ¥çœ‹çœ‹ä¸€ä¸ªä¾‹å­ã€‚ 1234567891011121314151617// demo03function foo() &#123; var a = 2; return function bar() &#123; var b = 9; return function fn() &#123; console.log(a); &#125; &#125;&#125;var bar = foo();var fn = bar();fn(); åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œfnåªè®¿é—®äº†fooä¸­çš„aå˜é‡ï¼Œå› æ­¤å®ƒçš„é—­åŒ…åªæœ‰fooã€‚ ä¿®æ”¹ä¸€ä¸‹demo03ï¼Œæˆ‘ä»¬åœ¨fnä¸­ä¹Ÿè®¿é—®barä¸­bå˜é‡è¯•è¯•çœ‹ã€‚ 1234567891011121314151617// demo04function foo() &#123; var a = 2; return function bar() &#123; var b = 9; return function fn() &#123; console.log(a, b); &#125; &#125;&#125;var bar = foo();var fn = bar();fn(); è¿™ä¸ªæ—¶å€™ï¼Œé—­åŒ…å˜æˆäº†ä¸¤ä¸ªã€‚åˆ†åˆ«æ˜¯barï¼Œfooã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œé—­åŒ…åœ¨æ¨¡å—ä¸­çš„åº”ç”¨éžå¸¸é‡è¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ¥ä¸€ä¸ªæ¨¡å—çš„ä¾‹å­ï¼Œä¹Ÿç”¨æ–­ç‚¹å·¥å…·æ¥è§‚å¯Ÿä¸€ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829// demo05(function() &#123; var a = 10; var b = 20; var test = &#123; m: 20, add: function(x) &#123; return a + x; &#125;, sum: function() &#123; return a + b + this.m; &#125;, mark: function(k, j) &#123; return k + j; &#125; &#125; window.test = test;&#125;)();test.add(100);test.sum();test.mark();var _mark = test.mark;_mark(); æ³¨æ„ï¼šè¿™é‡Œçš„thisæŒ‡å‘æ˜¾ç¤ºä¸ºObjectæˆ–è€…Windowï¼Œå¤§å†™å¼€å¤´ï¼Œä»–ä»¬è¡¨ç¤ºçš„æ˜¯å®žä¾‹çš„æž„é€ å‡½æ•°ï¼Œå®žé™…ä¸Šthisæ˜¯æŒ‡å‘çš„å…·ä½“å®žä¾‹ test.markèƒ½å½¢æˆé—­åŒ…ï¼Œè·Ÿä¸‹é¢çš„è¡¥å……ä¾‹å­ï¼ˆdemo07ï¼‰æƒ…å†µæ˜¯ä¸€æ ·çš„ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥ç»“åˆç‚¹æ–­è°ƒè¯•çš„æ–¹å¼ï¼Œæ¥ç†è§£é‚£äº›å›°æ‰°æˆ‘ä»¬å¾ˆä¹…çš„thisæŒ‡å‘ã€‚éšæ—¶è§‚å¯Ÿthisçš„æŒ‡å‘ï¼Œåœ¨å®žé™…å¼€å‘è°ƒè¯•ä¸­éžå¸¸æœ‰ç”¨ã€‚ 123456789101112// demo06var a = 10;var obj = &#123; a: 20&#125;function fn () &#123; console.log(this.a);&#125;fn.call(obj); // 20 æœ€åŽç»§ç»­è¡¥å……ä¸€ä¸ªä¾‹å­ã€‚ 12345678910111213141516// demo07function foo() &#123; var a = 10; function fn1() &#123; return a; &#125; function fn2() &#123; return 10; &#125; fn2();&#125;foo(); è¿™ä¸ªä¾‹å­ï¼Œå’Œå…¶ä»–ä¾‹å­ä¸å¤ªä¸€æ ·ã€‚è™½ç„¶fn2å¹¶æ²¡æœ‰è®¿é—®åˆ°fooçš„å˜é‡ï¼Œä½†æ˜¯fooæ‰§è¡Œæ—¶ä»ç„¶å˜æˆäº†é—­åŒ…ã€‚è€Œå½“æˆ‘å°†fn1çš„å£°æ˜ŽåŽ»æŽ‰æ—¶ï¼Œé—­åŒ…ä¾¿ä¸ä¼šå‡ºçŽ°äº†ã€‚ é‚£ä¹ˆç»“åˆè¿™ä¸ªç‰¹æ®Šçš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è¿™æ ·å®šä¹‰é—­åŒ…ã€‚ é—­åŒ…æ˜¯æŒ‡è¿™æ ·çš„ä½œç”¨åŸŸ(foo)ï¼Œå®ƒåŒ…å«æœ‰ä¸€ä¸ªå‡½æ•°(fn1)ï¼Œè¿™ä¸ªå‡½æ•°(fn1)å¯ä»¥è°ƒç”¨è¢«è¿™ä¸ªä½œç”¨åŸŸæ‰€å°é—­çš„å˜é‡(a)ã€å‡½æ•°ã€æˆ–è€…é—­åŒ…ç­‰å†…å®¹ã€‚é€šå¸¸æˆ‘ä»¬é€šè¿‡é—­åŒ…æ‰€å¯¹åº”çš„å‡½æ•°æ¥èŽ·å¾—å¯¹é—­åŒ…çš„è®¿é—®ã€‚ æ›´å¤šçš„ä¾‹å­ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå°è¯•ï¼Œæ€»ä¹‹ï¼Œå­¦ä¼šäº†ä½¿ç”¨æ–­ç‚¹è°ƒè¯•ä¹‹åŽï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿå¾ˆè½»æ¾çš„äº†è§£ä¸€æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹äº†ã€‚è¿™å¯¹å¿«é€Ÿå®šä½é”™è¯¯ï¼Œå¿«é€Ÿäº†è§£ä»–äººçš„ä»£ç éƒ½æœ‰éžå¸¸å·¨å¤§çš„å¸®åŠ©ã€‚å¤§å®¶ä¸€å®šè¦åŠ¨æ‰‹å®žè·µï¼ŒæŠŠå®ƒç»™å­¦ä¼šã€‚ æœ€åŽï¼Œæ ¹æ®ä»¥ä¸Šçš„æ‘¸ç´¢æƒ…å†µï¼Œå†æ¬¡æ€»ç»“ä¸€ä¸‹é—­åŒ…ï¼š é—­åŒ…æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ‰§è¡Œçš„æ—¶å€™æ‰è¢«ç¡®è®¤åˆ›å»ºçš„ã€‚ é—­åŒ…çš„å½¢æˆï¼Œä¸Žä½œç”¨åŸŸé“¾çš„è®¿é—®é¡ºåºæœ‰ç›´æŽ¥å…³ç³»ã€‚ åªæœ‰å†…éƒ¨å‡½æ•°è®¿é—®äº†ä¸Šå±‚ä½œç”¨åŸŸé“¾ä¸­çš„å˜é‡å¯¹è±¡æ—¶ï¼Œæ‰ä¼šå½¢æˆé—­åŒ…ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é—­åŒ…æ¥è®¿é—®å‡½æ•°å†…éƒ¨çš„å˜é‡ã€‚ å¤§å®¶ä¹Ÿå¯ä»¥æ ¹æ®æˆ‘æä¾›çš„è¿™ä¸ªæ–¹æ³•ï¼Œå¯¹å…¶ä»–çš„ä¾‹å­è¿›è¡Œæ›´å¤šçš„æµ‹è¯•ï¼Œå¦‚æžœå‘çŽ°æˆ‘çš„ç»“è®ºæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œå¤§å®¶ç›¸äº’å­¦ä¹ è¿›æ­¥ï¼Œè°¢è°¢å¤§å®¶ã€‚]]></content>
      <categories>
        <category>chrome</category>
      </categories>
      <tags>
        <tag>chrome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„å˜é‡å¯¹è±¡]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E5%8F%98%E9%87%8F%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[å¼€å¹´ä¹‹åŽå·¥ä½œçƒ­æƒ…ä¸€ç›´ä¸æ˜¯å¾ˆé«˜ï¼Œè¿™å‡ å¤©ä¸€ç›´å¤„äºŽæ¶ˆæžæ€ å·¥çŠ¶æ€ã€‚æ—©ä¸Šä¸æƒ³èµ·åºŠï¼Œèµ·åºŠäº†ä¸æƒ³ä¸Šç­ã€‚æ˜Žæ˜Žæ”¾å‡ä¹‹å‰å·¥ä½œçƒ­æƒ…è¿˜ä¸€ç›´å¾ˆé«˜ï¼Œä¸€ç›´å¿ƒå¿ƒå¿µå¿µçš„æƒ³æŠŠå°ç¨‹åºé¡¹ç›®æ€¼å‡ºæ¥ï¼Œç»“æžœä¼‘å‡å›žæ¥ä¹‹åŽç”»é£Žå®Œå…¨ä¸ä¸€æ ·äº†ã€‚æˆ‘æ„Ÿè§‰è‡ªå·±å¾—äº†ä¸¥é‡äº†èŠ‚åŽç»¼åˆå¾ã€‚è¿˜å¥½æ’¸äº†å‡ ç¯‡æ–‡ç« ï¼Œå‹‰å¼ºè¡¨ç¤ºè¿™ä¸€å‘¨çš„æ—¶é—´æ²¡æœ‰å®Œå…¨æµªè´¹ã€‚è¿™ç¯‡æ–‡ç« è¦ç»™å¤§å®¶ä»‹ç»çš„æ˜¯å˜é‡å¯¹è±¡ã€‚ åœ¨JavaScriptä¸­ï¼Œæˆ‘ä»¬è‚¯å®šä¸å¯é¿å…çš„éœ€è¦å£°æ˜Žå˜é‡å’Œå‡½æ•°ï¼Œå¯æ˜¯JSè§£æžå™¨æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™äº›å˜é‡çš„å‘¢ï¼Ÿæˆ‘ä»¬è¿˜å¾—å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä¸€ä¸ªè¿›ä¸€æ­¥çš„äº†è§£ã€‚ åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼ˆæ¿€æ´»ï¼‰ï¼Œä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±ä¼šè¢«åˆ›å»ºã€‚è€Œä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚ åˆ›å»ºé˜¶æ®µåœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¼šåˆ†åˆ«åˆ›å»ºå˜é‡å¯¹è±¡ï¼Œå»ºç«‹ä½œç”¨åŸŸé“¾ï¼Œä»¥åŠç¡®å®šthisçš„æŒ‡å‘ã€‚ ä»£ç æ‰§è¡Œé˜¶æ®µåˆ›å»ºå®Œæˆä¹‹åŽï¼Œå°±ä¼šå¼€å§‹æ‰§è¡Œä»£ç ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä¼šå®Œæˆå˜é‡èµ‹å€¼ï¼Œå‡½æ•°å¼•ç”¨ï¼Œä»¥åŠæ‰§è¡Œå…¶ä»–ä»£ç ã€‚ ä»Žè¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºè¯¦ç»†äº†è§£æ‰§è¡Œä¸Šä¸‹æ–‡æžä¸ºé‡è¦ï¼Œå› ä¸ºå…¶ä¸­æ¶‰åŠåˆ°äº†å˜é‡å¯¹è±¡ï¼Œä½œç”¨åŸŸé“¾ï¼Œthisç­‰å¾ˆå¤šäººæ²¡æœ‰æ€Žä¹ˆå¼„æ˜Žç™½ï¼Œä½†æ˜¯å´æžä¸ºé‡è¦çš„æ¦‚å¿µï¼Œå®ƒå…³ç³»åˆ°æˆ‘ä»¬èƒ½ä¸èƒ½çœŸæ­£ç†è§£JavaScriptã€‚åœ¨åŽé¢çš„æ–‡ç« ä¸­æˆ‘ä»¬ä¼šä¸€ä¸€è¯¦ç»†æ€»ç»“ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆé‡ç‚¹äº†è§£å˜é‡å¯¹è±¡ã€‚ å˜é‡å¯¹è±¡ï¼ˆVariable Objectï¼‰å˜é‡å¯¹è±¡çš„åˆ›å»ºï¼Œä¾æ¬¡ç»åŽ†äº†ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ã€‚ å»ºç«‹argumentså¯¹è±¡ã€‚æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å‚æ•°ï¼Œå»ºç«‹è¯¥å¯¹è±¡ä¸‹çš„å±žæ€§ä¸Žå±žæ€§å€¼ã€‚ æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡çš„å‡½æ•°å£°æ˜Žï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨functionå…³é”®å­—å£°æ˜Žçš„å‡½æ•°ã€‚åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å‡½æ•°åå»ºç«‹ä¸€ä¸ªå±žæ€§ï¼Œå±žæ€§å€¼ä¸ºæŒ‡å‘è¯¥å‡½æ•°æ‰€åœ¨å†…å­˜åœ°å€çš„å¼•ç”¨ã€‚å¦‚æžœå‡½æ•°åçš„å±žæ€§å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥å±žæ€§å°†ä¼šè¢«æ–°çš„å¼•ç”¨æ‰€è¦†ç›–ã€‚ æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å£°æ˜Žï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªå˜é‡å£°æ˜Žï¼Œå°±åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å˜é‡åå»ºç«‹ä¸€ä¸ªå±žæ€§ï¼Œå±žæ€§å€¼ä¸ºundefinedã€‚å¦‚æžœè¯¥å˜é‡åçš„å±žæ€§å·²ç»å­˜åœ¨ï¼Œä¸ºäº†é˜²æ­¢åŒåçš„å‡½æ•°è¢«ä¿®æ”¹ä¸ºundefinedï¼Œåˆ™ä¼šç›´æŽ¥è·³è¿‡ï¼ŒåŽŸå±žæ€§å€¼ä¸ä¼šè¢«ä¿®æ”¹ã€‚ è®¸å¤šè¯»è€…åœ¨é˜…è¯»åˆ°è¿™çš„æ—¶å€™ä¼šå› ä¸ºä¸‹é¢çš„è¿™æ ·åœºæ™¯å¯¹äºŽâ€œè·³è¿‡â€ä¸€è¯äº§ç”Ÿç–‘é—®ã€‚æ—¢ç„¶å˜é‡å£°æ˜Žçš„fooé‡åˆ°å‡½æ•°å£°æ˜Žçš„fooä¼šè·³è¿‡ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆæœ€åŽfooçš„è¾“å‡ºç»“æžœä»ç„¶æ˜¯è¢«è¦†ç›–äº†ï¼Ÿ 1234function foo() &#123; console.log('function foo') &#125;var foo = 20;console.log(foo); // 20 å…¶å®žåªæ˜¯å¤§å®¶åœ¨é˜…è¯»çš„æ—¶å€™ä¸å¤Ÿä»”ç»†ï¼Œå› ä¸ºä¸Šé¢çš„ä¸‰æ¡è§„åˆ™ä»…ä»…é€‚ç”¨äºŽå˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ã€‚ä¹Ÿå°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ›å»ºè¿‡ç¨‹ã€‚è€Œfoo = 20æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­è¿è¡Œçš„ï¼Œè¾“å‡ºç»“æžœè‡ªç„¶ä¼šæ˜¯20ã€‚å¯¹æ¯”ä¸‹ä¾‹ã€‚ 123console.log(foo); // function foofunction foo() &#123; console.log('function foo') &#125;var foo = 20; 1234567891011// ä¸Šæ —çš„æ‰§è¡Œé¡ºåºä¸º// é¦–å…ˆå°†æ‰€æœ‰å‡½æ•°å£°æ˜Žæ”¾å…¥å˜é‡å¯¹è±¡ä¸­function foo() &#123; console.log('function foo') &#125;// å…¶æ¬¡å°†æ‰€æœ‰å˜é‡å£°æ˜Žæ”¾å…¥å˜é‡å¯¹è±¡ä¸­ï¼Œä½†æ˜¯å› ä¸ºfooå·²ç»å­˜åœ¨åŒåå‡½æ•°ï¼Œå› æ­¤æ­¤æ—¶ä¼šè·³è¿‡undefinedçš„èµ‹å€¼// var foo = undefined;// ç„¶åŽå¼€å§‹æ‰§è¡Œé˜¶æ®µä»£ç çš„æ‰§è¡Œconsole.log(foo); // function foofoo = 20; æ ¹æ®è¿™ä¸ªè§„åˆ™ï¼Œç†è§£å˜é‡æå‡å°±å˜å¾—ååˆ†ç®€å•äº†ã€‚åœ¨å¾ˆå¤šæ–‡ç« ä¸­è™½ç„¶æåˆ°äº†å˜é‡æå‡ï¼Œä½†æ˜¯å…·ä½“æ˜¯æ€Žä¹ˆå›žäº‹è¿˜çœŸçš„å¾ˆå¤šäººéƒ½è¯´ä¸å‡ºæ¥ï¼Œä»¥åŽåœ¨é¢è¯•ä¸­ç”¨å˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹è·Ÿé¢è¯•å®˜è§£é‡Šå˜é‡æå‡ï¼Œä¿è¯çž¬é—´æå‡é€¼æ ¼ã€‚ åœ¨ä¸Šé¢çš„è§„åˆ™ä¸­æˆ‘ä»¬çœ‹å‡ºï¼Œfunctionå£°æ˜Žä¼šæ¯”varå£°æ˜Žä¼˜å…ˆçº§æ›´é«˜ä¸€ç‚¹ã€‚ä¸ºäº†å¸®åŠ©å¤§å®¶æ›´å¥½çš„ç†è§£å˜é‡å¯¹è±¡ï¼Œæˆ‘ä»¬ç»“åˆä¸€äº›ç®€å•çš„ä¾‹å­æ¥è¿›è¡ŒæŽ¢è®¨ã€‚ 123456789101112// demo01function test() &#123; console.log(a); console.log(foo()); var a = 1; function foo() &#123; return 2; &#125;&#125;test(); åœ¨ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ç›´æŽ¥ä»Žtest()çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¼€å§‹ç†è§£ã€‚å…¨å±€ä½œç”¨åŸŸä¸­è¿è¡Œtest()æ—¶ï¼Œtest()çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¼€å§‹åˆ›å»ºã€‚ä¸ºäº†ä¾¿äºŽç†è§£ï¼Œæˆ‘ä»¬ç”¨å¦‚ä¸‹çš„å½¢å¼æ¥è¡¨ç¤º 123456789101112131415// åˆ›å»ºè¿‡ç¨‹testEC = &#123; // å˜é‡å¯¹è±¡ VO: &#123;&#125;, scopeChain: &#123;&#125;&#125;// å› ä¸ºæœ¬æ–‡æš‚æ—¶ä¸è¯¦ç»†è§£é‡Šä½œç”¨åŸŸé“¾ï¼Œæ‰€ä»¥æŠŠå˜é‡å¯¹è±¡ä¸“é—¨æå‡ºæ¥è¯´æ˜Ž// VO ä¸º Variable Objectçš„ç¼©å†™ï¼Œå³å˜é‡å¯¹è±¡VO = &#123; arguments: &#123;...&#125;, //æ³¨ï¼šåœ¨æµè§ˆå™¨çš„å±•ç¤ºä¸­ï¼Œå‡½æ•°çš„å‚æ•°å¯èƒ½å¹¶ä¸æ˜¯æ”¾åœ¨argumentså¯¹è±¡ä¸­ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘åšäº†è¿™æ ·çš„å¤„ç† foo: &lt;foo reference&gt; // è¡¨ç¤ºfooçš„åœ°å€å¼•ç”¨ a: undefined&#125; æœªè¿›å…¥æ‰§è¡Œé˜¶æ®µä¹‹å‰ï¼Œå˜é‡å¯¹è±¡ä¸­çš„å±žæ€§éƒ½ä¸èƒ½è®¿é—®ï¼ä½†æ˜¯è¿›å…¥æ‰§è¡Œé˜¶æ®µä¹‹åŽï¼Œå˜é‡å¯¹è±¡è½¬å˜ä¸ºäº†æ´»åŠ¨å¯¹è±¡ï¼Œé‡Œé¢çš„å±žæ€§éƒ½èƒ½è¢«è®¿é—®äº†ï¼Œç„¶åŽå¼€å§‹è¿›è¡Œæ‰§è¡Œé˜¶æ®µçš„æ“ä½œã€‚ è¿™æ ·ï¼Œå¦‚æžœå†é¢è¯•çš„æ—¶å€™è¢«é—®åˆ°å˜é‡å¯¹è±¡å’Œæ´»åŠ¨å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå°±åˆå¯ä»¥è‡ªå¦‚çš„åº”ç­”äº†ï¼Œä»–ä»¬å…¶å®žéƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å¤„äºŽæ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸åŒç”Ÿå‘½å‘¨æœŸã€‚ä¸è¿‡åªæœ‰å¤„äºŽå‡½æ•°è°ƒç”¨æ ˆæ ˆé¡¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ï¼Œæ‰ä¼šå˜æˆæ´»åŠ¨å¯¹è±¡ã€‚ 12345678// æ‰§è¡Œé˜¶æ®µVO -&gt; AO // Active ObjectAO = &#123; arguments: &#123;...&#125;, foo: &lt;foo reference&gt;, a: 1, this: Window&#125; å› æ­¤ï¼Œä¸Šé¢çš„ä¾‹å­demo1ï¼Œæ‰§è¡Œé¡ºåºå°±å˜æˆäº†è¿™æ · 1234567891011function test() &#123; function foo() &#123; return 2; &#125; var a; console.log(a); console.log(foo()); a = 1;&#125;test(); å†æ¥ä¸€ä¸ªä¾‹å­ï¼Œå·©å›ºä¸€ä¸‹æˆ‘ä»¬çš„ç†è§£ã€‚ 1234567891011121314151617// demo2function test() &#123; console.log(foo); console.log(bar); var foo = 'Hello'; console.log(foo); var bar = function () &#123; return 'world'; &#125; function foo() &#123; return 'hello'; &#125;&#125;test(); 1234567// åˆ›å»ºé˜¶æ®µVO = &#123; arguments: &#123;...&#125;, foo: &lt;foo reference&gt;, bar: undefined&#125;// è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå› ä¸ºvarå£°æ˜Žçš„å˜é‡å½“é‡åˆ°åŒåçš„å±žæ€§æ—¶ï¼Œä¼šè·³è¿‡è€Œä¸ä¼šè¦†ç›– 12345678// æ‰§è¡Œé˜¶æ®µVO -&gt; AOVO = &#123; arguments: &#123;...&#125;, foo: 'Hello', bar: &lt;bar reference&gt;, this: Window&#125; éœ€è¦ç»“åˆä¸Šé¢çš„çŸ¥è¯†ï¼Œä»”ç»†å¯¹æ¯”è¿™ä¸ªä¾‹å­ä¸­å˜é‡å¯¹è±¡ä»Žåˆ›å»ºé˜¶æ®µåˆ°æ‰§è¡Œé˜¶æ®µçš„å˜åŒ–ï¼Œå¦‚æžœä½ å·²ç»ç†è§£äº†ï¼Œè¯´æ˜Žå˜é‡å¯¹è±¡ç›¸å…³çš„ä¸œè¥¿éƒ½å·²ç»éš¾ä¸å€’ä½ äº†ã€‚ å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä»¥æµè§ˆå™¨ä¸­ä¸ºä¾‹ï¼Œå…¨å±€å¯¹è±¡ä¸ºwindowã€‚å…¨å±€ä¸Šä¸‹æ–‡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„åœ°æ–¹ï¼Œå®ƒçš„å˜é‡å¯¹è±¡ï¼Œå°±æ˜¯windowå¯¹è±¡ã€‚è€Œè¿™ä¸ªç‰¹æ®Šï¼Œåœ¨thisæŒ‡å‘ä¸Šä¹ŸåŒæ ·é€‚ç”¨ï¼Œthisä¹Ÿæ˜¯æŒ‡å‘windowã€‚ 1234567// ä»¥æµè§ˆå™¨ä¸­ä¸ºä¾‹ï¼Œå…¨å±€å¯¹è±¡ä¸ºwindow// å…¨å±€ä¸Šä¸‹æ–‡windowEC = &#123; VO: Window, scopeChain: &#123;&#125;, this: Window&#125; é™¤æ­¤ä¹‹å¤–ï¼Œå…¨å±€ä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸Žç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´ï¼Œåªè¦ç¨‹åºè¿è¡Œä¸ç»“æŸï¼Œæ¯”å¦‚å…³æŽ‰æµè§ˆå™¨çª—å£ï¼Œå…¨å±€ä¸Šä¸‹æ–‡å°±ä¼šä¸€ç›´å­˜åœ¨ã€‚å…¶ä»–æ‰€æœ‰çš„ä¸Šä¸‹æ–‡çŽ¯å¢ƒï¼Œéƒ½èƒ½ç›´æŽ¥è®¿é—®å…¨å±€ä¸Šä¸‹æ–‡çš„å±žæ€§ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å˜é‡å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„å‡½æ•°ä¸Žå‡½æ•°å¼ç¼–ç¨‹]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E5%87%BD%E6%95%B0%E4%B8%8E%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[çºµè§‚JavaScriptä¸­æ‰€æœ‰å¿…é¡»éœ€è¦æŽŒæ¡çš„é‡ç‚¹çŸ¥è¯†ä¸­ï¼Œå‡½æ•°æ˜¯æˆ‘ä»¬åœ¨åˆå­¦çš„æ—¶å€™æœ€å®¹æ˜“å¿½è§†çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ã€‚åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šäººã€å¾ˆå¤šæ–‡ç« å‘Šè¯‰ä½ é¢å‘å¯¹è±¡å¾ˆé‡è¦ï¼ŒåŽŸåž‹å¾ˆé‡è¦ï¼Œå¯æ˜¯å´å¾ˆå°‘æœ‰äººå‘Šè¯‰ä½ ï¼Œé¢å‘å¯¹è±¡ä¸­æ‰€æœ‰çš„é‡ç‚¹éš¾ç‚¹ï¼Œå‡ ä¹Žéƒ½ä¸Žå‡½æ•°æ¯æ¯ç›¸å…³ã€‚ åŒ…æ‹¬æˆ‘ä¹‹å‰å‡ ç¯‡æ–‡ç« ä»‹ç»çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå˜é‡å¯¹è±¡ï¼Œé—­åŒ…ï¼Œthisç­‰ï¼Œéƒ½æ˜¯å›´ç»•å‡½æ•°çš„ç»†èŠ‚æ¥å±•å¼€ã€‚ æˆ‘çŸ¥é“å¾ˆå¤šäººåœ¨å­¦ä¹ ä¸­ï¼Œå¾ˆæ€¥åˆ‡çš„å¸Œæœ›è‡ªå·±å¿«ä¸€ç‚¹å¼€å§‹å­¦ä¹ é¢å‘å¯¹è±¡ï¼Œå­¦ä¹ æ¨¡å—ï¼Œå­¦ä¹ æµè¡Œæ¡†æž¶ï¼Œç„¶åŽè¿…é€Ÿæˆä¸ºé«˜æ‰‹ã€‚ä½†æ˜¯æˆ‘å¯ä»¥å¾ˆè´Ÿè´£çš„å‘Šè¯‰ä½ ï¼Œå…³äºŽå‡½æ•°çš„è¿™äº›åŸºç¡€ä¸œè¥¿æ²¡ç†è§£åˆ°ä¸€å®šç¨‹åº¦ï¼Œé‚£ä¹ˆä½ çš„å­¦ä¹ è¿›å±•ä¸€å®šæ˜¯ä¸¾æ­¥ç»´è‰°çš„ã€‚ æ‰€ä»¥ï¼Œå¤§å®¶ä¸€å®šè¦é‡è§†å‡½æ•°ï¼ å½“ç„¶ï¼Œå…³äºŽå‡½æ•°çš„é‡ç‚¹ï¼Œéš¾ç‚¹åœ¨å‰é¢å‡ ç¯‡æ–‡ç« éƒ½å·²ç»è¯´å¾—å·®ä¸å¤šäº†ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ€»ç»“ä¸€ä¸‹å‡½æ•°çš„åŸºç¡€çŸ¥è¯†ï¼Œå¹¶åˆæ­¥å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´ã€‚ ä¸€ã€å‡½æ•°å£°æ˜Žã€å‡½æ•°è¡¨è¾¾å¼ã€åŒ¿åå‡½æ•°ä¸Žè‡ªæ‰§è¡Œå‡½æ•°å…³äºŽå‡½æ•°åœ¨å®žé™…å¼€å‘ä¸­çš„åº”ç”¨ï¼Œå¤§ä½“å¯ä»¥æ€»ç»“ä¸ºå‡½æ•°å£°æ˜Žã€å‡½æ•°è¡¨è¾¾å¼ã€åŒ¿åå‡½æ•°ã€è‡ªæ‰§è¡Œå‡½æ•°ã€‚ å‡½æ•°å£°æ˜Ž æˆ‘ä»¬çŸ¥é“ï¼ŒJavaScriptä¸­ï¼Œæœ‰ä¸¤ç§å£°æ˜Žæ–¹å¼ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨varçš„å˜é‡å£°æ˜Žï¼Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨functionçš„å‡½æ•°å£°æ˜Žã€‚ åœ¨å‰ç«¯åŸºç¡€è¿›é˜¶ï¼ˆä¸‰ï¼‰ï¼šå˜é‡å¯¹è±¡è¯¦è§£ä¸­æˆ‘æœ‰æåˆ°è¿‡ï¼Œå˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œå‡½æ•°å£°æ˜Žæ¯”å˜é‡å£°æ˜Žå…·æœ‰æ›´ä¸ºä¼˜å…ˆçš„æ‰§è¡Œé¡ºåºï¼Œå³æˆ‘ä»¬å¸¸å¸¸æåˆ°çš„å‡½æ•°å£°æ˜Žæå‰ã€‚å› æ­¤æˆ‘ä»¬åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œæ— è®ºåœ¨ä»€ä¹ˆä½ç½®å£°æ˜Žäº†å‡½æ•°ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åœ¨åŒä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ç›´æŽ¥ä½¿ç”¨è¯¥å‡½æ•°ã€‚ 12345fn(); // functionfunction fn() &#123; console.log('function');&#125; å‡½æ•°è¡¨è¾¾å¼ ä¸Žå‡½æ•°å£°æ˜Žä¸åŒï¼Œå‡½æ•°è¡¨è¾¾å¼ä½¿ç”¨äº†varè¿›è¡Œå£°æ˜Žï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ç¡®è®¤ä»–æ˜¯å¦å¯ä»¥æ­£ç¡®ä½¿ç”¨çš„æ—¶å€™å°±å¿…é¡»ä¾ç…§varçš„è§„åˆ™è¿›è¡Œåˆ¤æ–­ï¼Œå³å˜é‡å£°æ˜Žã€‚æˆ‘ä»¬çŸ¥é“ä½¿ç”¨varè¿›è¡Œå˜é‡å£°æ˜Žï¼Œå…¶å®žæ˜¯è¿›è¡Œäº†ä¸¤æ­¥æ“ä½œã€‚ 123456// å˜é‡å£°æ˜Žvar a = 20;// å®žé™…æ‰§è¡Œé¡ºåºvar a = undefined; // å˜é‡å£°æ˜Žï¼Œåˆå§‹å€¼undefinedï¼Œå˜é‡æå‡ï¼Œæå‡é¡ºåºæ¬¡äºŽfunctionå£°æ˜Ža = 20; // å˜é‡èµ‹å€¼ï¼Œè¯¥æ“ä½œä¸ä¼šæå‡ åŒæ ·çš„é“ç†ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å˜é‡å£°æ˜Žçš„æ–¹å¼æ¥å£°æ˜Žå‡½æ•°æ—¶ï¼Œå°±æ˜¯æˆ‘ä»¬å¸¸å¸¸è¯´çš„å‡½æ•°è¡¨è¾¾å¼ã€‚å‡½æ•°è¡¨è¾¾çš„æå‡æ–¹å¼ä¸Žå˜é‡å£°æ˜Žä¸€è‡´ã€‚ 1234fn(); // æŠ¥é”™var fn = function() &#123; console.log('function');&#125; ä¸Šä¾‹å­çš„æ‰§è¡Œé¡ºåºä¸ºï¼š 12345var fn = undefined; // å˜é‡å£°æ˜Žæå‡fn(); // æ‰§è¡ŒæŠ¥é”™fn = function() &#123; // èµ‹å€¼æ“ä½œï¼Œæ­¤æ—¶å°†åŽè¾¹å‡½æ•°çš„å¼•ç”¨èµ‹å€¼ç»™fn console.log('function');&#125; å› æ­¤ï¼Œç”±äºŽå£°æ˜Žæ–¹å¼çš„ä¸åŒï¼Œå¯¼è‡´äº†å‡½æ•°å£°æ˜Žä¸Žå‡½æ•°è¡¨è¾¾å¼åœ¨ä½¿ç”¨ä¸Šçš„ä¸€äº›å·®å¼‚éœ€è¦æˆ‘ä»¬æ³¨æ„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿™ä¸¤ç§å½¢å¼çš„å‡½æ•°åœ¨ä½¿ç”¨ä¸Šå¹¶æ— ä¸åŒã€‚ å…³äºŽä¸Šé¢ä¾‹å­ä¸­ï¼Œå‡½æ•°è¡¨è¾¾å¼ä¸­çš„èµ‹å€¼æ“ä½œï¼Œåœ¨å…¶ä»–ä¸€äº›åœ°æ–¹ä¹Ÿä¼šè¢«ç»å¸¸ä½¿ç”¨ï¼Œæˆ‘ä»¬æ¸…æ¥šå…¶ä¸­çš„å…³ç³»å³å¯ã€‚ 12345678910111213141516171819202122åœ¨æž„é€ å‡½æ•°ä¸­æ·»åŠ æ–¹æ³•function Person(name) &#123; this.name = name; this.age = age; // åœ¨æž„é€ å‡½æ•°å†…éƒ¨ä¸­æ·»åŠ æ–¹æ³• this.getAge = function() &#123; return this.age; &#125; this.&#125;// ç»™åŽŸåž‹æ·»åŠ æ–¹æ³•Person.prototype.getName = function() &#123; return this.name;&#125;// åœ¨å¯¹è±¡ä¸­æ·»åŠ æ–¹æ³•var a = &#123; m: 20, getM: function() &#123; return this.m; &#125;&#125; åŒ¿åå‡½æ•° åœ¨ä¸Šé¢æˆ‘ä»¬å¤§æ¦‚è®²è¿°äº†å‡½æ•°è¡¨è¾¾å¼ä¸­çš„èµ‹å€¼æ“ä½œã€‚è€ŒåŒ¿åå‡½æ•°ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŒ‡çš„æ²¡æœ‰è¢«æ˜¾ç¤ºè¿›è¡Œèµ‹å€¼æ“ä½œçš„å‡½æ•°ã€‚å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œå¤šä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ä¸­ã€‚ 12345678var a = 10;var fn = function(bar, num) &#123; return bar() + num;&#125;fn(function() &#123; return a;&#125;, 20) åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œfnçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚è™½ç„¶è¯¥åŒ¿åå‡½æ•°æ²¡æœ‰æ˜¾ç¤ºçš„è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œæˆ‘ä»¬æ²¡æœ‰åŠžæ³•åœ¨å¤–éƒ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¼•ç”¨åˆ°å®ƒï¼Œä½†æ˜¯åœ¨fnå‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬å°†è¯¥åŒ¿åå‡½æ•°èµ‹å€¼ç»™äº†å˜é‡barï¼Œä¿å­˜åœ¨äº†fnå˜é‡å¯¹è±¡çš„argumentså¯¹è±¡ä¸­ã€‚ 1234567891011121314151617181920// å˜é‡å¯¹è±¡åœ¨fnä¸Šä¸‹æ–‡æ‰§è¡Œè¿‡ç¨‹ä¸­çš„åˆ›å»ºé˜¶æ®µVO(fn) = &#123; arguments: &#123; bar: undefined, num: undefined, length: 2 &#125;&#125;// å˜é‡å¯¹è±¡åœ¨fnä¸Šä¸‹æ–‡æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ‰§è¡Œé˜¶æ®µ// å˜é‡å¯¹è±¡å˜ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œå¹¶å®Œæˆèµ‹å€¼æ“ä½œä¸Žæ‰§è¡Œå¯æ‰§è¡Œä»£ç VO -&gt; AOAO(fn) = &#123; arguments: &#123; bar: function() &#123; return a &#125;, num: 20, length: 2 &#125;&#125; ç”±äºŽåŒ¿åå‡½æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ä¹‹åŽï¼Œæœ€ç»ˆä¼šåœ¨å¦ä¸€ä¸ªå‡½æ•°ä¸­æ‰§è¡Œï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¸¸å¸¸ç§°è¿™ä¸ªåŒ¿åå‡½æ•°ä¸ºå›žè°ƒå‡½æ•°ã€‚å…³äºŽåŒ¿åå‡½æ•°æ›´å¤šçš„å†…å®¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ·±å…¥æŽ¢è®¨æŸ¯é‡ŒåŒ–çš„æ–‡ç« ä¸­è¿›è¡Œæ›´åŠ è¯¦ç»†è®²è§£ã€‚ åŒ¿åå‡½æ•°çš„è¿™ä¸ªåº”ç”¨åœºæ™¯å‡ ä¹Žæ‰¿æ‹…äº†å‡½æ•°çš„æ‰€æœ‰éš¾ä»¥ç†è§£çš„çŸ¥è¯†ç‚¹ï¼Œå› æ­¤æˆ‘ä»¬ä¸€å®šè¦å¯¹å®ƒçš„è¿™äº›ç»†èŠ‚äº†è§£çš„è¶³å¤Ÿæ¸…æ¥šï¼Œå¦‚æžœå¯¹äºŽå˜é‡å¯¹è±¡çš„æ¼”å˜è¿‡ç¨‹ä½ è¿˜çœ‹ä¸å¤ªæ˜Žç™½ï¼Œä¸€å®šè¦å›žè¿‡å¤´åŽ»çœ‹è¿™ç¯‡æ–‡ç« ï¼šå‰ç«¯åŸºç¡€è¿›é˜¶ï¼ˆä¸‰ï¼‰ï¼šå˜é‡å¯¹è±¡è¯¦è§£ å‡½æ•°è‡ªæ‰§è¡Œä¸Žå—çº§ä½œç”¨åŸŸ åœ¨ES5ä¸­ï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå› æ­¤æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨å‡½æ•°è‡ªæ‰§è¡Œçš„æ–¹å¼æ¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸï¼Œè¿™æ ·å°±æä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç»“åˆé—­åŒ…ï¼Œå°±ä¸ºæ¨¡å—åŒ–æä¾›äº†åŸºç¡€ã€‚è€Œå‡½æ•°è‡ªæ‰§è¡Œï¼Œå…¶å®žæ˜¯åŒ¿åå‡½æ•°çš„ä¸€ç§åº”ç”¨ã€‚ 123(function() &#123; // ...&#125;)(); ä¸€ä¸ªæ¨¡å—å¾€å¾€å¯ä»¥åŒ…æ‹¬ï¼šç§æœ‰å˜é‡ã€ç§æœ‰æ–¹æ³•ã€å…¬æœ‰å˜é‡ã€å…¬æœ‰æ–¹æ³•ã€‚ æ ¹æ®ä½œç”¨åŸŸé“¾çš„å•å‘è®¿é—®ï¼Œå¤–é¢å¯èƒ½å¾ˆå®¹æ˜“çŸ¥é“åœ¨è¿™ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¸­ï¼Œå¤–éƒ¨æ‰§è¡ŒçŽ¯å¢ƒæ˜¯æ— æ³•è®¿é—®å†…éƒ¨çš„ä»»ä½•å˜é‡ä¸Žæ–¹æ³•çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„åˆ›å»ºå±žäºŽè¿™ä¸ªæ¨¡å—çš„ç§æœ‰å˜é‡ä¸Žç§æœ‰æ–¹æ³•ã€‚ 12345678910(function() &#123; // ç§æœ‰å˜é‡ var age = 20; var name = 'Tom'; // ç§æœ‰æ–¹æ³• function getName() &#123; return `your name is ` + name; &#125;&#125;)(); ä½†æ˜¯å…±æœ‰æ–¹æ³•å’Œå˜é‡åº”è¯¥æ€Žä¹ˆåŠžï¼Ÿå¤§å®¶è¿˜è®°å¾—æˆ‘ä»¬å‰é¢è®²åˆ°è¿‡çš„é—­åŒ…çš„ç‰¹æ€§å—ï¼Ÿæ²¡é”™ï¼Œåˆ©ç”¨é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°æ‰§è¡Œä¸Šä¸‹æ–‡å†…éƒ¨çš„å˜é‡å’Œæ–¹æ³•ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®é—­åŒ…çš„å®šä¹‰ï¼Œåˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œå°†ä½ è®¤ä¸ºéœ€è¦å…¬å¼€çš„å˜é‡å’Œæ–¹æ³•å¼€æ”¾å‡ºæ¥å³å¯ã€‚ å¦‚æžœä½ å¯¹é—­åŒ…äº†è§£ä¸å¤Ÿï¼Œå‰ç«¯åŸºç¡€è¿›é˜¶ï¼ˆå››ï¼‰ï¼šè¯¦ç»†å›¾è§£ä½œç”¨åŸŸé“¾ä¸Žé—­åŒ…åº”è¯¥å¯ä»¥å¸®åˆ°ä½ ã€‚ 123456789101112131415161718(function() &#123; // ç§æœ‰å˜é‡ var age = 20; var name = 'Tom'; // ç§æœ‰æ–¹æ³• function getName() &#123; return `your name is ` + name; &#125; // å…±æœ‰æ–¹æ³• function getAge() &#123; return age; &#125; // å°†å¼•ç”¨ä¿å­˜åœ¨å¤–éƒ¨æ‰§è¡ŒçŽ¯å¢ƒçš„å˜é‡ä¸­ï¼Œå½¢æˆé—­åŒ…ï¼Œé˜²æ­¢è¯¥æ‰§è¡ŒçŽ¯å¢ƒè¢«åžƒåœ¾å›žæ”¶ window.getAge = getAge;&#125;)(); å½“ç„¶ï¼Œé—­åŒ…åœ¨æ¨¡å—ä¸­çš„é‡è¦ä½œç”¨ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨è®²è§£é—­åŒ…çš„æ—¶å€™å·²ç»å¼ºè°ƒè¿‡ï¼Œä½†æ˜¯è¿™ä¸ªçŸ¥è¯†ç‚¹çœŸçš„å¤ªé‡è¦ï¼Œéœ€è¦æˆ‘ä»¬åå¤ç†è§£å¹¶ä¸”å½»åº•æŽŒæ¡ï¼Œå› æ­¤ä¸ºäº†å¸®åŠ©å¤§å®¶è¿›ä¸€æ­¥ç†è§£é—­åŒ…ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹jQueryä¸­ï¼Œæ˜¯å¦‚ä½•åˆ©ç”¨æˆ‘ä»¬æ¨¡å—ä¸Žé—­åŒ…çš„ã€‚ 123456789101112131415161718192021222324// ä½¿ç”¨å‡½æ•°è‡ªæ‰§è¡Œçš„æ–¹å¼åˆ›å»ºæ¨¡å—(function(window, undefined) &#123; // å£°æ˜ŽjQueryæž„é€ å‡½æ•° var jQuery = function(name) &#123; // ä¸»åŠ¨åœ¨æž„é€ å‡½æ•°ä¸­ï¼Œè¿”å›žä¸€ä¸ªjQueryå®žä¾‹ return new jQuery.fn.init(name); &#125; // æ·»åŠ åŽŸåž‹æ–¹æ³• jQuery.prototype = jQuery.fn = &#123; constructor: jQuery, init:function() &#123; ... &#125;, css: function() &#123; ... &#125; &#125; jQuery.fn.init.prototype = jQuery.fn; // å°†jQueryæ”¹åä¸º$ï¼Œå¹¶å°†å¼•ç”¨ä¿å­˜åœ¨windowä¸Šï¼Œå½¢æˆé—­åŒ…ï¼Œå¯¹å¤–å¼€å‘jQueryæž„é€ å‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è®¿é—®æ‰€æœ‰æŒ‚è½½åœ¨jQueryåŽŸåž‹ä¸Šçš„æ–¹æ³•äº† window.jQuery = window.$ = jQuery; &#125;)(window);// åœ¨ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬ç›´æŽ¥æ‰§è¡Œäº†æž„é€ å‡½æ•°ï¼Œå› ä¸ºåœ¨jQueryçš„æž„é€ å‡½æ•°ä¸­é€šè¿‡ä¸€äº›æ‰‹æ®µï¼Œè¿”å›žçš„æ˜¯jQueryçš„å®žä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¸ç”¨å†æ¯æ¬¡ç”¨çš„æ—¶å€™åœ¨è‡ªå·±newäº†$('#div1'); åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªéœ€è¦çœ‹æ‡‚é—­åŒ…ä¸Žæ¨¡å—çš„éƒ¨åˆ†å°±è¡Œäº†ï¼Œè‡³äºŽå†…éƒ¨çš„åŽŸåž‹é“¾æ˜¯å¦‚ä½•ç»•çš„ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·å†™ï¼Œæˆ‘åœ¨è®²é¢å‘å¯¹è±¡çš„æ—¶å€™ä¼šä¸ºå¤§å®¶æ…¢æ…¢åˆ†æžã€‚ä¸¾è¿™ä¸ªä¾‹å­çš„ç›®çš„æ‰€åœ¨ï¼Œå°±æ˜¯å¸Œæœ›å¤§å®¶èƒ½å¤Ÿé‡è§†å‡½æ•°ï¼Œå› ä¸ºåœ¨å®žé™…å¼€å‘ä¸­ï¼Œå®ƒæ— å¤„ä¸åœ¨ã€‚ æŽ¥ä¸‹æ¥æˆ‘è¦åˆ†äº«ä¸€ä¸ªé«˜çº§çš„ï¼Œéžå¸¸æœ‰ç”¨çš„æ¨¡å—çš„åº”ç”¨ã€‚å½“æˆ‘ä»¬çš„é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œé‚£ä¹ˆéœ€è¦ä¿å­˜çš„æ•°æ®ä¸ŽçŠ¶æ€å°±è¶Šæ¥è¶Šå¤šï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸“é—¨çš„æ¨¡å—æ¥ç»´æŠ¤è¿™äº›æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå«åšçŠ¶æ€ç®¡ç†å™¨çš„ä¸œè¥¿å°±åº”è¿è€Œç”Ÿã€‚å¯¹äºŽçŠ¶æ€ç®¡ç†å™¨ï¼Œæœ€å‡ºåçš„ï¼Œæˆ‘æƒ³éžreduxèŽ«å±žäº†ã€‚è™½ç„¶å¯¹äºŽè¿˜åœ¨å­¦ä¹ ä¸­çš„å¤§å®¶æ¥è¯´ï¼Œreduxæ˜¯ä¸€ä¸ªæœ‰ç‚¹é«˜æ·±èŽ«æµ‹çš„ä¸œè¥¿ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬å­¦ä¹ ä¹‹å‰ï¼Œå¯ä»¥å…ˆé€šè¿‡ç®€å•çš„æ–¹å¼ï¼Œè®©å¤§å®¶å¤§è‡´äº†è§£çŠ¶æ€ç®¡ç†å™¨çš„å®žçŽ°åŽŸç†ï¼Œä¸ºæˆ‘ä»¬æœªæ¥çš„å­¦ä¹ å¥ å®šåšå®žçš„åŸºç¡€ã€‚ å…ˆæ¥ç›´æŽ¥çœ‹ä»£ç ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586// è‡ªæ‰§è¡Œåˆ›å»ºæ¨¡å—(function() &#123; // states ç»“æž„é¢„è§ˆ // states = &#123; // a: 1, // b: 2, // m: 30, // o: &#123;&#125; // &#125; var states = &#123;&#125;; // ç§æœ‰å˜é‡ï¼Œç”¨æ¥å­˜å‚¨çŠ¶æ€ä¸Žæ•°æ® // åˆ¤æ–­æ•°æ®ç±»åž‹ function type(elem) &#123; if(elem == null) &#123; return elem + ''; &#125; return toString.call(elem).replace(/[\[\]]/g, '').split(' ')[1].toLowerCase(); &#125; /** * @Param name å±žæ€§å * @Description é€šè¿‡å±žæ€§åèŽ·å–ä¿å­˜åœ¨statesä¸­çš„å€¼ */ function get(name) &#123; return states[name] ? states[name] : ''; &#125; function getStates() &#123; return states; &#125; /* * @param options &#123;object&#125; é”®å€¼å¯¹ * @param target &#123;object&#125; å±žæ€§å€¼ä¸ºå¯¹è±¡çš„å±žæ€§ï¼Œåªåœ¨å‡½æ•°å®žçŽ°æ—¶é€’å½’ä¸­ä¼ å…¥ * @desc é€šè¿‡ä¼ å…¥é”®å€¼å¯¹çš„æ–¹å¼ä¿®æ”¹stateæ ‘ï¼Œä½¿ç”¨æ–¹å¼ä¸Žå°ç¨‹åºçš„dataæˆ–è€…reactä¸­çš„setStatesç±»ä¼¼ */ function set(options, target) &#123; var keys = Object.keys(options); var o = target ? target : states; keys.map(function(item) &#123; if(typeof o[item] == 'undefined') &#123; o[item] = options[item]; &#125; else &#123; type(o[item]) == 'object' ? set(options[item], o[item]) : o[item] = options[item]; &#125; return item; &#125;) &#125; // å¯¹å¤–æä¾›æŽ¥å£ window.get = get; window.set = set; window.getStates = getStates;&#125;)()// å…·ä½“ä½¿ç”¨å¦‚ä¸‹set(&#123; a: 20 &#125;); // ä¿å­˜ å±žæ€§aset(&#123; b: 100 &#125;); // ä¿å­˜å±žæ€§bset(&#123; c: 10 &#125;); // ä¿å­˜å±žæ€§c// ä¿å­˜å±žæ€§o, å®ƒçš„å€¼ä¸ºä¸€ä¸ªå¯¹è±¡set(&#123; o: &#123; m: 10, n: 20 &#125;&#125;)// ä¿®æ”¹å¯¹è±¡o çš„må€¼set(&#123; o: &#123; m: 1000 &#125;&#125;)// ç»™å¯¹è±¡oä¸­å¢žåŠ ä¸€ä¸ªcå±žæ€§set(&#123; o: &#123; c: 100 &#125;&#125;)console.log(getStates()) demoå®žä¾‹åœ¨çº¿åœ°å€ æˆ‘ä¹‹æ‰€ä»¥è¯´è¿™æ˜¯ä¸€ä¸ªé«˜çº§åº”ç”¨ï¼Œæ˜¯å› ä¸ºåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½ä¼šç”¨åˆ°è¿™æ ·çš„æ€è·¯ã€‚æ ¹æ®æˆ‘ä»¬æåˆ°è¿‡çš„çŸ¥è¯†ï¼Œç†è§£è¿™ä¸ªä¾‹å­å…¶å®žå¾ˆç®€å•ï¼Œå…¶ä¸­çš„éš¾ç‚¹ä¼°è®¡å°±åœ¨äºŽsetæ–¹æ³•çš„å¤„ç†ä¸Šï¼Œå› ä¸ºä¸ºäº†å…·æœ‰æ›´å¤šçš„é€‚ç”¨æ€§ï¼Œå› æ­¤åšäº†å¾ˆå¤šé€‚é…ï¼Œç”¨åˆ°äº†é€’å½’ç­‰çŸ¥è¯†ã€‚å¦‚æžœä½ æš‚æ—¶çœ‹ä¸æ‡‚ï¼Œæ²¡æœ‰å…³ç³»ï¼ŒçŸ¥é“å¦‚ä½•ä½¿ç”¨å°±è¡Œäº†ï¼Œä¸Šé¢çš„ä»£ç å¯ä»¥ç›´æŽ¥è¿ç”¨äºŽå®žé™…å¼€å‘ã€‚è®°ä½ï¼Œå½“ä½ éœ€è¦ä¿å­˜çš„çŠ¶æ€å¤ªå¤šçš„æ—¶å€™ï¼Œä½ å°±æƒ³åˆ°è¿™ä¸€æ®µä»£ç å°±è¡Œäº†ã€‚ å‡½æ•°è‡ªæ‰§è¡Œçš„æ–¹å¼å¦å¤–è¿˜æœ‰å…¶ä»–å‡ ç§å†™æ³•ï¼Œè¯¸å¦‚!function(){}()ï¼Œ+function(){}() äºŒã€å‡½æ•°å‚æ•°ä¼ é€’æ–¹å¼ï¼šæŒ‰å€¼ä¼ é€’è¿˜è®°å¾—åŸºæœ¬æ•°æ®ç±»åž‹ä¸Žå¼•ç”¨æ•°æ®ç±»åž‹åœ¨å¤åˆ¶ä¸Šçš„å·®å¼‚å—ï¼ŸåŸºæœ¬æ•°æ®ç±»åž‹å¤åˆ¶ï¼Œæ˜¯ç›´æŽ¥å€¼å‘ç”Ÿäº†å¤åˆ¶ï¼Œå› æ­¤æ”¹å˜åŽï¼Œå„è‡ªç›¸äº’ä¸å½±å“ã€‚ä½†æ˜¯å¼•ç”¨æ•°æ®ç±»åž‹çš„å¤åˆ¶ï¼Œæ˜¯ä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­çš„å¼•ç”¨å‘ç”Ÿäº†å¤åˆ¶ï¼Œå› æ­¤å¤åˆ¶ä¹‹åŽçš„è¿™ä¸¤ä¸ªå¼•ç”¨å®žé™…è®¿é—®çš„å®žé™…æ˜¯åŒä¸€ä¸ªå †å†…å­˜ä¸­çš„å€¼ã€‚å½“æ”¹å˜å…¶ä¸­ä¸€ä¸ªæ—¶ï¼Œå¦å¤–ä¸€ä¸ªè‡ªç„¶ä¹Ÿè¢«æ”¹å˜ã€‚å¦‚ä¸‹ä¾‹ã€‚ 123456789var a = 20;var b = a;b = 10;console.log(a); // 20var m = &#123; a: 1, b: 2 &#125;var n = m;n.a = 5;console.log(m.a) // 5 å½“å€¼ä½œä¸ºå‡½æ•°çš„å‚æ•°ä¼ é€’è¿›å…¥å‡½æ•°å†…éƒ¨æ—¶ï¼Œä¹Ÿæœ‰åŒæ ·çš„å·®å¼‚ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„å‚æ•°åœ¨è¿›å…¥å‡½æ•°åŽï¼Œå®žé™…æ˜¯è¢«ä¿å­˜åœ¨äº†å‡½æ•°çš„å˜é‡å¯¹è±¡ä¸­ï¼Œå› æ­¤ï¼Œè¿™ä¸ªæ—¶å€™ç›¸å½“äºŽå‘ç”Ÿäº†ä¸€æ¬¡å¤åˆ¶ã€‚å¦‚ä¸‹ä¾‹ã€‚ 12345678var a = 20;function fn(a) &#123; a = a + 10; return a;&#125;fn(a);console.log(a); // 20 12345678var a = &#123; m: 10, n: 20 &#125;function fn(a) &#123; a.m = 20; return a;&#125;fn(a);console.log(a); // &#123; m: 20, n: 20 &#125; æ­£æ˜¯ç”±äºŽè¿™æ ·çš„ä¸åŒï¼Œå¯¼è‡´äº†è®¸å¤šäººåœ¨ç†è§£å‡½æ•°å‚æ•°çš„ä¼ é€’æ–¹å¼æ—¶ï¼Œå°±æœ‰è®¸å¤šå›°æƒ‘ã€‚åˆ°åº•æ˜¯æŒ‰å€¼ä¼ é€’è¿˜æ˜¯æŒ‰å¼•ç”¨ä¼ é€’ï¼Ÿå®žé™…ä¸Šç»“è®ºä»ç„¶æ˜¯æŒ‰å€¼ä¼ é€’ï¼Œåªä¸è¿‡å½“æˆ‘ä»¬æœŸæœ›ä¼ é€’ä¸€ä¸ªå¼•ç”¨ç±»åž‹æ—¶ï¼ŒçœŸæ­£ä¼ é€’çš„ï¼Œåªæ˜¯è¿™ä¸ªå¼•ç”¨ç±»åž‹ä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­çš„å¼•ç”¨è€Œå·²ã€‚ä¸ºäº†è¯´æ˜Žè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚ 123456789101112var person = &#123; name: 'Nicholas', age: 20&#125;function setName(obj) &#123; // ä¼ å…¥ä¸€ä¸ªå¼•ç”¨ obj = &#123;&#125;; // å°†ä¼ å…¥çš„å¼•ç”¨æŒ‡å‘å¦å¤–çš„å€¼ obj.name = 'Greg'; // ä¿®æ”¹å¼•ç”¨çš„nameå±žæ€§&#125;setName(person);console.log(person.name); // Nicholas æœªè¢«æ”¹å˜ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æžœpersonæ˜¯æŒ‰å¼•ç”¨ä¼ é€’ï¼Œé‚£ä¹ˆpersonå°±ä¼šè‡ªåŠ¨è¢«ä¿®æ”¹ä¸ºæŒ‡å‘å…¶nameå±žæ€§å€¼ä¸ºGergçš„æ–°å¯¹è±¡ã€‚ä½†æ˜¯æˆ‘ä»¬ä»Žç»“æžœä¸­çœ‹åˆ°ï¼Œpersonå¯¹è±¡å¹¶æœªå‘ç”Ÿä»»ä½•æ”¹å˜ï¼Œå› æ­¤åªæ˜¯åœ¨å‡½æ•°å†…éƒ¨å¼•ç”¨è¢«ä¿®æ”¹è€Œå·²ã€‚ å››ã€å‡½æ•°å¼ç¼–ç¨‹è™½ç„¶JavaScriptå¹¶ä¸æ˜¯ä¸€é—¨çº¯å‡½æ•°å¼ç¼–ç¨‹çš„è¯­è¨€ï¼Œä½†æ˜¯å®ƒä½¿ç”¨äº†è®¸å¤šå‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§ã€‚å› æ­¤äº†è§£è¿™äº›ç‰¹æ€§å¯ä»¥è®©æˆ‘ä»¬æ›´åŠ äº†è§£è‡ªå·±å†™çš„ä»£ç ã€‚ å½“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œé€šå¸¸æƒ…å†µä¸‹å…¶å®žå°±æ˜¯æƒ³è¦å°†ä¸€äº›åŠŸèƒ½ï¼Œé€»è¾‘ç­‰å°è£…èµ·æ¥ã€‚ç›¸ä¿¡å¤§å®¶å¯¹äºŽå°è£…è¿™ä¸ªæ¦‚å¿µå¹¶ä¸é™Œç”Ÿã€‚ æˆ‘ä»¬é€šå¸¸é€šè¿‡å‡½æ•°å°è£…æ¥å®Œæˆä¸€ä»¶äº‹æƒ…ã€‚ä¾‹å¦‚ï¼Œæˆ‘æƒ³è¦è®¡ç®—ä»»æ„ä¸‰ä¸ªæ•°çš„å’Œï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸‰ä¸ªæ•°ä½œä¸ºå‚æ•°ï¼Œå°è£…ä¸€ä¸ªç®€å•çš„å‡½æ•°ã€‚ 123function add(a, b, c) &#123; return a + b + c;&#125; å½“æˆ‘ä»¬æƒ³è¦è®¡ç®—ä¸‰ä¸ªæ•°çš„å’Œæ—¶ï¼Œç›´æŽ¥è°ƒç”¨è¯¥æ–¹æ³•å³å¯ã€‚ 1add(1, 2, 3); // 6 å½“ç„¶ï¼Œå½“æˆ‘ä»¬æƒ³è¦åšçš„äº‹æƒ…æ¯”è¾ƒç®€å•çš„æ—¶å€™ï¼Œå¯èƒ½è¿˜çœ‹ä¸å‡ºæ¥å°è£…æˆä¸ºå‡½æ•°ä¹‹åŽå¸¦æ¥çš„ä¾¿åˆ©ã€‚å¦‚æžœæˆ‘ä»¬æƒ³è¦åšçš„äº‹æƒ…ç¨å¾®å¤æ‚ä¸€ç‚¹å‘¢ã€‚ä¾‹å¦‚æˆ‘æƒ³è¦è®¡ç®—ä¸€ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰å­é¡¹ç›®çš„å’Œã€‚ 12345function mergeArr(arr) &#123; var result = 0; for(var i = 0; i &lt; arr.length; i++) &#123; result += arr[i] &#125; return result;&#125; å¦‚æžœæˆ‘ä»¬ä¸é€šè¿‡å‡½æ•°å°è£…çš„æ–¹å¼ï¼Œé‚£ä¹ˆå†æ¯æ¬¡æƒ³è¦å®žçŽ°è¿™ä¸ªåŠŸèƒ½æ—¶ï¼Œå°±ä¸å¾—ä¸é‡æ–°ä½¿ç”¨ä¸€æ¬¡forå¾ªçŽ¯ï¼Œè¿™æ ·çš„åŽæžœå°±æ˜¯æˆ‘ä»¬çš„ä»£ç ä¸­å……æ–¥ç€è¶Šæ¥è¶Šå¤šçš„é‡å¤ä»£ç ã€‚è€Œå°è£…ä¹‹åŽï¼Œå½“æˆ‘ä»¬æƒ³è¦å†æ¬¡åšè¿™ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œåªéœ€è¦ä¸€å¥è¯å°±å¯ä»¥äº†ã€‚ 1mergeArr([1, 2, 3, 4, 5]); å½“ç„¶ï¼Œæˆ‘ç›¸ä¿¡å¤§å®¶å¯¹äºŽå‡½æ•°å°è£…çš„æ„ä¹‰éƒ½åº”è¯¥æœ‰éžå¸¸æ˜Žç¡®çš„è®¤çŸ¥ï¼Œä½†æ˜¯æˆ‘ä»¬è¦é¢ä¸´çš„é—®é¢˜æ˜¯ï¼Œå½“æˆ‘ä»¬æƒ³è¦åŽ»å°è£…ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå¦‚ä½•åšæ‰æ˜¯æœ€ä½³å®žè·µå‘¢ï¼Ÿ å‡½æ•°å¼ç¼–ç¨‹èƒ½ç»™æˆ‘ä»¬ç­”æ¡ˆã€‚ æˆ‘ä»¬åœ¨åˆå­¦æ—¶ï¼Œå¾€å¾€ä¼šä¸ç”±è‡ªä¸»çš„ä½¿ç”¨å‘½ä»¤å¼ç¼–ç¨‹çš„é£Žæ ¼æ¥å®Œæˆæˆ‘ä»¬æƒ³è¦å¹²çš„äº‹æƒ…ã€‚å› ä¸ºå‘½ä»¤å¼ç¼–ç¨‹æ›´åŠ çš„ç®€å•ï¼Œç›´ç™½ã€‚ä¾‹å¦‚æˆ‘ä»¬çŽ°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œarray = [1, 3, &#39;h&#39;, 5, &#39;m&#39;, &#39;4&#39;]ï¼ŒçŽ°åœ¨æƒ³è¦æ‰¾å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰ç±»åž‹ä¸ºnumberçš„å­é¡¹ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤å¼ç¼–ç¨‹æ€ç»´æ—¶ï¼Œå¯èƒ½å°±ä¼šç›´æŽ¥è¿™æ ·åšã€‚ 1234567var array = [1, 3, 'h', 5, 'm', '4'];var res = [];for(var i = 0; i &lt; array.length; i ++) &#123; if (typeof array[i] === 'number') &#123; res.push(array[i]); &#125;&#125; åœ¨è¿™ç§å®žçŽ°æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬å¹³é“ºç›´å™çš„å®žçŽ°äº†æˆ‘ä»¬çš„ç›®çš„ã€‚è¿™æ ·åšçš„é—®é¢˜åœ¨äºŽï¼Œå½“æˆ‘ä»¬åœ¨å¦å¤–çš„æ—¶åˆ»ï¼Œæƒ³è¦æ‰¾å‡ºå¦å¤–ä¸€ä¸ªæ•°ç»„ä¸­æ‰€æœ‰çš„å­é¡¹æ—¶ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æŠŠåŒæ ·çš„é€»è¾‘å†å†™ä¸€æ¬¡ã€‚å½“å‡ºçŽ°æ¬¡æ•°å˜å¤šæ—¶ï¼Œæˆ‘ä»¬çš„ä»£ç ä¹Ÿå˜å¾—æ›´åŠ ç³Ÿç³•ä¸”éš¾ä»¥ç»´æŠ¤ã€‚ è€Œå‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´åˆ™å»ºè®®æˆ‘ä»¬å°†è¿™ç§ä¼šå¤šæ¬¡å‡ºçŽ°çš„åŠŸèƒ½å°è£…èµ·æ¥ä»¥å¤‡è°ƒç”¨ã€‚ 123456789101112131415function getNumbers(array) &#123; var res = []; array.forEach(function(item) &#123; if (typeof item === 'number') &#123; res.push(item); &#125; &#125;) return res;&#125;// ä»¥ä¸Šæ˜¯æˆ‘ä»¬çš„å°è£…ï¼Œä»¥ä¸‹æ˜¯åŠŸèƒ½å®žçŽ°var array = [1, 3, 'h', 5, 'm', '4'];var res = getNumbers(array); å› æ­¤å½“æˆ‘ä»¬å°†åŠŸèƒ½å°è£…ä¹‹åŽï¼Œæˆ‘ä»¬å®žçŽ°åŒæ ·çš„åŠŸèƒ½æ—¶ï¼Œåªéœ€è¦å†™ä¸€è¡Œä»£ç ã€‚è€Œå¦‚æžœæœªæ¥éœ€æ±‚å˜åŠ¨ï¼Œæˆ–è€…ç¨ä½œä¿®æ”¹ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹getNumbersæ–¹æ³•è¿›è¡Œè°ƒæ•´å°±å¯ä»¥äº†ã€‚è€Œä¸”æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶ï¼Œåªéœ€è¦å…³å¿ƒè¿™ä¸ªæ–¹æ³•èƒ½åšä»€ä¹ˆï¼Œè€Œä¸ç”¨å…³å¿ƒä»–å…·ä½“æ˜¯æ€Žä¹ˆå®žçŽ°çš„ã€‚è¿™ä¹Ÿæ˜¯å‡½æ•°å¼ç¼–ç¨‹æ€ç»´ä¸Žå‘½ä»¤å¼ä¸åŒçš„åœ°æ–¹ä¹‹ä¸€ã€‚ å‡½æ•°å¼ç¼–ç¨‹æ€ç»´è¿˜å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ã€‚ å‡½æ•°æ˜¯ç¬¬ä¸€ç­‰å…¬æ°‘ æ‰€è°“â€ç¬¬ä¸€ç­‰å…¬æ°‘â€ï¼ˆfirst classï¼‰ï¼ŒæŒ‡çš„æ˜¯å‡½æ•°ä¸Žå…¶ä»–æ•°æ®ç±»åž‹ä¸€æ ·ï¼Œå¤„äºŽå¹³ç­‰åœ°ä½ï¼Œå¯ä»¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…ä½œä¸ºåˆ«çš„å‡½æ•°çš„è¿”å›žå€¼ã€‚è¿™äº›åœºæ™¯ï¼Œæˆ‘ä»¬åº”è¯¥è§è¿‡å¾ˆå¤šã€‚ 123456789var a = function foo() &#123;&#125; // èµ‹å€¼function fn(function() &#123;&#125;, num) &#123;&#125; // å‡½æ•°ä½œä¸ºå‚æ•°// å‡½æ•°ä½œä¸ºè¿”å›žå€¼function var() &#123; return function() &#123; ... ... &#125;&#125; å½“ç„¶ï¼Œè¿™éƒ½æ˜¯JavaScriptçš„åŸºæœ¬æ¦‚å¿µã€‚ä½†æ˜¯æˆ‘æƒ³å¾ˆå¤šäººï¼Œç”šè‡³åŒ…æ‹¬æ­£åœ¨é˜…è¯»çš„ä½ è‡ªå·±éƒ½å¯èƒ½ä¼šæ— è§†è¿™äº›æ¦‚å¿µã€‚å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥éªŒè¯ä¸€ä¸‹ã€‚ æˆ‘ä»¬å…ˆè‡ªå®šä¹‰è¿™æ ·ä¸€ä¸ªå‡½æ•°ã€‚ 123function delay() &#123; console.log('5000msä¹‹åŽæ‰§è¡Œè¯¥æ–¹æ³•.');&#125; çŽ°åœ¨è¦åšçš„æ˜¯ï¼Œå¦‚æžœè¦æ±‚ä½ ç»“åˆsetTimeoutæ–¹æ³•ï¼Œè®©delayæ–¹æ³•å»¶è¿Ÿ5000msæ‰§è¡Œï¼Œåº”è¯¥æ€Žä¹ˆåšï¼Ÿ å…¶å®žå¾ˆç®€å•ï¼Œå¯¹ä¸å¯¹ï¼Œç›´æŽ¥è¿™æ ·å°±å¯ä»¥äº†ã€‚ 123var timer = setTimeout(function() &#123; delay();&#125;, 5000); é‚£ä¹ˆçŽ°åœ¨é—®é¢˜æ¥äº†ï¼Œå¦‚æžœä½ å¯¹å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘æœ‰ä¸€ä¸ªæ·±åˆ»çš„è®¤çŸ¥ï¼Œæˆ‘æƒ³ä½ ä¼šå‘çŽ°ä¸Šé¢è¿™ç§å†™æ³•å…¶å®žæ˜¯æœ‰ä¸€äº›é—®é¢˜çš„ã€‚æ‰€ä»¥æ€è€ƒä¸€ä¸‹ï¼Œé—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Ÿ å‡½æ•°æ—¢ç„¶èƒ½å¤Ÿä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ç›´æŽ¥å°†delayä½œä¸ºsetTimeoutçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸ç”¨é¢å¤–çš„å¤šåŠ ä¸€å±‚åŒ¿åå‡½æ•°å‘¢ï¼Ÿ å› æ­¤ï¼Œå…¶å®žæœ€æ­£ç¡®çš„è§£æ³•åº”è¯¥è¿™æ ·å†™ã€‚ 1var timer = setTimeout(delay, 5000); å½“ç„¶ï¼Œå¦‚æžœä½ å·²ç»æå‰æƒ³åˆ°è¿™æ ·åšäº†ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œè¯´æ˜Žä½ åœ¨JavaScriptä¸Šæ¯”æ™®é€šäººæ›´æœ‰å¤©èµ‹ã€‚å…¶å®žç¬¬ä¸€ç§ç³Ÿç³•çš„æ–¹å¼å¾ˆå¤šäººéƒ½åœ¨ç”¨ï¼ŒåŒ…æ‹¬æœ‰å¤šå¹´å·¥ä½œç»éªŒçš„äººä¹Ÿæ²¡æœ‰å®Œå…¨é¿å…ã€‚è€Œä»–ä»¬ç”šè‡³è¿˜ä¸çŸ¥é“è‡ªå·±é—®é¢˜å‡ºåœ¨ä»€ä¹ˆåœ°æ–¹ã€‚ åœ¨æœªæ¥çš„å®žè·µä¸­ï¼Œä½ è¿˜ä¼šé‡åˆ°æ›´å¤šç±»ä¼¼çš„åœºæ™¯ã€‚ä¸ºäº†éªŒè¯è¯»è€…æœ‹å‹ä»¬çš„ç†è§£ï¼Œæˆ‘ä»¬ä¸å¦¨æ¥æ€è€ƒä¸€ä¸‹å¦‚ä½•ä¼˜åŒ–ä¸‹é¢çš„ä»£ç ã€‚ 12345678910function getUser(path, callback) &#123; return $.get(path, function(info) &#123; return callback(info); &#125;)&#125;getUser('/api/user', function(resp) &#123; // respä¸ºæˆåŠŸè¯·æ±‚ä¹‹åŽè¿”å›žçš„æ•°æ® console.log(resp);&#125;) ä¼˜åŒ–çš„åŽŸç†å’ŒsetTimeoutçš„ä¾‹å­ä¸€æ¨¡ä¸€æ ·ï¼Œæˆ‘è¿™é‡Œå–ä¸ªå…³å­ï¼Œä¸æ‰“ç®—å‘Šè¯‰å¤§å®¶ç»“è®ºï¼Œä»…æç¤ºä¸€å¥ï¼ŒgetUserä¼˜åŒ–ä¹‹åŽï¼Œä»…æœ‰ä¸€å¥ä»£ç ã€‚è€ƒéªŒå¤§å®¶å­¦ä¹ æˆæžœçš„æ—¶å€™åˆ°äº† ^ ^ã€‚ åªç”¨â€è¡¨è¾¾å¼â€ï¼Œä¸ç”¨â€è¯­å¥â€ â€œè¡¨è¾¾å¼â€ï¼ˆexpressionï¼‰æ˜¯ä¸€ä¸ªå•çº¯çš„è¿ç®—è¿‡ç¨‹ï¼Œæ€»æ˜¯æœ‰è¿”å›žå€¼ï¼›â€è¯­å¥â€ï¼ˆstatementï¼‰æ˜¯æ‰§è¡ŒæŸç§æ“ä½œï¼Œæ²¡æœ‰è¿”å›žå€¼ã€‚å‡½æ•°å¼ç¼–ç¨‹è¦æ±‚ï¼Œåªä½¿ç”¨è¡¨è¾¾å¼ï¼Œä¸ä½¿ç”¨è¯­å¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯å•çº¯çš„è¿ç®—ï¼Œè€Œä¸”éƒ½æœ‰è¿”å›žå€¼ã€‚ å‡å¦‚æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œå¤šå¤„éœ€è¦æ”¹å˜æŸä¸ªå…ƒç´ çš„èƒŒæ™¯è‰²ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥è¿™æ ·å°è£…ä¸€ä¸‹ã€‚ 12345678var ele = document.querySelector('.test');function setBackgroundColor(color) &#123; ele.style.backgroundColor = color;&#125;// å¤šå¤„ä½¿ç”¨setBackgroundColor('red');setBackgroundColor('#ccc'); æˆ‘ä»¬å¯ä»¥å¾ˆæ˜Žæ˜¾çš„æ„Ÿå—åˆ°ï¼ŒsetBackgroundColorå°è£…çš„ä»…ä»…åªæ˜¯ä¸€æ¡è¯­å¥ã€‚è¿™å¹¶ä¸æ˜¯ç†æƒ³çš„æ•ˆæžœã€‚å‡½æ•°å¼ç¼–ç¨‹æœŸæœ›ä¸€ä¸ªå‡½æ•°æœ‰è¾“å…¥ï¼Œä¹Ÿæœ‰è¾“å‡ºã€‚å› æ­¤è‰¯å¥½çš„ä¹ æƒ¯åº”è¯¥å¦‚ä¸‹åšã€‚ 123456789function setBackgroundColor(ele, color) &#123; ele.style.backgroundColor = color; return color;&#125;// å¤šå¤„ä½¿ç”¨var ele = document.querySelector('.test');setBackgroundColor(ele, 'red');setBackgroundColor(ele, '#ccc'); äº†è§£è¿™ä¸€ç‚¹ï¼Œå¯ä»¥è®©æˆ‘ä»¬è‡ªå·±åœ¨å°è£…å‡½æ•°çš„æ—¶å€™å…»æˆè‰¯å¥½çš„ä¹ æƒ¯ã€‚ çº¯å‡½æ•° ç›¸åŒçš„è¾“å…¥æ€»ä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œå¹¶ä¸”ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨çš„å‡½æ•°ï¼Œå°±æ˜¯çº¯å‡½æ•°ã€‚ æ‰€è°“â€å‰¯ä½œç”¨â€ï¼ˆside effectï¼‰ï¼ŒæŒ‡çš„æ˜¯å‡½æ•°å†…éƒ¨ä¸Žå¤–éƒ¨äº’åŠ¨ï¼ˆæœ€å…¸åž‹çš„æƒ…å†µï¼Œå°±æ˜¯ä¿®æ”¹å…¨å±€å˜é‡çš„å€¼ï¼‰ï¼Œäº§ç”Ÿè¿ç®—ä»¥å¤–çš„å…¶ä»–ç»“æžœã€‚ å‡½æ•°å¼ç¼–ç¨‹å¼ºè°ƒæ²¡æœ‰â€å‰¯ä½œç”¨â€ï¼Œæ„å‘³ç€å‡½æ•°è¦ä¿æŒç‹¬ç«‹ï¼Œæ‰€æœ‰åŠŸèƒ½å°±æ˜¯è¿”å›žä¸€ä¸ªæ–°çš„å€¼ï¼Œæ²¡æœ‰å…¶ä»–è¡Œä¸ºï¼Œå°¤å…¶æ˜¯ä¸å¾—ä¿®æ”¹å¤–éƒ¨å˜é‡çš„å€¼ã€‚ å³æ‰€è°“çš„åªè¦æ˜¯åŒæ ·çš„å‚æ•°ä¼ å…¥ï¼Œè¿”å›žçš„ç»“æžœä¸€å®šæ˜¯ç›¸ç­‰çš„ã€‚ ä¾‹å¦‚æˆ‘ä»¬æœŸæœ›å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½å¤Ÿå¾—åˆ°ä¼ å…¥æ•°ç»„çš„æœ€åŽä¸€é¡¹ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼æ¥å®žçŽ°ã€‚ 123456789101112function getLast(arr) &#123; return arr[arr.length];&#125;function getLast_(arr) &#123; return arr.pop();&#125;var source = [1, 2, 3, 4];var last = getLast(source); // è¿”å›žç»“æžœ4 åŽŸæ•°ç»„ä¸å˜var last_ = getLast_(source); // è¿”å›žç»“æžœ4 åŽŸæ•°æ®æœ€åŽä¸€é¡¹è¢«åˆ é™¤ getLastä¸ŽgetLast_è™½ç„¶åŒæ ·èƒ½å¤ŸèŽ·å¾—æ•°ç»„çš„æœ€åŽä¸€é¡¹å€¼ï¼Œä½†æ˜¯getLast_æ”¹å˜äº†åŽŸæ•°ç»„ã€‚è€Œå½“åŽŸå§‹æ•°ç»„è¢«æ”¹å˜ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬å†æ¬¡è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œå¾—åˆ°çš„ç»“æžœå°±ä¼šå˜å¾—ä¸ä¸€æ ·ã€‚è¿™æ ·ä¸å¯é¢„æµ‹çš„å°è£…æ–¹å¼ï¼Œåœ¨æˆ‘ä»¬çœ‹æ¥æ˜¯éžå¸¸ç³Ÿç³•çš„ã€‚å®ƒä¼šæŠŠæˆ‘ä»¬çš„æ•°æ®æžå¾—éžå¸¸æ··ä¹±ã€‚åœ¨JavaScriptåŽŸç”Ÿæ”¯æŒçš„æ•°æ®æ–¹æ³•ä¸­ï¼Œä¹Ÿæœ‰è®¸å¤šä¸çº¯çš„æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶éœ€è¦éžå¸¸è­¦æƒ•ï¼Œæˆ‘ä»¬è¦æ¸…æ™°çš„çŸ¥é“åŽŸå§‹æ•°æ®çš„æ”¹å˜æ˜¯å¦ä¼šç•™ä¸‹éšæ‚£ã€‚ 12345678910111213141516var source = [1, 2, 3, 4, 5];source.slice(1, 3); // çº¯å‡½æ•° è¿”å›ž[2, 3] sourceä¸å˜source.splice(1, 3); // ä¸çº¯çš„ è¿”å›ž[2, 3, 4] sourceè¢«æ”¹å˜source.pop(); // ä¸çº¯çš„source.push(6); // ä¸çº¯çš„source.shift(); // ä¸çº¯çš„source.unshift(1); // ä¸çº¯çš„source.reverse(); // ä¸çº¯çš„// æˆ‘ä¹Ÿä¸èƒ½çŸ­æ—¶é—´çŸ¥é“çŽ°åœ¨sourceè¢«æ”¹å˜æˆäº†ä»€ä¹ˆæ ·å­ï¼Œå¹²è„†é‡æ–°çº¦å®šä¸€ä¸‹source = [1, 2, 3, 4, 5];source.concat([6, 7]); // çº¯å‡½æ•° è¿”å›ž[1, 2, 3, 4, 5, 6, 7] sourceä¸å˜source.join('-'); // çº¯å‡½æ•° è¿”å›ž1-2-3-4-5 sourceä¸å˜ é—­åŒ… é—­åŒ…æ˜¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„é‡è¦ç‰¹æ€§ï¼Œæˆ‘ä¹Ÿåœ¨å‰é¢å‡ ç¯‡æ–‡ç« ä¸­è¯´äº†å¾ˆå¤šå…³äºŽé—­åŒ…çš„å†…å®¹ã€‚è¿™é‡Œä¸å†èµ˜è¿°ã€‚ æŸ¯é‡ŒåŒ– ç•¥]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>function</tag>
        <tag>å‡½æ•°å¼ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„å†…å­˜ç©ºé—´è¯¦è§£]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[1234var a = 20;var b = 'abc';var c = true;var d = &#123; m: 20 &#125; å› ä¸ºJavaScriptå…·æœ‰è‡ªåŠ¨åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œæ‰€ä»¥å¯¹äºŽå‰ç«¯å¼€å‘æ¥è¯´ï¼Œå†…å­˜ç©ºé—´å¹¶ä¸æ˜¯ä¸€ä¸ªç»å¸¸è¢«æåŠçš„æ¦‚å¿µï¼Œå¾ˆå®¹æ˜“è¢«å¤§å®¶å¿½è§†ã€‚ç‰¹åˆ«æ˜¯å¾ˆå¤šä¸æ˜¯è®¡ç®—æœºä¸“ä¸šçš„æœ‹å‹åœ¨è¿›å…¥åˆ°å‰ç«¯ä¹‹åŽï¼Œä¼šå¯¹å†…å­˜ç©ºé—´çš„è®¤çŸ¥æ¯”è¾ƒæ¨¡ç³Šï¼Œç”šè‡³æœ‰äº›äººå¹²è„†å°±æ˜¯ä¸€æ— æ‰€çŸ¥ã€‚ å½“ç„¶ä¹ŸåŒ…æ‹¬æˆ‘è‡ªå·±ã€‚åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œè®¤ä¸ºå†…å­˜ç©ºé—´çš„æ¦‚å¿µåœ¨JSçš„å­¦ä¹ ä¸­å¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ã€‚å¯æ˜¯åŽæˆ‘å½“æˆ‘å›žè¿‡å¤´æ¥é‡æ–°æ•´ç†JSåŸºç¡€æ—¶ï¼Œå‘çŽ°ç”±äºŽå¯¹å®ƒä»¬çš„æ¨¡ç³Šè®¤çŸ¥ï¼Œå¯¼è‡´äº†å¾ˆå¤šä¸œè¥¿æˆ‘éƒ½ç†è§£å¾—å¹¶ä¸æ˜Žç™½ã€‚æ¯”å¦‚æœ€åŸºæœ¬çš„å¼•ç”¨æ•°æ®ç±»åž‹å’Œå¼•ç”¨ä¼ é€’åˆ°åº•æ˜¯æ€Žä¹ˆå›žäº‹å„¿ï¼Ÿæ¯”å¦‚æµ…å¤åˆ¶ä¸Žæ·±å¤åˆ¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿè¿˜æœ‰é—­åŒ…ï¼ŒåŽŸåž‹ç­‰ç­‰ã€‚ å› æ­¤åŽæ¥æˆ‘æ‰æ¸æ¸æ˜Žç™½ï¼Œæƒ³è¦å¯¹JSçš„ç†è§£æ›´åŠ æ·±åˆ»ï¼Œå°±å¿…é¡»å¯¹å†…å­˜ç©ºé—´æœ‰ä¸€ä¸ªæ¸…æ™°çš„è®¤çŸ¥ã€‚ åœ¨å­¦ä¹ å†…å­˜ç©ºé—´ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸‰ç§æ•°æ®ç»“æž„æœ‰ä¸€ä¸ªç›´è§‚çš„è®¤çŸ¥ã€‚ä»–ä»¬åˆ†åˆ«æ˜¯å †(heap)ï¼Œæ ˆ(stack)ä¸Žé˜Ÿåˆ—(queue)ã€‚ ä¸€ã€æ ˆæ•°æ®ç»“æž„ä¸ŽC/C++ä¸åŒï¼ŒJavaScriptä¸­å¹¶æ²¡æœ‰ä¸¥æ ¼æ„ä¹‰ä¸ŠåŒºåˆ†æ ˆå†…å­˜ä¸Žå †å†…å­˜ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç®€å•ç²—æš´çš„ç†è§£ä¸ºJavaScriptçš„æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å †å†…å­˜ä¸­ã€‚ä½†æ˜¯åœ¨æŸäº›åœºæ™¯ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦åŸºäºŽå †æ ˆæ•°æ®ç»“æž„çš„æ€ç»´æ¥å®žçŽ°ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚JavaScriptçš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆå…³äºŽæ‰§è¡Œä¸Šä¸‹æ–‡æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æ€»ç»“ï¼‰ã€‚æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ‰§è¡Œé¡ºåºå€Ÿç”¨äº†æ ˆæ•°æ®ç»“æž„çš„å­˜å–æ–¹å¼ã€‚(ä¹Ÿå°±æ˜¯åŽé¢æˆ‘ä»¬ä¼šç»å¸¸æåˆ°çš„å‡½æ•°è°ƒç”¨æ ˆ)ã€‚å› æ­¤ç†è§£æ ˆæ•°æ®ç»“æž„çš„åŽŸç†ä¸Žç‰¹ç‚¹ååˆ†é‡è¦ã€‚ è¦ç®€å•ç†è§£æ ˆçš„å­˜å–æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»æ¯”ä¹’ä¹“çƒç›’å­æ¥åˆ†æžã€‚å¦‚ä¸‹å›¾å·¦ä¾§ã€‚ è¿™ç§ä¹’ä¹“çƒçš„å­˜æ”¾æ–¹å¼ä¸Žæ ˆä¸­å­˜å–æ•°æ®çš„æ–¹å¼å¦‚å‡ºä¸€è¾™ã€‚å¤„äºŽç›’å­ä¸­æœ€é¡¶å±‚çš„ä¹’ä¹“çƒ5ï¼Œå®ƒä¸€å®šæ˜¯æœ€åŽè¢«æ”¾è¿›åŽ»ï¼Œä½†å¯ä»¥æœ€å…ˆè¢«ä½¿ç”¨ã€‚è€Œæˆ‘ä»¬æƒ³è¦ä½¿ç”¨åº•å±‚çš„ä¹’ä¹“çƒ1ï¼Œå°±å¿…é¡»å°†ä¸Šé¢çš„4ä¸ªä¹’ä¹“çƒå–å‡ºæ¥ï¼Œè®©ä¹’ä¹“çƒ1å¤„äºŽç›’å­é¡¶å±‚ã€‚è¿™å°±æ˜¯æ ˆç©ºé—´å…ˆè¿›åŽå‡ºï¼ŒåŽè¿›å…ˆå‡ºçš„ç‰¹ç‚¹ã€‚å›¾ä¸­å·²ç»è¯¦ç»†çš„è¡¨æ˜Žäº†æ ˆç©ºé—´çš„å­˜å‚¨åŽŸç†ã€‚ äºŒã€å †æ•°æ®ç»“æž„å †æ•°æ®ç»“æž„æ˜¯ä¸€ç§æ ‘çŠ¶ç»“æž„ã€‚å®ƒçš„å­˜å–æ•°æ®çš„æ–¹å¼ï¼Œåˆ™ä¸Žä¹¦æž¶ä¸Žä¹¦éžå¸¸ç›¸ä¼¼ã€‚ ä¹¦è™½ç„¶ä¹Ÿæ•´é½çš„å­˜æ”¾åœ¨ä¹¦æž¶ä¸Šï¼Œä½†æ˜¯æˆ‘ä»¬åªè¦çŸ¥é“ä¹¦çš„åå­—ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„å–å‡ºæˆ‘ä»¬æƒ³è¦çš„ä¹¦ï¼Œè€Œä¸ç”¨åƒä»Žä¹’ä¹“çƒç›’å­é‡Œå–ä¹’ä¹“ä¸€æ ·ï¼Œéžå¾—å°†ä¸Šé¢çš„æ‰€æœ‰ä¹’ä¹“çƒæ‹¿å‡ºæ¥æ‰èƒ½å–åˆ°ä¸­é—´çš„æŸä¸€ä¸ªä¹’ä¹“çƒã€‚å¥½æ¯”åœ¨JSONæ ¼å¼çš„æ•°æ®ä¸­ï¼Œæˆ‘ä»¬å­˜å‚¨çš„key-valueæ˜¯å¯ä»¥æ— åºçš„ï¼Œå› ä¸ºé¡ºåºçš„ä¸åŒå¹¶ä¸å½±å“æˆ‘ä»¬çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒä¹¦çš„åå­—ã€‚ ä¸‰ã€é˜Ÿåˆ—åœ¨JavaScriptä¸­ï¼Œç†è§£é˜Ÿåˆ—æ•°æ®ç»“æž„çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†æ¸…æ™°çš„æ˜Žç™½äº‹ä»¶å¾ªçŽ¯ï¼ˆEvent Loopï¼‰çš„æœºåˆ¶åˆ°åº•æ˜¯æ€Žä¹ˆå›žäº‹ã€‚åœ¨åŽç»­çš„ç« èŠ‚ä¸­æˆ‘ä¼šè¯¦ç»†åˆ†æžäº‹ä»¶å¾ªçŽ¯æœºåˆ¶ã€‚ é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ•°æ®ç»“æž„ã€‚æ­£å¦‚æŽ’é˜Ÿè¿‡å®‰æ£€ä¸€æ ·ï¼ŒæŽ’åœ¨é˜Ÿä¼å‰é¢çš„äººä¸€å®šæ˜¯æœ€å…ˆè¿‡æ£€çš„äººã€‚ç”¨ä»¥ä¸‹çš„å›¾ç¤ºå¯ä»¥æ¸…æ¥šçš„ç†è§£é˜Ÿåˆ—çš„åŽŸç†ã€‚ å››ã€å˜é‡å¯¹è±¡ä¸ŽåŸºç¡€æ•°æ®ç±»åž‹JavaScriptçš„æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿæˆä¹‹åŽï¼Œä¼šåˆ›å»ºä¸€ä¸ªå«åšå˜é‡å¯¹è±¡çš„ç‰¹æ®Šå¯¹è±¡ï¼ˆå…·ä½“ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸Žæ‰§è¡Œä¸Šä¸‹æ–‡ä¸€èµ·æ€»ç»“ï¼‰ï¼ŒJavaScriptçš„åŸºç¡€æ•°æ®ç±»åž‹å¾€å¾€éƒ½ä¼šä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­ã€‚ ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ï¼Œå˜é‡å¯¹è±¡ä¹Ÿæ˜¯å­˜æ”¾äºŽå †å†…å­˜ä¸­ï¼Œä½†æ˜¯ç”±äºŽå˜é‡å¯¹è±¡çš„ç‰¹æ®ŠèŒèƒ½ï¼Œæˆ‘ä»¬åœ¨ç†è§£æ—¶ä»ç„¶éœ€è¦å°†å…¶äºŽå †å†…å­˜åŒºåˆ†å¼€æ¥ã€‚ åŸºç¡€æ•°æ®ç±»åž‹éƒ½æ˜¯ä¸€äº›ç®€å•çš„æ•°æ®æ®µï¼ŒJavaScriptä¸­æœ‰5ä¸­åŸºç¡€æ•°æ®ç±»åž‹ï¼Œåˆ†åˆ«æ˜¯Undefinedã€Nullã€Booleanã€Numberã€Stringã€‚åŸºç¡€æ•°æ®ç±»åž‹éƒ½æ˜¯æŒ‰å€¼è®¿é—®ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ç›´æŽ¥æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­çš„å®žé™…çš„å€¼ã€‚ ES6ä¸­æ–°åŠ äº†ä¸€ç§åŸºç¡€æ•°æ®ç±»åž‹Symbolï¼Œå¯ä»¥å…ˆä¸ç”¨è€ƒè™‘ä»– äº”ã€å¼•ç”¨æ•°æ®ç±»åž‹ä¸Žå †å†…å­˜ä¸Žå…¶ä»–è¯­è¨€ä¸åŒï¼ŒJSçš„å¼•ç”¨æ•°æ®ç±»åž‹ï¼Œæ¯”å¦‚æ•°ç»„Arrayï¼Œå®ƒä»¬å€¼çš„å¤§å°æ˜¯ä¸å›ºå®šçš„ã€‚å¼•ç”¨æ•°æ®ç±»åž‹çš„å€¼æ˜¯ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ã€‚JavaScriptä¸å…è®¸ç›´æŽ¥è®¿é—®å †å†…å­˜ä¸­çš„ä½ç½®ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½ç›´æŽ¥æ“ä½œå¯¹è±¡çš„å †å†…å­˜ç©ºé—´ã€‚åœ¨æ“ä½œå¯¹è±¡æ—¶ï¼Œå®žé™…ä¸Šæ˜¯åœ¨æ“ä½œå¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å®žé™…çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œå¼•ç”¨ç±»åž‹çš„å€¼éƒ½æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚è¿™é‡Œçš„å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­çš„ä¸€ä¸ªåœ°å€ï¼Œè¯¥åœ°å€ä¸Žå †å†…å­˜çš„å®žé™…å€¼ç›¸å…³è”ã€‚ ä¸ºäº†æ›´å¥½çš„æžæ‡‚å˜é‡å¯¹è±¡ä¸Žå †å†…å­˜ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆä»¥ä¸‹ä¾‹å­ä¸Žå›¾è§£è¿›è¡Œç†è§£ã€‚ 123456var a1 = 0; // å˜é‡å¯¹è±¡var a2 = 'this is string'; // å˜é‡å¯¹è±¡var a3 = null; // å˜é‡å¯¹è±¡var b = &#123; m: 20 &#125;; // å˜é‡bå­˜åœ¨äºŽå˜é‡å¯¹è±¡ä¸­ï¼Œ&#123;m: 20&#125; ä½œä¸ºå¯¹è±¡å­˜åœ¨äºŽå †å†…å­˜ä¸­var c = [1, 2, 3]; // å˜é‡cå­˜åœ¨äºŽå˜é‡å¯¹è±¡ä¸­ï¼Œ[1, 2, 3] ä½œä¸ºå¯¹è±¡å­˜åœ¨äºŽå †å†…å­˜ä¸­ å› æ­¤å½“æˆ‘ä»¬è¦è®¿é—®å †å†…å­˜ä¸­çš„å¼•ç”¨æ•°æ®ç±»åž‹æ—¶ï¼Œå®žé™…ä¸Šæˆ‘ä»¬é¦–å…ˆæ˜¯ä»Žå˜é‡å¯¹è±¡ä¸­èŽ·å–äº†è¯¥å¯¹è±¡çš„åœ°å€å¼•ç”¨ï¼ˆæˆ–è€…åœ°å€æŒ‡é’ˆï¼‰ï¼Œç„¶åŽå†ä»Žå †å†…å­˜ä¸­å–å¾—æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚ ç†è§£äº†JSçš„å†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©å†…å­˜ç©ºé—´çš„ç‰¹æ€§æ¥éªŒè¯ä¸€ä¸‹å¼•ç”¨ç±»åž‹çš„ä¸€äº›ç‰¹ç‚¹äº†ã€‚ åœ¨å‰ç«¯é¢è¯•ä¸­æˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªç±»ä¼¼çš„é¢˜ç›® 123456// demo01.jsvar a = 20;var b = a;b = 30;// è¿™æ—¶açš„å€¼æ˜¯å¤šå°‘ï¼Ÿ 123456// demo02.jsvar m = &#123; a: 10, b: 20 &#125;var n = m;n.a = 15;// è¿™æ—¶m.açš„å€¼æ˜¯å¤šå°‘ åœ¨å˜é‡å¯¹è±¡ä¸­çš„æ•°æ®å‘ç”Ÿå¤åˆ¶è¡Œä¸ºæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæ–°çš„å˜é‡åˆ†é…ä¸€ä¸ªæ–°å€¼ã€‚var b = aæ‰§è¡Œä¹‹åŽï¼Œaä¸Žbè™½ç„¶å€¼éƒ½ç­‰äºŽ20ï¼Œä½†æ˜¯ä»–ä»¬å…¶å®žå·²ç»æ˜¯ç›¸äº’ç‹¬ç«‹äº’ä¸å½±å“çš„å€¼äº†ã€‚å…·ä½“å¦‚å›¾ã€‚æ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹äº†bçš„å€¼ä»¥åŽï¼Œaçš„å€¼å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ åœ¨demo02ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡var n = mæ‰§è¡Œä¸€æ¬¡å¤åˆ¶å¼•ç”¨ç±»åž‹çš„æ“ä½œã€‚å¼•ç”¨ç±»åž‹çš„å¤åˆ¶åŒæ ·ä¹Ÿä¼šä¸ºæ–°çš„å˜é‡è‡ªåŠ¨åˆ†é…ä¸€ä¸ªæ–°çš„å€¼ä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªæ–°çš„å€¼ï¼Œä»…ä»…åªæ˜¯å¼•ç”¨ç±»åž‹çš„ä¸€ä¸ªåœ°å€æŒ‡é’ˆã€‚å½“åœ°å€æŒ‡é’ˆç›¸åŒæ—¶ï¼Œå°½ç®¡ä»–ä»¬ç›¸äº’ç‹¬ç«‹ï¼Œä½†æ˜¯åœ¨å˜é‡å¯¹è±¡ä¸­è®¿é—®åˆ°çš„å…·ä½“å¯¹è±¡å®žé™…ä¸Šæ˜¯åŒä¸€ä¸ªã€‚å¦‚å›¾æ‰€ç¤ºã€‚ å› æ­¤å½“æˆ‘æ”¹å˜næ—¶ï¼Œmä¹Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚è¿™å°±æ˜¯å¼•ç”¨ç±»åž‹çš„ç‰¹æ€§ã€‚ é€šè¿‡å†…å­˜çš„è§’åº¦æ¥ç†è§£ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰è¦è½»æ¾å¾ˆå¤šï¼Ÿé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä»¥æ­¤ä¸ºåŸºç¡€ï¼Œä¸€æ­¥ä¸€æ­¥çš„ç†è§£JavaScriptçš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä½œç”¨åŸŸé“¾ï¼Œé—­åŒ…ï¼ŒåŽŸåž‹é“¾ç­‰é‡è¦æ¦‚å¿µã€‚å…¶ä»–çš„æˆ‘ä¼šåœ¨ä»¥åŽçš„æ–‡ç« æ…¢æ…¢æ€»ç»“ï¼Œæ•¬è¯·æœŸå¾…ã€‚ å…­ã€å†…å­˜ç©ºé—´ç®¡ç†å› ä¸ºJavaScriptå…·æœ‰è‡ªåŠ¨åžƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘æ—¶å¥½åƒä¸ç”¨å…³å¿ƒå†…å­˜çš„ä½¿ç”¨é—®é¢˜ï¼Œå†…å­˜çš„åˆ†é…ä¸Žå›žæ”¶éƒ½å®Œå…¨å®žçŽ°äº†è‡ªåŠ¨ç®¡ç†ã€‚ä½†æ˜¯æ ¹æ®æˆ‘è‡ªå·±çš„å¼€å‘ç»éªŒï¼Œäº†è§£å†…å­˜æœºåˆ¶æœ‰åŠ©äºŽè‡ªå·±æ¸…æ™°çš„è®¤è¯†åˆ°è‡ªå·±å†™çš„ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿè¿‡ä»€ä¹ˆï¼Œä»Žè€Œå†™å‡ºæ€§èƒ½æ›´åŠ ä¼˜ç§€çš„ä»£ç ã€‚å› æ­¤å…³å¿ƒå†…å­˜æ˜¯ä¸€ä»¶éžå¸¸é‡è¦çš„äº‹æƒ…ã€‚ JavaScriptçš„å†…å­˜ç”Ÿå‘½å‘¨æœŸ 1231. åˆ†é…ä½ æ‰€éœ€è¦çš„å†…å­˜2. ä½¿ç”¨åˆ†é…åˆ°çš„å†…å­˜ï¼ˆè¯»ã€å†™ï¼‰3. ä¸éœ€è¦æ—¶å°†å…¶é‡Šæ”¾ã€å½’è¿˜ ä¸ºäº†ä¾¿äºŽç†è§£ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è§£é‡Šè¿™ä¸ªå‘¨æœŸã€‚ 123var a = 20; // åœ¨å†…å­˜ä¸­ç»™æ•°å€¼å˜é‡åˆ†é…ç©ºé—´alert(a + 100); // ä½¿ç”¨å†…å­˜a = null; // ä½¿ç”¨å®Œæ¯•ä¹‹åŽï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´ ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥æˆ‘ä»¬éƒ½å¾ˆå¥½ç†è§£ï¼ŒJavaScriptåœ¨å®šä¹‰å˜é‡æ—¶å°±å®Œæˆäº†å†…å­˜åˆ†é…ã€‚ç¬¬ä¸‰æ­¥é‡Šæ”¾å†…å­˜ç©ºé—´åˆ™æ˜¯æˆ‘ä»¬éœ€è¦é‡ç‚¹ç†è§£çš„ä¸€ä¸ªç‚¹ã€‚ JavaScriptæœ‰è‡ªåŠ¨åžƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œé‚£ä¹ˆè¿™ä¸ªè‡ªåŠ¨åžƒåœ¾æ”¶é›†æœºåˆ¶çš„åŽŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®žå¾ˆç®€å•ï¼Œå°±æ˜¯æ‰¾å‡ºé‚£äº›ä¸å†ç»§ç»­ä½¿ç”¨çš„å€¼ï¼Œç„¶åŽé‡Šæ”¾å…¶å ç”¨çš„å†…å­˜ã€‚åžƒåœ¾æ”¶é›†å™¨ä¼šæ¯éš”å›ºå®šçš„æ—¶é—´æ®µå°±æ‰§è¡Œä¸€æ¬¡é‡Šæ”¾æ“ä½œã€‚ åœ¨JavaScriptä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯é€šè¿‡æ ‡è®°æ¸…é™¤çš„ç®—æ³•æ¥æ‰¾åˆ°å“ªäº›å¯¹è±¡æ˜¯ä¸å†ç»§ç»­ä½¿ç”¨çš„ï¼Œå› æ­¤a = nullå…¶å®žä»…ä»…åªæ˜¯åšäº†ä¸€ä¸ªé‡Šæ”¾å¼•ç”¨çš„æ“ä½œï¼Œè®© a åŽŸæœ¬å¯¹åº”çš„å€¼å¤±åŽ»å¼•ç”¨ï¼Œè„±ç¦»æ‰§è¡ŒçŽ¯å¢ƒï¼Œè¿™ä¸ªå€¼ä¼šåœ¨ä¸‹ä¸€æ¬¡åžƒåœ¾æ”¶é›†å™¨æ‰§è¡Œæ“ä½œæ—¶è¢«æ‰¾åˆ°å¹¶é‡Šæ”¾ã€‚è€Œåœ¨é€‚å½“çš„æ—¶å€™è§£é™¤å¼•ç”¨ï¼Œæ˜¯ä¸ºé¡µé¢èŽ·å¾—æ›´å¥½æ€§èƒ½çš„ä¸€ä¸ªé‡è¦æ–¹å¼ã€‚ åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå±€éƒ¨å˜é‡ä¹Ÿå°±æ²¡æœ‰å­˜åœ¨çš„å¿…è¦äº†ï¼Œå› æ­¤åžƒåœ¾æ”¶é›†å™¨å¾ˆå®¹æ˜“åšå‡ºåˆ¤æ–­å¹¶å›žæ”¶ã€‚ä½†æ˜¯å…¨å±€å˜é‡ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªåŠ¨é‡Šæ”¾å†…å­˜ç©ºé—´åˆ™å¾ˆéš¾åˆ¤æ–­ï¼Œå› æ­¤åœ¨æˆ‘ä»¬çš„å¼€å‘ä¸­ï¼Œéœ€è¦å°½é‡é¿å…ä½¿ç”¨å…¨å±€å˜é‡ã€‚ è¦è¯¦ç»†äº†è§£åžƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œå»ºè®®é˜…è¯»ã€ŠJavaScripté«˜çº§ç¼–ç¨‹ã€‹ä¸­çš„4.3èŠ‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>å†…å­˜ç©ºé—´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„ä½œç”¨åŸŸé“¾ä¸Žé—­åŒ…]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE%E4%B8%8E%E9%97%AD%E5%8C%85%2F</url>
    <content type="text"><![CDATA[åˆå­¦JavaScriptçš„æ—¶å€™ï¼Œæˆ‘åœ¨å­¦ä¹ é—­åŒ…ä¸Šï¼Œèµ°äº†å¾ˆå¤šå¼¯è·¯ã€‚è€Œè¿™æ¬¡é‡æ–°å›žè¿‡å¤´æ¥å¯¹åŸºç¡€çŸ¥è¯†è¿›è¡Œæ¢³ç†ï¼Œè¦è®²æ¸…æ¥šé—­åŒ…ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéžå¸¸å¤§çš„æŒ‘æˆ˜ã€‚ é—­åŒ…æœ‰å¤šé‡è¦ï¼Ÿå¦‚æžœä½ æ˜¯åˆå…¥å‰ç«¯çš„æœ‹å‹ï¼Œæˆ‘æ²¡æœ‰åŠžæ³•ç›´è§‚çš„å‘Šè¯‰ä½ é—­åŒ…åœ¨å®žé™…å¼€å‘ä¸­çš„æ— å¤„ä¸åœ¨ï¼Œä½†æ˜¯æˆ‘å¯ä»¥å‘Šè¯‰ä½ ï¼Œå‰ç«¯é¢è¯•ï¼Œå¿…é—®é—­åŒ…ã€‚é¢è¯•å®˜ä»¬å¸¸å¸¸ç”¨å¯¹é—­åŒ…çš„äº†è§£ç¨‹åº¦æ¥åˆ¤å®šé¢è¯•è€…çš„åŸºç¡€æ°´å¹³ï¼Œä¿å®ˆä¼°è®¡ï¼Œ10ä¸ªå‰ç«¯é¢è¯•è€…ï¼Œè‡³å°‘5ä¸ªéƒ½æ­»åœ¨é—­åŒ…ä¸Šã€‚ å¯æ˜¯ä¸ºä»€ä¹ˆï¼Œé—­åŒ…å¦‚æ­¤é‡è¦ï¼Œè¿˜æ˜¯æœ‰é‚£ä¹ˆå¤šäººæ²¡æœ‰æžæ¸…æ¥šå‘¢ï¼Ÿæ˜¯å› ä¸ºå¤§å®¶ä¸æ„¿æ„å­¦ä¹ å—ï¼Ÿè¿˜çœŸä¸æ˜¯ï¼Œè€Œæ˜¯æˆ‘ä»¬é€šè¿‡æœç´¢æ‰¾åˆ°çš„å¤§éƒ¨åˆ†è®²è§£é—­åŒ…çš„ä¸­æ–‡æ–‡ç« ï¼Œéƒ½æ²¡æœ‰æ¸…æ™°æ˜Žäº†çš„æŠŠé—­åŒ…è®²è§£æ¸…æ¥šã€‚è¦ä¹ˆæµ…å°è¾„æ­¢ï¼Œè¦ä¹ˆé«˜æ·±èŽ«æµ‹ï¼Œè¦ä¹ˆå¹²è„†å°±ç›´æŽ¥ä¹±è¯´ä¸€é€šã€‚åŒ…æ‹¬æˆ‘è‡ªå·±æ›¾ç»ä¹Ÿå†™è¿‡ä¸€ç¯‡å…³äºŽé—­åŒ…çš„æ€»ç»“ï¼Œå›žå¤´ä¸€çœ‹ï¼Œä¸å¿ç›´è§†[æ‚è„¸]ã€‚ å› æ­¤æœ¬æ–‡çš„ç›®çš„å°±åœ¨äºŽï¼Œèƒ½å¤Ÿæ¸…æ™°æ˜Žäº†å¾—æŠŠé—­åŒ…è¯´æ¸…æ¥šï¼Œè®©è¯»è€…æœ‹å‹ä»¬çœ‹äº†ä¹‹åŽï¼Œå°±æŠŠé—­åŒ…ç»™å½»åº•å­¦ä¼šäº†ï¼Œè€Œä¸æ˜¯ä¼¼æ‡‚éžæ‡‚ã€‚ ä¸€ã€ä½œç”¨åŸŸä¸Žä½œç”¨åŸŸé“¾åœ¨è¯¦ç»†è®²è§£ä½œç”¨åŸŸé“¾ä¹‹å‰ï¼Œæˆ‘é»˜è®¤ä½ å·²ç»å¤§æ¦‚æ˜Žç™½äº†JavaScriptä¸­çš„ä¸‹é¢è¿™äº›é‡è¦æ¦‚å¿µã€‚è¿™äº›æ¦‚å¿µå°†ä¼šéžå¸¸æœ‰å¸®åŠ©ã€‚ åŸºç¡€æ•°æ®ç±»åž‹ä¸Žå¼•ç”¨æ•°æ®ç±»åž‹ å†…å­˜ç©ºé—´ åžƒåœ¾å›žæ”¶æœºåˆ¶ æ‰§è¡Œä¸Šä¸‹æ–‡ å˜é‡å¯¹è±¡ä¸Žæ´»åŠ¨å¯¹è±¡ å¦‚æžœä½ æš‚æ—¶è¿˜æ²¡æœ‰æ˜Žç™½ï¼Œå¯ä»¥åŽ»çœ‹æœ¬ç³»åˆ—çš„å‰ä¸‰ç¯‡æ–‡ç« ï¼Œæœ¬æ–‡æ–‡æœ«æœ‰ç›®å½•é“¾æŽ¥ã€‚ä¸ºäº†è®²è§£é—­åŒ…ï¼Œå·²ç»ä¸ºå¤§å®¶åšå¥½äº†åŸºç¡€çŸ¥è¯†çš„é“ºåž«å“¦ã€‚ ä½œç”¨åŸŸ åœ¨JavaScriptä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä½œç”¨åŸŸå®šä¹‰ä¸ºä¸€å¥—è§„åˆ™,è¿™å¥—è§„åˆ™ç”¨æ¥ç®¡ç†å¼•æ“Žå¦‚ä½•åœ¨å½“å‰ä½œç”¨åŸŸä»¥åŠåµŒå¥—çš„å­ä½œç”¨åŸŸä¸­æ ¹æ®æ ‡è¯†ç¬¦åç§°è¿›è¡Œå˜é‡æŸ¥æ‰¾ã€‚ è¿™é‡Œçš„æ ‡è¯†ç¬¦ï¼ŒæŒ‡çš„æ˜¯å˜é‡åæˆ–è€…å‡½æ•°å JavaScriptä¸­åªæœ‰å…¨å±€ä½œç”¨åŸŸä¸Žå‡½æ•°ä½œç”¨åŸŸ(å› ä¸ºevalæˆ‘ä»¬å¹³æ—¶å¼€å‘ä¸­å‡ ä¹Žä¸ä¼šç”¨åˆ°å®ƒï¼Œè¿™é‡Œä¸è®¨è®º)ã€‚ ä½œç”¨åŸŸä¸Žæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªæ¦‚å¿µã€‚æˆ‘çŸ¥é“å¾ˆå¤šäººä¼šæ··æ·†ä»–ä»¬ï¼Œä½†æ˜¯ä¸€å®šè¦ä»”ç»†åŒºåˆ†ã€‚ JavaScriptä»£ç çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œä»£ç ç¼–è¯‘é˜¶æ®µä¸Žä»£ç æ‰§è¡Œé˜¶æ®µã€‚ç¼–è¯‘é˜¶æ®µç”±ç¼–è¯‘å™¨å®Œæˆï¼Œå°†ä»£ç ç¿»è¯‘æˆå¯æ‰§è¡Œä»£ç ï¼Œè¿™ä¸ªé˜¶æ®µä½œç”¨åŸŸè§„åˆ™ä¼šç¡®å®šã€‚æ‰§è¡Œé˜¶æ®µç”±å¼•æ“Žå®Œæˆï¼Œä¸»è¦ä»»åŠ¡æ˜¯æ‰§è¡Œå¯æ‰§è¡Œä»£ç ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡åœ¨è¿™ä¸ªé˜¶æ®µåˆ›å»ºã€‚ ä½œç”¨åŸŸé“¾ å›žé¡¾ä¸€ä¸‹ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬åˆ†æžçš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚ä¸‹å›¾ã€‚ æˆ‘ä»¬çŸ¥é“å‡½æ•°åœ¨è°ƒç”¨æ¿€æ´»æ—¶ï¼Œä¼šå¼€å§‹åˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿæˆçš„è¿‡ç¨‹ä¸­ï¼Œå˜é‡å¯¹è±¡ï¼Œä½œç”¨åŸŸé“¾ï¼Œä»¥åŠthisçš„å€¼ä¼šåˆ†åˆ«è¢«ç¡®å®šã€‚ä¹‹å‰ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬è¯¦ç»†è¯´æ˜Žäº†å˜é‡å¯¹è±¡ï¼Œè€Œè¿™é‡Œï¼Œæˆ‘ä»¬å°†è¯¦ç»†è¯´æ˜Žä½œç”¨åŸŸé“¾ã€‚ ä½œç”¨åŸŸé“¾ï¼Œæ˜¯ç”±å½“å‰çŽ¯å¢ƒä¸Žä¸Šå±‚çŽ¯å¢ƒçš„ä¸€ç³»åˆ—å˜é‡å¯¹è±¡ç»„æˆï¼Œå®ƒä¿è¯äº†å½“å‰æ‰§è¡ŒçŽ¯å¢ƒå¯¹ç¬¦åˆè®¿é—®æƒé™çš„å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚ ä¸ºäº†å¸®åŠ©å¤§å®¶ç†è§£ä½œç”¨åŸŸé“¾ï¼Œæˆ‘æˆ‘ä»¬å…ˆç»“åˆä¸€ä¸ªä¾‹å­ï¼Œä»¥åŠç›¸åº”çš„å›¾ç¤ºæ¥è¯´æ˜Žã€‚ 1234567891011121314var a = 20;function test() &#123; var b = a + 10; function innerTest() &#123; var c = 10; return b + c; &#125; return innerTest();&#125;test(); åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…¨å±€ï¼Œå‡½æ•°testï¼Œå‡½æ•°innerTestçš„æ‰§è¡Œä¸Šä¸‹æ–‡å…ˆåŽåˆ›å»ºã€‚æˆ‘ä»¬è®¾å®šä»–ä»¬çš„å˜é‡å¯¹è±¡åˆ†åˆ«ä¸ºVO(global)ï¼ŒVO(test), VO(innerTest)ã€‚è€ŒinnerTestçš„ä½œç”¨åŸŸé“¾ï¼Œåˆ™åŒæ—¶åŒ…å«äº†è¿™ä¸‰ä¸ªå˜é‡å¯¹è±¡ï¼Œæ‰€ä»¥innerTestçš„æ‰§è¡Œä¸Šä¸‹æ–‡å¯å¦‚ä¸‹è¡¨ç¤ºã€‚ 1234innerTestEC = &#123; VO: &#123;...&#125;, // å˜é‡å¯¹è±¡ scopeChain: [VO(innerTest), VO(test), VO(global)], // ä½œç”¨åŸŸé“¾&#125; æˆ‘ä»¬å¯ä»¥ç›´æŽ¥ç”¨ä¸€ä¸ªæ•°ç»„æ¥è¡¨ç¤ºä½œç”¨åŸŸé“¾ï¼Œæ•°ç»„çš„ç¬¬ä¸€é¡¹scopeChain[0]ä¸ºä½œç”¨åŸŸé“¾çš„æœ€å‰ç«¯ï¼Œè€Œæ•°ç»„çš„æœ€åŽä¸€é¡¹ï¼Œä¸ºä½œç”¨åŸŸé“¾çš„æœ€æœ«ç«¯ï¼Œæ‰€æœ‰çš„æœ€æœ«ç«¯éƒ½ä¸ºå…¨å±€å˜é‡å¯¹è±¡ã€‚ å¾ˆå¤šäººä¼šè¯¯è§£ä¸ºå½“å‰ä½œç”¨åŸŸä¸Žä¸Šå±‚ä½œç”¨åŸŸä¸ºåŒ…å«å…³ç³»ï¼Œä½†å…¶å®žå¹¶ä¸æ˜¯ã€‚ä»¥æœ€å‰ç«¯ä¸ºèµ·ç‚¹ï¼Œæœ€æœ«ç«¯ä¸ºç»ˆç‚¹çš„å•æ–¹å‘é€šé“æˆ‘è®¤ä¸ºæ˜¯æ›´åŠ è´´åˆ‡çš„å½¢å®¹ã€‚å¦‚å›¾ã€‚ æ³¨æ„ï¼Œå› ä¸ºå˜é‡å¯¹è±¡åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡è¿›å…¥æ‰§è¡Œé˜¶æ®µæ—¶ï¼Œå°±å˜æˆäº†æ´»åŠ¨å¯¹è±¡ï¼Œè¿™ä¸€ç‚¹åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­å·²ç»è®²è¿‡ï¼Œå› æ­¤å›¾ä¸­ä½¿ç”¨äº†AOæ¥è¡¨ç¤ºã€‚Active Object æ˜¯çš„ï¼Œä½œç”¨åŸŸé“¾æ˜¯ç”±ä¸€ç³»åˆ—å˜é‡å¯¹è±¡ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªå•å‘é€šé“ä¸­ï¼ŒæŸ¥è¯¢å˜é‡å¯¹è±¡ä¸­çš„æ ‡è¯†ç¬¦ï¼Œè¿™æ ·å°±å¯ä»¥è®¿é—®åˆ°ä¸Šä¸€å±‚ä½œç”¨åŸŸä¸­çš„å˜é‡äº†ã€‚ äºŒã€é—­åŒ…å¯¹äºŽé‚£äº›æœ‰ä¸€ç‚¹ JavaScript ä½¿ç”¨ç»éªŒä½†ä»ŽæœªçœŸæ­£ç†è§£é—­åŒ…æ¦‚å¿µçš„äººæ¥è¯´ï¼Œç†è§£é—­åŒ…å¯ä»¥çœ‹ä½œæ˜¯æŸç§æ„ä¹‰ä¸Šçš„é‡ç”Ÿï¼Œçªç ´é—­åŒ…çš„ç“¶é¢ˆå¯ä»¥ä½¿ä½ åŠŸåŠ›å¤§å¢žã€‚ é—­åŒ…æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ã€‚ å®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚æ‰§è¡Œä¸Šä¸‹æ–‡(ä»£å·A)ï¼Œä»¥åŠåœ¨è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„å‡½æ•°ï¼ˆä»£å·Bï¼‰ã€‚ å½“Bæ‰§è¡Œæ—¶ï¼Œå¦‚æžœè®¿é—®äº†Aä¸­å˜é‡å¯¹è±¡ä¸­çš„å€¼ï¼Œé‚£ä¹ˆé—­åŒ…å°±ä¼šäº§ç”Ÿã€‚ åœ¨å¤§å¤šæ•°ç†è§£ä¸­ï¼ŒåŒ…æ‹¬è®¸å¤šè‘—åçš„ä¹¦ç±ï¼Œæ–‡ç« é‡Œéƒ½ä»¥å‡½æ•°Bçš„åå­—ä»£æŒ‡è¿™é‡Œç”Ÿæˆçš„é—­åŒ…ã€‚è€Œåœ¨chromeä¸­ï¼Œåˆ™ä»¥æ‰§è¡Œä¸Šä¸‹æ–‡Açš„å‡½æ•°åä»£æŒ‡é—­åŒ…ã€‚ å› æ­¤æˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œä¸€ä¸ªé—­åŒ…å¯¹è±¡ï¼Œç”±Aã€Bå…±åŒç»„æˆï¼Œåœ¨ä»¥åŽçš„ç¯‡å¹…ä¸­ï¼Œæˆ‘å°†ä»¥chromeçš„æ ‡å‡†æ¥ç§°å‘¼ã€‚ 1234567891011121314// demo01function foo() &#123; var a = 20; var b = 30; function bar() &#123; return a + b; &#125; return bar;&#125;var bar = foo();bar(); ä¸Šé¢çš„ä¾‹å­ï¼Œé¦–å…ˆæœ‰æ‰§è¡Œä¸Šä¸‹æ–‡fooï¼Œåœ¨fooä¸­å®šä¹‰äº†å‡½æ•°barï¼Œè€Œé€šè¿‡å¯¹å¤–è¿”å›žbarçš„æ–¹å¼è®©barå¾—ä»¥æ‰§è¡Œã€‚å½“baræ‰§è¡Œæ—¶ï¼Œè®¿é—®äº†fooå†…éƒ¨çš„å˜é‡aï¼Œbã€‚å› æ­¤è¿™ä¸ªæ—¶å€™é—­åŒ…äº§ç”Ÿã€‚ åœ¨åŸºç¡€è¿›é˜¶ï¼ˆä¸€ï¼‰ä¸­ï¼Œæˆ‘æ€»ç»“äº†JavaScriptçš„åžƒåœ¾å›žæ”¶æœºåˆ¶ã€‚JavaScriptæ‹¥æœ‰è‡ªåŠ¨çš„åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œå…³äºŽåžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„è¡Œä¸ºï¼Œé‚£å°±æ˜¯ï¼Œå½“ä¸€ä¸ªå€¼ï¼Œåœ¨å†…å­˜ä¸­å¤±åŽ»å¼•ç”¨æ—¶ï¼Œåžƒåœ¾å›žæ”¶æœºåˆ¶ä¼šæ ¹æ®ç‰¹æ®Šçš„ç®—æ³•æ‰¾åˆ°å®ƒï¼Œå¹¶å°†å…¶å›žæ”¶ï¼Œé‡Šæ”¾å†…å­˜ã€‚ è€Œæˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåœ¨æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œé‚£ä¹ˆè¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±ä¼šå¤±åŽ»å¼•ç”¨ã€‚å…¶å ç”¨çš„å†…å­˜ç©ºé—´å¾ˆå¿«å°±ä¼šè¢«åžƒåœ¾å›žæ”¶å™¨é‡Šæ”¾ã€‚å¯æ˜¯é—­åŒ…çš„å­˜åœ¨ï¼Œä¼šé˜»æ­¢è¿™ä¸€è¿‡ç¨‹ã€‚ å…ˆæ¥ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚ 123456789101112131415var fn = null;function foo() &#123; var a = 2; function innnerFoo() &#123; console.log(a); &#125; fn = innnerFoo; // å°† innnerFooçš„å¼•ç”¨ï¼Œèµ‹å€¼ç»™å…¨å±€å˜é‡ä¸­çš„fn&#125;function bar() &#123; fn(); // æ­¤å¤„çš„ä¿ç•™çš„innerFooçš„å¼•ç”¨&#125;foo();bar(); // 2 åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œfoo()æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼ŒæŒ‰ç…§å¸¸ç†ï¼Œå…¶æ‰§è¡ŒçŽ¯å¢ƒç”Ÿå‘½å‘¨æœŸä¼šç»“æŸï¼Œæ‰€å å†…å­˜è¢«åžƒåœ¾æ”¶é›†å™¨é‡Šæ”¾ã€‚ä½†æ˜¯é€šè¿‡fn = innerFooï¼Œå‡½æ•°innerFooçš„å¼•ç”¨è¢«ä¿ç•™äº†ä¸‹æ¥ï¼Œå¤åˆ¶ç»™äº†å…¨å±€å˜é‡fnã€‚è¿™ä¸ªè¡Œä¸ºï¼Œå¯¼è‡´äº†fooçš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿè¢«ä¿ç•™äº†ä¸‹æ¥ã€‚äºŽæ˜¯ï¼Œå‡½æ•°fnåœ¨å‡½æ•°barå†…éƒ¨æ‰§è¡Œæ—¶ï¼Œä¾ç„¶å¯ä»¥è®¿é—®è¿™ä¸ªè¢«ä¿ç•™ä¸‹æ¥çš„å˜é‡å¯¹è±¡ã€‚æ‰€ä»¥æ­¤åˆ»ä»ç„¶èƒ½å¤Ÿè®¿é—®åˆ°å˜é‡açš„å€¼ã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç§°fooä¸ºé—­åŒ…ã€‚ ä¸‹å›¾å±•ç¤ºäº†é—­åŒ…fooçš„ä½œç”¨åŸŸé“¾ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨chromeæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹è¿™æ®µä»£ç è¿è¡Œæ—¶äº§ç”Ÿçš„å‡½æ•°è°ƒç”¨æ ˆä¸Žä½œç”¨åŸŸé“¾çš„ç”Ÿæˆæƒ…å†µã€‚å¦‚ä¸‹å›¾ã€‚ å…³äºŽå¦‚ä½•åœ¨chromeä¸­è§‚å¯Ÿé—­åŒ…ï¼Œä»¥åŠæ›´å¤šé—­åŒ…çš„ä¾‹å­ï¼Œè¯·é˜…è¯»åŸºç¡€ç³»åˆ—ï¼ˆå…­ï¼‰ åœ¨ä¸Šé¢çš„å›¾ä¸­ï¼Œçº¢è‰²ç®­å¤´æ‰€æŒ‡çš„æ­£æ˜¯é—­åŒ…ã€‚å…¶ä¸­Call Stackä¸ºå½“å‰çš„å‡½æ•°è°ƒç”¨æ ˆï¼ŒScopeä¸ºå½“å‰æ­£åœ¨è¢«æ‰§è¡Œçš„å‡½æ•°çš„ä½œç”¨åŸŸé“¾ï¼ŒLocalä¸ºå½“å‰çš„å±€éƒ¨å˜é‡ã€‚ æ‰€ä»¥ï¼Œé€šè¿‡é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä»–çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œè®¿é—®åˆ°å‡½æ•°çš„å†…éƒ¨å˜é‡ã€‚æ¯”å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°barçš„æ‰§è¡ŒçŽ¯å¢ƒä¸­è®¿é—®åˆ°äº†å‡½æ•°fooçš„aå˜é‡ã€‚ä¸ªäººè®¤ä¸ºï¼Œä»Žåº”ç”¨å±‚é¢ï¼Œè¿™æ˜¯é—­åŒ…æœ€é‡è¦çš„ç‰¹æ€§ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å®žçŽ°å¾ˆå¤šæœ‰æ„æ€çš„ä¸œè¥¿ã€‚ ä¸è¿‡è¯»è€…æœ‹å‹ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ä¾‹å­ä¸­çš„é—­åŒ…è¢«ä¿å­˜åœ¨äº†å…¨å±€å˜é‡ä¸­ï¼Œä½†æ˜¯é—­åŒ…çš„ä½œç”¨åŸŸé“¾å¹¶ä¸ä¼šå‘ç”Ÿä»»ä½•æ”¹å˜ã€‚åœ¨é—­åŒ…ä¸­ï¼Œèƒ½è®¿é—®åˆ°çš„å˜é‡ï¼Œä»ç„¶æ˜¯ä½œç”¨åŸŸé“¾ä¸Šèƒ½å¤ŸæŸ¥è¯¢åˆ°çš„å˜é‡ã€‚ å¯¹ä¸Šé¢çš„ä¾‹å­ç¨ä½œä¿®æ”¹ï¼Œå¦‚æžœæˆ‘ä»¬åœ¨å‡½æ•°barä¸­å£°æ˜Žä¸€ä¸ªå˜é‡cï¼Œå¹¶åœ¨é—­åŒ…fnä¸­è¯•å›¾è®¿é—®è¯¥å˜é‡ï¼Œè¿è¡Œç»“æžœä¼šæŠ›å‡ºé”™è¯¯ã€‚ 1234567891011121314151617var fn = null;function foo() &#123; var a = 2; function innnerFoo() &#123; console.log(c); // åœ¨è¿™é‡Œï¼Œè¯•å›¾è®¿é—®å‡½æ•°barä¸­çš„cå˜é‡ï¼Œä¼šæŠ›å‡ºé”™è¯¯ console.log(a); &#125; fn = innnerFoo; // å°† innnerFooçš„å¼•ç”¨ï¼Œèµ‹å€¼ç»™å…¨å±€å˜é‡ä¸­çš„fn&#125;function bar() &#123; var c = 100; fn(); // æ­¤å¤„çš„ä¿ç•™çš„innerFooçš„å¼•ç”¨&#125;foo();bar(); å…³äºŽè¿™ä¸€ç‚¹ï¼Œå¾ˆå¤šåŒå­¦æŠŠå‡½æ•°è°ƒç”¨æ ˆä¸Žä½œç”¨åŸŸé“¾æ²¡æœ‰åˆ†æ¸…æ¥šï¼Œæ‰€ä»¥æœ‰çš„å¤§ç¥žçœ‹äº†æˆ‘å…³äºŽä»‹ç»æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ–‡ç« æ—¶å°±ä¹‰æ­£è¨€è¾žçš„è¯´æˆ‘çš„ä¾‹å­æœ‰é—®é¢˜ï¼Œè€Œè¿™äº›è¯„è®ºæœ‰å¾ˆå¤§çš„è¯¯å¯¼ä½œç”¨ï¼Œä¸ºäº†å¸®åŠ©å¤§å®¶è‡ªå·±æ‹¥æœ‰èƒ½å¤Ÿè¾¨åˆ«çš„èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘å†™äº†åŸºç¡€ï¼ˆå…­ï¼‰ï¼Œæ•™å¤§å®¶å¦‚ä½•åœ¨chromeä¸­è§‚å¯Ÿé—­åŒ…ï¼Œä½œç”¨åŸŸé“¾ï¼Œthisç­‰ã€‚å½“ç„¶æˆ‘ä¹Ÿä¸æ•¢100%ä¿è¯æˆ‘æ–‡ä¸­çš„ä¾‹å­å°±ä¸€å®šæ­£ç¡®ï¼Œæ‰€ä»¥æ•™å¤§å®¶å¦‚ä½•åŽ»è¾¨è®¤æˆ‘è®¤ä¸ºæ‰æ˜¯æœ€é‡è¦çš„ã€‚ é—­åŒ…çš„åº”ç”¨åœºæ™¯ é™¤äº†é¢è¯•ï¼Œåœ¨å®žè·µä¸­ï¼Œé—­åŒ…æœ‰ä¸¤ä¸ªéžå¸¸é‡è¦çš„åº”ç”¨åœºæ™¯ã€‚åˆ†åˆ«æ˜¯æ¨¡å—åŒ–ä¸ŽæŸ¯é‡ŒåŒ–ã€‚ æŸ¯é‡ŒåŒ– åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œåˆ©ç”¨é—­åŒ…èƒ½å¤Ÿå®žçŽ°å¾ˆå¤šç‚«é…·çš„åŠŸèƒ½ï¼ŒæŸ¯é‡ŒåŒ–ä¾¿æ˜¯å…¶ä¸­å¾ˆé‡è¦çš„ä¸€ç§ã€‚ç‚¹å‡»äº†è§£æ›´å¤šå…³äºŽæŸ¯é‡ŒåŒ–çš„çŸ¥è¯† æ¨¡å— åœ¨æˆ‘çœ‹æ¥ï¼Œæ¨¡å—æ˜¯é—­åŒ…æœ€å¼ºå¤§çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯ã€‚å¦‚æžœä½ æ˜¯åˆå­¦è€…ï¼Œå¯¹äºŽæ¨¡å—çš„äº†è§£å¯ä»¥æš‚æ—¶ä¸ç”¨æ”¾åœ¨å¿ƒä¸Šï¼Œå› ä¸ºç†è§£æ¨¡å—éœ€è¦æ›´å¤šçš„åŸºç¡€çŸ¥è¯†ã€‚ä½†æ˜¯å¦‚æžœä½ å·²ç»æœ‰äº†å¾ˆå¤šJavaScriptçš„ä½¿ç”¨ç»éªŒï¼Œåœ¨å½»åº•äº†è§£äº†é—­åŒ…ä¹‹åŽï¼Œä¸å¦¨å€ŸåŠ©æœ¬æ–‡ä»‹ç»çš„ä½œç”¨åŸŸé“¾ä¸Žé—­åŒ…çš„æ€è·¯ï¼Œé‡æ–°ç†ä¸€ç†å…³äºŽæ¨¡å—çš„çŸ¥è¯†ã€‚è¿™å¯¹äºŽæˆ‘ä»¬ç†è§£å„ç§å„æ ·çš„è®¾è®¡æ¨¡å¼å…·æœ‰èŽ«å¤§çš„å¸®åŠ©ã€‚ 123456789101112131415(function () &#123; var a = 10; var b = 20; function add(num1, num2) &#123; var num1 = !!num1 ? num1 : a; var num2 = !!num2 ? num2 : b; return num1 + num2; &#125; window.add = add;&#125;)();add(10, 20); åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨å‡½æ•°è‡ªæ‰§è¡Œçš„æ–¹å¼ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ¨¡å—ã€‚addæ˜¯æ¨¡å—å¯¹å¤–æš´éœ²çš„ä¸€ä¸ªå…¬å…±æ–¹æ³•ã€‚è€Œå˜é‡aï¼Œbè¢«ä½œä¸ºç§æœ‰å˜é‡ã€‚åœ¨é¢å‘å¯¹è±¡çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦è€ƒè™‘æ˜¯å°†å˜é‡ä½œä¸ºç§æœ‰å˜é‡ï¼Œè¿˜æ˜¯æ”¾åœ¨æž„é€ å‡½æ•°ä¸­çš„thisä¸­ï¼Œå› æ­¤ç†è§£é—­åŒ…ï¼Œä»¥åŠåŽŸåž‹é“¾æ˜¯ä¸€ä¸ªéžå¸¸é‡è¦çš„äº‹æƒ…ã€‚æ¨¡å—ååˆ†é‡è¦ï¼Œå› æ­¤æˆ‘ä¼šåœ¨ä»¥åŽçš„æ–‡ç« ä¸“é—¨ä»‹ç»ï¼Œè¿™é‡Œå°±æš‚æ—¶ä¸å¤šè¯´å•¦ã€‚ ä¸ºäº†éªŒè¯è‡ªå·±æœ‰æ²¡æœ‰æžæ‡‚ä½œç”¨åŸŸé“¾ä¸Žé—­åŒ…ï¼Œè¿™é‡Œç•™ä¸‹ä¸€ä¸ªç»å…¸çš„æ€è€ƒé¢˜ï¼Œå¸¸å¸¸ä¹Ÿä¼šåœ¨é¢è¯•ä¸­è¢«é—®åˆ°ã€‚ åˆ©ç”¨é—­åŒ…ï¼Œä¿®æ”¹ä¸‹é¢çš„ä»£ç ï¼Œè®©å¾ªçŽ¯è¾“å‡ºçš„ç»“æžœä¾æ¬¡ä¸º1ï¼Œ 2ï¼Œ 3ï¼Œ 4ï¼Œ 5 12345for (var i=1; i&lt;=5; i++) &#123; setTimeout( function timer() &#123; console.log(i); &#125;, i*1000 );&#125; ç‚¹æ­¤æŸ¥çœ‹å…³äºŽæ­¤é¢˜çš„è¯¦ç»†è§£è¯» å…³äºŽä½œç”¨åŸŸé“¾çš„ä¸Žé—­åŒ…æˆ‘å°±æ€»ç»“å®Œäº†ï¼Œè™½ç„¶æˆ‘è‡ªè®¤ä¸ºæˆ‘æ˜¯è¯´å¾—éžå¸¸æ¸…æ™°äº†ï¼Œä½†æ˜¯æˆ‘çŸ¥é“ç†è§£é—­åŒ…å¹¶ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼Œæ‰€ä»¥å¦‚æžœä½ æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯ä»¥åœ¨è¯„è®ºä¸­é—®æˆ‘ã€‚ä½ ä¹Ÿå¯ä»¥å¸¦ç€ä»Žåˆ«çš„åœ°æ–¹æ²¡æœ‰çœ‹æ‡‚çš„ä¾‹å­åœ¨è¯„è®ºä¸­ç•™è¨€ã€‚å¤§å®¶ä¸€èµ·å­¦ä¹ è¿›æ­¥ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é—­åŒ…</tag>
        <tag>ä½œç”¨åŸŸé“¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„äº‹ä»¶å¾ªçŽ¯æœºåˆ¶]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[JavaScriptçš„å­¦ä¹ é›¶æ•£è€Œåºžæ‚ï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼Œä½†æ˜¯å´æ²¡åŠžæ³•æ„Ÿå—åˆ°è‡ªå·±çš„è¿›æ­¥ï¼Œç”šè‡³è¿‡äº†ä¸ä¹…ï¼Œå°±æŠŠå­¦åˆ°çš„ä¸œè¥¿ç»™å¿˜äº†ã€‚ä¸ºäº†è§£å†³è‡ªå·±çš„è¿™ä¸ªå›°æ‰°ï¼Œåœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸€ç›´è¯•å›¾åœ¨å¯»æ‰¾ä¸€æ¡æ ¸å¿ƒçš„çº¿ç´¢ï¼Œåªè¦æˆ‘æ ¹æ®è¿™æ¡çº¿ç´¢ï¼Œæˆ‘å°±èƒ½å¤Ÿä¸€ç‚¹ä¸€ç‚¹çš„è¿›æ­¥ã€‚ å‰ç«¯åŸºç¡€è¿›é˜¶æ­£æ˜¯å›´ç»•è¿™æ¡çº¿ç´¢æ…¢æ…¢å±•å¼€ï¼Œè€Œäº‹ä»¶å¾ªçŽ¯æœºåˆ¶(Event Loop)ï¼Œåˆ™æ˜¯è¿™æ¡çº¿ç´¢çš„æœ€å…³é”®çš„çŸ¥è¯†ç‚¹ã€‚æ‰€ä»¥ï¼Œæˆ‘å°±é©¬ä¸åœè¹„çš„åŽ»æ·±å…¥çš„å­¦ä¹ äº†äº‹ä»¶å¾ªçŽ¯æœºåˆ¶ï¼Œå¹¶æ€»ç»“å‡ºäº†è¿™ç¯‡æ–‡ç« è·Ÿå¤§å®¶åˆ†äº«ã€‚ äº‹ä»¶å¾ªçŽ¯æœºåˆ¶ä»Žæ•´ä½“ä¸Šçš„å‘Šè¯‰äº†æˆ‘ä»¬æ‰€å†™çš„JavaScriptä»£ç çš„æ‰§è¡Œé¡ºåºã€‚ä½†æ˜¯åœ¨æˆ‘å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæ‰¾åˆ°çš„è®¸å¤šå›½å†…åšå®¢æ–‡ç« å¯¹äºŽå®ƒçš„è®²è§£æµ…å°è¾„æ­¢ï¼Œä¸å¾—å…¶æ³•ï¼Œå¾ˆå¤šæ–‡ç« åœ¨å›¾ä¸­ç”»ä¸ªåœˆå°±è¡¨ç¤ºå¾ªçŽ¯äº†ï¼Œçœ‹äº†ä¹‹åŽä¹Ÿæ²¡æ„Ÿè§‰æ˜Žç™½äº†å¤šå°‘ã€‚ä½†æ˜¯ä»–åˆå¦‚æ­¤é‡è¦ï¼Œä»¥è‡´äºŽå½“æˆ‘ä»¬æƒ³è¦é¢è¯•ä¸­é«˜çº§å²—ä½æ—¶ï¼Œäº‹ä»¶å¾ªçŽ¯æœºåˆ¶æ€»æ˜¯ç»•ä¸å¼€çš„è¯é¢˜ã€‚ç‰¹åˆ«æ˜¯ES6ä¸­æ­£å¼åŠ å…¥äº†Promiseå¯¹è±¡ä¹‹åŽï¼Œå¯¹äºŽæ–°æ ‡å‡†ä¸­äº‹ä»¶å¾ªçŽ¯æœºåˆ¶çš„ç†è§£å°±å˜å¾—æ›´åŠ é‡è¦ã€‚è¿™å°±å¾ˆå°´å°¬äº†ã€‚ æœ€è¿‘æœ‰ä¸¤ç¯‡æ¯”è¾ƒç«çš„æ–‡ç« ä¹Ÿè¡¨è¾¾äº†è¿™ä¸ªé—®é¢˜çš„é‡è¦æ€§ã€‚ è¿™ä¸ªå‰ç«¯é¢è¯•åœ¨æžäº‹80% åº”è˜è€…éƒ½ä¸åŠæ ¼çš„ JS é¢è¯•é¢˜ ä½†æ˜¯å¾ˆé—æ†¾çš„æ˜¯ï¼Œå¤§ç¥žä»¬å‘Šè¯‰äº†å¤§å®¶è¿™ä¸ªçŸ¥è¯†ç‚¹å¾ˆé‡è¦ï¼Œå´å¹¶æ²¡æœ‰å‘Šè¯‰å¤§å®¶ä¸ºä»€ä¹ˆä¼šè¿™æ ·ã€‚æ‰€ä»¥å½“æˆ‘ä»¬åœ¨é¢è¯•æ—¶é‡åˆ°è¿™æ ·çš„é—®é¢˜æ—¶ï¼Œå°±ç®—ä½ çŸ¥é“äº†ç»“æžœï¼Œé¢è¯•å®˜å†è¿›ä¸€æ­¥é—®ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¾ç„¶æ‡µé€¼ã€‚ åœ¨å­¦ä¹ äº‹ä»¶å¾ªçŽ¯æœºåˆ¶ä¹‹å‰ï¼Œæˆ‘é»˜è®¤ä½ å·²ç»æ‡‚å¾—äº†å¦‚ä¸‹æ¦‚å¿µï¼Œå¦‚æžœä»ç„¶æœ‰ç–‘é—®ï¼Œå¯ä»¥å›žè¿‡å¤´åŽ»çœ‹çœ‹æˆ‘ä»¥å‰çš„æ–‡ç« ã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡(Execution context) å‡½æ•°è°ƒç”¨æ ˆ(call stack) é˜Ÿåˆ—æ•°æ®ç»“æž„(queue) Promise(æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸“é—¨æ€»ç»“Promiseçš„è¯¦ç»†ä½¿ç”¨) å› ä¸ºchromeæµè§ˆå™¨ä¸­æ–°æ ‡å‡†ä¸­çš„äº‹ä»¶å¾ªçŽ¯æœºåˆ¶ä¸Žnodejsç±»ä¼¼ï¼Œå› æ­¤æ­¤å¤„å°±æ•´åˆnodejsä¸€èµ·æ¥ç†è§£ï¼Œå…¶ä¸­ä¼šä»‹ç»åˆ°å‡ ä¸ªnodejsæœ‰ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸­æ²¡æœ‰çš„APIï¼Œå¤§å®¶åªéœ€è¦äº†è§£å°±å¥½ï¼Œä¸ä¸€å®šéžè¦çŸ¥é“å¥¹æ˜¯å¦‚ä½•ä½¿ç”¨ã€‚æ¯”å¦‚process.nextTickï¼ŒsetImmediate OKï¼Œé‚£æˆ‘å°±å…ˆæŠ›å‡ºç»“è®ºï¼Œç„¶åŽä»¥ä¾‹å­ä¸Žå›¾ç¤ºè¯¦ç»†ç»™å¤§å®¶æ¼”ç¤ºäº‹ä»¶å¾ªçŽ¯æœºåˆ¶ã€‚ æˆ‘ä»¬çŸ¥é“JavaScriptçš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œè€Œè¿™ä¸ªçº¿ç¨‹ä¸­æ‹¥æœ‰å”¯ä¸€çš„ä¸€ä¸ªäº‹ä»¶å¾ªçŽ¯ã€‚ å½“ç„¶æ–°æ ‡å‡†ä¸­çš„web workeræ¶‰åŠåˆ°äº†å¤šçº¿ç¨‹ï¼Œæˆ‘å¯¹å®ƒäº†è§£ä¹Ÿä¸å¤šï¼Œè¿™é‡Œå°±ä¸è®¨è®ºäº†ã€‚ JavaScriptä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé™¤äº†ä¾é å‡½æ•°è°ƒç”¨æ ˆæ¥æžå®šå‡½æ•°çš„æ‰§è¡Œé¡ºåºå¤–ï¼Œè¿˜ä¾é ä»»åŠ¡é˜Ÿåˆ—(task queue)æ¥æžå®šå¦å¤–ä¸€äº›ä»£ç çš„æ‰§è¡Œã€‚ ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œäº‹ä»¶å¾ªçŽ¯æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯ä»»åŠ¡é˜Ÿåˆ—å¯ä»¥æ‹¥æœ‰å¤šä¸ªã€‚ ä»»åŠ¡é˜Ÿåˆ—åˆåˆ†ä¸ºmacro-taskï¼ˆå®ä»»åŠ¡ï¼‰ä¸Žmicro-taskï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼Œåœ¨æœ€æ–°æ ‡å‡†ä¸­ï¼Œå®ƒä»¬è¢«åˆ†åˆ«ç§°ä¸ºtaskä¸Žjobsã€‚ macro-taskå¤§æ¦‚åŒ…æ‹¬ï¼šscript(æ•´ä½“ä»£ç ), setTimeout, setInterval, setImmediate, I/O, UI renderingã€‚ micro-taskå¤§æ¦‚åŒ…æ‹¬: process.nextTick, Promise, Object.observe(å·²åºŸå¼ƒ), MutationObserver(html5æ–°ç‰¹æ€§) setTimeout/Promiseç­‰æˆ‘ä»¬ç§°ä¹‹ä¸ºä»»åŠ¡æºã€‚è€Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„æ˜¯ä»–ä»¬æŒ‡å®šçš„å…·ä½“æ‰§è¡Œä»»åŠ¡ã€‚ 123456// setTimeoutä¸­çš„å›žè°ƒå‡½æ•°æ‰æ˜¯è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡setTimeout(function() &#123; console.log('xxxx');&#125;)// éžå¸¸å¤šçš„åŒå­¦å¯¹äºŽsetTimeoutçš„ç†è§£å­˜åœ¨åå·®ã€‚æ‰€ä»¥å¤§æ¦‚è¯´ä¸€ä¸‹è¯¯è§£ï¼š// setTimeoutä½œä¸ºä¸€ä¸ªä»»åŠ¡åˆ†å‘å™¨ï¼Œè¿™ä¸ªå‡½æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œå®ƒæ‰€è¦åˆ†å‘çš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ‰æ˜¯å»¶è¿Ÿæ‰§è¡Œ æ¥è‡ªä¸åŒä»»åŠ¡æºçš„ä»»åŠ¡ä¼šè¿›å…¥åˆ°ä¸åŒçš„ä»»åŠ¡é˜Ÿåˆ—ã€‚å…¶ä¸­setTimeoutä¸ŽsetIntervalæ˜¯åŒæºçš„ã€‚ äº‹ä»¶å¾ªçŽ¯çš„é¡ºåºï¼Œå†³å®šäº†JavaScriptä»£ç çš„æ‰§è¡Œé¡ºåºã€‚å®ƒä»Žscript(æ•´ä½“ä»£ç )å¼€å§‹ç¬¬ä¸€æ¬¡å¾ªçŽ¯ã€‚ä¹‹åŽå…¨å±€ä¸Šä¸‹æ–‡è¿›å…¥å‡½æ•°è°ƒç”¨æ ˆã€‚ç›´åˆ°è°ƒç”¨æ ˆæ¸…ç©º(åªå‰©å…¨å±€)ï¼Œç„¶åŽæ‰§è¡Œæ‰€æœ‰çš„micro-taskã€‚å½“æ‰€æœ‰å¯æ‰§è¡Œçš„micro-taskæ‰§è¡Œå®Œæ¯•ä¹‹åŽã€‚å¾ªçŽ¯å†æ¬¡ä»Žmacro-taskå¼€å§‹ï¼Œæ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œå®Œæ¯•ï¼Œç„¶åŽå†æ‰§è¡Œæ‰€æœ‰çš„micro-taskï¼Œè¿™æ ·ä¸€ç›´å¾ªçŽ¯ä¸‹åŽ»ã€‚ å…¶ä¸­æ¯ä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œï¼Œæ— è®ºæ˜¯macro-taskè¿˜æ˜¯micro-taskï¼Œéƒ½æ˜¯å€ŸåŠ©å‡½æ•°è°ƒç”¨æ ˆæ¥å®Œæˆã€‚ çº¯æ–‡å­—è¡¨è¿°ç¡®å®žæœ‰ç‚¹å¹²æ¶©ï¼Œå› æ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡2ä¸ªä¾‹å­ï¼Œæ¥é€æ­¥ç†è§£äº‹ä»¶å¾ªçŽ¯çš„å…·ä½“é¡ºåºã€‚ 1234567891011121314151617// demo01 å‡ºè‡ªäºŽä¸Šé¢æˆ‘å¼•ç”¨æ–‡ç« çš„ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ¥æ ¹æ®ä¸Šé¢çš„ç»“è®ºï¼Œä¸€æ­¥ä¸€æ­¥åˆ†æžå…·ä½“çš„æ‰§è¡Œè¿‡ç¨‹ã€‚// ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¥æ‰“å°å‡ºæ¥çš„å­—ç¬¦ä½œä¸ºå½“å‰çš„ä»»åŠ¡åç§°setTimeout(function() &#123; console.log('timeout1');&#125;)new Promise(function(resolve) &#123; console.log('promise1'); for(var i = 0; i &lt; 1000; i++) &#123; i == 99 &amp;&amp; resolve(); &#125; console.log('promise2');&#125;).then(function() &#123; console.log('then1');&#125;)console.log('global1'); é¦–å…ˆï¼Œäº‹ä»¶å¾ªçŽ¯ä»Žå®ä»»åŠ¡é˜Ÿåˆ—å¼€å§‹ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåªæœ‰ä¸€ä¸ªscript(æ•´ä½“ä»£ç )ä»»åŠ¡ã€‚æ¯ä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼Œéƒ½ä¾é å‡½æ•°è°ƒç”¨æ ˆæ¥æžå®šï¼Œè€Œå½“é‡åˆ°ä»»åŠ¡æºæ—¶ï¼Œåˆ™ä¼šå…ˆåˆ†å‘ä»»åŠ¡åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­åŽ»ï¼Œæ‰€ä»¥ï¼Œä¸Šé¢ä¾‹å­çš„ç¬¬ä¸€æ­¥æ‰§è¡Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ç¬¬äºŒæ­¥ï¼šscriptä»»åŠ¡æ‰§è¡Œæ—¶é¦–å…ˆé‡åˆ°äº†setTimeoutï¼ŒsetTimeoutä¸ºä¸€ä¸ªå®ä»»åŠ¡æºï¼Œé‚£ä¹ˆä»–çš„ä½œç”¨å°±æ˜¯å°†ä»»åŠ¡åˆ†å‘åˆ°å®ƒå¯¹åº”çš„é˜Ÿåˆ—ä¸­ã€‚ 123setTimeout(function() &#123; console.log('timeout1');&#125;) ç¬¬ä¸‰æ­¥ï¼šscriptæ‰§è¡Œæ—¶é‡åˆ°Promiseå®žä¾‹ã€‚Promiseæž„é€ å‡½æ•°ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯åœ¨newçš„æ—¶å€™æ‰§è¡Œï¼Œå› æ­¤ä¸ä¼šè¿›å…¥ä»»ä½•å…¶ä»–çš„é˜Ÿåˆ—ï¼Œè€Œæ˜¯ç›´æŽ¥åœ¨å½“å‰ä»»åŠ¡ç›´æŽ¥æ‰§è¡Œäº†ï¼Œè€ŒåŽç»­çš„.thenåˆ™ä¼šè¢«åˆ†å‘åˆ°micro-taskçš„Promiseé˜Ÿåˆ—ä¸­åŽ»ã€‚ å› æ­¤ï¼Œæž„é€ å‡½æ•°æ‰§è¡Œæ—¶ï¼Œé‡Œé¢çš„å‚æ•°è¿›å…¥å‡½æ•°è°ƒç”¨æ ˆæ‰§è¡Œã€‚forå¾ªçŽ¯ä¸ä¼šè¿›å…¥ä»»ä½•é˜Ÿåˆ—ï¼Œå› æ­¤ä»£ç ä¼šä¾æ¬¡æ‰§è¡Œï¼Œæ‰€ä»¥è¿™é‡Œçš„promise1å’Œpromise2ä¼šä¾æ¬¡è¾“å‡ºã€‚ scriptä»»åŠ¡ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œæœ€åŽåªæœ‰ä¸€å¥è¾“å‡ºäº†globa1ï¼Œç„¶åŽï¼Œå…¨å±€ä»»åŠ¡å°±æ‰§è¡Œå®Œæ¯•äº†ã€‚ ç¬¬å››æ­¥ï¼šç¬¬ä¸€ä¸ªå®ä»»åŠ¡scriptæ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œå°±å¼€å§‹æ‰§è¡Œæ‰€æœ‰çš„å¯æ‰§è¡Œçš„å¾®ä»»åŠ¡ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¾®ä»»åŠ¡ä¸­ï¼Œåªæœ‰Promiseé˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªä»»åŠ¡then1ï¼Œå› æ­¤ç›´æŽ¥æ‰§è¡Œå°±è¡Œäº†ï¼Œæ‰§è¡Œç»“æžœè¾“å‡ºthen1ï¼Œå½“ç„¶ï¼Œä»–çš„æ‰§è¡Œï¼Œä¹Ÿæ˜¯è¿›å…¥å‡½æ•°è°ƒç”¨æ ˆä¸­æ‰§è¡Œçš„ã€‚ ç¬¬äº”æ­¥ï¼šå½“æ‰€æœ‰çš„micro-tastæ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œè¡¨ç¤ºç¬¬ä¸€è½®çš„å¾ªçŽ¯å°±ç»“æŸäº†ã€‚è¿™ä¸ªæ—¶å€™å°±å¾—å¼€å§‹ç¬¬äºŒè½®çš„å¾ªçŽ¯ã€‚ç¬¬äºŒè½®å¾ªçŽ¯ä»ç„¶ä»Žå®ä»»åŠ¡macro-taskå¼€å§‹ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å‘çŽ°å®ä»»åŠ¡ä¸­ï¼Œåªæœ‰åœ¨setTimeouté˜Ÿåˆ—ä¸­è¿˜è¦ä¸€ä¸ªtimeout1çš„ä»»åŠ¡ç­‰å¾…æ‰§è¡Œã€‚å› æ­¤å°±ç›´æŽ¥æ‰§è¡Œå³å¯ã€‚ è¿™ä¸ªæ—¶å€™å®ä»»åŠ¡é˜Ÿåˆ—ä¸Žå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­éƒ½æ²¡æœ‰ä»»åŠ¡äº†ï¼Œæ‰€ä»¥ä»£ç å°±ä¸ä¼šå†è¾“å‡ºå…¶ä»–ä¸œè¥¿äº†ã€‚ é‚£ä¹ˆä¸Šé¢è¿™ä¸ªä¾‹å­çš„è¾“å‡ºç»“æžœå°±æ˜¾è€Œæ˜“è§ã€‚å¤§å®¶å¯ä»¥è‡ªè¡Œå°è¯•ä½“ä¼šã€‚ è¿™ä¸ªä¾‹å­æ¯”è¾ƒç®€ç­”ï¼Œæ¶‰åŠåˆ°çš„é˜Ÿåˆ—ä»»åŠ¡å¹¶ä¸å¤šï¼Œå› æ­¤è¯»æ‡‚äº†å®ƒè¿˜ä¸èƒ½å…¨é¢çš„äº†è§£åˆ°äº‹ä»¶å¾ªçŽ¯æœºåˆ¶çš„å…¨è²Œã€‚æ‰€ä»¥æˆ‘ä¸‹é¢å¼„äº†ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼Œå†ç»™å¤§å®¶è§£æžä¸€ç•ªï¼Œç›¸ä¿¡è¯»æ‡‚ä¹‹åŽï¼Œäº‹ä»¶å¾ªçŽ¯è¿™ä¸ªé—®é¢˜ï¼Œå†é¢è¯•ä¸­å†æ¬¡è¢«é—®åˆ°å°±éš¾ä¸å€’å¤§å®¶äº†ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374// demo02console.log('golb1');setTimeout(function() &#123; console.log('timeout1'); process.nextTick(function() &#123; console.log('timeout1_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('timeout1_promise'); resolve(); &#125;).then(function() &#123; console.log('timeout1_then') &#125;)&#125;)setImmediate(function() &#123; console.log('immediate1'); process.nextTick(function() &#123; console.log('immediate1_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('immediate1_promise'); resolve(); &#125;).then(function() &#123; console.log('immediate1_then') &#125;)&#125;)process.nextTick(function() &#123; console.log('glob1_nextTick');&#125;)new Promise(function(resolve) &#123; console.log('glob1_promise'); resolve();&#125;).then(function() &#123; console.log('glob1_then')&#125;)setTimeout(function() &#123; console.log('timeout2'); process.nextTick(function() &#123; console.log('timeout2_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('timeout2_promise'); resolve(); &#125;).then(function() &#123; console.log('timeout2_then') &#125;)&#125;)process.nextTick(function() &#123; console.log('glob2_nextTick');&#125;)new Promise(function(resolve) &#123; console.log('glob2_promise'); resolve();&#125;).then(function() &#123; console.log('glob2_then')&#125;)setImmediate(function() &#123; console.log('immediate2'); process.nextTick(function() &#123; console.log('immediate2_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('immediate2_promise'); resolve(); &#125;).then(function() &#123; console.log('immediate2_then') &#125;)&#125;) è¿™ä¸ªä¾‹å­çœ‹ä¸ŠåŽ»æœ‰ç‚¹å¤æ‚ï¼Œä¹±ä¸ƒå…«ç³Ÿçš„ä»£ç ä¸€å¤§å †ï¼Œä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥åˆ†æžä¸€ä¸‹ã€‚ ç¬¬ä¸€æ­¥ï¼šå®ä»»åŠ¡scripté¦–å…ˆæ‰§è¡Œã€‚å…¨å±€å…¥æ ˆã€‚glob1è¾“å‡ºã€‚ ç¬¬äºŒæ­¥ï¼Œæ‰§è¡Œè¿‡ç¨‹é‡åˆ°setTimeoutã€‚setTimeoutä½œä¸ºä»»åŠ¡åˆ†å‘å™¨ï¼Œå°†ä»»åŠ¡åˆ†å‘åˆ°å¯¹åº”çš„å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚ 123456789101112setTimeout(function() &#123; console.log('timeout1'); process.nextTick(function() &#123; console.log('timeout1_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('timeout1_promise'); resolve(); &#125;).then(function() &#123; console.log('timeout1_then') &#125;)&#125;) ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œè¿‡ç¨‹é‡åˆ°setImmediateã€‚setImmediateä¹Ÿæ˜¯ä¸€ä¸ªå®ä»»åŠ¡åˆ†å‘å™¨ï¼Œå°†ä»»åŠ¡åˆ†å‘åˆ°å¯¹åº”çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚setImmediateçš„ä»»åŠ¡é˜Ÿåˆ—ä¼šåœ¨setTimeouté˜Ÿåˆ—çš„åŽé¢æ‰§è¡Œã€‚ 123456789101112setImmediate(function() &#123; console.log('immediate1'); process.nextTick(function() &#123; console.log('immediate1_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('immediate1_promise'); resolve(); &#125;).then(function() &#123; console.log('immediate1_then') &#125;)&#125;) ç¬¬å››æ­¥ï¼šæ‰§è¡Œé‡åˆ°nextTickï¼Œprocess.nextTickæ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡åˆ†å‘å™¨ï¼Œå®ƒä¼šå°†ä»»åŠ¡åˆ†å‘åˆ°å¯¹åº”çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­åŽ»ã€‚ 123process.nextTick(function() &#123; console.log('glob1_nextTick');&#125;) ç¬¬äº”æ­¥ï¼šæ‰§è¡Œé‡åˆ°Promiseã€‚Promiseçš„thenæ–¹æ³•ä¼šå°†ä»»åŠ¡åˆ†å‘åˆ°å¯¹åº”çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä½†æ˜¯å®ƒæž„é€ å‡½æ•°ä¸­çš„æ–¹æ³•ä¼šç›´æŽ¥æ‰§è¡Œã€‚å› æ­¤ï¼Œglob1_promiseä¼šç¬¬äºŒä¸ªè¾“å‡ºã€‚ 123456new Promise(function(resolve) &#123; console.log('glob1_promise'); resolve();&#125;).then(function() &#123; console.log('glob1_then')&#125;) ç¬¬å…­æ­¥ï¼šæ‰§è¡Œé‡åˆ°ç¬¬äºŒä¸ªsetTimeoutã€‚ 123456789101112setTimeout(function() &#123; console.log('timeout2'); process.nextTick(function() &#123; console.log('timeout2_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('timeout2_promise'); resolve(); &#125;).then(function() &#123; console.log('timeout2_then') &#125;)&#125;) ç¬¬ä¸ƒæ­¥ï¼šå…ˆåŽé‡åˆ°nextTickä¸ŽPromise 123456789process.nextTick(function() &#123; console.log('glob2_nextTick');&#125;)new Promise(function(resolve) &#123; console.log('glob2_promise'); resolve();&#125;).then(function() &#123; console.log('glob2_then')&#125;) ç¬¬å…«æ­¥ï¼šå†æ¬¡é‡åˆ°setImmediateã€‚ 123456789101112setImmediate(function() &#123; console.log('immediate2'); process.nextTick(function() &#123; console.log('immediate2_nextTick'); &#125;) new Promise(function(resolve) &#123; console.log('immediate2_promise'); resolve(); &#125;).then(function() &#123; console.log('immediate2_then') &#125;)&#125;) è¿™ä¸ªæ—¶å€™ï¼Œscriptä¸­çš„ä»£ç å°±æ‰§è¡Œå®Œæ¯•äº†ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¸åŒçš„ä»»åŠ¡åˆ†å‘å™¨ï¼Œå°±å°†ä»»åŠ¡åˆ†å‘åˆ°å„è‡ªå¯¹åº”çš„é˜Ÿåˆ—ä¸­åŽ»ã€‚æŽ¥ä¸‹æ¥ï¼Œå°†ä¼šæ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚ å…¶ä¸­ï¼ŒnextTické˜Ÿåˆ—ä¼šæ¯”Promieå…ˆæ‰§è¡Œã€‚nextTickä¸­çš„å¯æ‰§è¡Œä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œæ‰ä¼šå¼€å§‹æ‰§è¡ŒPromiseé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚ å½“æ‰€æœ‰å¯æ‰§è¡Œçš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œè¿™ä¸€è½®å¾ªçŽ¯å°±è¡¨ç¤ºç»“æŸäº†ã€‚ä¸‹ä¸€è½®å¾ªçŽ¯ç»§ç»­ä»Žå®ä»»åŠ¡é˜Ÿåˆ—å¼€å§‹æ‰§è¡Œã€‚ è¿™ä¸ªæ—¶å€™ï¼Œscriptå·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€ä»¥å°±ä»ŽsetTimeouté˜Ÿåˆ—å¼€å§‹æ‰§è¡Œã€‚ setTimeoutä»»åŠ¡çš„æ‰§è¡Œï¼Œä¹Ÿä¾ç„¶æ˜¯å€ŸåŠ©å‡½æ•°è°ƒç”¨æ ˆæ¥å®Œæˆï¼Œå¹¶ä¸”é‡åˆ°ä»»åŠ¡åˆ†å‘å™¨çš„æ—¶å€™ä¹Ÿä¼šå°†ä»»åŠ¡åˆ†å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­åŽ»ã€‚ åªæœ‰å½“setTimeoutä¸­æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œæ‰ä¼šå†æ¬¡å¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¹¶ä¸”æ¸…ç©ºæ‰€æœ‰çš„å¯æ‰§è¡Œå¾®ä»»åŠ¡ã€‚ setTiemouté˜Ÿåˆ—äº§ç”Ÿçš„å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œå¾ªçŽ¯åˆ™å›žè¿‡å¤´æ¥å¼€å§‹æ‰§è¡ŒsetImmediateé˜Ÿåˆ—ã€‚ä»ç„¶æ˜¯å…ˆå°†setImmediateé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå†æ‰§è¡Œæ‰€äº§ç”Ÿçš„å¾®ä»»åŠ¡ã€‚ å½“setImmediateé˜Ÿåˆ—æ‰§è¡Œäº§ç”Ÿçš„å¾®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œä¹‹åŽï¼Œç¬¬äºŒè½®å¾ªçŽ¯ä¹Ÿå°±ç»“æŸäº†ã€‚ å¤§å®¶éœ€è¦æ³¨æ„è¿™é‡Œçš„å¾ªçŽ¯ç»“æŸçš„æ—¶é—´èŠ‚ç‚¹ã€‚ å½“æˆ‘ä»¬åœ¨æ‰§è¡ŒsetTimeoutä»»åŠ¡ä¸­é‡åˆ°setTimeoutæ—¶ï¼Œå®ƒä»ç„¶ä¼šå°†å¯¹åº”çš„ä»»åŠ¡åˆ†å‘åˆ°setTimeouté˜Ÿåˆ—ä¸­åŽ»ï¼Œä½†æ˜¯è¯¥ä»»åŠ¡å°±å¾—ç­‰åˆ°ä¸‹ä¸€è½®äº‹ä»¶å¾ªçŽ¯æ‰§è¡Œäº†ã€‚ä¾‹å­ä¸­æ²¡æœ‰æ¶‰åŠåˆ°è¿™ä¹ˆå¤æ‚çš„åµŒå¥—ï¼Œå¤§å®¶å¯ä»¥åŠ¨æ‰‹æ·»åŠ æˆ–è€…ä¿®æ”¹ä»–ä»¬çš„ä½ç½®æ¥æ„Ÿå—ä¸€ä¸‹å¾ªçŽ¯çš„å˜åŒ–ã€‚ OKï¼Œåˆ°è¿™é‡Œï¼Œäº‹ä»¶å¾ªçŽ¯æˆ‘æƒ³æˆ‘å·²ç»è¡¨è¿°å¾—å¾ˆæ¸…æ¥šäº†ï¼Œèƒ½ä¸èƒ½ç†è§£å°±çœ‹è¯»è€…è€çˆ·ä»¬æœ‰æ²¡æœ‰è€å¿ƒäº†ã€‚æˆ‘ä¼°è®¡å¾ˆå¤šäººä¼šç†è§£ä¸äº†å¾ªçŽ¯ç»“æŸçš„èŠ‚ç‚¹ã€‚ å½“ç„¶ï¼Œè¿™äº›é¡ºåºéƒ½æ˜¯v8çš„ä¸€äº›å®žçŽ°ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®ä¸Šé¢çš„è§„åˆ™ï¼Œæ¥å°è¯•å®žçŽ°ä¸€ä¸‹äº‹ä»¶å¾ªçŽ¯çš„æœºåˆ¶ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738// ç”¨æ•°ç»„æ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ—var tasks = [];// æ¨¡æ‹Ÿä¸€ä¸ªäº‹ä»¶åˆ†å‘å™¨var addFn1 = function(task) &#123; tasks.push(task);&#125;// æ‰§è¡Œæ‰€æœ‰çš„ä»»åŠ¡var flush = function() &#123; tasks.map(function(task) &#123; task(); &#125;)&#125;// æœ€åŽåˆ©ç”¨setTimeout/æˆ–è€…å…¶ä»–ä½ è®¤ä¸ºåˆé€‚çš„æ–¹å¼ä¸¢å…¥äº‹ä»¶å¾ªçŽ¯ä¸­setTimeout(function() &#123; flush();&#125;)// å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ä¸¢è¿›äº‹ä»¶å¾ªçŽ¯ï¼Œè€Œæ˜¯æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨åœ¨é€‚å½“çš„æ—¶æœºåŽ»æ‰§è¡Œå¯¹åº”çš„æŸä¸€ä¸ªæ–¹æ³•var dispatch = function(name) &#123; tasks.map(function(item) &#123; if(item.name == name) &#123; item.handler(); &#125; &#125;)&#125;// å½“ç„¶ï¼Œæˆ‘ä»¬æŠŠä»»åŠ¡ä¸¢è¿›åŽ»çš„æ—¶å€™ï¼Œå¤šä¿å­˜ä¸€ä¸ªnameå³å¯ã€‚// è¿™æ—¶å€™ï¼Œtaskçš„æ ¼å¼å°±å¦‚ä¸‹demoTask = &#123; name: 'demo', handler: function() &#123;&#125;&#125;// äºŽæ˜¯ï¼Œä¸€ä¸ªè®¢é˜…-é€šçŸ¥çš„è®¾è®¡æ¨¡å¼å°±è¿™æ ·è½»æ¾çš„è¢«å®žçŽ°äº† è¿™æ ·ï¼Œæˆ‘ä»¬å°±æ¨¡æ‹Ÿäº†ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰å¦å¤–ä¸€ä¸ªé˜Ÿåˆ—ï¼Œåˆ©ç”¨ä¸Šé¢çš„å„ç§æ–¹å¼æ¥è§„å®šä»–ä»¬çš„ä¼˜å…ˆçº§ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„æ‰§è¡Œé¡ºåºï¼Œæˆ–è€…æ‰§è¡Œçš„ä¼˜å…ˆçº§åœ¨ä¸åŒçš„åœºæ™¯é‡Œç”±äºŽå®žçŽ°çš„ä¸åŒä¼šå¯¼è‡´ä¸åŒçš„ç»“æžœï¼ŒåŒ…æ‹¬nodeçš„ä¸åŒç‰ˆæœ¬ï¼Œä¸åŒæµè§ˆå™¨ç­‰éƒ½æœ‰ä¸åŒçš„ç»“æžœã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>äº‹ä»¶å¾ªçŽ¯æœºåˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„this]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84this%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬åœ¨å­¦ä¹ JavaScriptçš„è¿‡ç¨‹ä¸­ï¼Œç”±äºŽå¯¹ä¸€äº›æ¦‚å¿µç†è§£å¾—ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯åˆæƒ³è¦é€šè¿‡ä¸€äº›æ–¹å¼æŠŠå®ƒè®°ä¸‹æ¥ï¼ŒäºŽæ˜¯å°±å¾ˆå®¹æ˜“è‰çŽ‡çš„ç»™è¿™äº›æ¦‚å¿µå®šä¸‹ä¸€äº›æ–¹ä¾¿è‡ªå·±è®°å¿†çš„æœ‰åå·®çš„ç»“è®ºã€‚ å±å®³æ¯”è¾ƒå¤§çš„æ˜¯ï¼Œæœ‰çš„ä¸å‡†ç¡®çš„ç»“è®ºåœ¨ç½‘ä¸Šè¿˜å¹¿ä¸ºæµä¼ ã€‚ æ¯”å¦‚å¯¹äºŽthisæŒ‡å‘çš„ç†è§£ä¸­ï¼Œæœ‰è¿™æ ·ä¸€ç§è¯´æ³•ï¼šè°è°ƒç”¨å®ƒï¼Œthiså°±æŒ‡å‘è°ã€‚åœ¨æˆ‘åˆšå¼€å§‹å­¦ä¹ thisçš„æ—¶å€™ï¼Œæˆ‘æ˜¯éžå¸¸ç›¸ä¿¡è¿™å¥è¯çš„ã€‚å› ä¸ºåœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œè¿™æ ·ç†è§£ä¹Ÿè¿˜ç®—è¯´å¾—é€šã€‚å¯æ˜¯æˆ‘å¸¸å¸¸ä¼šåœ¨å¼€å‘ä¸­é‡åˆ°ä¸€äº›ä¸ä¸€æ ·çš„æƒ…å†µï¼Œä¸€ä¸ªç”±äºŽthisçš„é”™è¯¯è°ƒç”¨ï¼Œå¯ä»¥è®©æˆ‘æ‡µé€¼ä¸€æ•´å¤©ã€‚é‚£ä¸ªæ—¶å€™æˆ‘ä¹ŸæŸ¥èµ„æ–™ï¼Œåœ¨ç¾¤é‡Œé—®å¤§ç¥žï¼Œå¯æ˜¯æˆ‘ä»ç„¶æžä¸æ¸…æ¥šâ€œæˆ‘ç‰¹ä¹ˆåˆ°åº•é”™å“ªé‡Œäº†â€ã€‚å…¶å®žåªæ˜¯å› ä¸ºæˆ‘å¿ƒä¸­æœ‰ä¸€ä¸ªä¸å¤ªå‡†ç¡®çš„ç»“è®ºã€‚ æ‰€ä»¥ï¼Œæˆ‘è®¤ä¸ºéœ€è¦æœ‰è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼Œæ¥å¸®åŠ©å¤§å®¶å…¨æ–¹ä½çš„è§£è¯»thisã€‚è®©å¤§å®¶å¯¹thisï¼Œæœ‰ä¸€ä¸ªæ­£ç¡®çš„ï¼Œå…¨é¢çš„è®¤çŸ¥ã€‚ åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ¥å›žé¡¾ä¸€ä¸‹æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ åœ¨å‰é¢å‡ ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æœ‰å¥½å‡ ä¸ªåœ°æ–¹éƒ½æåˆ°æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸ºäº†é˜²æ­¢å¤§å®¶æ²¡æœ‰è®°ä½ï¼Œå†æ¬¡æ¥å›žé¡¾ä¸€ä¸‹ï¼Œå¦‚ä¸‹å›¾ã€‚ åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ›å»ºé˜¶æ®µï¼Œä¼šåˆ†åˆ«ç”Ÿæˆå˜é‡å¯¹è±¡ï¼Œå»ºç«‹ä½œç”¨åŸŸé“¾ï¼Œç¡®å®šthisæŒ‡å‘ã€‚å…¶ä¸­å˜é‡å¯¹è±¡ä¸Žä½œç”¨åŸŸé“¾æˆ‘ä»¬éƒ½å·²ç»ä»”ç»†æ€»ç»“è¿‡äº†ï¼Œè€Œè¿™é‡Œçš„å…³é”®ï¼Œå°±æ˜¯ç¡®å®šthisæŒ‡å‘ã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦å¾—å‡ºä¸€ä¸ªéžå¸¸é‡è¦ä¸€å®šè¦ç‰¢è®°äºŽå¿ƒçš„ç»“è®ºï¼Œthisçš„æŒ‡å‘ï¼Œæ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ç¡®å®šçš„ã€‚ä¹Ÿå°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡è¢«åˆ›å»ºæ—¶ç¡®å®šçš„ã€‚å› æ­¤ï¼Œä¸€ä¸ªå‡½æ•°ä¸­çš„thisæŒ‡å‘ï¼Œå¯ä»¥æ˜¯éžå¸¸çµæ´»çš„ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒåŒä¸€ä¸ªå‡½æ•°ç”±äºŽè°ƒç”¨æ–¹å¼çš„ä¸åŒï¼ŒthisæŒ‡å‘äº†ä¸ä¸€æ ·çš„å¯¹è±¡ã€‚ 1234567891011var a = 10;var obj = &#123; a: 20&#125;function fn () &#123; console.log(this.a);&#125;fn(); // 10fn.call(obj); // 20 é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œthisä¸€æ—¦è¢«ç¡®å®šï¼Œå°±ä¸å¯æ›´æ”¹äº†ã€‚ 1234567891011var a = 10;var obj = &#123; a: 20&#125;function fn () &#123; this = obj; // è¿™å¥è¯è¯•å›¾ä¿®æ”¹thisï¼Œè¿è¡ŒåŽä¼šæŠ¥é”™ console.log(this.a);&#125;fn(); ä¸€ã€å…¨å±€å¯¹è±¡ä¸­çš„this å…³äºŽå…¨å±€å¯¹è±¡çš„thisï¼Œæˆ‘ä¹‹å‰åœ¨æ€»ç»“å˜é‡å¯¹è±¡çš„æ—¶å€™æåˆ°è¿‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å­˜åœ¨ã€‚å…¨å±€çŽ¯å¢ƒä¸­çš„thisï¼ŒæŒ‡å‘å®ƒæœ¬èº«ã€‚å› æ­¤ï¼Œè¿™ä¹Ÿç›¸å¯¹ç®€å•ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šå¤æ‚çš„æƒ…å†µéœ€è¦è€ƒè™‘ã€‚ 12345678910111213// é€šè¿‡thisç»‘å®šåˆ°å…¨å±€å¯¹è±¡this.a2 = 20;// é€šè¿‡å£°æ˜Žç»‘å®šåˆ°å˜é‡å¯¹è±¡ï¼Œä½†åœ¨å…¨å±€çŽ¯å¢ƒä¸­ï¼Œå˜é‡å¯¹è±¡å°±æ˜¯å®ƒè‡ªèº«var a1 = 10;// ä»…ä»…åªæœ‰èµ‹å€¼æ“ä½œï¼Œæ ‡è¯†ç¬¦ä¼šéšå¼ç»‘å®šåˆ°å…¨å±€å¯¹è±¡a3 = 30;// è¾“å‡ºç»“æžœä¼šå…¨éƒ¨ç¬¦åˆé¢„æœŸconsole.log(a1);console.log(a2);console.log(a3); äºŒã€å‡½æ•°ä¸­çš„thisåœ¨æ€»ç»“å‡½æ•°ä¸­thisæŒ‡å‘ä¹‹å‰ï¼Œæˆ‘æƒ³æˆ‘ä»¬æœ‰å¿…è¦é€šè¿‡ä¸€äº›å¥‡æ€ªçš„ä¾‹å­ï¼Œæ¥æ„Ÿå—ä¸€ä¸‹å‡½æ•°ä¸­thisçš„æ‰æ‘¸ä¸å®šã€‚ 123456// demo01var a = 20;function fn() &#123; console.log(this.a);&#125;fn(); 123456789// demo02var a = 20;function fn() &#123; function foo() &#123; console.log(this.a); &#125; foo();&#125;fn(); 123456789101112// demo03var a = 20;var obj = &#123; a: 10, c: this.a + 20, fn: function () &#123; return this.a; &#125;&#125;console.log(obj.c);console.log(obj.fn()); è¿™å‡ ä¸ªä¾‹å­éœ€è¦èŠ±ç‚¹æ—¶é—´ä»”ç»†æ„Ÿå—ä¸€ä¸‹ï¼Œå¦‚æžœä½ æš‚æ—¶æ²¡æƒ³æ˜Žç™½æ€Žä¹ˆå›žäº‹ï¼Œä¹Ÿä¸ç”¨ç€æ€¥ï¼Œæˆ‘ä»¬ä¸€ç‚¹ä¸€ç‚¹æ¥åˆ†æžã€‚ åˆ†æžä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç›´æŽ¥äº†å½“æŠ›å‡ºç»“è®ºã€‚ åœ¨ä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡ä¸­ï¼Œthisç”±è°ƒç”¨è€…æä¾›ï¼Œç”±è°ƒç”¨å‡½æ•°çš„æ–¹å¼æ¥å†³å®šã€‚å¦‚æžœè°ƒç”¨è€…å‡½æ•°ï¼Œè¢«æŸä¸€ä¸ªå¯¹è±¡æ‰€æ‹¥æœ‰ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œå†…éƒ¨çš„thisæŒ‡å‘è¯¥å¯¹è±¡ã€‚å¦‚æžœå‡½æ•°ç‹¬ç«‹è°ƒç”¨ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å†…éƒ¨çš„thisï¼Œåˆ™æŒ‡å‘undefinedã€‚ä½†æ˜¯åœ¨éžä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œå½“thisæŒ‡å‘undefinedæ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚ ä»Žç»“è®ºä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæƒ³è¦å‡†ç¡®ç¡®å®šthisæŒ‡å‘ï¼Œæ‰¾åˆ°å‡½æ•°çš„è°ƒç”¨è€…ä»¥åŠåŒºåˆ†ä»–æ˜¯å¦æ˜¯ç‹¬ç«‹è°ƒç”¨å°±å˜å¾—ååˆ†å…³é”®ã€‚ 12345678// ä¸ºäº†èƒ½å¤Ÿå‡†ç¡®åˆ¤æ–­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå› ä¸ºéžä¸¥æ ¼æ¨¡å¼ä¼šè‡ªåŠ¨æŒ‡å‘å…¨å±€function fn() &#123; 'use strict'; console.log(this);&#125;fn(); // fnæ˜¯è°ƒç”¨è€…ï¼Œç‹¬ç«‹è°ƒç”¨window.fn(); // fnæ˜¯è°ƒç”¨è€…ï¼Œè¢«windowæ‰€æ‹¥æœ‰ åœ¨ä¸Šé¢çš„ç®€å•ä¾‹å­ä¸­ï¼Œfn()ä½œä¸ºç‹¬ç«‹è°ƒç”¨è€…ï¼ŒæŒ‰ç…§å®šä¹‰çš„ç†è§£ï¼Œå®ƒå†…éƒ¨çš„thisæŒ‡å‘å°±ä¸ºundefinedã€‚è€Œwindow.fn()åˆ™å› ä¸ºfnè¢«windowæ‰€æ‹¥æœ‰ï¼Œå†…éƒ¨çš„thiså°±æŒ‡å‘äº†windowå¯¹è±¡ã€‚ é‚£ä¹ˆæŽŒæ¡äº†è¿™ä¸ªè§„åˆ™ï¼ŒçŽ°åœ¨å›žè¿‡å¤´åŽ»çœ‹çœ‹ä¸Šé¢çš„ä¸‰ä¸ªä¾‹å­ï¼Œé€šè¿‡æ·»åŠ /åŽ»é™¤ä¸¥æ ¼æ¨¡å¼ï¼Œé‚£ä¹ˆä½ å°±ä¼šå‘çŽ°ï¼ŒåŽŸæ¥thiså·²ç»å˜å¾—ä¸é‚£ä¹ˆè™šæ— ç¼¥ç¼ˆï¼Œå·²ç»æœ‰è¿¹å¯å¾ªäº†ã€‚ ä½†æ˜¯æˆ‘ä»¬éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯demo03ã€‚åœ¨demo03ä¸­ï¼Œå¯¹è±¡objä¸­çš„cå±žæ€§ä½¿ç”¨this.a + 20æ¥è®¡ç®—ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æ˜Žç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œå•ç‹¬çš„{}æ˜¯ä¸ä¼šå½¢æˆæ–°çš„ä½œç”¨åŸŸçš„ï¼Œå› æ­¤è¿™é‡Œçš„this.aï¼Œç”±äºŽå¹¶æ²¡æœ‰ä½œç”¨åŸŸçš„é™åˆ¶ï¼Œæ‰€ä»¥å®ƒä»ç„¶å¤„äºŽå…¨å±€ä½œç”¨åŸŸä¹‹ä¸­ã€‚æ‰€ä»¥è¿™é‡Œçš„thiså…¶å®žæ˜¯æŒ‡å‘çš„windowå¯¹è±¡ã€‚ é‚£ä¹ˆæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹demo03çš„ä»£ç ï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸€ä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ã€‚ 12345678910111213141516'use strict';var a = 20;function foo () &#123; var a = 1; var obj = &#123; a: 10, c: this.a + 20, fn: function () &#123; return this.a; &#125; &#125; return obj.c;&#125;console.log(foo()); // ï¼Ÿconsole.log(window.foo()); // ? å®žé™…å¼€å‘ä¸­ï¼Œå¹¶ä¸æŽ¨èè¿™æ ·ä½¿ç”¨thisï¼› ä¸Šé¢å¤šæ¬¡æåˆ°çš„ä¸¥æ ¼æ¨¡å¼ï¼Œéœ€è¦å¤§å®¶è®¤çœŸå¯¹å¾…ï¼Œå› ä¸ºåœ¨å®žé™…å¼€å‘ä¸­ï¼ŒçŽ°åœ¨åŸºæœ¬å·²ç»å…¨éƒ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼äº†ï¼Œè€Œæœ€æ–°çš„ES6ï¼Œä¹Ÿæ˜¯é»˜è®¤æ”¯æŒä¸¥æ ¼æ¨¡å¼ã€‚ å†æ¥çœ‹ä¸€äº›å®¹æ˜“ç†è§£é”™è¯¯çš„ä¾‹å­ï¼ŒåŠ æ·±ä¸€ä¸‹å¯¹è°ƒç”¨è€…ä¸Žæ˜¯å¦ç‹¬ç«‹è¿è¡Œçš„ç†è§£ã€‚ 1234567891011var a = 20;var foo = &#123; a: 10, getA: function () &#123; return this.a; &#125;&#125;console.log(foo.getA()); // 10var test = foo.getA;console.log(test()); // 20 foo.getA()ä¸­ï¼ŒgetAæ˜¯è°ƒç”¨è€…ï¼Œä»–ä¸æ˜¯ç‹¬ç«‹è°ƒç”¨ï¼Œè¢«å¯¹è±¡fooæ‰€æ‹¥æœ‰ï¼Œå› æ­¤å®ƒçš„thisæŒ‡å‘äº†fooã€‚è€Œtest()ä½œä¸ºè°ƒç”¨è€…ï¼Œå°½ç®¡ä»–ä¸Žfoo.getAçš„å¼•ç”¨ç›¸åŒï¼Œä½†æ˜¯å®ƒæ˜¯ç‹¬ç«‹è°ƒç”¨çš„ï¼Œå› æ­¤thisæŒ‡å‘undefinedï¼Œåœ¨éžä¸¥æ ¼æ¨¡å¼ï¼Œè‡ªåŠ¨è½¬å‘å…¨å±€windowã€‚ ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼Œå¤§å®¶è‡ªè¡Œç†è§£ã€‚ 123456789var a = 20;function getA() &#123; return this.a;&#125;var foo = &#123; a: 10, getA: getA&#125;console.log(foo.getA()); // 10 çµæœºä¸€åŠ¨ï¼Œå†æ¥ä¸€ä¸ªã€‚å¦‚ä¸‹ä¾‹å­ã€‚ 123456789101112131415function foo() &#123; console.log(this.a)&#125;function active(fn) &#123; fn(); // çœŸå®žè°ƒç”¨è€…ï¼Œä¸ºç‹¬ç«‹è°ƒç”¨&#125;var a = 20;var obj = &#123; a: 10, getA: foo&#125;active(obj.getA); ä¸‰ã€ä½¿ç”¨callï¼Œapplyæ˜¾ç¤ºæŒ‡å®šthisJavaScriptå†…éƒ¨æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œè®©æˆ‘ä»¬å¯ä»¥è‡ªè¡Œæ‰‹åŠ¨è®¾ç½®thisçš„æŒ‡å‘ã€‚å®ƒä»¬å°±æ˜¯callä¸Žapplyã€‚æ‰€æœ‰çš„å‡½æ•°éƒ½å…·æœ‰ç€ä¸¤ä¸ªæ–¹æ³•ã€‚å®ƒä»¬é™¤äº†å‚æ•°ç•¥æœ‰ä¸åŒï¼Œå…¶åŠŸèƒ½å®Œå…¨ä¸€æ ·ã€‚å®ƒä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½ä¸ºthiså°†è¦æŒ‡å‘çš„å¯¹è±¡ã€‚ å¦‚ä¸‹ä¾‹å­æ‰€ç¤ºã€‚fnå¹¶éžå±žäºŽå¯¹è±¡objçš„æ–¹æ³•ï¼Œä½†æ˜¯é€šè¿‡callï¼Œæˆ‘ä»¬å°†fnå†…éƒ¨çš„thisç»‘å®šä¸ºobjï¼Œå› æ­¤å°±å¯ä»¥ä½¿ç”¨this.aè®¿é—®objçš„aå±žæ€§äº†ã€‚è¿™å°±æ˜¯call/applyçš„ç”¨æ³•ã€‚ 12345678function fn() &#123; console.log(this.a);&#125;var obj = &#123; a: 20&#125;fn.call(obj); è€Œcallä¸ŽapplayåŽé¢çš„å‚æ•°ï¼Œéƒ½æ˜¯å‘å°†è¦æ‰§è¡Œçš„å‡½æ•°ä¼ é€’å‚æ•°ã€‚å…¶ä¸­callä»¥ä¸€ä¸ªä¸€ä¸ªçš„å½¢å¼ä¼ é€’ï¼Œapplyä»¥æ•°ç»„çš„å½¢å¼ä¼ é€’ã€‚è¿™æ˜¯ä»–ä»¬å”¯ä¸€çš„ä¸åŒã€‚ 123456789function fn(num1, num2) &#123; console.log(this.a + num1 + num2);&#125;var obj = &#123; a: 20&#125;fn.call(obj, 100, 10); // 130fn.apply(obj, [20, 10]); // 50 å› ä¸ºcall/applyçš„å­˜åœ¨ï¼Œè¿™è®©JavaScriptå˜å¾—ååˆ†çµæ´»ã€‚å› æ­¤å°±è®©call/applyæ‹¥æœ‰äº†å¾ˆå¤šæœ‰ç”¨å¤„çš„åœºæ™¯ã€‚ç®€å•æ€»ç»“å‡ ç‚¹ï¼Œä¹Ÿæ¬¢è¿Žå¤§å®¶è¡¥å……ã€‚ å°†ç±»æ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ 12345678910111213141516171819function exam(a, b, c, d, e) &#123; // å…ˆçœ‹çœ‹å‡½æ•°çš„è‡ªå¸¦å±žæ€§ arguments ä»€ä¹ˆæ˜¯æ ·å­çš„ console.log(arguments); // ä½¿ç”¨call/applyå°†argumentsè½¬æ¢ä¸ºæ•°ç»„, è¿”å›žç»“æžœä¸ºæ•°ç»„ï¼Œargumentsè‡ªèº«ä¸ä¼šæ”¹å˜ var arg = [].slice.call(arguments); console.log(arg);&#125;exam(2, 8, 9, 10, 3);// result:// &#123; '0': 2, '1': 8, '2': 9, '3': 10, '4': 3 &#125;// [ 2, 8, 9, 10, 3 ]//// ä¹Ÿå¸¸å¸¸ä½¿ç”¨è¯¥æ–¹æ³•å°†DOMä¸­çš„nodelistè½¬æ¢ä¸ºæ•°ç»„// [].slice.call( document.getElementsByTagName('li') ); æ ¹æ®è‡ªå·±çš„éœ€è¦çµæ´»ä¿®æ”¹thisæŒ‡å‘ 12345678910var foo = &#123; name: 'joker', showName: function() &#123; console.log(this.name); &#125;&#125;var bar = &#123; name: 'rose'&#125;foo.showName.call(bar); å®žçŽ°ç»§æ‰¿ 1234567891011121314151617181920212223// å®šä¹‰çˆ¶çº§çš„æž„é€ å‡½æ•°var Person = function(name, age) &#123; this.name = name; this.age = age; this.gender = ['man', 'woman'];&#125;// å®šä¹‰å­ç±»çš„æž„é€ å‡½æ•°var Student = function(name, age, high) &#123; // use call Person.call(this, name, age); this.high = high;&#125;Student.prototype.message = function() &#123; console.log('name:'+this.name+', age:'+this.age+', high:'+this.high+', gender:'+this.gender[0]+';');&#125;new Student('xiaom', 12, '150cm').message();// result// ----------// name:xiaom, age:12, high:150cm, gender:man; ç®€å•ç»™æœ‰é¢å‘å¯¹è±¡åŸºç¡€çš„æœ‹å‹è§£é‡Šä¸€ä¸‹ã€‚åœ¨Studentçš„æž„é€ å‡½æ•°ä¸­ï¼Œå€ŸåŠ©callæ–¹æ³•ï¼Œå°†çˆ¶çº§çš„æž„é€ å‡½æ•°æ‰§è¡Œäº†ä¸€æ¬¡ï¼Œç›¸å½“äºŽå°†Personä¸­çš„ä»£ç ï¼Œåœ¨Sudentä¸­å¤åˆ¶äº†ä¸€ä»½ï¼Œå…¶ä¸­çš„thisæŒ‡å‘ä¸ºä»ŽStudentä¸­newå‡ºæ¥çš„å®žä¾‹å¯¹è±¡ã€‚callæ–¹æ³•ä¿è¯äº†thisçš„æŒ‡å‘æ­£ç¡®ï¼Œå› æ­¤å°±ç›¸å½“äºŽå®žçŽ°äº†ç»§æ‰¿ã€‚Studentçš„æž„é€ å‡½æ•°ç­‰åŒäºŽä¸‹ã€‚ 1234567var Student = function(name, age, high) &#123; this.name = name; this.age = age; this.gender = ['man', 'woman']; // Person.call(this, name, age); è¿™ä¸€å¥è¯ï¼Œç›¸å½“äºŽä¸Šé¢ä¸‰å¥è¯ï¼Œå› æ­¤å®žçŽ°äº†ç»§æ‰¿ this.high = high;&#125; åœ¨å‘å…¶ä»–æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¼ é€’ä¸­ï¼Œç¡®ä¿thisçš„æŒ‡å‘ä¿æŒä¸å˜ å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœŸå¾…çš„æ˜¯getAè¢«objè°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘objï¼Œä½†æ˜¯ç”±äºŽåŒ¿åå‡½æ•°çš„å­˜åœ¨å¯¼è‡´äº†thisæŒ‡å‘çš„ä¸¢å¤±ï¼Œåœ¨è¿™ä¸ªåŒ¿åå‡½æ•°ä¸­thisæŒ‡å‘äº†å…¨å±€ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æƒ³ä¸€äº›åŠžæ³•æ‰¾å›žæ­£ç¡®çš„thisæŒ‡å‘ã€‚ 12345678910var obj = &#123; a: 20, getA: function() &#123; setTimeout(function() &#123; console.log(this.a) &#125;, 1000) &#125;&#125;obj.getA(); å¸¸è§„çš„è§£å†³åŠžæ³•å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå˜é‡ï¼Œå°†thisçš„å¼•ç”¨ä¿å­˜èµ·æ¥ã€‚æˆ‘ä»¬å¸¸å¸¸ä¼šç”¨åˆ°è¿™æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿè¦å€ŸåŠ©ä¸Šé¢è®²åˆ°è¿‡çš„çŸ¥è¯†ï¼Œæ¥åˆ¤æ–­thisæ˜¯å¦åœ¨ä¼ é€’ä¸­è¢«ä¿®æ”¹äº†ï¼Œå¦‚æžœæ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå°±æ²¡æœ‰å¿…è¦è¿™æ ·ä½¿ç”¨äº†ã€‚ 123456789var obj = &#123; a: 20, getA: function() &#123; var self = this; setTimeout(function() &#123; console.log(self.a) &#125;, 1000) &#125;&#125; å¦å¤–å°±æ˜¯å€ŸåŠ©é—­åŒ…ä¸Žapplyæ–¹æ³•ï¼Œå°è£…ä¸€ä¸ªbindæ–¹æ³•ã€‚ 12345678910111213141516function bind(fn, obj) &#123; return function() &#123; return fn.apply(obj, arguments); &#125;&#125;var obj = &#123; a: 20, getA: function() &#123; setTimeout(bind(function() &#123; console.log(this.a) &#125;, this), 1000) &#125;&#125;obj.getA(); å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ES5ä¸­å·²ç»è‡ªå¸¦çš„bindæ–¹æ³•ã€‚å®ƒä¸Žæˆ‘ä¸Šé¢å°è£…çš„bindæ–¹æ³•æ˜¯ä¸€æ ·çš„æ•ˆæžœã€‚ 12345678var obj = &#123; a: 20, getA: function() &#123; setTimeout(function() &#123; console.log(this.a) &#125;.bind(this), 1000) &#125;&#125; å››ã€æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹æ–¹æ³•ä¸Šçš„thisåœ¨å°è£…å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‡ ä¹Žéƒ½ä¼šç”¨åˆ°thisï¼Œä½†æ˜¯ï¼Œåªæœ‰å°‘æ•°äººæžæ˜Žç™½äº†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­çš„thisæŒ‡å‘ï¼Œå°±ç®—æˆ‘ä»¬ç†è§£äº†åŽŸåž‹ï¼Œä¹Ÿä¸ä¸€å®šç†è§£äº†thisã€‚æ‰€ä»¥è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘è®¤ä¸ºå°†ä¼šä¸ºè¿™ç¯‡æ–‡ç« æœ€é‡è¦æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚ç†è§£äº†è¿™é‡Œï¼Œå°†ä¼šå¯¹ä½ å­¦ä¹ JSé¢å‘å¯¹è±¡äº§ç”Ÿå·¨å¤§çš„å¸®åŠ©ã€‚ ç»“åˆä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘åœ¨ä¾‹å­æŠ›å‡ºå‡ ä¸ªé—®é¢˜å¤§å®¶æ€è€ƒä¸€ä¸‹ã€‚ 1234567891011121314151617function Person(name, age) &#123; // è¿™é‡Œçš„thisæŒ‡å‘äº†è°? this.name = name; this.age = age; &#125;Person.prototype.getName = function() &#123; // è¿™é‡Œçš„thisåˆæŒ‡å‘äº†è°ï¼Ÿ return this.name;&#125;// ä¸Šé¢çš„2ä¸ªthisï¼Œæ˜¯åŒä¸€ä¸ªå—ï¼Œä»–ä»¬æ˜¯å¦æŒ‡å‘äº†åŽŸåž‹å¯¹è±¡ï¼Ÿvar p1 = new Person('Nick', 20);p1.getName(); æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œthisï¼Œæ˜¯åœ¨å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­ç¡®å®šï¼Œå› æ­¤ï¼Œæžæ˜Žç™½newçš„è¿‡ç¨‹ä¸­åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆå°±å˜å¾—ååˆ†é‡è¦ã€‚ é€šè¿‡newæ“ä½œç¬¦è°ƒç”¨æž„é€ å‡½æ•°ï¼Œä¼šç»åŽ†ä»¥ä¸‹4ä¸ªé˜¶æ®µã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼› å°†æž„é€ å‡½æ•°çš„thisæŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ï¼› æŒ‡å‘æž„é€ å‡½æ•°çš„ä»£ç ï¼Œä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ å±žæ€§ï¼Œæ–¹æ³•ç­‰ï¼› è¿”å›žæ–°å¯¹è±¡ã€‚ å› æ­¤ï¼Œå½“newæ“ä½œç¬¦è°ƒç”¨æž„é€ å‡½æ•°æ—¶ï¼Œthiså…¶å®žæŒ‡å‘çš„æ˜¯è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œæœ€åŽåˆå°†æ–°çš„å¯¹è±¡è¿”å›žå‡ºæ¥ï¼Œè¢«å®žä¾‹å¯¹è±¡p1æŽ¥æ”¶ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæž„é€ å‡½æ•°çš„thisï¼ŒæŒ‡å‘äº†æ–°çš„å®žä¾‹å¯¹è±¡ï¼Œp1ã€‚ è€ŒåŽŸåž‹æ–¹æ³•ä¸Šçš„thiså°±å¥½ç†è§£å¤šäº†ï¼Œæ ¹æ®ä¸Šè¾¹å¯¹å‡½æ•°ä¸­thisçš„å®šä¹‰ï¼Œp1.getName()ä¸­çš„getNameä¸ºè°ƒç”¨è€…ï¼Œä»–è¢«p1æ‰€æ‹¥æœ‰ï¼Œå› æ­¤getNameä¸­çš„thisï¼Œä¹Ÿæ˜¯æŒ‡å‘äº†p1ã€‚ å¥½å•¦ï¼Œæˆ‘æ‰€çŸ¥é“çš„ï¼Œå…³äºŽthisçš„ä¸€åˆ‡ï¼Œå·²ç»æ€»ç»“å®Œäº†ï¼Œå¸Œæœ›å¤§å®¶åœ¨é˜…è¯»ä¹‹åŽï¼Œèƒ½å¤ŸçœŸæ­£å­¦åˆ°ä¸œè¥¿ï¼Œç„¶åŽç»™æˆ‘ç‚¹ä¸ªèµž^_^ã€‚å¦‚æžœä½ å‘çŽ°æœ‰ä»€ä¹ˆé”™è¯¯ï¼Œè¯·åœ¨è¯„è®ºä¸­æŒ‡å‡ºï¼Œæˆ‘ä¼šå°½å¿«ä¿®æ”¹ã€‚å…ˆè°¢è¿‡äº†ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„setTimeout]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84setTimeout%2F</url>
    <content type="text"><![CDATA[æˆ‘åœ¨è¯¦ç»†å›¾è§£ä½œç”¨åŸŸé“¾ä¸Žé—­åŒ…ä¸€æ–‡ä¸­çš„ç»“å°¾ç•™ä¸‹äº†ä¸€ä¸ªå…³äºŽsetTimeoutä¸Žå¾ªçŽ¯é—­åŒ…çš„æ€è€ƒé¢˜ã€‚ åˆ©ç”¨é—­åŒ…ï¼Œä¿®æ”¹ä¸‹é¢çš„ä»£ç ï¼Œè®©å¾ªçŽ¯è¾“å‡ºçš„ç»“æžœä¾æ¬¡ä¸º1ï¼Œ 2ï¼Œ 3ï¼Œ 4ï¼Œ 5 12345for (var i=1; i&lt;=5; i++) &#123; setTimeout( function timer() &#123; console.log(i); &#125;, i*1000 );&#125; å€¼å¾—é«˜å…´çš„æ˜¯å¾ˆå¤šæœ‹å‹åœ¨è¯»äº†æ–‡ç« ä¹‹åŽç¡®å®žå¯¹é—­åŒ…æœ‰äº†æ›´åŠ æ·±åˆ»çš„äº†è§£ï¼Œå¹¶å‡†ç¡®çš„ç»™å‡ºäº†å‡ ç§å†™æ³•ã€‚ä¸€äº›æœ‹å‹èƒ½å¤Ÿè®¤çœŸçš„é˜…è¯»æˆ‘çš„æ–‡ç« å¹¶ä¸”ä¸€ä¸ªä¾‹å­ä¸€ä¸ªä¾‹å­çš„ä¸Šæ‰‹ç»ƒä¹ ï¼Œè¿™ç§è®¤å¯å¯¹æˆ‘è€Œè¨€çœŸçš„éžå¸¸æ„ŸåŠ¨ã€‚ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›åŸºç¡€ç¨å·®çš„æœ‹å‹åœ¨é˜…è¯»äº†ä¹‹åŽï¼Œå¯¹äºŽè¿™é¢˜çš„ç†è§£ä»ç„¶æ„Ÿåˆ°å›°æƒ‘ï¼Œå› æ­¤åº”ä¸€äº›è¯»è€…è€çˆ·çš„è¦æ±‚ï¼Œå€Ÿæ­¤æ–‡ç« ä¸“é—¨å¯¹setTimeoutè¿›è¡Œä¸€ä¸ªç›¸å…³çš„çŸ¥è¯†åˆ†äº«ï¼Œæ„¿å¤§å®¶è¯»å®Œä¹‹åŽéƒ½èƒ½å¤Ÿæœ‰æ–°çš„æ”¶èŽ·ã€‚ åœ¨æœ€åˆå­¦ä¹ setTimeoutçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“setTimeoutæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡è¯¥å‡½æ•°å®šä¹‰å°†è¦æ‰§è¡Œçš„æ“ä½œã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªæ—¶é—´æ¯«ç§’æ•°ï¼Œè¡¨ç¤ºå»¶è¿Ÿæ‰§è¡Œçš„æ—¶é—´ã€‚ 123setTimeout(function() &#123; console.log(&apos;ä¸€ç§’é’Ÿä¹‹åŽæˆ‘å°†è¢«æ‰“å°å‡ºæ¥&apos;)&#125;, 1000) å¯èƒ½ä¸å°‘äººå¯¹äºŽsetTimeoutçš„ç†è§£æ­¢æ­¥äºŽæ­¤ï¼Œä½†è¿˜æ˜¯æœ‰ä¸å°‘äººå‘çŽ°äº†ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ï¼Œå¹¶åœ¨è¯„è®ºé‡Œæå‡ºäº†ç–‘é—®ã€‚æ¯”å¦‚ä¸Šå›¾ä¸­çš„è¿™ä¸ªæ•°å­—7ï¼Œæ˜¯ä»€ä¹ˆï¼Ÿ æ¯ä¸€ä¸ªsetTimeoutåœ¨æ‰§è¡Œæ—¶ï¼Œä¼šè¿”å›žä¸€ä¸ªå”¯ä¸€IDï¼Œä¸Šå›¾ä¸­çš„æ•°å­—7ï¼Œå°±æ˜¯è¿™ä¸ªå”¯ä¸€IDã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶ï¼Œå¸¸å¸¸ä¼šä½¿ç”¨ä¸€ä¸ªå˜é‡å°†è¿™ä¸ªå”¯ä¸€IDä¿å­˜èµ·æ¥ï¼Œç”¨ä»¥ä¼ å…¥clearTimeoutï¼Œæ¸…é™¤å®šæ—¶å™¨ã€‚ 12345var timer = setTimeout(function() &#123; console.log(&apos;å¦‚æžœä¸æ¸…é™¤æˆ‘ï¼Œæˆ‘å°†ä¼šä¸€ç§’ä¹‹åŽå‡ºçŽ°ã€‚&apos;);&#125;, 1000)clearTimeout(timer); // æ¸…é™¤ä¹‹åŽï¼Œé€šè¿‡setTimeoutå®šä¹‰çš„æ“ä½œå¹¶ä¸ä¼šæ‰§è¡Œ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘å¦å¤–ä¸€ä¸ªé‡è¦çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯setTimeoutä¸­å®šä¹‰çš„æ“ä½œï¼Œåœ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Ÿä¸ºäº†å¼•èµ·å¤§å®¶çš„é‡è§†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 1234567var timer = setTimeout(function() &#123; console.log(&apos;setTimeout actions.&apos;);&#125;, 0);console.log(&apos;other actions.&apos;);// æ€è€ƒä¸€ä¸‹ï¼Œå½“æˆ‘å°†setTimeoutçš„å»¶è¿Ÿæ—¶é—´è®¾ç½®ä¸º0æ—¶ï¼Œä¸Šé¢çš„æ‰§è¡Œé¡ºåºä¼šæ˜¯ä»€ä¹ˆï¼Ÿ åœ¨æµè§ˆå™¨ä¸­çš„consoleä¸­è¿è¡Œè¯•è¯•çœ‹ï¼Œå¾ˆå®¹æ˜“å°±èƒ½å¤ŸçŸ¥é“ç­”æ¡ˆï¼Œå¦‚æžœä½ æ²¡æœ‰çŒœä¸­ç­”æ¡ˆï¼Œé‚£ä¹ˆæˆ‘è¿™ç¯‡æ–‡ç« å°±å€¼å¾—ä½ ç‚¹ä¸€ä¸ªèµžäº†ï¼Œå› ä¸ºæŽ¥ä¸‹æ¥æˆ‘åˆ†äº«çš„å°çŸ¥è¯†ï¼Œå¯èƒ½ä¼šåœ¨ç¬”è¯•ä¸­æ•‘ä½ ä¸€å‘½ã€‚ åœ¨å¯¹äºŽæ‰§è¡Œä¸Šä¸‹æ–‡çš„ä»‹ç»ä¸­ï¼Œæˆ‘ä¸Žå¤§å®¶åˆ†äº«äº†å‡½æ•°è°ƒç”¨æ ˆè¿™ç§ç‰¹æ®Šæ•°æ®ç»“æž„çš„è°ƒç”¨ç‰¹æ€§ã€‚åœ¨è¿™é‡Œï¼Œå°†ä¼šä»‹ç»å¦å¤–ä¸€ä¸ªç‰¹æ®Šçš„é˜Ÿåˆ—ç»“æž„ï¼Œé¡µé¢ä¸­æ‰€æœ‰ç”±setTimeoutå®šä¹‰çš„æ“ä½œï¼Œéƒ½å°†æ”¾åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ä¾æ¬¡æ‰§è¡Œã€‚ æˆ‘ç”¨ä¸‹å›¾è·Ÿå¤§å®¶å±•ç¤ºä¸€ä¸‹é˜Ÿåˆ—æ•°æ®ç»“æž„çš„ç‰¹ç‚¹ã€‚ è€Œè¿™ä¸ªé˜Ÿåˆ—æ‰§è¡Œçš„æ—¶é—´ï¼Œéœ€è¦ç­‰å¾…åˆ°å‡½æ•°è°ƒç”¨æ ˆæ¸…ç©ºä¹‹åŽæ‰å¼€å§‹æ‰§è¡Œã€‚å³æ‰€æœ‰å¯æ‰§è¡Œä»£ç æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œæ‰ä¼šå¼€å§‹æ‰§è¡Œç”±setTimeoutå®šä¹‰çš„æ“ä½œã€‚è€Œè¿™äº›æ“ä½œè¿›å…¥é˜Ÿåˆ—çš„é¡ºåºï¼Œåˆ™ç”±è®¾å®šçš„å»¶è¿Ÿæ—¶é—´æ¥å†³å®šã€‚ å› æ­¤åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå³ä½¿æˆ‘ä»¬å°†å»¶è¿Ÿæ—¶é—´è®¾ç½®ä¸º0ï¼Œå®ƒå®šä¹‰çš„æ“ä½œä»ç„¶éœ€è¦ç­‰å¾…æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•ä¹‹åŽæ‰å¼€å§‹æ‰§è¡Œã€‚è¿™é‡Œçš„å»¶è¿Ÿæ—¶é—´ï¼Œå¹¶éžç›¸å¯¹äºŽsetTimeoutæ‰§è¡Œè¿™ä¸€åˆ»ï¼Œè€Œæ˜¯ç›¸å¯¹äºŽå…¶ä»–ä»£ç æ‰§è¡Œå®Œæ¯•è¿™ä¸€åˆ»ã€‚æ‰€ä»¥ä¸Šé¢çš„ä¾‹å­æ‰§è¡Œç»“æžœå°±éžå¸¸å®¹æ˜“ç†è§£äº†ã€‚ ä¸ºäº†å¸®åŠ©å¤§å®¶ç†è§£ï¼Œå†æ¥ä¸€ä¸ªç»“åˆå˜é‡æå‡çš„æ›´åŠ å¤æ‚çš„ä¾‹å­ã€‚å¦‚æžœä½ èƒ½å¤Ÿæ­£ç¡®çœ‹å‡ºæ‰§è¡Œé¡ºåºï¼Œé‚£ä¹ˆä½ å¯¹äºŽå‡½æ•°çš„æ‰§è¡Œå°±æœ‰äº†æ¯”è¾ƒæ­£ç¡®çš„è®¤è¯†äº†ï¼Œå¦‚æžœè¿˜ä¸èƒ½ï¼Œå°±å›žè¿‡å¤´åŽ»çœ‹çœ‹å…¶ä»–å‡ ç¯‡æ–‡ç« ã€‚ 12345678910111213141516171819202122232425262728setTimeout(function() &#123; console.log(a);&#125;, 0);var a = 10;console.log(b);console.log(fn);var b = 20;function fn() &#123; setTimeout(function() &#123; console.log(&apos;setTImeout 10ms.&apos;); &#125;, 10);&#125;fn.toString = function() &#123; return 30;&#125;console.log(fn);setTimeout(function() &#123; console.log(&apos;setTimeout 20ms.&apos;);&#125;, 20);fn(); OKï¼Œå…³äºŽsetTimeoutå°±æš‚æ—¶å…ˆä»‹ç»åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å›žè¿‡å¤´æ¥çœ‹çœ‹é‚£ä¸ªå¾ªçŽ¯é—­åŒ…çš„æ€è€ƒé¢˜ã€‚ 12345for (var i=1; i&lt;=5; i++) &#123; setTimeout( function timer() &#123; console.log(i); &#125;, i*1000 );&#125; å¦‚æžœæˆ‘ä»¬ç›´æŽ¥è¿™æ ·å†™ï¼Œæ ¹æ®setTimeoutå®šä¹‰çš„æ“ä½œåœ¨å‡½æ•°è°ƒç”¨æ ˆæ¸…ç©ºä¹‹åŽæ‰ä¼šæ‰§è¡Œçš„ç‰¹ç‚¹ï¼Œforå¾ªçŽ¯é‡Œå®šä¹‰äº†5ä¸ªsetTimeoutæ“ä½œã€‚è€Œå½“è¿™äº›æ“ä½œå¼€å§‹æ‰§è¡Œæ—¶ï¼Œforå¾ªçŽ¯çš„iå€¼ï¼Œå·²ç»å…ˆä¸€æ­¥å˜æˆäº†6ã€‚å› æ­¤è¾“å‡ºç»“æžœæ€»ä¸º6ã€‚è€Œæˆ‘ä»¬æƒ³è¦è®©è¾“å‡ºç»“æžœä¾æ¬¡æ‰§è¡Œï¼Œæˆ‘ä»¬å°±å¿…é¡»å€ŸåŠ©é—­åŒ…çš„ç‰¹æ€§ï¼Œæ¯æ¬¡å¾ªçŽ¯æ—¶ï¼Œå°†iå€¼ä¿å­˜åœ¨ä¸€ä¸ªé—­åŒ…ä¸­ï¼Œå½“setTimeoutä¸­å®šä¹‰çš„æ“ä½œæ‰§è¡Œæ—¶ï¼Œåˆ™è®¿é—®å¯¹åº”é—­åŒ…ä¿å­˜çš„iå€¼å³å¯ã€‚ è€Œæˆ‘ä»¬çŸ¥é“åœ¨å‡½æ•°ä¸­é—­åŒ…åˆ¤å®šçš„å‡†åˆ™ï¼Œå³æ‰§è¡Œæ—¶æ˜¯å¦åœ¨å†…éƒ¨å®šä¹‰çš„å‡½æ•°ä¸­è®¿é—®äº†ä¸Šå±‚ä½œç”¨åŸŸçš„å˜é‡ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åŒ…è£¹ä¸€å±‚è‡ªæ‰§è¡Œå‡½æ•°ä¸ºé—­åŒ…çš„å½¢æˆæä¾›æ¡ä»¶ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦2ä¸ªæ“ä½œå°±å¯ä»¥å®Œæˆé¢˜ç›®éœ€æ±‚ï¼Œä¸€æ˜¯ä½¿ç”¨è‡ªæ‰§è¡Œå‡½æ•°æä¾›é—­åŒ…æ¡ä»¶ï¼ŒäºŒæ˜¯ä¼ å…¥iå€¼å¹¶ä¿å­˜åœ¨é—­åŒ…ä¸­ã€‚ 12345678for (var i=1; i&lt;=5; i++) &#123; (function(i) &#123; setTimeout( function timer() &#123; console.log(i); &#125;, i*1000 ); &#125;)(i)&#125; å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨setTimeoutçš„ç¬¬ä¸€ä¸ªå‚æ•°å¤„åˆ©ç”¨é—­åŒ…ã€‚ 1234567for (var i=1; i&lt;=5; i++) &#123; setTimeout( (function(i) &#123; return function() &#123; console.log(i); &#125; &#125;)(i), i*1000 );&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>setTimeout</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„Promise]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84Promise%2F</url>
    <content type="text"><![CDATA[Promiseçš„é‡è¦æ€§æˆ‘è®¤ä¸ºæˆ‘æ²¡æœ‰å¿…è¦å¤šè®²ï¼Œæ¦‚æ‹¬èµ·æ¥è¯´å°±æ˜¯å¿…é¡»å¾—æŽŒæ¡ï¼Œè€Œä¸”è¿˜è¦æŽŒæ¡é€å½»ã€‚è¿™ç¯‡æ–‡ç« çš„å¼€å¤´ï¼Œä¸»è¦è·Ÿå¤§å®¶åˆ†æžä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰Promiseå‡ºçŽ°ã€‚ åœ¨å®žé™…çš„ä½¿ç”¨å½“ä¸­ï¼Œæœ‰éžå¸¸å¤šçš„åº”ç”¨åœºæ™¯æˆ‘ä»¬ä¸èƒ½ç«‹å³çŸ¥é“åº”è¯¥å¦‚ä½•ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚æœ€é‡è¦ä¹Ÿæ˜¯æœ€ä¸»è¦çš„ä¸€ä¸ªåœºæ™¯å°±æ˜¯ajaxè¯·æ±‚ã€‚é€šä¿—æ¥è¯´ï¼Œç”±äºŽç½‘é€Ÿçš„ä¸åŒï¼Œå¯èƒ½ä½ å¾—åˆ°è¿”å›žå€¼çš„æ—¶é—´ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç­‰å¾…ï¼Œç»“æžœå‡ºæ¥äº†ä¹‹åŽæ‰çŸ¥é“æ€Žä¹ˆæ ·ç»§ç»­ä¸‹åŽ»ã€‚ 1234567891011121314// ç®€å•çš„ajaxåŽŸç”Ÿå®žçŽ°var url = &apos;https://hq.tigerbrokers.com/fundamental/finance_calendar/getType/2017-02-26/2017-06-10&apos;;var result;var XHR = new XMLHttpRequest();XHR.open(&apos;GET&apos;, url, true);XHR.send();XHR.onreadystatechange = function() &#123; if (XHR.readyState == 4 &amp;&amp; XHR.status == 200) &#123; result = XHR.response; console.log(result); &#125;&#125; åœ¨ajaxçš„åŽŸç”Ÿå®žçŽ°ä¸­ï¼Œåˆ©ç”¨äº†onreadystatechangeäº‹ä»¶ï¼Œå½“è¯¥äº‹ä»¶è§¦å‘å¹¶ä¸”ç¬¦åˆä¸€å®šæ¡ä»¶æ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ï¼Œä¹‹åŽæˆ‘ä»¬æ‰èƒ½å¼€å§‹å¤„ç†æ•°æ®ã€‚ è¿™æ ·åšçœ‹ä¸ŠåŽ»å¹¶æ²¡æœ‰ä»€ä¹ˆéº»çƒ¦ï¼Œä½†æ˜¯å¦‚æžœè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšå¦å¤–ä¸€ä¸ªajaxè¯·æ±‚ï¼Œè¿™ä¸ªæ–°çš„ajaxè¯·æ±‚çš„å…¶ä¸­ä¸€ä¸ªå‚æ•°ï¼Œå¾—ä»Žä¸Šä¸€ä¸ªajaxè¯·æ±‚ä¸­èŽ·å–ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¸å¾—ä¸å¦‚ä¸‹è¿™æ ·åšï¼š 12345678910111213141516171819202122var url = &apos;https://hq.tigerbrokers.com/fundamental/finance_calendar/getType/2017-02-26/2017-06-10&apos;;var result;var XHR = new XMLHttpRequest();XHR.open(&apos;GET&apos;, url, true);XHR.send();XHR.onreadystatechange = function() &#123; if (XHR.readyState == 4 &amp;&amp; XHR.status == 200) &#123; result = XHR.response; console.log(result); // ä¼ªä»£ç  var url2 = &apos;http:xxx.yyy.com/zzz?ddd=&apos; + result.someParams; var XHR2 = new XMLHttpRequest(); XHR2.open(&apos;GET&apos;, url, true); XHR2.send(); XHR2.onreadystatechange = function() &#123; ... &#125; &#125;&#125; å½“å‡ºçŽ°ç¬¬ä¸‰ä¸ªajax(ç”šè‡³æ›´å¤š)ä»ç„¶ä¾èµ–ä¸Šä¸€ä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„ä»£ç å°±å˜æˆäº†ä¸€åœºç¾éš¾ã€‚è¿™åœºç¾éš¾ï¼Œå¾€å¾€ä¹Ÿè¢«ç§°ä¸ºå›žè°ƒåœ°ç‹±ã€‚ å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå«åšPromiseçš„ä¸œè¥¿ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å½“ç„¶ï¼Œé™¤äº†å›žè°ƒåœ°ç‹±ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªéžå¸¸é‡è¦çš„éœ€æ±‚ï¼šä¸ºäº†æˆ‘ä»¬çš„ä»£ç æ›´åŠ å…·æœ‰å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°æ®è¯·æ±‚ä¸Žæ•°æ®å¤„ç†æ˜Žç¡®çš„åŒºåˆ†å¼€æ¥ã€‚ä¸Šé¢çš„å†™æ³•ï¼Œæ˜¯å®Œå…¨æ²¡æœ‰åŒºåˆ†å¼€ï¼Œå½“æ•°æ®å˜å¾—å¤æ‚æ—¶ï¼Œä¹Ÿè®¸æˆ‘ä»¬è‡ªå·±éƒ½æ— æ³•è½»æ¾ç»´æŠ¤è‡ªå·±çš„ä»£ç äº†ã€‚è¿™ä¹Ÿæ˜¯æ¨¡å—åŒ–è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»è¦æŽŒæ¡çš„ä¸€ä¸ªé‡è¦æŠ€èƒ½ï¼Œè¯·ä¸€å®šé‡è§†ã€‚ ä»Žå‰é¢å‡ ç¯‡æ–‡ä¸­çš„çŸ¥è¯†æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“æˆ‘ä»¬æƒ³è¦ç¡®ä¿æŸä»£ç åœ¨è°è°ä¹‹åŽæ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å‡½æ•°è°ƒç”¨æ ˆï¼Œå°†æˆ‘ä»¬æƒ³è¦æ‰§è¡Œçš„ä»£ç æ”¾å…¥å›žè°ƒå‡½æ•°ä¸­ã€‚ 12345678910111213// ä¸€ä¸ªç®€å•çš„å°è£…function want() &#123; console.log(&apos;è¿™æ˜¯ä½ æƒ³è¦æ‰§è¡Œçš„ä»£ç &apos;);&#125;function fn(want) &#123; console.log(&apos;è¿™é‡Œè¡¨ç¤ºæ‰§è¡Œäº†ä¸€å¤§å †å„ç§ä»£ç &apos;); // å…¶ä»–ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œæœ€åŽæ‰§è¡Œå›žè°ƒå‡½æ•° want &amp;&amp; want();&#125;fn(want); åˆ©ç”¨å›žè°ƒå‡½æ•°å°è£…ï¼Œæ˜¯æˆ‘ä»¬åœ¨åˆå­¦JavaScriptæ—¶å¸¸å¸¸ä¼šä½¿ç”¨çš„æŠ€èƒ½ã€‚ ç¡®ä¿æˆ‘ä»¬æƒ³è¦çš„ä»£ç åŽ‹åŽæ‰§è¡Œï¼Œé™¤äº†åˆ©ç”¨å‡½æ•°è°ƒç”¨æ ˆçš„æ‰§è¡Œé¡ºåºä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨ä¸Šä¸€ç¯‡æ–‡ç« æ‰€è¿°çš„é˜Ÿåˆ—æœºåˆ¶ã€‚ 1234567891011function want() &#123; console.log(&apos;è¿™æ˜¯ä½ æƒ³è¦æ‰§è¡Œçš„ä»£ç &apos;);&#125;function fn(want) &#123; // å°†æƒ³è¦æ‰§è¡Œçš„ä»£ç æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œæ ¹æ®äº‹ä»¶å¾ªçŽ¯çš„æœºåˆ¶ï¼Œæˆ‘ä»¬å°±ä¸ç”¨éžå¾—å°†å®ƒæ”¾åˆ°æœ€åŽé¢äº†ï¼Œç”±ä½ è‡ªç”±é€‰æ‹© want &amp;&amp; setTimeout(want, 0); console.log(&apos;è¿™é‡Œè¡¨ç¤ºæ‰§è¡Œäº†ä¸€å¤§å †å„ç§ä»£ç &apos;);&#125;fn(want); å¦‚æžœæµè§ˆå™¨å·²ç»æ”¯æŒäº†åŽŸç”Ÿçš„Promiseå¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±çŸ¥é“ï¼Œæµè§ˆå™¨çš„jså¼•æ“Žé‡Œå·²ç»æœ‰äº†Promiseé˜Ÿåˆ—ï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨Promiseå°†ä»»åŠ¡æ”¾åœ¨å®ƒçš„é˜Ÿåˆ—ä¸­åŽ»ã€‚ 123456789101112131415161718192021222324function want() &#123; console.log(&apos;è¿™æ˜¯ä½ æƒ³è¦æ‰§è¡Œçš„ä»£ç &apos;);&#125;function fn(want) &#123; console.log(&apos;è¿™é‡Œè¡¨ç¤ºæ‰§è¡Œäº†ä¸€å¤§å †å„ç§ä»£ç &apos;); // è¿”å›žPromiseå¯¹è±¡ return new Promise(function(resolve, reject) &#123; if (typeof want == &apos;function&apos;) &#123; resolve(want); &#125; else &#123; reject(&apos;TypeError: &apos;+ want +&apos;ä¸æ˜¯ä¸€ä¸ªå‡½æ•°&apos;) &#125; &#125;)&#125;fn(want).then(function(want) &#123; want();&#125;)fn(&apos;1234&apos;).catch(function(err) &#123; console.log(err);&#125;) çœ‹ä¸ŠåŽ»å˜å¾—æ›´åŠ å¤æ‚äº†ã€‚å¯æ˜¯ä»£ç å˜å¾—æ›´åŠ å¥å£®ï¼Œå¤„ç†äº†é”™è¯¯è¾“å…¥çš„æƒ…å†µã€‚ ä¸ºäº†æ›´å¥½çš„å¾€ä¸‹æ‰©å±•Promiseçš„åº”ç”¨ï¼Œè¿™é‡Œéœ€è¦å…ˆè·Ÿå¤§å®¶ä»‹ç»ä¸€ä¸‹Promsieçš„åŸºç¡€çŸ¥è¯†ã€‚ ä¸€ã€ Promiseå¯¹è±¡æœ‰ä¸‰ç§çŠ¶æ€ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼š pending: ç­‰å¾…ä¸­ï¼Œæˆ–è€…è¿›è¡Œä¸­ï¼Œè¡¨ç¤ºè¿˜æ²¡æœ‰å¾—åˆ°ç»“æžœ resolved(Fulfilled): å·²ç»å®Œæˆï¼Œè¡¨ç¤ºå¾—åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„ç»“æžœï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹æ‰§è¡Œ rejected: ä¹Ÿè¡¨ç¤ºå¾—åˆ°ç»“æžœï¼Œä½†æ˜¯ç”±äºŽç»“æžœå¹¶éžæˆ‘ä»¬æ‰€æ„¿ï¼Œå› æ­¤æ‹’ç»æ‰§è¡Œ è¿™ä¸‰ç§çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼Œè€Œä¸”çŠ¶æ€åªèƒ½ä»Žpendingæ”¹å˜ä¸ºresolvedæˆ–è€…rejectedï¼Œå¹¶ä¸”ä¸å¯é€†ã€‚åœ¨Promiseå¯¹è±¡çš„æž„é€ å‡½æ•°ä¸­ï¼Œå°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚è€Œè¿™ä¸ªå‡½æ•°ï¼Œå°±æ˜¯ç”¨æ¥å¤„ç†Promiseçš„çŠ¶æ€å˜åŒ–ã€‚ 1234new Promise(function(resolve, reject) &#123; if(true) &#123; resolve() &#125;; if(false) &#123; reject() &#125;;&#125;) ä¸Šé¢çš„resolveå’Œrejectéƒ½ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œä»–ä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯å°†çŠ¶æ€ä¿®æ”¹ä¸ºresolvedå’Œrejectedã€‚ äºŒã€ Promiseå¯¹è±¡ä¸­çš„thenæ–¹æ³•ï¼Œå¯ä»¥æŽ¥æ”¶æž„é€ å‡½æ•°ä¸­å¤„ç†çš„çŠ¶æ€å˜åŒ–ï¼Œå¹¶åˆ†åˆ«å¯¹åº”æ‰§è¡Œã€‚thenæ–¹æ³•æœ‰2ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æŽ¥æ”¶resolvedçŠ¶æ€çš„æ‰§è¡Œï¼Œç¬¬äºŒä¸ªå‚æ•°æŽ¥æ”¶rejectçŠ¶æ€çš„æ‰§è¡Œã€‚ 12345678910111213141516function fn(num) &#123; return new Promise(function(resolve, reject) &#123; if (typeof num == &apos;number&apos;) &#123; resolve(); &#125; else &#123; reject(); &#125; &#125;).then(function() &#123; console.log(&apos;å‚æ•°æ˜¯ä¸€ä¸ªnumberå€¼&apos;); &#125;, function() &#123; console.log(&apos;å‚æ•°ä¸æ˜¯ä¸€ä¸ªnumberå€¼&apos;); &#125;)&#125;fn(&apos;hahha&apos;);fn(1234); thenæ–¹æ³•çš„æ‰§è¡Œç»“æžœä¹Ÿä¼šè¿”å›žä¸€ä¸ªPromiseå¯¹è±¡ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥è¿›è¡Œthençš„é“¾å¼æ‰§è¡Œï¼Œè¿™ä¹Ÿæ˜¯è§£å†³å›žè°ƒåœ°ç‹±çš„ä¸»è¦æ–¹å¼ã€‚ 123456789101112131415161718function fn(num) &#123; return new Promise(function(resolve, reject) &#123; if (typeof num == &apos;number&apos;) &#123; resolve(); &#125; else &#123; reject(); &#125; &#125;) .then(function() &#123; console.log(&apos;å‚æ•°æ˜¯ä¸€ä¸ªnumberå€¼&apos;); &#125;) .then(null, function() &#123; console.log(&apos;å‚æ•°ä¸æ˜¯ä¸€ä¸ªnumberå€¼&apos;); &#125;)&#125;fn(&apos;hahha&apos;);fn(1234); then(null, function() {}) å°±ç­‰åŒäºŽcatch(function() {}) ä¸‰ã€Promiseä¸­çš„æ•°æ®ä¼ é€’ å¤§å®¶è‡ªè¡Œä»Žä¸‹é¢çš„ä¾‹å­ä¸­é¢†æ‚Ÿå§ã€‚ 123456789101112131415161718192021222324252627var fn = function(num) &#123; return new Promise(function(resolve, reject) &#123; if (typeof num == &apos;number&apos;) &#123; resolve(num); &#125; else &#123; reject(&apos;TypeError&apos;); &#125; &#125;)&#125;fn(2).then(function(num) &#123; console.log(&apos;first: &apos; + num); return num + 1;&#125;).then(function(num) &#123; console.log(&apos;second: &apos; + num); return num + 1;&#125;).then(function(num) &#123; console.log(&apos;third: &apos; + num); return num + 1;&#125;);// è¾“å‡ºç»“æžœfirst: 2second: 3third: 4 OKï¼Œäº†è§£äº†è¿™äº›åŸºç¡€çŸ¥è¯†ä¹‹åŽï¼Œæˆ‘ä»¬å†å›žè¿‡å¤´ï¼Œåˆ©ç”¨Promiseçš„çŸ¥è¯†ï¼Œå¯¹æœ€å¼€å§‹çš„ajaxçš„ä¾‹å­è¿›è¡Œä¸€ä¸ªç®€å•çš„å°è£…ã€‚çœ‹çœ‹ä¼šæ˜¯ä»€ä¹ˆæ ·å­ã€‚ 123456789101112131415161718192021222324252627var url = &apos;https://hq.tigerbrokers.com/fundamental/finance_calendar/getType/2017-02-26/2017-06-10&apos;;// å°è£…ä¸€ä¸ªgetè¯·æ±‚çš„æ–¹æ³•function getJSON(url) &#123; return new Promise(function(resolve, reject) &#123; var XHR = new XMLHttpRequest(); XHR.open(&apos;GET&apos;, url, true); XHR.send(); XHR.onreadystatechange = function() &#123; if (XHR.readyState == 4) &#123; if (XHR.status == 200) &#123; try &#123; var response = JSON.parse(XHR.responseText); resolve(response); &#125; catch (e) &#123; reject(e); &#125; &#125; else &#123; reject(new Error(XHR.statusText)); &#125; &#125; &#125; &#125;)&#125;getJSON(url).then(resp =&gt; console.log(resp)); ä¸ºäº†å¥å£®æ€§ï¼Œå¤„ç†äº†å¾ˆå¤šå¯èƒ½å‡ºçŽ°çš„å¼‚å¸¸ï¼Œæ€»ä¹‹ï¼Œå°±æ˜¯æ­£ç¡®çš„è¿”å›žç»“æžœï¼Œå°±resolveä¸€ä¸‹ï¼Œé”™è¯¯çš„è¿”å›žç»“æžœï¼Œå°±rejectä¸€ä¸‹ã€‚å¹¶ä¸”åˆ©ç”¨ä¸Šé¢çš„å‚æ•°ä¼ é€’çš„æ–¹å¼ï¼Œå°†æ­£ç¡®ç»“æžœæˆ–è€…é”™è¯¯ä¿¡æ¯é€šè¿‡ä»–ä»¬çš„å‚æ•°ä¼ é€’å‡ºæ¥ã€‚ çŽ°åœ¨æ‰€æœ‰çš„åº“å‡ ä¹Žéƒ½å°†ajaxè¯·æ±‚åˆ©ç”¨Promiseè¿›è¡Œäº†å°è£…ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨jQueryç­‰åº“ä¸­çš„ajaxè¯·æ±‚æ—¶ï¼Œéƒ½å¯ä»¥åˆ©ç”¨Promiseæ¥è®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ ä¼˜é›…å’Œç®€å•ã€‚è¿™ä¹Ÿæ˜¯Promiseæœ€å¸¸ç”¨çš„ä¸€ä¸ªåœºæ™¯ï¼Œå› æ­¤æˆ‘ä»¬ä¸€å®šè¦éžå¸¸éžå¸¸ç†Ÿæ‚‰å®ƒï¼Œè¿™æ ·æ‰èƒ½åœ¨åº”ç”¨çš„æ—¶å€™æ›´åŠ çµæ´»ã€‚ å››ã€Promise.all å½“æœ‰ä¸€ä¸ªajaxè¯·æ±‚ï¼Œå®ƒçš„å‚æ•°éœ€è¦å¦å¤–2ä¸ªç”šè‡³æ›´å¤šè¯·æ±‚éƒ½æœ‰è¿”å›žç»“æžœä¹‹åŽæ‰èƒ½ç¡®å®šï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦ç”¨åˆ°Promise.allæ¥å¸®åŠ©æˆ‘ä»¬åº”å¯¹è¿™ä¸ªåœºæ™¯ã€‚ Promise.allæŽ¥æ”¶ä¸€ä¸ªPromiseå¯¹è±¡ç»„æˆçš„æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå½“è¿™ä¸ªæ•°ç»„æ‰€æœ‰çš„Promiseå¯¹è±¡çŠ¶æ€éƒ½å˜æˆresolvedæˆ–è€…rejectedçš„æ—¶å€™ï¼Œå®ƒæ‰ä¼šåŽ»è°ƒç”¨thenæ–¹æ³•ã€‚ 1234567891011var url = &apos;https://hq.tigerbrokers.com/fundamental/finance_calendar/getType/2017-02-26/2017-06-10&apos;;var url1 = &apos;https://hq.tigerbrokers.com/fundamental/finance_calendar/getType/2017-03-26/2017-06-10&apos;;function renderAll() &#123; return Promise.all([getJSON(url), getJSON(url1)]);&#125;renderAll().then(function(value) &#123; // å»ºè®®å¤§å®¶åœ¨æµè§ˆå™¨ä¸­çœ‹çœ‹è¿™é‡Œçš„valueå€¼ console.log(value);&#125;) äº”ã€ Promise.race ä¸ŽPromise.allç›¸ä¼¼çš„æ˜¯ï¼ŒPromise.raceéƒ½æ˜¯ä»¥ä¸€ä¸ªPromiseå¯¹è±¡ç»„æˆçš„æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œä¸åŒçš„æ˜¯ï¼Œåªè¦å½“æ•°ç»„ä¸­çš„å…¶ä¸­ä¸€ä¸ªPromsieçŠ¶æ€å˜æˆresolvedæˆ–è€…rejectedæ—¶ï¼Œå°±å¯ä»¥è°ƒç”¨.thenæ–¹æ³•äº†ã€‚è€Œä¼ é€’ç»™thenæ–¹æ³•çš„å€¼ä¹Ÿä¼šæœ‰æ‰€ä¸åŒï¼Œå¤§å®¶å¯ä»¥å†æµè§ˆå™¨ä¸­è¿è¡Œä¸‹é¢çš„ä¾‹å­ä¸Žä¸Šé¢çš„ä¾‹å­è¿›è¡Œå¯¹æ¯”ã€‚ 1234567function renderRace() &#123; return Promise.race([getJSON(url), getJSON(url1)]);&#125;renderRace().then(function(value) &#123; console.log(value);&#125;) å—¯ï¼Œæˆ‘æ‰€çŸ¥é“çš„ï¼Œå…³äºŽPromiseçš„åŸºç¡€çŸ¥è¯†å°±è¿™äº›äº†ï¼Œå¦‚æžœè¿˜æœ‰åˆ«çš„ï¼Œæ¬¢è¿Žå¤§å®¶è¡¥å……ã€‚ é‚£ä¹ˆæŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦ç»“åˆä¸‰ä¸ªä¸åŒçš„åº”ç”¨åœºæ™¯æ¥è®©å¤§å®¶æ„Ÿå—ä¸€ä¸‹Promiseåœ¨æ¨¡å—ç³»ç»Ÿä¸­å¦‚ä½•ä½¿ç”¨ã€‚ è¿™é‡Œé€‰æ‹©requirejsæ˜¯å› ä¸ºå­¦ä¹ æˆæœ¬æœ€ä½Žï¼Œèƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹è¿›è¡Œç®€å•çš„è¿ç”¨ã€‚æŽ¥ä¸‹æ¥çš„è¿™äº›ä¾‹å­ï¼Œä¼šæ¶‰åŠåˆ°å¾ˆå¤šå…¶ä»–çš„çŸ¥è¯†ï¼Œå› æ­¤å¦‚æžœæƒ³è¦å½»åº•æŽŒæ¡ï¼Œä¸€å®šè¦åŠ¨æ‰‹å®žè·µï¼Œè‡ªå·±è¯•ç€å®Œæˆä¸€éã€‚ æˆ‘åœ¨githubä¸Šåˆ›å»ºäº†å¯¹åº”çš„é¡¹ç›®ï¼Œå¤§å®¶å¯ä»¥ç›´æŽ¥cloneä¸‹æ¥è¿›è¡Œå­¦ä¹ ã€‚è¿™æ ·å­¦ä¹ æ•ˆæžœä¼šæ›´å¥½ã€‚ é¡¹ç›®åœ°å€ï¼š https://github.com/yangbo5207/promiseApps å¾€ä¸‹é˜…è¯»ä¾‹å­ä¹‹å‰ï¼Œè¯·ä¸€å®šè¦å¯¹requirejsæœ‰ä¸€ä¸ªç®€å•çš„äº†è§£ã€‚ requirejsä¸­æ–‡æ–‡æ¡£ http://www.requirejs.cn/ é¡¹ç›®çš„ä»£ç ç»“æžœå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ‰€æœ‰çš„htmlæ–‡ä»¶éƒ½æ”¾åœ¨æ ¹ç›®å½•ä¸‹ã€‚ pages: htmlç›´æŽ¥å¼•å…¥çš„js libs: å¸¸ç”¨çš„åº“ components: é’ˆå¯¹é¡¹ç›®è‡ªå®šä¹‰çš„æ¨¡å— é¦–å…ˆä¸ºäº†èƒ½å¤Ÿè®©requireèµ·ä½œç”¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨htmlä¸­å¼•å…¥require.jsï¼Œå†™æ³•å¦‚ä¸‹ï¼š 12// index.jsä¸ºå…¥å£æ–‡ä»¶&lt;script data-main=&quot;./pages/index.js&quot; src=&quot;./libs/require.js&quot;&gt;&lt;/script&gt; åœ¨å…¥å£çš„index.jsä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å¸¸ç”¨çš„æ¨¡å—è¿›è¡Œæ˜ å°„é…ç½®ï¼Œè¿™æ ·åœ¨å¼•å…¥æ—¶å°±å¯ä»¥å°‘å†™ä¸€äº›ä»£ç ã€‚ 123456789101112// å…·ä½“çš„é…ç½®é¡¹çš„å«ä¹‰ï¼Œè¯·å‚é˜…requireçš„ä¸­æ–‡æ–‡æ¡£requirejs.config(&#123; baseUrl: &apos;./&apos;, paths: &#123; jquery: &quot;./libs/jquery-3.2.0&quot;, API: &apos;./libs/API&apos;, request: &apos;./libs/request&apos;, calendar: &apos;./components/calendar&apos;, imageCenter: &apos;./components/imageCenter&apos;, dialog: &apos;./components/Dialog&apos; &#125;&#125;) é…ç½®ä¹‹åŽï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å…¶ä»–æ¨¡å—ä¸­ï¼Œå¼•å…¥é…ç½®è¿‡çš„æ¨¡å—ï¼Œå°±å¯ä»¥ç®€å•çš„è¿™æ ·å†™ï¼š 1var $ = require(&apos;jquery&apos;); å¦‚æžœä¸è¿›è¡Œé…ç½®ï¼Œä¹Ÿå¯ä»¥è¿™æ ·å¼•å…¥æ¨¡å—ï¼š 1require(&apos;./components/button&apos;); æˆ‘ä»¬å¯ä»¥ä½¿ç”¨defineå®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼š 1234// å…¶ä»–æ–¹å¼è¯·å‚é˜…æ–‡æ¡£define(function(require) &#123;&#125;) ä½¿ç”¨returnå¯ä»¥ç›´æŽ¥å¯¹å¤–æä¾›æ–¹æ³•ï¼š 123456// åœ¨å…¶ä»–æ¨¡å—é€šè¿‡requireå¼•å…¥æ—¶å¾—åˆ°çš„å€¼ï¼Œå°±æ˜¯è¿™é‡Œè¿”å›žçš„å€¼define(function(require) &#123; return &#123; a: 1 &#125;&#125;) OKï¼Œäº†è§£ä¸Šé¢è¿™äº›ï¼Œåº”ä»˜åŸºç¡€çš„ä½¿ç”¨å·²ç»æ²¡æœ‰é—®é¢˜äº†ã€‚æˆ‘ä»¬æŽ¥ä¸‹æ¥é‡ç‚¹æ€»ç»“ç¬¬ä¸€ä¸ªå¸¸ç”¨çš„åº”ç”¨åœºæ™¯ï¼šajaxã€‚ å…³äºŽajaxçš„ç®€å•ä½¿ç”¨å’Œç®€å•å°è£…ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢éƒ½å·²ç»è®²è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸å†å¤šè¯´ï¼Œç›´æŽ¥ä½¿ç”¨jqueryå°è£…å¥½çš„æ–¹æ³•å³å¯ã€‚è€Œæˆ‘ä»¬éœ€è¦å¤„ç†çš„é—®é¢˜åœ¨äºŽï¼Œå¦‚ä½•æœ‰æ•ˆçš„å°†ajaxçš„æ•°æ®è¯·æ±‚å’Œæ•°æ®å¤„ç†åˆ†åˆ«æ”¾åœ¨ä¸åŒçš„æ¨¡å—ä¸­è¿›è¡Œç®¡ç†ï¼Œè¿™æ ·åšçš„ä¸»è¦ç›®çš„åœ¨äºŽé™ä½ŽåŽæœŸç»´æŠ¤æˆæœ¬ï¼Œä¾¿äºŽç®¡ç†ã€‚ æ¥çœ‹çœ‹æ€Žä¹ˆæ ·ç®€å•æ“ä½œçš„ã€‚ é¦–å…ˆï¼Œå°†æ‰€æœ‰çš„urlæ”¾åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ç»Ÿä¸€å¤„ç†ã€‚ 1234567// libs/API.jsdefine(function() &#123; return &#123; dayInfo: &apos;https://hq.tigerbrokers.com/fundamental/finance_calendar/get_day/2017-04-03&apos;, typeInfo: &apos;https://hq.tigerbrokers.com/fundamental/finance_calendar/getType/2017-03-26/2017-04-15&apos; &#125;&#125;) åœ¨å®žé™…å¼€å‘ä¸­ï¼Œurlå¹¶ä¸æ˜¯ç›´æŽ¥é€šè¿‡å­—ç¬¦ä¸²å°±èƒ½ç›´æŽ¥ç¡®è®¤çš„ï¼ŒæŸäº›urlè¿˜éœ€è¦é€šè¿‡å‚æ•°æ‹¼æŽ¥ç­‰ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æˆ‘ä»¬çµæ´»å¤„ç†ã€‚ ç¬¬äºŒæ­¥ï¼Œå°†æ‰€æœ‰çš„æ•°æ®è¯·æ±‚è¿™ä¸ªåŠ¨ä½œæ”¾åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸­ç»Ÿä¸€ç®¡ç†ã€‚ 12345678910111213141516171819202122// libs/request.jsdefine(function(require) &#123; var API = require(&apos;API&apos;); // å› ä¸ºjQueryä¸­çš„getæ–¹æ³•ä¹Ÿæ˜¯é€šè¿‡Promiseè¿›è¡Œäº†å°è£…ï¼Œæœ€ç»ˆè¿”å›žçš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå› æ­¤è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†æ•°æ®è¯·æ±‚ä¸Žæ•°æ®å¤„ç†æ”¾åœ¨ä¸åŒçš„æ¨¡å— // è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æ¨¡å—æ¥ç®¡ç†æ‰€æœ‰çš„æ•°æ®è¯·æ±‚ // èŽ·å–å½“å¤©çš„ä¿¡æ¯ getDayInfo = function() &#123; return $.get(API.dayInfo); &#125; // èŽ·å–typeä¿¡æ¯ getTypeInfo = function() &#123; return $.get(API.typeInfo); &#125;; return &#123; getDayInfo: getDayInfo, getTypeInfo: getTypeInfo &#125;&#125;); åœ¨è¿™ä¸ªæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹æ‹¿åˆ°çš„æ•°æ®è¿›è¡Œä¸€äº›ä½ éœ€è¦çš„è¿‡æ»¤å¤„ç†ï¼Œç¡®ä¿æœ€ç»ˆè¿”å›žç»™ä¸‹ä¸€ä¸ªæ¨¡å—çš„æ•°æ®æ˜¯èƒ½å¤Ÿç›´æŽ¥ä½¿ç”¨çš„ã€‚ ç¬¬ä¸‰æ­¥ï¼šå°±æ˜¯æ‹¿åˆ°æ•°æ®å¹¶ä¸”å¤„ç†æ•°æ®äº†ã€‚ 12345678910111213141516// components/calendar.jsdefine(function(require) &#123; var request = require(&apos;request&apos;); // æ‹¿åˆ°æ•°æ®ä¹‹åŽï¼Œéœ€è¦å¤„ç†çš„ç»„ä»¶ï¼Œå¯ä»¥æ ¹æ®æ•°æ®æ¸²æŸ“å‡ºéœ€æ±‚æƒ³è¦çš„æ ·å¼ // å½“ç„¶è¿™é‡Œä¸ºäº†ç®€åŒ–ï¼Œå°±ä»…ä»…åªæ˜¯è¾“å‡ºæ•°æ®å°±è¡Œäº†ï¼Œåœ¨å®žé™…ä¸­ï¼Œæ‹¿åˆ°æ•°æ®ä¹‹åŽè¿˜è¦è¿›è¡Œç›¸åº”çš„å¤„ç† request.getTypeInfo() .then(function(resp) &#123; // æ‹¿åˆ°æ•°æ®ï¼Œå¹¶æ‰§è¡Œå¤„ç†æ“ä½œ console.log(resp); &#125;) // è¿™æ ·ï¼Œæˆ‘ä»¬å°±æŠŠè¯·æ±‚æ•°æ®ï¼Œä¸Žå¤„ç†æ•°æ®åˆ†ç¦»å¼€æ¥ï¼Œç»´æŠ¤èµ·æ¥å°±æ›´åŠ æ–¹ä¾¿äº†ï¼Œä»£ç ç»“æž„ä¹Ÿè¶³å¤Ÿæ¸…æ™°&#125;) è¿™å°±æ˜¯æˆ‘æ‰€äº†è§£çš„å¤„ç†ajaxçš„æ¯”è¾ƒå¥½çš„ä¸€ä¸ªæ–¹å¼ï¼Œå¦‚æžœä½ æœ‰å…¶ä»–æ›´å¥½çš„æ–¹å¼ä¹Ÿæ¬¢è¿Žåˆ†äº«ã€‚ ç¬¬äºŒä¸ªåº”ç”¨åœºæ™¯å°±æ˜¯å›¾ç‰‡åŠ è½½çš„é—®é¢˜ã€‚åœ¨ä¸€äº›å®žé™…åº”ç”¨ä¸­ï¼Œå¸¸å¸¸ä¼šæœ‰ä¸€äº›å›¾ç‰‡éœ€è¦æ”¾ç½®åœ¨æŸä¸€ä¸ªå—ä¸­ï¼Œæ¯”å¦‚å¤´åƒï¼Œæ¯”å¦‚æŸäº›å›¾ç‰‡åˆ—è¡¨ã€‚å¯æ˜¯æºå›¾ç‰‡çš„å°ºå¯¸å¯èƒ½å¾ˆéš¾ä¿è¯é•¿å®½æ¯”ä¾‹éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æžœæˆ‘ä»¬ç›´æŽ¥ç»™å›¾ç‰‡è®¾å®šå®½é«˜ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´å›¾ç‰‡å˜å½¢ã€‚å˜å½¢ä¹‹åŽé«˜å¤§ä¸Šçš„é¡µé¢å°±ç›´æŽ¥åž®æŽ‰äº†ã€‚ å› æ­¤ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®šåˆ¶çš„imageç»„ä»¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬æœŸæœ›å›¾ç‰‡èƒ½å¤Ÿæ ¹æ®è‡ªå·±çš„å®½é«˜æ¯”ï¼Œåˆç†çš„ç¼©æ”¾ï¼Œä¿è¯åœ¨è¿™ä¸ªå—ä¸­ä¸å˜å½¢çš„æƒ…å†µä¸‹å°½å¯èƒ½çš„æ˜¾ç¤ºæ›´å¤šçš„å†…å®¹ã€‚ å‡å¦‚æœ‰ä¸€å †å›¾ç‰‡ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617&lt;section class=&quot;img-wrap&quot;&gt; &lt;div class=&quot;img-center&quot;&gt; ![](https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1491191204817&amp;di=48ea9cde3319576ed6e0b6dc6c6b75b4&amp;imgtype=0&amp;src=http%3A%2F%2Fa.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2F342ac65c103853438b3c5f8b9613b07ecb8088ad.jpg) &lt;/div&gt; &lt;div class=&quot;img-center&quot;&gt; ![](https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1491191241712&amp;di=9dbd9c614b82f0b02c92c6e60875983a&amp;imgtype=0&amp;src=http%3A%2F%2Fpic5.qiyipic.com%2Fcommon%2F20130524%2F7dc5679567cd4243a0a41e5bf626ad77.jpg%3Fsrc%3Dfocustat_4_20130527_7) &lt;/div&gt; &lt;div class=&quot;img-center&quot;&gt; ![](https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1491191271233&amp;di=0c9dd2677413beadcccd66b9d4598c6b&amp;imgtype=0&amp;src=http%3A%2F%2Fb.zol-img.com.cn%2Fdesk%2Fbizhi%2Fimage%2F4%2F960x600%2F1390442684896.jpg) &lt;/div&gt; &lt;div class=&quot;img-center&quot;&gt; ![](https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1491191294538&amp;di=6474f3b560f2c100e62f118dde7e8d6c&amp;imgtype=0&amp;src=http%3A%2F%2Ff.hiphotos.baidu.com%2Fzhidao%2Fpic%2Fitem%2Fc9fcc3cec3fdfc03dfdfafcad23f8794a4c22618.jpg) &lt;/div&gt;&lt;/section&gt; æ¯ä¸€å¼ å›¾ç‰‡éƒ½æœ‰ä¸€ä¸ªåŒ…è£¹çš„divï¼Œè¿™äº›divçš„å®½é«˜ï¼Œå°±æ˜¯æˆ‘ä»¬æœŸæœ›å›¾ç‰‡èƒ½ä¿æŒçš„å®½é«˜ã€‚ å½“å›¾ç‰‡å®½åº¦å€¼è¿‡å¤§æ—¶ï¼Œæˆ‘ä»¬æœŸæœ›å›¾ç‰‡çš„é«˜åº¦ä¸º100%ï¼Œå¹¶ä¸”å·¦å³å±…ä¸­ã€‚å½“å›¾ç‰‡é«˜åº¦å€¼è¿‡å¤§æ—¶ï¼Œæˆ‘ä»¬æœŸæœ›å›¾ç‰‡çš„å®½åº¦ä¸º100%ï¼Œå¹¶ä¸”ä¸Šä¸‹å±…ä¸­ã€‚ æ ¹æ®è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“æ€Žä¹ˆå®žçŽ°ã€‚ é¦–å…ˆæ˜¯æ ·å¼çš„å®šä¹‰å¾ˆé‡è¦ã€‚ 123456789101112131415161718192021222324.img-center &#123; width: 200px; height: 150px; margin: 20px; overflow: hidden; position: relative;&#125;.img-center img &#123; display: block; position: absolute;&#125;.img-center img.aspectFill-x &#123; width: 100%; top: 50%; transform: translateY(-50%);&#125;.img-center img.aspectFill-y &#123; height: 100%; left: 50%; transform: translateX(-50%);&#125; æˆ‘åˆ†åˆ«å®šä¹‰äº†aspectFill-xä¸ŽaspectFill-yï¼Œé€šè¿‡åˆ¤æ–­ä¸åŒçš„å®½é«˜æ¯”ï¼Œæ¥å†³å®šå°†ä»–ä»¬ä¸­çš„å…¶ä¸­ä¸€ä¸ªåŠ å…¥åˆ°imgæ ‡ç­¾çš„classä¸­åŽ»å³å¯ã€‚ èŽ·å–å›¾ç‰‡çš„åŽŸå§‹å®½é«˜ï¼Œéœ€è¦ç­‰åˆ°å›¾ç‰‡åŠ è½½å®Œæ¯•ä¹‹åŽæ‰èƒ½èŽ·å–ã€‚è€Œå½“å›¾ç‰‡å·²ç»å­˜åœ¨ç¼“å­˜æ—¶ï¼Œåˆ™æœ‰ä¸€ä¸ªcompeteå±žæ€§å˜æˆtrueã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œå®šä¹‰ä¸€ä¸ªæ¨¡å—æ¥å¤„ç†è¿™ä»¶äº‹æƒ…ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253// components/imageCenter.jsdefine(function(require) &#123; // åˆ©ç”¨Promiseå°è£…ä¸€ä¸ªåŠ è½½å‡½æ•°ï¼Œè¿™é‡Œä¹Ÿæ˜¯å¯ä»¥å•ç‹¬æ”¾åœ¨ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ä¸­è¿›ä¸€æ­¥ä¼˜åŒ– var imageLoad = function(img) &#123; return new Promise(function(resolve, reject) &#123; if (img.complete) &#123; resolve(); &#125; else &#123; img.onload = function(event) &#123; resolve(event); &#125; img.onerror = function(err) &#123; reject(err); &#125; &#125; &#125;) &#125; var imageCenter = function(domList, mode) &#123; domList.forEach(function(item) &#123; var img = item.children[0]; var itemW = item.offsetWidth; var itemH = item.offsetHeight; var itemR = itemW / itemH; imageLoad(img).then(function() &#123; var imgW = img.naturalWidth; var imgH = img.naturalHeight; var imgR = imgW / imgH; var resultMode = null; switch (mode) &#123; // è¿™æ ·å†™æ˜¯å› ä¸ºæœŸå¾…æœªæ¥å¯ä»¥æ‰©å±•å…¶ä»–çš„å±•ç¤ºæ–¹å¼ case &apos;aspectFill&apos;: resultMode = imgR &gt; 1 ? &apos;aspectFill-x&apos; : &apos;aspectFill-y&apos;; break; case &apos;wspectFill&apos;: resultMode = itemR &gt; imgR ? &apos;aspectFill-x&apos; : &apos;aspectFill-y&apos; break; default: &#125; $(img).addClass(resultMode); &#125;) &#125;) &#125; return imageCenter;&#125;) é‚£ä¹ˆåœ¨ä½¿ç”¨æ—¶ï¼Œç›´æŽ¥å¼•å…¥è¿™ä¸ªæ¨¡å—å¹¶è°ƒç”¨imageCenteræ–¹æ³•å³å¯ã€‚ 1234// index.jsvar imageCenter = require(&apos;imageCenter&apos;);var imageWrapList = document.querySelectorAll(&apos;.img-center&apos;);imageCenter(imageWrapList, &apos;wspectFill&apos;); ç¬¬ä¸‰ä¸ªåº”ç”¨åœºæ™¯ï¼Œåˆ™æ˜¯è‡ªå®šä¹‰å¼¹çª—çš„å¤„ç†ã€‚ å› æ­¤è‡ªå·±ä¸“é—¨å®šä¹‰ä¸€ä¸ªå¸¸ç”¨çš„å¼¹çª—å°±å˜å¾—éžå¸¸æœ‰å¿…è¦ï¼Œè¿™å¯¹äºŽæˆ‘ä»¬å¼€å‘æ•ˆçŽ‡çš„æé«˜éžå¸¸æœ‰å¸®åŠ©ã€‚å½“ç„¶ï¼Œæˆ‘è¿™é‡Œåªæ˜¯ç®€å•çš„å†™äº†ä¸€ä¸ªç®€é™‹çš„ï¼Œä»…ä¾›å‚è€ƒã€‚ æˆ‘ä»¬æœŸæœ›çš„æ˜¯åˆ©ç”¨Promiseï¼Œå½“æˆ‘ä»¬ç‚¹å‡»ç¡®è®¤æ—¶ï¼ŒçŠ¶æ€å˜æˆresolvedï¼Œç‚¹å‡»å–æ¶ˆæ—¶ï¼ŒçŠ¶æ€å˜æˆrejectedã€‚è¿™æ ·ä¹Ÿæ–¹ä¾¿å°†å¼¹çª—ç”Ÿæˆä¸ŽåŽç»­çš„æ“ä½œå¤„ç†åŒºåˆ†å¼€æ¥ã€‚ å…ˆå®šä¹‰ä¸€ä¸ªDialogæ¨¡å—ã€‚ä½¿ç”¨çš„æ˜¯æœ€ç®€å•çš„æ–¹å¼å®šä¹‰ï¼Œåº”è¯¥ä¸ä¼šæœ‰ä»€ä¹ˆç†è§£ä¸Šçš„å›°éš¾ã€‚ä¸»è¦æä¾›äº†showå’Œhide2ä¸ªæ–¹æ³•ï¼Œç”¨äºŽå±•ç¤ºå’Œéšè—ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162// components/Dialog.jsdefine(function(require) &#123; // åˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨å®žä¾‹ var instance; function Dialog(config) &#123; this.title = config.title ? config.title : &apos;è¿™æ˜¯æ ‡é¢˜&apos;; this.content = config.content ? config.content : &apos;è¿™æ˜¯æç¤ºå†…å®¹&apos;; this.html = &apos;&lt;div class=&quot;dialog-dropback&quot;&gt;&apos; + &apos;&lt;div class=&quot;container&quot;&gt;&apos; + &apos;&lt;div class=&quot;head&quot;&gt;&apos;+ this.title +&apos;&lt;/div&gt;&apos; + &apos;&lt;div class=&quot;content&quot;&gt;&apos;+ this.content +&apos;&lt;/div&gt;&apos; + &apos;&lt;div class=&quot;footer&quot;&gt;&apos; + &apos;&lt;button class=&quot;cancel&quot;&gt;å–æ¶ˆ&lt;/button&gt;&apos; + &apos;&lt;button class=&quot;confirm&quot;&gt;ç¡®è®¤&lt;/button&gt;&apos; + &apos;&lt;/div&gt;&apos; + &apos;&lt;/div&gt;&apos; + &apos;&lt;/div&gt;&apos; &#125; Dialog.prototype = &#123; constructor: Dialog, show: function() &#123; var _this = this; if (instance) &#123; this.destory(); &#125; $(this.html).appendTo($(document.body)); instance = this; return new Promise(function(resolve, reject) &#123; $(&apos;.dialog-dropback .cancel&apos;).on(&apos;click&apos;, function(e) &#123; _this.hide(); reject(e); &#125;) $(&apos;.dialog-dropback .confirm&apos;).on(&apos;click&apos;, function(e) &#123; _this.hide(); resolve(e); &#125;) &#125;) &#125;, destory: function() &#123; instance = null; $(&apos;.dialog-dropback .cancel&apos;).off(&apos;click&apos;); $(&apos;.dialog-dropback .confirm&apos;).off(&apos;click&apos;); $(&apos;.dialog-dropback&apos;).remove(); &#125;, hide: function() &#123; this.destory(); &#125; &#125; return function(config) &#123; return new Dialog(config); &#125;&#125;) é‚£ä¹ˆåœ¨å¦å¤–ä¸€ä¸ªæ¨¡å—ä¸­éœ€è¦ä½¿ç”¨å®ƒæ—¶ï¼š 1234567891011121314define(function(require) &#123; var Dialog = require(&apos;dialog&apos;); $(&apos;button.aspect&apos;).on(&apos;click&apos;, function() &#123; Dialog(&#123; title: &apos;å‹æƒ…æç¤º&apos;, content: &apos;å¤–é¢ç©ºæ°”ä¸å¤ªå¥½ï¼Œä½ ç¡®å®šä½ è¦å‡ºé—¨é€›é€›å—ï¼Ÿ&apos; &#125;).show().then(function() &#123; console.log(&apos;ä½ ç‚¹å‡»äº†ç¡®è®¤æŒ‰é’®.&apos;); &#125;).catch(function() &#123; console.log(&apos;ä½ ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®.&apos;); &#125;) &#125;)&#125;) è¿™ä¸‰ç§åœºæ™¯å°±ä»‹ç»å®Œäº†ï¼Œä¸»è¦æ˜¯éœ€è¦å¤§å®¶é€šè¿‡æºç æ¥æ…¢æ…¢ç†è§£å’Œæ£æ‘©ã€‚çœŸæ­£æŽŒæ¡ä¹‹åŽï¼Œç›¸ä¿¡å¤§å®¶å¯¹äºŽPromiseåœ¨å¦å¤–çš„åœºæ™¯ä¸­çš„ä½¿ç”¨ä¹Ÿä¼šå˜å¾—å¾—å¿ƒåº”æ‰‹ã€‚ æœ€åŽæ€»ç»“ä¸€ä¸‹ï¼Œè¿™ç¯‡æ–‡ç« ï¼Œæ¶‰åŠåˆ°çš„ä¸œè¥¿ï¼Œæœ‰ç‚¹å¤šã€‚å¤§æ¦‚åŒ…æ‹¬PromiseåŸºç¡€çŸ¥è¯†ï¼ŒajaxåŸºç¡€çŸ¥è¯†ï¼Œå¦‚ä½•åˆ©ç”¨Promiseå°è£…ajaxï¼Œå¦‚ä½•ä½¿ç”¨requireæ¨¡å—ç³»ç»Ÿï¼Œå¦‚ä½•åœ¨æ¨¡å—ä¸­ä½¿ç”¨Promiseï¼Œå¹¶ä¸”å¯¹åº”çš„ä¸‰ä¸ªåº”ç”¨åœºæ™¯åˆå„è‡ªæœ‰è®¸å¤šéœ€è¦äº†è§£çš„çŸ¥è¯†ï¼Œå› æ­¤å¯¹äºŽåŸºç¡€ç¨å·®çš„æœ‹å‹æ¥è¯´ï¼Œç†è§£é€å½»äº†è‚¯å®šä¼šæœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„è¿›æ­¥ã€‚å½“ç„¶ä¹Ÿä¼šèŠ±è´¹ä½ æ›´å¤šçš„æ—¶é—´ã€‚ å¦å¤–åœ¨æˆ‘ä»¬çš„å·¥ä½œä¸­è¿˜æœ‰ä¸€ä»¶éžå¸¸é‡è¦çš„äº‹æƒ…æ˜¯éœ€è¦æˆ‘ä»¬æŒç»­åŽ»åšçš„ã€‚é‚£å°±æ˜¯å°†å¸¸ç”¨çš„åœºæ™¯å°è£…æˆä¸ºå¯ä»¥å…±ç”¨çš„æ¨¡å—ï¼Œç­‰åˆ°ä¸‹æ¬¡ä½¿ç”¨æ—¶ï¼Œå°±å¯ä»¥ç›´æŽ¥æ‹¿æ¥ä½¿ç”¨è€ŒèŠ‚çœéžå¸¸å¤šçš„å¼€å‘æ—¶é—´ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œå¯¹äºŽimgçš„å¤„ç†ï¼Œå¯¹äºŽå¼¹çª—çš„å¤„ç†ï¼Œéƒ½æ˜¯å¯ä»¥æ‰©å±•æˆä¸ºä¸€ä¸ªé€šç”¨çš„æ¨¡å—çš„ã€‚æ…¢æ…¢ç§¯ç´¯å¤šäº†ï¼Œä½ çš„å¼€å‘æ•ˆçŽ‡å°±å¯ä»¥å¾—åˆ°æ˜Žæ˜¾çš„æé«˜ï¼Œè¿™äº›ç§¯ç´¯ï¼Œä¹Ÿå°†ä¼šå˜æˆä½ çš„ä¼˜åŠ¿æ‰€åœ¨ã€‚ åŽç»­çš„æ–‡ç« æˆ‘ä¼šåˆ†äº«å¦‚ä½•åˆ©ç”¨reactä¸Žes6æ¨¡å—ç³»ç»Ÿå°è£…çš„å…±ç”¨ç»„ä»¶ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å­¦ä¹ äº†ä¹‹åŽï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œå°è£…æœ€é€‚åˆä½ è‡ªå·±çš„ä¸€å¥—ç»„ä»¶ã€‚ æœ€åŽï¼Œæœ€è¿‘é—®æˆ‘æ€Žä¹ˆå­¦ä¹ çš„äººè¶Šæ¥è¶Šå¤šï¼Œæˆ‘çœŸçš„æœ‰ç‚¹å›žç­”ä¸è¿‡æ¥äº†ï¼Œæˆ‘æƒ³æŠŠæˆ‘è¿™äº›æ–‡ç« é‡Œçš„çŸ¥è¯†éƒ½æŽŒæ¡äº†ï¼Œåº”ä»˜æ¯•ä¸šä¹‹åŽçš„ç¬¬ä¸€ä»½å·¥ä½œåº”è¯¥ä¸æ˜¯ä»€ä¹ˆé—®é¢˜çš„å§ï¼Ÿè€Œä¸”ä¸ºäº†ä½ ä»¬èƒ½å¤ŸæŽŒæ¡Promiseçš„ä½¿ç”¨ï¼Œæˆ‘è¿˜ä¸“é—¨ç»™è¯»è€…è€çˆ·ä»¬åˆ›å»ºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œåˆ—ä¸¾äº†æ•´æ•´ä¸‰ä¸ªå®žä¾‹ï¼Œè¿˜æœ‰æºä»£ç ä¾›ä½ ä»¬å­¦ä¹ ï¼Œæˆ‘å­¦Promiseçš„æ—¶å€™ï¼Œæ‰¾å¥½ä¹…éƒ½æ²¡æ‰¾åˆ°ä¸€ä¸ªç¨å¾®æŽ¥è¿‘å®žé™…åº”ç”¨çš„æ¡ˆä¾‹ï¼Œå­¦äº†å¥½ä¹…æ‰çŸ¥é“æ€Žä¹ˆä½¿ç”¨ï¼Œæ•ˆçŽ‡ä¹‹ä½Žå¯æƒ³è€ŒçŸ¥ã€‚æ‰€ä»¥é™ä¸‹å¿ƒæ¥æ…¢æ…¢å­¦ä¹ å§ï¼ŒèŠ±ç‚¹æ—¶é—´æ˜¯å€¼å¾—çš„ ~ ~ ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„ES6å¸¸ç”¨çŸ¥è¯†åˆé›†]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E5%90%88%E9%9B%86%2F</url>
    <content type="text"><![CDATA[åœ¨å®žé™…å¼€å‘ä¸­ï¼ŒES6å·²ç»éžå¸¸æ™®åŠäº†ã€‚æŽŒæ¡ES6çš„çŸ¥è¯†å˜æˆäº†ä¸€ç§å¿…é¡»ã€‚å°½ç®¡æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶ä»ç„¶éœ€è¦ç»è¿‡babelç¼–è¯‘ã€‚ ES6å½»åº•æ”¹å˜äº†å‰ç«¯çš„ç¼–ç é£Žæ ¼ï¼Œå¯ä»¥è¯´å¯¹äºŽå‰ç«¯çš„å½±å“éžå¸¸å·¨å¤§ã€‚å€¼å¾—é«˜å…´çš„æ˜¯ï¼Œå¦‚æžœä½ ç†Ÿæ‚‰ES5ï¼Œå­¦ä¹ ES6å¹¶ä¸éœ€è¦èŠ±è´¹å¤ªå¤šçš„æ—¶é—´å°±å¯ä»¥æŽŒæ¡ï¼Œå› ä¸ºå¸¸ç”¨çš„åŸºç¡€è¯­æ³•å¹¶ä¸å¤šï¼ŒèŠ±å°‘é‡çš„æ—¶é—´ï¼Œå°±å¯ä»¥å¼€å§‹æˆ‘ä»¬çš„ES6ä¹‹æ—…äº†ã€‚ è¿™ç¯‡æ–‡ç« ä¸ä¼šè¯¦ç»†çš„å‘Šè¯‰ä½ ES6çš„æ¯ä¸€ä¸ªç»†èŠ‚çŸ¥è¯†ï¼Œåªä¼šæ ¹æ®æˆ‘è‡ªå·±çš„å¼€å‘ç»éªŒï¼Œå°†æˆ‘åœ¨å®žé™…å¼€å‘ä¸­å¸¸å¸¸ç”¨åˆ°çš„çŸ¥è¯†ç‚¹åˆ†äº«ç»™å¤§å®¶ï¼Œç»™å¤§å®¶å­¦ä¹ ES6ä¸€ä¸ªæ–¹å‘çš„æŒ‡å¼•ã€‚è¿™æ˜¯å› ä¸ºè€ƒè™‘åˆ°å¾ˆå¤šåŒå­¦è™½ç„¶çŸ¥é“ES6çš„é‡è¦æ€§ï¼Œä½†æ˜¯ä¸çŸ¥é“è‡ªå·±éœ€è¦æŽŒæ¡é‚£äº›ES6çš„çŸ¥è¯†ï¼Œä¹Ÿä¸çŸ¥é“è¿™äº›çŸ¥è¯†éœ€è¦æŽŒæ¡åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œè¿™ç»™æ–°æ‰‹æœ‹å‹å¸¦æ¥äº†è®¸å¤šå›°æƒ‘ï¼Œå› æ­¤è¿™ç¯‡æ–‡ç« å°±ç®—æ˜¯ä¸€ä¸ªåˆ’é‡ç‚¹å§ï¼ŒæŽŒæ¡è¿™äº›ï¼Œå°±å¯ä»¥è½»è½»æ¾æ¾å¾—è¿›è¡Œè¿›ä¸€æ­¥å­¦ä¹ äº†ã€‚ åœ¨å­¦ä¹ ä¹‹å‰ï¼ŒæŽ¨èå¤§å®¶ä½¿ç”¨babelå®˜æ–¹æä¾›çš„åœ¨çº¿ç¼–è¯‘å·¥å…·ï¼Œç¼–å†™è‡ªå·±çš„demoï¼Œä¼šåœ¨å³ä¾§å®žæ—¶æ˜¾ç¤ºå‡ºç¼–è¯‘ä¹‹åŽçš„ä»£ç ï¼Œä»¥ä¾›å‚è€ƒå­¦ä¹  http://babeljs.io/repl/ ä¸€ã€æ–°çš„å˜é‡å£°æ˜Žæ–¹å¼ let/constä¸Žvarä¸åŒï¼Œæ–°çš„å˜é‡å£°æ˜Žæ–¹å¼å¸¦æ¥äº†ä¸€äº›ä¸ä¸€æ ·çš„ç‰¹æ€§ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªç‰¹æ€§å°±æ˜¯æä¾›äº†å—çº§ä½œç”¨åŸŸä¸Žä¸å†å…·å¤‡å˜é‡æå‡ã€‚ é€šè¿‡2ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜Žè¿™ä¸¤ç‚¹ã€‚ 12345&#123; let a = 20;&#125;console.log(a); // a is not defined è€Œè¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºï¼š 12345&#123; let _a = 20;&#125;console.log(a); // a is not defined 1234567// ES5console.log(a); // undefinedvar a = 20;// ES6console.log(a); // a is not definedlet a = 20; å½“ç„¶ï¼Œä½ çš„ä»£ç ç¼–è¯‘æˆä¸ºäº†ES5ä¹‹åŽï¼Œä»ç„¶ä¼šå­˜åœ¨å˜é‡æå‡ï¼Œè¿™ä¸€ç‚¹åªéœ€è¦æˆ‘ä»¬è®°ä½å³å¯ã€‚åœ¨å®žé™…ä½¿ç”¨ä¸­ï¼Œä¹Ÿéœ€è¦å°½é‡é¿å…ä½¿ç”¨å˜é‡æå‡çš„ç‰¹æ€§å¸¦æ¥çš„è´Ÿé¢å½±å“ã€‚åªæœ‰åœ¨é¢è¯•é¢˜ä¸­ï¼Œæ‰ä¼šå¯¹å˜é‡æå‡ä¸åœçš„æ»¥ç”¨ã€‚ ä½¿ç”¨ES6ï¼Œæˆ‘ä»¬éœ€è¦å…¨é¢ä½¿ç”¨let/constæ›¿æ¢varï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™ç”¨letï¼Œä»€ä¹ˆæ—¶å€™ç”¨constå°±æˆä¸ºäº†ä¸€ä¸ªå¤§å®¶è¦ç†Ÿç»ƒåŒºåˆ†çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ã€‚ æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨letæ¥å£°æ˜Žä¸€ä¸ªå€¼ä¼šè¢«æ”¹å˜çš„å˜é‡ï¼Œè€Œä½¿ç”¨constæ¥å£°æ˜Žä¸€ä¸ªå€¼ä¸ä¼šè¢«æ”¹å˜çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå¸¸é‡ã€‚ å½“å€¼ä¸ºåŸºç¡€æ•°æ®ç±»åž‹æ—¶ï¼Œé‚£ä¹ˆè¿™é‡Œçš„å€¼ï¼Œå°±æ˜¯æŒ‡å€¼æœ¬èº«ã€‚è€Œå½“å€¼å¯¹åº”çš„ä¸ºå¼•ç”¨æ•°æ®ç±»åž‹æ—¶ï¼Œé‚£ä¹ˆæˆ‘è¿™é‡Œè¯´çš„å€¼ï¼Œåˆ™è¡¨ç¤ºæŒ‡å‘è¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæ­£å› ä¸ºè¯¥å€¼ä¸ºä¸€ä¸ªå¼•ç”¨ï¼Œåªéœ€è¦ä¿è¯å¼•ç”¨ä¸å˜å°±å¯ä»¥ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥æ”¹å˜è¯¥å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚ å½“æˆ‘ä»¬è¯•å›¾æ”¹å˜constå£°æ˜Žçš„å˜é‡æ—¶ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚ å†™å‡ ä¸ªä¾‹å­ï¼Œå¤§å®¶å¯ä»¥ä»”ç»†æ£æ‘©ä¸€ä¸‹ï¼š 12let a = null;a = 20; 12345678const obDev = &#123; a: 20, b: 30&#125;obDev.a = 30;console.log(obDev); // Object &#123;a: 30, b: 30&#125; 123const fn = function() &#123;&#125;const a = obDev.a;... ... åªè¦æŠ“ä½ä¸Šé¢æˆ‘è¯´çš„ç‰¹æ€§ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨let/constæ—¶å°±ä¼šæ˜¾å¾—æ¸¸åˆƒæœ‰ä½™ã€‚æ ¹æ®æˆ‘è‡ªå·±çš„ç»éªŒï¼Œä½¿ç”¨constçš„åœºæ™¯è¦æ¯”ä½¿ç”¨letçš„åœºæ™¯å¤šå¾ˆå¤šã€‚ äºŒã€ ç®­å¤´å‡½æ•°çš„ä½¿ç”¨ä¹‹å‰æˆ‘è¯´ES6é¢ è¦†äº†jsçš„ç¼–ç ä¹ æƒ¯ï¼Œç®­å¤´å‡½æ•°çš„ä½¿ç”¨å äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚ é¦–å…ˆæ˜¯å†™æ³•ä¸Šçš„ä¸åŒ: 123456789101112131415161718192021// es5var fn = function(a, b) &#123; return a + b;&#125;// es6 ç®­å¤´å‡½æ•°å†™æ³•ï¼Œå½“å‡½æ•°ç›´æŽ¥è¢«returnæ—¶ï¼Œå¯ä»¥çœç•¥å‡½æ•°ä½“çš„æ‹¬å·const fn = (a, b) =&gt; a + b;// es5var foo = function() &#123; var a = 20ï¼› var b = 30; return a + b;&#125;// es6const foo = () =&gt; &#123; const a = 20; const b = 30; return a + b;&#125; ç®­å¤´å‡½æ•°å¯ä»¥æ›¿æ¢å‡½æ•°è¡¨è¾¾å¼ï¼Œä½†æ˜¯ä¸èƒ½æ›¿æ¢å‡½æ•°å£°æ˜Ž å…¶æ¬¡è¿˜æœ‰ä¸€ä¸ªè‡³å…³é‡è¦çš„ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯ç®­å¤´å‡½æ•°ä¸­ï¼Œæ²¡æœ‰thisã€‚å¦‚æžœä½ åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨äº†thisï¼Œé‚£ä¹ˆè¯¥thisä¸€å®šå°±æ˜¯å¤–å±‚çš„thisã€‚ ä¹Ÿæ­£æ˜¯å› ä¸ºç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰thisï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå°±æ— ä»Žè°ˆèµ·ç”¨call/apply/bindæ¥æ”¹å˜thisæŒ‡å‘ã€‚è®°ä½è¿™ä¸ªç‰¹æ€§ï¼Œèƒ½è®©ä½ åœ¨reactç»„ä»¶ä¹‹é—´ä¼ å€¼æ—¶å°‘èµ°æ— æ•°å¼¯è·¯ã€‚ 1234567891011121314151617181920var person = &#123; name: 'tom', getName: function() &#123; return this.name; &#125;&#125;// æˆ‘ä»¬è¯•å›¾ç”¨ES6çš„å†™æ³•æ¥é‡æž„ä¸Šé¢çš„å¯¹è±¡const person = &#123; name: 'tom', getName: () =&gt; this.name&#125;// ä½†æ˜¯ç¼–è¯‘ç»“æžœå´æ˜¯var person = &#123; name: 'tom', getName: function getName() &#123; return undefined.name; &#125;&#125;; åœ¨ES6ä¸­ï¼Œä¼šé»˜è®¤é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå› æ­¤thisä¹Ÿä¸ä¼šè‡ªåŠ¨æŒ‡å‘windowå¯¹è±¡äº†ï¼Œè€Œç®­å¤´å‡½æ•°æœ¬èº«å¹¶æ²¡æœ‰thisï¼Œå› æ­¤thiså°±åªèƒ½æ˜¯undefinedï¼Œè¿™ä¸€ç‚¹ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œä¸€å®šè¦æ…Žé‡æ…Žé‡å†æ…Žé‡ï¼Œä¸ç„¶è¸©äº†å‘ä½ éƒ½ä¸çŸ¥é“è‡ªå·±é”™åœ¨å“ªï¼è¿™ç§æƒ…å†µï¼Œå¦‚æžœä½ è¿˜æƒ³ç”¨thisï¼Œå°±ä¸è¦ç”¨ä½¿ç”¨ç®­å¤´å‡½æ•°çš„å†™æ³•ã€‚ 12345678910111213141516171819// å¯ä»¥ç¨åšæ”¹åŠ¨const person = &#123; name: 'tom', getName: function() &#123; return setTimeout(() =&gt; this.name, 1000); &#125;&#125;// ç¼–è¯‘ä¹‹åŽå˜æˆvar person = &#123; name: 'tom', getName: function getName() &#123; var _this = this; // ä½¿ç”¨äº†æˆ‘ä»¬åœ¨es5æ—¶å¸¸ç”¨çš„æ–¹å¼ä¿å­˜thiså¼•ç”¨ return setTimeout(function () &#123; return _this.name; &#125;, 1000); &#125;&#125;; å…ˆè®°ä½ç®­å¤´å‡½æ•°çš„å†™æ³•ï¼Œå¹¶ç•™æ„ç®­å¤´å‡½æ•°ä¸­å…³äºŽthisçš„ç‰¹æ®Šæ€§ï¼Œæ›´è¿‡å®žè·µä¸Žæ³¨æ„äº‹é¡¹æˆ‘ä»¬åœ¨å°è£…reactç»„ä»¶æ—¶å†æ…¢æ…¢æ¥æ„Ÿå—ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œç®­å¤´å‡½æ•°ä¸­æ— æ³•è®¿é—®argumentså¯¹è±¡ã€‚ ä¸‰ã€æ¨¡æ¿å­—ç¬¦ä¸²æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯ä¸ºäº†è§£å†³ä½¿ç”¨+å·æ‹¼æŽ¥å­—ç¬¦ä¸²çš„ä¸ä¾¿åˆ©è€Œå‡ºçŽ°çš„ã€‚å®ƒçš„åŠŸèƒ½éžå¸¸å¼ºå¤§ï¼Œä½†æ˜¯æˆ‘ä»¬å¤§å¤šæ•°æ—¶å€™ä½¿ç”¨å®ƒåˆ™éžå¸¸ç®€å•ã€‚çœ‹ä¸€ä¸ªä¾‹å­å¤§å®¶å°±æ˜Žç™½æ€Žä¹ˆä½¿ç”¨äº†ã€‚ 123456789// es6const a = 20;const b = 30;const string = `$&#123;a&#125;+$&#123;b&#125;=$&#123;a+b&#125;`;// es5var a = 20;var b = 30;var string = a + "+" + b + "=" + (a + b); ä½¿ç”¨ å°†æ•´ä¸ªå­—ç¬¦ä¸²åŒ…è£¹èµ·æ¥ï¼Œè€Œåœ¨å…¶ä¸­ä½¿ç”¨ ${} æ¥åŒ…è£¹ä¸€ä¸ªå˜é‡æˆ–è€…ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ å½“ç„¶æ¨¡æ¿å­—ç¬¦ä¸²è¿˜æ”¯æŒæ¢è¡Œç­‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œæ›´å¤šçš„å¤§å®¶å¯é€šè¿‡å‚è€ƒèµ„æ–™è¿›ä¸€æ­¥å­¦ä¹ ã€‚ å››ã€ è§£æžç»“æž„è§£æžç»“æž„æ˜¯ä¸€ç§å…¨æ–°çš„å†™æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ä¸€ä¸ªä¾‹å­ï¼Œå¤§å®¶å°±èƒ½å¤Ÿæ˜Žç™½è§£æžç»“æž„åˆ°åº•æ˜¯æ€Žä¹ˆä¸€å›žäº‹å„¿ã€‚ 1234567// é¦–å…ˆæœ‰è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡const props = &#123; className: 'tiger-button', loading: false, clicked: true, disabled: 'disabled'&#125; å½“æˆ‘ä»¬æƒ³è¦å–å¾—å…¶ä¸­çš„2ä¸ªå€¼ï¼šloadingä¸Žclickedæ—¶ï¼š 123456789// es5var loading = props.loading;var clicked = props.clicked;// es6const &#123; loading, clicked &#125; = props;// ç»™ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“propså¯¹è±¡ä¸­æ‰¾ä¸åˆ°loadingæ—¶ï¼Œloadingå°±ç­‰äºŽè¯¥é»˜è®¤å€¼const &#123; loading = false, clicked &#125; = props; æ˜¯ä¸æ˜¯ç®€å•äº†è®¸å¤šï¼Ÿæ­£æ˜¯ç”±äºŽè§£æžç»“æž„å¤§å¤§å‡å°‘äº†ä»£ç é‡ï¼Œå› æ­¤å®ƒå¤§å—æ¬¢è¿Žï¼Œåœ¨å¾ˆå¤šä»£ç ä¸­å®ƒçš„å½±å­éšå¤„å¯è§ã€‚ 123456789101112// æ¯”å¦‚// section1import React, &#123; Component &#125; from 'react';// section2export &#123; default &#125; from './Button';// section3const &#123; click, loading &#125; = this.props;const &#123; isCheck &#125; = this.state;// more ä»»ä½•èŽ·å–å¯¹è±¡å±žæ€§å€¼çš„åœºæ™¯éƒ½å¯ä»¥ä½¿ç”¨è§£æžç»“æž„æ¥å‡å°‘æˆ‘ä»¬çš„ä»£ç é‡ å¦å¤–ï¼Œæ•°ç»„ä¹Ÿæœ‰å±žäºŽè‡ªå·±çš„è§£æžç»“æž„ã€‚ 123456789// es6const arr = [1, 2, 3];const [a, b, c] = arr;// es5var arr = [1, 2, 3];var a = arr[0];var b = arr[1];var c = arr[2]; æ•°ç»„ä»¥åºåˆ—å·ä¸€ä¸€å¯¹åº”ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰åºçš„å¯¹åº”å…³ç³»ã€‚è€Œå¯¹è±¡æ ¹æ®å±žæ€§åä¸€ä¸€å¯¹åº”ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— åºçš„å¯¹åº”å…³ç³»ã€‚æ ¹æ®è¿™ä¸ªç‰¹æ€§ï¼Œä½¿ç”¨è§£æžç»“æž„ä»Žå¯¹è±¡ä¸­èŽ·å–å±žæ€§å€¼æ›´åŠ å…·æœ‰å¯ç”¨æ€§ã€‚ äº”ã€ å‡½æ•°é»˜è®¤å‚æ•°ä¹‹å‰æˆ‘ä»¬ä¸èƒ½ç›´æŽ¥ä¸ºå‡½æ•°æŒ‡å®šé»˜è®¤å‚æ•°ï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™ä¸ºäº†ä¿è¯ä¼ å…¥çš„å‚æ•°å…·å¤‡ä¸€ä¸ªé»˜è®¤å€¼ï¼Œæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•ï¼š 1234567function add(x, y) &#123; var x = x || 20; var y = y || 30; return x + y;&#125;console.log(add()); // 50 è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹ï¼Œæ¯”å¦‚å½“æˆ‘ä¼ å…¥ä¸€ä¸ªxå€¼ä¸ºfalseï¼Œè¿™ä¸ªæ—¶å€™ä»»ç„¶ä¼šå–åˆ°é»˜è®¤å€¼ï¼Œå°±ä¸æ˜¯æˆ‘ä»¬çš„æœ¬æ„äº†ã€‚ æ¥çœ‹çœ‹ES6çš„é»˜è®¤å€¼å†™æ³•ï¼š 12345function add(x = 20, y = 30) &#123; return x + y;&#125;console.log(add()); åœ¨å®žé™…å¼€å‘ä¸­ç»™å‚æ•°æ·»åŠ é€‚å½“çš„é»˜è®¤å€¼ï¼Œå¯ä»¥è®©æˆ‘ä»¬å¯¹å‡½æ•°çš„å‚æ•°ç±»åž‹æœ‰ä¸€ä¸ªç›´è§‚çš„è®¤çŸ¥ã€‚ 123456789const ButtonGroupProps = &#123; size: 'normal', className: 'xxxx-button-group', borderColor: '#333'&#125;export default function ButtonGroup(props = ButtonGroupProps) &#123; ... ...&#125; å…­ã€ å±•å¼€è¿ç®—ç¬¦åœ¨ES6ä¸­ç”¨...æ¥è¡¨ç¤ºå±•å¼€è¿ç®—ç¬¦ï¼Œå®ƒå¯ä»¥å°†æ•°ç»„æ–¹æ³•æˆ–è€…å¯¹è±¡è¿›è¡Œå±•å¼€ã€‚å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­å®ƒæ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚ 1234const arr1 = [1, 2, 3];const arr2 = [...arr1, 10, 20, 30];// è¿™æ ·ï¼Œarr2 å°±å˜æˆäº†[1, 2, 3, 10, 20, 30]; å½“ç„¶ï¼Œå±•å¼€å¯¹è±¡æ•°æ®ä¹Ÿæ˜¯å¯ä»¥å¾—åˆ°ç±»ä¼¼çš„ç»“æžœ 1234567891011121314const obj1 = &#123; a: 1, b: 2, c: 3&#125;const obj2 = &#123; ...obj1, d: 4, e: 5, f: 6&#125;// ç»“æžœç±»ä¼¼äºŽ const obj2 = Object.assign(&#123;&#125;, obj1, &#123;d: 4&#125;) å±•å¼€è¿ç®—ç¬¦è¿˜å¸¸å¸¸è¿ç”¨åœ¨è§£æžç»“æž„ä¹‹ä¸­ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨Raectå°è£…ç»„ä»¶çš„æ—¶å€™å¸¸å¸¸ä¸ç¡®å®špropsåˆ°åº•è¿˜æœ‰å¤šå°‘æ•°æ®ä¼šä¼ è¿›æ¥ï¼Œå°±ä¼šåˆ©ç”¨å±•å¼€è¿ç®—ç¬¦æ¥å¤„ç†å‰©ä½™çš„æ•°æ®ã€‚ 1234567891011121314// è¿™ç§æ–¹å¼åœ¨reactä¸­ååˆ†å¸¸ç”¨const props = &#123; size: 1, src: 'xxxx', mode: 'si'&#125;const &#123; size, ...others &#125; = props;console.log(others)// ç„¶åŽå†åˆ©ç”¨æš‚å¼€è¿ç®—ç¬¦ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå†ä»¥åŽå°è£…reactç»„ä»¶æ—¶ä¼šå¤§é‡ä½¿ç”¨åˆ°è¿™ç§æ–¹å¼ï¼Œæ­£åœ¨å­¦ä¹ reactçš„åŒå­¦ä¸€å®šè¦æžæ‡‚è¿™ç§ä½¿ç”¨æ–¹å¼&lt;button &#123;...others&#125; size=&#123;size&#125; /&gt; å±•å¼€è¿ç®—ç¬¦è¿˜ç”¨åœ¨å‡½æ•°çš„å‚æ•°ä¸­ï¼Œæ¥è¡¨ç¤ºå‡½æ•°çš„ä¸å®šå‚ã€‚åªæœ‰æ”¾åœ¨æœ€åŽæ‰èƒ½ä½œä¸ºå‡½æ•°çš„ä¸å®šå‚ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 123456// æ‰€æœ‰å‚æ•°ä¹‹å’Œconst add = (a, b, ...more) =&gt; &#123; return more.reduce((m, n) =&gt; m + n) + a + b&#125;console.log(add(1, 23, 1, 2, 3, 4, 5)) // 39 å±•å¼€è¿ç®—ç¬¦çš„è¿ç”¨å¯ä»¥å¤§å¤§æé«˜æˆ‘ä»¬çš„ä»£ç æ•ˆçŽ‡ï¼Œä½†æ˜¯åœ¨åˆšå¼€å§‹ä½¿ç”¨çš„æ—¶å€™æ¯”è¾ƒç»•è„‘ï¼ŒæŽŒæ¡å¥½äº†ç”¨èµ·æ¥è¿˜æ˜¯éžå¸¸çˆ½çš„ï¼Œè®°ä½è¿™äº›ä½¿ç”¨åœºæ™¯ï¼Œå¹³æ—¶åœ¨ç”¨çš„æ—¶å€™å¯ä»¥åˆ»æ„å¤šè¿ç”¨å°±è¡Œäº†ã€‚ ä¸ƒã€å¯¹è±¡å­—é¢é‡ ä¸Ž classES6é’ˆå¯¹å¯¹è±¡å­—é¢é‡åšäº†è®¸å¤šç®€åŒ–è¯­æ³•çš„å¤„ç†ã€‚ å½“å±žæ€§ä¸Žå€¼çš„å˜é‡åŒåæ—¶ã€‚ 1234567891011121314const name = 'Jane';const age = 20// es6const person = &#123; name, age&#125;// es5var person = &#123; name: name, age: age&#125;; é‚£ä¹ˆè¿™ç§æ–¹å¼åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªæ¨¡å—å¯¹å¤–æä¾›æŽ¥å£æ—¶ 12345678const getName = () =&gt; person.name;const getAge = () =&gt; person.age;// commonJSçš„æ–¹å¼module.exports = &#123; getName, getAge &#125;// ES6 modulesçš„æ–¹å¼export default &#123; getName, getAge &#125; é™¤äº†å±žæ€§ä¹‹å¤–ï¼Œå¯¹è±¡å­—é¢é‡å†™æ³•ä¸­çš„æ–¹æ³•ä¹Ÿå¯ä»¥æœ‰ç®€å†™æ–¹å¼ã€‚ 1234567891011121314151617// es6const person = &#123; name, age, getName() &#123; // åªè¦ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œthiså°±è¿˜æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„this return this.name &#125;&#125;// es5var person = &#123; name: name, age: age, getName: function getName() &#123; return this.name; &#125;&#125;; åœ¨å¯¹è±¡å­—é¢é‡ä¸­å¯ä»¥ä½¿ç”¨ä¸­æ‹¬å·ä½œä¸ºå±žæ€§ï¼Œè¡¨ç¤ºå±žæ€§åä¹Ÿèƒ½æ˜¯ä¸€ä¸ªå˜é‡äº†ã€‚ 1234567const name = 'Jane';const age = 20const person = &#123; [name]: true, [age]: true&#125; åœ¨ant-designçš„æºç å®žçŽ°ä¸­ï¼Œå°±å¤§é‡ä½¿ç”¨äº†è¿™ç§æ–¹å¼æ¥æ‹¼æŽ¥å½“å‰å…ƒç´ çš„classNameï¼Œä¾‹å¦‚: 1234567let alertCls = classNames(prefixCls, &#123; [`$&#123;prefixCls&#125;-$&#123;type&#125;`]: true, [`$&#123;prefixCls&#125;-close`]: !this.state.closing, [`$&#123;prefixCls&#125;-with-description`]: !!description, [`$&#123;prefixCls&#125;-no-icon`]: !showIcon, [`$&#123;prefixCls&#125;-banner`]: !!banner, &#125;, className); ant-designæ˜¯ä¸€ä¸ªè®¤å¯åº¦éžå¸¸é«˜çš„UIç»„ä»¶åº“ï¼Œå®˜æ–¹ä½¿ç”¨reactçš„æ–¹å¼è¿›è¡Œäº†å®žçŽ°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰vueä¹Ÿæœ‰å¯¹åº”çš„å®žçŽ°ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥åŽ»ä»–ä»¬çš„å®˜ç½‘äº†è§£å­¦ä¹ ã€‚https://ant.design/index-cn class ES6ä¸ºæˆ‘ä»¬åˆ›å»ºå¯¹è±¡æä¾›äº†æ–°çš„è¯­æ³•ç³–ï¼Œè¿™å°±æ˜¯Classè¯­æ³•ã€‚å¦‚æžœä½ å¯¹ES5ä¸­é¢å‘å¯¹è±¡çš„æ–¹å¼æ¯”è¾ƒç†Ÿæ‚‰çš„è¯ï¼ŒClassæŽŒæ¡èµ·æ¥ä¹Ÿæ˜¯éžå¸¸è¿…é€Ÿçš„ï¼Œå› ä¸ºé™¤äº†å†™æ³•çš„ä¸åŒï¼Œå®ƒå¹¶ä¸ä¼šå¢žåŠ æ–°çš„éš¾ä»¥ç†è§£çš„çŸ¥è¯†ç‚¹ã€‚æˆ‘ä»¬å…ˆåˆ©ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥çœ‹çœ‹å†™æ³•çš„ä¸åŒã€‚ 1234567891011121314151617181920212223// ES5// æž„é€ å‡½æ•°function Person(name, age) &#123; this.name = name; this.age = age;&#125;// åŽŸåž‹æ–¹æ³•Person.prototype.getName = function() &#123; return this.name&#125;// ES6class Person &#123; constructor(name, age) &#123; // æž„é€ å‡½æ•° this.name = name; this.age = age; &#125; getName() &#123; // åŽŸåž‹æ–¹æ³• return this.name &#125;&#125; babelä¼šå°†ES6çš„å†™æ³•ç¼–è¯‘æˆä¸ºåˆ©ç”¨Object.definePropertyå®žçŽ°çš„æ–¹å¼ï¼Œè¿™ä¸ªæ–¹æ³•çš„å…·ä½“ç”¨å¤„å¤§å®¶å¯ä»¥åœ¨ã€ŠJavaScripté«˜çº§ç¼–ç¨‹3ã€‹ä¸­å­¦ä¹ äº†è§£ï¼ŒåŒ…æ‹¬getï¼Œsetï¼Œç­‰éƒ½æœ‰è¯¦ç»†çš„è¯´æ˜Ž é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç‰¹åˆ«æ³¨æ„åœ¨å®žé™…ä½¿ç”¨ä¸­çš„å‡ ç§å†™æ³•æ–¹å¼çš„ä¸åŒï¼Œåœ¨ä¸‹é¢çš„ä¾‹å­æ³¨é‡Šä¸­ï¼Œæˆ‘è¯´æ˜Žäº†ä»–ä»¬åˆ†åˆ«å¯¹åº”çš„ES5ä¸­çš„å«ä¹‰ã€‚ 123456789101112131415161718class Person &#123; constructor(name, age) &#123; // æž„é€ å‡½æ•° this.name = name; this.age = age; &#125; getName() &#123; // è¿™ç§å†™æ³•è¡¨ç¤ºå°†æ–¹æ³•æ·»åŠ åˆ°åŽŸåž‹ä¸­ return this.name &#125; static a = 20; // ç­‰åŒäºŽ Person.a = 20 c = 20; // è¡¨ç¤ºåœ¨æž„é€ å‡½æ•°ä¸­æ·»åŠ å±žæ€§ åœ¨æž„é€ å‡½æ•°ä¸­ç­‰åŒäºŽ this.c = 20// ç®­å¤´å‡½æ•°çš„å†™æ³•è¡¨ç¤ºåœ¨æž„é€ å‡½æ•°ä¸­æ·»åŠ æ–¹æ³•ï¼Œåœ¨æž„é€ å‡½æ•°ä¸­ç­‰åŒäºŽthis.getAge = function() &#123;&#125; getAge = () =&gt; this.age &#125; ç®­å¤´å‡½æ•°éœ€è¦æ³¨æ„çš„ä»ç„¶æ˜¯thisçš„æŒ‡å‘é—®é¢˜ï¼Œå› ä¸ºç®­å¤´å‡½æ•°thisæŒ‡å‘ä¸èƒ½è¢«æ”¹å˜çš„ç‰¹æ€§ï¼Œå› æ­¤åœ¨reactç»„ä»¶ä¸­å¸¸å¸¸åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥åœ¨ä¸åŒçš„ç»„ä»¶è¿›è¡Œä¼ å€¼ä¼šæ›´åŠ æ–¹ä¾¿ã€‚ ç»§æ‰¿ extends ç›¸æ¯”ES5ï¼ŒES6çš„ç»§æ‰¿å°±è¦ç®€å•å¾ˆå¤šï¼Œæˆ‘ä»¬ç›´æŽ¥æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚ 1234567891011121314151617181920212223class Person &#123; constructor(name, age) &#123; this.name = name; this.age = age; &#125; getName() &#123; return this.name &#125;&#125;// Studentç±»ç»§æ‰¿Personç±»class Student extends Person &#123; constructor(name, age, gender, classes) &#123; super(name, age); this.gender = gender; this.classes = classes; &#125; getGender() &#123; return this.gender; &#125;&#125; æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªextendså…³é”®å­—ï¼Œå°±å¯ä»¥å®žçŽ°ç»§æ‰¿äº†ï¼Œä¸ç”¨åƒES5é‚£æ ·åŽ»æ‹…å¿ƒæž„é€ å‡½æ•°ç»§æ‰¿å’ŒåŽŸåž‹ç»§æ‰¿ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å…³æ³¨ä¸€ä¸ªå«åšsuperçš„æ–¹æ³•ã€‚ åœ¨ç»§æ‰¿çš„æž„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»å¦‚ä¸Šé¢çš„ä¾‹å­é‚£ä¹ˆè°ƒç”¨ä¸€æ¬¡superæ–¹æ³•ï¼Œå®ƒè¡¨ç¤ºæž„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œä¸ŽES5ä¸­åˆ©ç”¨call/applyç»§æ‰¿æž„é€ å‡½æ•°æ˜¯ä¸€æ ·çš„åŠŸèƒ½ã€‚ 123456// æž„é€ å‡½æ•°ä¸­// es6super(name, age);// es5Person.call(this); superè¿˜å¯ä»¥ç›´æŽ¥è°ƒç”¨çˆ¶çº§çš„åŽŸåž‹æ–¹æ³•ï¼Œsuper.getNameï¼Œä½†æ˜¯æˆ‘è‡ªå·±ä»Žæ¥æ²¡è¿™æ ·ç”¨è¿‡ï¼Œä¹Ÿå°±ä¸æ‰©å±•è¯´äº†ã€‚ ç»§æ‰¿åœ¨reactä¸­æœ‰å¤§é‡çš„ä½¿ç”¨åœºæ™¯ï¼Œè®¸å¤šç»„ä»¶éƒ½åˆ©ç”¨ç»§æ‰¿æ¥åˆ›å»ºã€‚ 12345678910111213import React, &#123; Component &#125; from 'react';class App extends Component &#123; defaultProps = &#123;&#125; state = &#123;&#125; componentWillMount() &#123;&#125; componentDidMount() &#123;&#125; btnClick = e =&gt; &#123;&#125; render() &#123;&#125;&#125; åªè¦æ ¹æ®æˆ‘ä»¬ä¸Šé¢æ‰€å­¦åˆ°çš„çŸ¥è¯†ï¼Œæ˜Žç¡®çš„çŸ¥é“å“ªäº›å±žæ€§æ–¹æ³•æ˜¯æ”¾åœ¨æž„é€ å‡½æ•°ä¸­ï¼Œå“ªäº›å±žæ€§æ–¹æ³•æ˜¯æ”¾åˆ°äº†åŽŸåž‹ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‡ªå·±åœ¨ç¼–å†™reactç»„ä»¶çš„æ—¶å€™å°±è¦ç®€å•å’Œæ¸…æ™°å¾ˆå¤šã€‚ å…¶å®žåªè¦æˆ‘ä»¬ES5é¢å‘å¯¹è±¡çš„çŸ¥è¯†è¶³å¤Ÿæ‰Žå®žï¼ŒES6å’ŒreactæŽŒæ¡èµ·æ¥ä¹Ÿæ²¡æœ‰å¤ªå¤šçš„éš¾åº¦ï¼Œæ‰€æœ‰çš„å­¦ä¹ éš¾ç‚¹ï¼Œå¹¶ä¸åœ¨ES6è¿™äº›ä¸åŒçš„è¯­æ³•ç³–ä¸Šï¼Œè€Œåœ¨äºŽES5ä¸­çš„åŽŸç†ï¼Œå› æ­¤æˆ‘åœ¨å‰é¢åˆ†äº«ES5çš„æ ¸å¿ƒçŸ¥è¯†çš„æ—¶å€™ï¼Œå¾ˆå¤šè¯»è€…è€çˆ·éƒ½è¿«ä¸åŠå¾…çš„å¸Œæœ›æˆ‘èƒ½å¤Ÿæ›´å¤šçš„è¯´ä¸€è¯´ES6çš„çŸ¥è¯†ã€‚å…¶å®žæˆ‘ä»¬éƒ½æ²¡æœ‰å¿…è¦é‚£ä¹ˆç€æ€¥ï¼Œåªè¦å‰é¢10å¤šç¯‡æ–‡ç« çš„çŸ¥è¯†è¶³å¤Ÿæ‰Žå®žï¼Œè¿™ç¯‡æ–‡ç« æ‰€æ¶‰åŠåˆ°çš„å¸¸ç”¨çš„ES6çŸ¥è¯†ï¼Œæœ€å¤šèŠ±30åˆ†é’Ÿä¹Ÿå°±æŽŒæ¡äº†ã€‚è¿™äº›å†™æ³•ä¸Šçš„ä¸åŒå¹¶ä¸ä¼šé€ æˆå¤§å®¶ç†è§£ä¸Šçš„å›°éš¾ï¼Œåªéœ€è¦æœ‰ä¸€ä¸ªç†Ÿæ‚‰è¿‡ç¨‹å°±è¡Œäº†ã€‚æ‰€ä»¥å¤§å®¶çš„é‡ç‚¹ï¼Œè¿˜æ˜¯è¦å›žå½’åˆ°åŸºç¡€ä¸Šæ¥ã€‚ å…«ã€Promisehttp://www.jianshu.com/p/fe5f173276bd ä¹ã€ æ¨¡å— Moduleså› ä¸ºå­¦ä¹ æ¨¡å—éœ€è¦ä¸€ä¸ªå­¦ä¹ åœºæ™¯ï¼Œå› æ­¤æˆ‘å†³å®šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç»“åˆcreate-react-appä¸€èµ·åˆ†äº«ç»™å¤§å®¶ã€‚ æ·±å…¥å­¦ä¹ ES6æŽ¨è http://es6.ruanyifeng.com/]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‘˜æŠ„asyncå’Œawait]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%91%98%E6%8A%84async%E5%92%8Cawait%2F</url>
    <content type="text"><![CDATA[åœ¨å®žé™…å¼€å‘ä¸­æ€»ä¼šé‡åˆ°è®¸å¤šå¼‚æ­¥çš„é—®é¢˜ï¼Œæœ€å¸¸è§çš„åœºæ™¯ä¾¿æ˜¯æŽ¥å£è¯·æ±‚ä¹‹åŽä¸€å®šè¦ç­‰ä¸€æ®µæ—¶é—´æ‰èƒ½å¾—åˆ°ç»“æžœï¼Œå¦‚æžœé‡åˆ°å¤šä¸ªæŽ¥å£å‰åŽä¾èµ–ï¼Œé‚£ä¹ˆé—®é¢˜å°±å˜å¾—å¤æ‚ã€‚å¤§å®¶éƒ½ä¸€ç›´åœ¨å°è¯•ä½¿ç”¨æ›´å¥½çš„æ–¹æ¡ˆæ¥è§£å†³è¿™äº›é—®é¢˜ã€‚æœ€å¼€å§‹åªèƒ½åˆ©ç”¨å›žè°ƒå‡½æ•°ï¼ŒåŽæ¥å¼€å§‹æœ‰äººä½¿ç”¨Promiseçš„æ€ç»´æ¥æžå®šã€‚åˆ°ES6ä¸­å¼€å§‹æ”¯æŒåŽŸç”Ÿçš„Promiseï¼Œå¼•å…¥Generatorå‡½æ•°ã€‚ ç›´åˆ°ES7ï¼Œæœ‰äº†async/awaitã€‚ è¿™æ˜¯ä¸€ä¸ªç”¨åŒæ­¥çš„æ€ç»´æ¥è§£å†³å¼‚æ­¥é—®é¢˜çš„æ–¹æ¡ˆã€‚ æˆ‘æƒ³å¾ˆå¤šäººå¯èƒ½è¿˜ä¸å¤ªåˆ†å¾—æ¸…åŒæ­¥ä¸Žå¼‚æ­¥çš„åŒºåˆ«ã€‚å¦‚æžœä½ å·²ç»å½»åº•äº†è§£äº†äº‹ä»¶å¾ªçŽ¯ï¼Œé‚£ä¹ˆæƒ³å¿…å¯¹å¼‚æ­¥çš„æ¦‚å¿µåº”è¯¥éžå¸¸äº†è§£ã€‚å½“æˆ‘ä»¬å‘å‡ºäº†è¯·æ±‚ï¼Œå¹¶ä¸ä¼šç­‰å¾…å“åº”ç»“æžœï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡ŒåŽé¢çš„ä»£ç ï¼Œå“åº”ç»“æžœçš„å¤„ç†åœ¨ä¹‹åŽçš„äº‹ä»¶å¾ªçŽ¯ä¸­è§£å†³ã€‚é‚£ä¹ˆåŒæ­¥çš„æ„æ€ï¼Œå°±æ˜¯ç­‰ç»“æžœå‡ºæ¥ä¹‹åŽï¼Œä»£ç æ‰ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªä¸¤äººé—®ç­”çš„åœºæ™¯æ¥æ¯”å–»å¼‚æ­¥ä¸ŽåŒæ­¥ã€‚Aå‘Bé—®äº†ä¸€ä¸ªé—®é¢˜ä¹‹åŽï¼Œä¸ç­‰å¾…Bçš„å›žç­”ï¼ŒæŽ¥ç€é—®ä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯å¼‚æ­¥ã€‚Aå‘Bé—®äº†ä¸€ä¸ªé—®é¢˜ä¹‹åŽï¼Œç„¶åŽå°±ç¬‘å‘µå‘µçš„ç­‰ç€Bå›žç­”ï¼ŒBå›žç­”äº†ä¹‹åŽä»–æ‰ä¼šæŽ¥ç€é—®ä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯åŒæ­¥ã€‚ é‚£ä¹ˆæˆ‘ä»¬å…ˆè®°ä½è¿™ä¸ªç‰¹ç‚¹ï¼Œasync/awaitä½¿ç”¨åŒæ­¥çš„æ€ç»´ï¼Œæ¥è§£å†³å¼‚æ­¥çš„é—®é¢˜ã€‚ åœ¨ç»§ç»­åˆ†æžå®ƒçš„è¯­æ³•ä¸Žä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨æˆ‘ä»¬çš„å¼€å‘çŽ¯å¢ƒä¸­æ”¯æŒè¯¥è¯­æ³•ã€‚ å¦‚æžœä½ å·²ç»çŸ¥é“å¦‚ä½•é…ç½®ï¼Œå¯è·³è¿‡ ä¸€ã€å¦‚ä½•åœ¨è‡ªå·±çš„å¼€å‘çŽ¯å¢ƒä¸­æ”¯æŒasync/awaitè¯­æ³•è¿™é‡Œä¸»è¦ä»‹ç»ä¸¤ç§æ–¹å¼ã€‚ 1. webpackä¸­æ”¯æŒè¯¥è¯­æ³•é¦–å…ˆåœ¨å½“å‰é¡¹ç›®ä¸­ä½¿ç”¨npmä¸‹è½½babel-loaderã€‚ 1&gt; npm install babel-loader --save-dev ç„¶åŽåœ¨é…ç½®æ–‡ä»¶webpack.confing.dev.jsä¸­é…ç½®ï¼Œåœ¨module.exports.module.rulesä¸­æ·»åŠ å¦‚ä¸‹é…ç½®å…ƒç´ å³å¯ã€‚ 12345678&#123; test: /\.(js|jsx)$/, include: paths.appSrc, loader: require.resolve('babel-loader'), options: &#123; cacheDirectory: true, &#125;,&#125;, å¦‚æžœä½ ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„create-react-appæˆ–è€…vue-cliæ¥æž„å»ºä½ çš„ä»£ç ï¼Œé‚£ä¹ˆå®ƒä»¬åº”è¯¥å·²ç»æ”¯æŒäº†è¯¥é…ç½®ã€‚ 2. gulpä¸­æ”¯æŒè¯¥è¯­æ³•é¦–å…ˆå®‰è£…gulpæ’ä»¶ 1&gt; npm install gulp-babel --save-dev ç„¶åŽç¼–å†™ä»»åŠ¡ 12345678var gulp = require('gulp');var babel = require('gulp-babel');gulp.task('babel', function() &#123; return gulp.src('src/app.js') .pipe(babel()) .pipe(gulp.dest('dist'));&#125;); äºŒã€å¦‚ä½•ä½¿ç”¨asyncå‡½æ•°æ˜¯Generatorçš„ä¸€ä¸ªè¯­æ³•ç³–ã€‚å¦‚æžœä½ ä¸çŸ¥é“Generatoræ˜¯ä»€ä¹ˆå‡½æ•°ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“asyncå‡½æ•°å®žé™…ä¸Šè¿”å›žçš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡å³å¯ã€‚ 12345678async function fn() &#123; return 30;&#125;// æˆ–è€…const fn = async () =&gt; &#123; return 30;&#125; åœ¨å£°æ˜Žå‡½æ•°æ—¶ï¼Œå‰é¢åŠ ä¸Šå…³é”®å­—asyncï¼Œè¿™å°±æ˜¯asyncçš„ç”¨æ³•ã€‚å½“æˆ‘ä»¬ç”¨console.logæ‰“å°å‡ºä¸Šé¢å£°æ˜Žçš„å‡½æ•°fnï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç»“æžœï¼š 12345678console.log(fn());// resultPromise = &#123; __proto__: Promise, [[PromiseStatus]]: "resolved", [[PromiseValue]]: 30&#125; å¾ˆæ˜¾ç„¶ï¼Œfnçš„è¿è¡Œç»“æžœå…¶å®žå°±æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨thenæ¥å¤„ç†åŽç»­é€»è¾‘ã€‚ 123fn().then(res =&gt; &#123; console.log(res); // 30&#125;) awaitçš„å«ä¹‰ä¸ºç­‰å¾…ã€‚æ„æ€å°±æ˜¯ä»£ç éœ€è¦ç­‰å¾…awaitåŽé¢çš„å‡½æ•°è¿è¡Œå®Œå¹¶ä¸”æœ‰äº†è¿”å›žç»“æžœä¹‹åŽï¼Œæ‰ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚è¿™æ­£æ˜¯åŒæ­¥çš„æ•ˆæžœã€‚ ä½†æ˜¯æˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œawaitå…³é”®å­—åªèƒ½åœ¨asyncå‡½æ•°ä¸­ä½¿ç”¨ã€‚å¹¶ä¸”awaitåŽé¢çš„å‡½æ•°è¿è¡ŒåŽå¿…é¡»è¿”å›žä¸€ä¸ªPromiseå¯¹è±¡æ‰èƒ½å®žçŽ°åŒæ­¥çš„æ•ˆæžœã€‚ å½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå˜é‡åŽ»æŽ¥æ”¶awaitçš„è¿”å›žå€¼æ—¶ï¼Œè¯¥è¿”å›žå€¼ä¸ºPromiseä¸­resolveå‡ºæ¥çš„å€¼ï¼ˆä¹Ÿå°±æ˜¯PromiseValueï¼‰ã€‚ 123456789101112131415161718192021// å®šä¹‰ä¸€ä¸ªè¿”å›žPromiseå¯¹è±¡çš„å‡½æ•°function fn() &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(30); &#125;, 1000); &#125;)&#125;// ç„¶åŽåˆ©ç”¨async/awaitæ¥å®Œæˆä»£ç const foo = async () =&gt; &#123; const t = await fn(); console.log(t); console.log('next code');&#125;foo();// result:// 30// next code è¿è¡Œè¿™ä¸ªä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå½“åœ¨asyncå‡½æ•°ä¸­ï¼Œè¿è¡Œé‡åˆ°awaitæ—¶ï¼Œå°±ä¼šç­‰å¾…awaitåŽé¢çš„å‡½æ•°è¿è¡Œå®Œæ¯•ï¼Œè€Œä¸ä¼šç›´æŽ¥æ‰§è¡Œnext codeã€‚ å¦‚æžœæˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨thenæ–¹æ³•çš„è¯ï¼Œæƒ³è¦è¾¾åˆ°åŒæ ·çš„ç»“æžœï¼Œå°±ä¸å¾—ä¸æŠŠåŽç»­çš„é€»è¾‘å†™åœ¨thenæ–¹æ³•ä¸­ã€‚ 12345678const foo = () =&gt; &#123; return fn().then(t =&gt; &#123; console.log(t); console.log('next code'); &#125;)&#125;foo(); å¾ˆæ˜¾ç„¶å¦‚æžœä½¿ç”¨async/awaitçš„è¯ï¼Œä»£ç ç»“æž„ä¼šæ›´åŠ ç®€æ´ï¼Œé€»è¾‘ä¹Ÿæ›´åŠ æ¸…æ™°ã€‚ å¼‚å¸¸å¤„ç†åœ¨Promiseä¸­ï¼Œæˆ‘ä»¬çŸ¥é“æ˜¯é€šè¿‡catchçš„æ–¹å¼æ¥æ•èŽ·å¼‚å¸¸ã€‚è€Œå½“æˆ‘ä»¬ä½¿ç”¨asyncæ—¶ï¼Œåˆ™é€šè¿‡try/catchæ¥æ•èŽ·å¼‚å¸¸ã€‚ 1234567891011121314151617function fn() &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject('some error.'); &#125;, 1000); &#125;)&#125;const foo = async () =&gt; &#123; try &#123; await fn(); &#125; catch (e) &#123; console.log(e); // some error &#125;&#125;foo(); å¦‚æžœæœ‰å¤šä¸ªawaitå‡½æ•°ï¼Œé‚£ä¹ˆåªä¼šè¿”å›žç¬¬ä¸€ä¸ªæ•èŽ·åˆ°çš„å¼‚å¸¸ã€‚ 12345678910111213141516171819202122232425function fn1() &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject('some error fn1.'); &#125;, 1000); &#125;)&#125;function fn2() &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject('some error fn2.'); &#125;, 1000); &#125;)&#125;const foo = async () =&gt; &#123; try &#123; await fn1(); await fn2(); &#125; catch (e) &#123; console.log(e); // some error fn1. &#125;&#125;foo(); å®žè·µåœ¨å®žè·µä¸­æˆ‘ä»¬é‡åˆ°å¼‚æ­¥åœºæ™¯æœ€å¤šçš„å°±æ˜¯æŽ¥å£è¯·æ±‚ï¼Œé‚£ä¹ˆè¿™é‡Œå°±ä»¥jqueryä¸­çš„$.getä¸ºä¾‹ç®€å•å±•ç¤ºä¸€ä¸‹å¦‚ä½•é…åˆasync/awaitæ¥è§£å†³è¿™ä¸ªåœºæ™¯ã€‚ 1234567891011121314// å…ˆå®šä¹‰æŽ¥å£è¯·æ±‚çš„æ–¹æ³•ï¼Œç”±äºŽjqueryå°è£…çš„å‡ ä¸ªè¯·æ±‚æ–¹æ³•éƒ½æ˜¯è¿”å›žPromiseå®žä¾‹ï¼Œå› æ­¤å¯ä»¥ç›´æŽ¥ä½¿ç”¨awaitå‡½æ•°å®žçŽ°åŒæ­¥const getUserInfo = () =&gt; $.get('xxxx/api/xx');const clickHandler = async () =&gt; &#123; try &#123; const resp = await getUserInfo(); // respä¸ºæŽ¥å£è¿”å›žå†…å®¹ï¼ŒæŽ¥ä¸‹æ¥åˆ©ç”¨å®ƒæ¥å¤„ç†å¯¹åº”çš„é€»è¾‘ console.log(resp); // do something &#125; catch (e) &#123; // å¤„ç†é”™è¯¯é€»è¾‘ &#125;&#125; ä¸ºäº†ä¿è¯é€»è¾‘çš„å®Œæ•´æ€§ï¼Œåœ¨å®žè·µä¸­try/catchå¿…ä¸å¯å°‘ã€‚æ€»ä¹‹ï¼Œä¸å¤„ç†é”™è¯¯é€»è¾‘çš„ç¨‹åºå‘˜ä¸æ˜¯å¥½ç¨‹åºå‘˜ã€‚ ä¸ŽPromiseç›¸æ¯”ï¼Œä¸ªäººè®¤ä¸ºasync/awaitæœ‰ä¸€å®šçš„ç®€æ´æ€§ï¼Œä½†ä¹Ÿå¹¶éžå°±æ¯”Promiseæœ‰ç»å¯¹çš„ä¼˜åŠ¿ï¼Œå› æ­¤åªèƒ½ç®—æ˜¯æä¾›äº†å¦å¤–ä¸€ç§åŒæ ·å¾ˆæ£’çš„æ–¹å¼ï¼Œè‡³äºŽå¤§å®¶å­¦ä¹ ä¹‹åŽé€‰æ‹©å“ªç§æ–¹å¼æ¥è§£å†³è‡ªå·±çš„é—®é¢˜ï¼Œæˆ‘è®¤ä¸ºè¿™ä»…ä»…åªæ˜¯ä¸ªäººçš„å–œå¥½é—®é¢˜ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>async</tag>
        <tag>await</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Axiosæ˜¯ä»€ä¹ˆ]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2FAxios%E6%98%AF%E4%BB%80%E4%B9%88%2F</url>
    <content type="text"><![CDATA[1. Axiosæ˜¯ä»€ä¹ˆ Axios æ˜¯ä¸€ä¸ªåŸºäºŽ promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚(ä¸€çœ‹æ˜¯åŸºäºŽpromiseæ˜¯ä¸æ˜¯å°±å¯¹å®ƒçš„APIæœ‰äº†å¤§æ¦‚çš„äº†è§£ï¼Ÿå“ˆå“ˆå“ˆ) 2. Axiosçš„ç‰¹ç‚¹ ä»Žæµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequests ä»Ž node.js åˆ›å»º http è¯·æ±‚ æ”¯æŒ Promise API æ‹¦æˆªè¯·æ±‚å’Œå“åº” ï¼ˆå°±æ˜¯æœ‰interceptorï¼‰ è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ® å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢ JSON æ•°æ® å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ XSRF ps: å¯èƒ½å¤§å®¶å¯¹interceptorï¼ˆæ‹¦æˆªå™¨ï¼‰å¹¶ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œåœ¨è¿™é‡Œä½œä¸‹ä»‹ç»ï¼Œæ‹¦æˆªå™¨å¯ä»¥åœ¨è¯·æ±‚å‘é€å‰å’Œå‘é€è¯·æ±‚åŽåšä¸€äº›å¤„ç†ã€‚æœ‰ä¸€å¼ å›¾å¯ä»¥æ¸…æ™°çš„äº†è§£å®ƒåœ¨ä¸€æ¬¡HTTPè¯·æ±‚ä¸­åšäº†ä»€ä¹ˆï¼Œå¦‚ä¸‹å›¾ image.png 3.å…¼å®¹æ€§ image.png 4.å®‰è£… ä½¿ç”¨ npm: $ npm install axios ä½¿ç”¨ bower: $ bower install axios ä½¿ç”¨ cdn: &lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt; 5.åŸºæœ¬ç”¨æ³• 12345678910111213141516171819//æ‰§è¡Œgetè¯·æ±‚// Make a request for a user with a given IDaxios.get('/user?ID=12345') .then(function (response) &#123; console.log(response); &#125;).catch(function (error) &#123; console.log(error); &#125;);// Optionally the request above could also be done asaxios.get('/user', &#123; params: &#123; ID: 12345 &#125; &#125;).then(function (response) &#123; console.log(response); &#125;).catch(function (error) &#123; console.log(error); &#125;); æ˜¯ä¸æ˜¯éƒ½åœ¨then,catché‡Œå¤„ç†responseï¼Œæ„Ÿè§‰fetchå·®ä¸å¤šï¼Œå†™èµ·æ¥å¾ˆæ–¹ä¾¿ 6.ä½¿ç”¨æµç¨‹ æœ¬æ¥æƒ³åœ¨è¿™è´´Axios API,è¿™è·Ÿå¤§å®¶è¯»apiæ–‡æ¡£æ— å¼‚ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè´´ä¸€ä¸‹æˆ‘ä»¬æ˜¯å¦‚ä½•ä½¿ç”¨çš„å§ï¼Œæˆ–è®¸å¯¹ä½ æ›´æœ‰å¸®åŠ© 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159//é¦–å…ˆæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªAxioså®žä¾‹var axiosIns = axios.create(&#123; baseURL: 'https://some-domain.com/api/', timeout: 1000, headers: &#123;'X-product': 'h5'&#125;&#125;);//è®¾ç½®requestæ‹¦æˆªå™¨axiosIns.interceptors.request.use((request) =&gt; &#123;//åœ¨è¿™é‡Œå¤„ç†requestï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¯·æ±‚ç»Ÿä¸€å¤„ç†è¯·æ±‚å¤´ç­‰&#125;)//è®¾ç½®responseæ‹¦æˆªå™¨axiosIns.interceptors.response.use((response) =&gt; &#123; //åœ¨è¿™é‡Œå¤„ç†responseï¼Œè¿™æ˜¯å…¨å±€çš„ï¼Œå¯¹æ‰€æœ‰ä½¿ç”¨axiosçš„è¯·æ±‚èµ·ä½œç”¨ &#125;);//å¯ä»¥å°†ä¸Šè¾¹çš„åˆ›å»ºå®žä¾‹å’Œè®¾ç½®çš„æ‹¦æˆªå™¨å°è£…æˆå‡½æ•°ï¼Œä¹‹åŽç›´æŽ¥è°ƒç”¨å°±Ok//å®žä¾‹æ–¹æ³•//ä»¥ä¸‹æ˜¯å¯ç”¨çš„å®žä¾‹æ–¹æ³•ã€‚æŒ‡å®šçš„é…ç½®å°†ä¸Žå®žä¾‹çš„é…ç½®åˆå¹¶axios#request(config)axios#get(url[, config])axios#delete(url[, config])axios#head(url[, config])axios#post(url[, data[, config]])axios#put(url[, data[, config]])axios#patch(url[, data[, config]])//è¯·æ±‚é…ç½®&#123; // `url` æ˜¯ç”¨äºŽè¯·æ±‚çš„æœåŠ¡å™¨ URL url: '/user', // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³• method: 'get', // é»˜è®¤æ˜¯ get // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤éž `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚ // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºŽä¸º axios å®žä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL baseURL: 'https://some-domain.com/api/', // `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ® // åªèƒ½ç”¨åœ¨ 'PUT', 'POST' å’Œ 'PATCH' è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³• // åŽé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream transformRequest: [function (data) &#123; // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; &#125;], // `transformResponse` åœ¨ä¼ é€’ç»™ then/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ® transformResponse: [function (data) &#123; // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; &#125;], // `headers` æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´ headers: &#123;'X-Requested-With': 'XMLHttpRequest'&#125;, // `params` æ˜¯å³å°†ä¸Žè¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•° // å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡ params: &#123; ID: 12345 &#125;, // `paramsSerializer` æ˜¯ä¸€ä¸ªè´Ÿè´£ `params` åºåˆ—åŒ–çš„å‡½æ•° // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/) paramsSerializer: function(params) &#123; return Qs.stringify(params, &#123;arrayFormat: 'brackets'&#125;) &#125;, // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ® // åªé€‚ç”¨äºŽè¿™äº›è¯·æ±‚æ–¹æ³• 'PUT', 'POST', å’Œ 'PATCH' // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»åž‹ä¹‹ä¸€ï¼š // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams // - æµè§ˆå™¨ä¸“å±žï¼šFormData, File, Blob // - Node ä¸“å±žï¼š Stream data: &#123; firstName: 'Fred' &#125;, // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´) // å¦‚æžœè¯·æ±‚è¯è´¹äº†è¶…è¿‡ `timeout` çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­ timeout: 1000, // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯ withCredentials: false, // é»˜è®¤çš„ // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾ // è¿”å›žä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” (æŸ¥é˜… [response docs](#response-api)). adapter: function (config) &#123; /* ... */ &#125;, // `auth` è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ® // è¿™å°†è®¾ç½®ä¸€ä¸ª `Authorization` å¤´ï¼Œè¦†å†™æŽ‰çŽ°æœ‰çš„ä»»æ„ä½¿ç”¨ `headers` è®¾ç½®çš„è‡ªå®šä¹‰ `Authorization`å¤´ auth: &#123; username: 'janedoe', password: 's00pers3cret' &#125;, // `responseType` è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»åž‹ï¼Œå¯ä»¥æ˜¯ 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream' responseType: 'json', // é»˜è®¤çš„ // `xsrfCookieName` æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§° xsrfCookieName: 'XSRF-TOKEN', // default // `xsrfHeaderName` æ˜¯æ‰¿è½½ xsrf token çš„å€¼çš„ HTTP å¤´çš„åç§° xsrfHeaderName: 'X-XSRF-TOKEN', // é»˜è®¤çš„ // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶ onUploadProgress: function (progressEvent) &#123; // å¯¹åŽŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç† &#125;, // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶ onDownloadProgress: function (progressEvent) &#123; // å¯¹åŽŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç† &#125;, // `maxContentLength` å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸ maxContentLength: 2000, // `validateStatus` å®šä¹‰å¯¹äºŽç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject promise ã€‚å¦‚æžœ `validateStatus` è¿”å›ž `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte validateStatus: function (status) &#123; return status &gt;= 200 &amp;&amp; status &lt; 300; // é»˜è®¤çš„ &#125;, // `maxRedirects` å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›® // å¦‚æžœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘ maxRedirects: 5, // é»˜è®¤çš„ // `httpAgent` å’Œ `httpsAgent` åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºŽå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š // `keepAlive` é»˜è®¤æ²¡æœ‰å¯ç”¨ httpAgent: new http.Agent(&#123; keepAlive: true &#125;), httpsAgent: new https.Agent(&#123; keepAlive: true &#125;), // 'proxy' å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£ // `auth` è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºŽè¿žæŽ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ® // è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª `Proxy-Authorization` å¤´ï¼Œè¦†å†™æŽ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ `header` è®¾ç½®çš„è‡ªå®šä¹‰ `Proxy-Authorization` å¤´ã€‚ proxy: &#123; host: '127.0.0.1', port: 9000, auth: : &#123; username: 'mikeymike', password: 'rapunz3l' &#125; &#125;, // `cancelToken` æŒ‡å®šç”¨äºŽå–æ¶ˆè¯·æ±‚çš„ cancel token // ï¼ˆæŸ¥çœ‹åŽé¢çš„ Cancellation è¿™èŠ‚äº†è§£æ›´å¤šï¼‰ cancelToken: new CancelToken(function (cancel) &#123; &#125;)&#125;]]></content>
      <categories>
        <category>Ajax</category>
      </categories>
      <tags>
        <tag>Ajax</tag>
        <tag>Axios</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueè¿‡åº¦]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2Fvue%E8%BF%87%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[vueè¿‡åº¦ è¿‡åº¦çš„æ¦‚å¿µ åœ¨é‚£äº›åœºæ™¯ä¸‹é€‚åˆä½¿ç”¨ æ€Žä¹ˆç”¨ æ¶‰åŠçš„çŸ¥è¯†ç‚¹ ç»„ä»¶çš„å°è£… Slotâ€”ç»„ä»¶ ç»„ä»¶çš„é€šè®¯ çˆ¶å­é€šè®¯:props down,event,up å…„å¼Ÿé€šè®¯:å…¨å±€äº‹ä»¶ç®¡ç†bus vuex: slot PCç«¯:fullPageæ»¡å±æ»šåŠ¨æ’ä»¶ç§»åŠ¨ç«¯:swiperå®Œæ•´ä»£ç é™æ€æ•°æ®:mountedå¼‚æ­¥æ•°æ®:this.$nextTick()12345678910111213141516171819202122232425/*index.html*/&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;meta name="viewport" content="width=device-width,initial-scale=1.0" /&gt; &lt;title&gt;CodeSandbox Vue&lt;/title&gt; &lt;/head&gt; &lt;style&gt; body &#123; margin: 0; padding: 0; overflow: hidden; &#125; #app &#123; height: 100%; width: 100%; &#125; &lt;/style&gt; &lt;body&gt; &lt;div id="app"&gt; &lt;fullpage v-bind:bg-color="bgColor" v-bind:page="8"&gt;&lt;/fullpage&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt; 12345678910111213/*main.js*/import Vue from "vue";import Fullpage from "@/components/Fullpage.vue";new Vue(&#123; el: "#app", data: &#123; bgColor: ["red", "blue", "yellow", "green"] &#125;, components: &#123; Fullpage &#125;&#125;); 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145/*components/Fullpage.vue*/&lt;template&gt; &lt;div v-on:wheel=&quot;wheelEvent($event);&quot;&gt; &lt;transition-group tag=&quot;div&quot; v-bind:name=&quot;name&quot; class=&quot;content&quot;&gt; &lt;div class=&quot;block&quot; v-for=&quot;(list, index) in page&quot; v-bind:key=&quot;list&quot; v-bind:style=&quot;&#123; &apos;background-color&apos;: bgColor[index] &amp;&amp; bgColor ? bgColor[index] : baseBgc[Math.floor(Math.random() * 4)] &#125;&quot; v-show=&quot;index === curIndex&quot; v-on:transitionend=&quot;end&quot; &gt; &#123;&#123; list &#125;&#125; &lt;/div&gt; &lt;/transition-group&gt; &lt;/div&gt;&lt;/template&gt;&lt;style&gt;.content &#123; height: 100%; width: 100%;&#125;.block &#123; height: 100%; width: 100%; position: absolute;&#125;/*è¿›å…¥è¿‡ç¨‹åˆ°ç»“æŸçŠ¶æ€*/.down-enter-active &#123; transition: all 0.85s ease; transform: translateY(0);&#125;/*å¼€å§‹åˆå§‹åŒ–çŠ¶æ€*/.down-enter &#123; transform: translateY(100%);&#125;/*ç¦»å¼€åˆå§‹åŒ–çŠ¶æ€*/.down-leave &#123; transform: translateY(0);&#125;/*è„±ç¦»è¿‡ç¨‹åˆ°ç»“æŸçŠ¶æ€*/.down-leave-active &#123; transform: translateY(-100%); transition: all 1s ease;&#125;/*è¿›å…¥è¿‡ç¨‹åˆ°ç»“æŸçŠ¶æ€*/.up-enter-active &#123; transform: translateY(0); transition: all 1s ease;&#125; /*è„±ç¦»è¿‡ç¨‹åˆ°ç»“æŸçŠ¶æ€*/.up-leave-active &#123; transform: translateY(100%); transition: all 1s ease;&#125; /*å¼€å§‹åˆå§‹åŒ–çŠ¶æ€*/.up-enter &#123; transform: translateY(-100%);&#125; /*ç¦»å¼€åˆå§‹åŒ–çŠ¶æ€*/.up-leave &#123; transform: translateY(0);&#125;&lt;/style&gt;&lt;script&gt;export default &#123; props: &#123; bgColor: &#123; type: Array &#125;, page: &#123; type: Number, required: true &#125; &#125;, data() &#123; return &#123; curIndex: 0, name: &quot;&quot;, canWheel: true, endCount: 0, baseBgc: [], addColors: null &#125;; &#125;, methods: &#123; wheelEvent(e) &#123; if (this.canWheel === true) &#123; if (e.deltaY &gt; 0) &#123; if (this.curIndex === this.page - 1) &#123; this.canWheel = true; return; &#125; this.name = &quot;down&quot;; this.curIndex++; &#125; if (e.deltaY &lt; 0) &#123; if (this.curIndex === 0) &#123; this.canWheel = true; return; &#125; this.name = &quot;up&quot;; this.curIndex--; &#125; this.canWheel = false; &#125; else &#123; return; &#125; &#125;, end() &#123; this.endCount++; if (this.endCount === 2) &#123; this.canWheel = true; this.endCount = 0; &#125; &#125;, randomColor() &#123; this.addColors = this.page - this.bgColor.length; function getRandColor() &#123; var str = &quot;0123456789abcdef&quot;; var arr = []; for (var i = 0; i &lt; 6; i++) &#123; var random = Math.floor(Math.random() * 16); arr.push(str[random]); &#125; return &quot;#&quot; + arr.join(&quot;&quot;); &#125; if (this.addColors &gt; 0) &#123; for (let i = 0; i &lt; this.addColors; i++) &#123; this.baseBgc.push(getRandColor()); &#125; &#125; &#125; &#125;, mounted() &#123; this.randomColor(); &#125;&#125;;&lt;/script&gt; transition-groupå¿…é¡»åœ¨vueå®žä¾‹å†…,å†…è”ä¸­tagå€¼æ˜¯å¸Œæœ›æœ€ç»ˆæ¸²æŸ“htmlæ ‡ç­¾,nameå€¼æ˜¯æ ‡è®°è¿™ä¸ªç»„ä»¶çš„åç§° transition-groupæ˜¯é€šè¿‡v-showæˆ–è€…v-ifè¿›è¡Œè¿‡åº¦åŠ¨ç”»å®žçŽ°çš„. åŸºäºŽvueè¿‡æ¸¡å®žçŽ°å…¨å±æ»šåŠ¨æ•ˆæžœ å‚æ•° å‚æ•° è¯´æ˜Ž ç±»åž‹ æ˜¯å¦å¿…è¦ é»˜è®¤å€¼ pages éœ€è¦å‡ å± Number å¿…è¦ bgColor æ¯ä¸€å±å¯¹åº”çš„èƒŒæ™¯è‰²ï¼Œå¦‚æžœå½“å‰å±ä¸è®¾ç½®èƒŒæ™¯è‰²å¯ä¼ ç©ºå­—ç¬¦ä¸² Array ä¸å¿…è¦ baseBgc é»˜è®¤èƒŒæ™¯è‰² String ä¸å¿…è¦ #fff slot123&lt;template slot=&quot;slot2&quot; scope=&quot;props&quot;&gt; &lt;page1 :state=&quot;props.state&quot; :page=&quot;props.page&quot; :index=&quot;props.index&quot;&gt;&lt;/page1&gt;&lt;/template&gt; å¿…é¡»æŒ‰å¦‚ä¸‹æ ¼å¼ä¼ é€’å¯¹åº”ç»„ä»¶ï¼šå¯¹åº”å±çš„slotå±žæ€§å¿…é¡»ä¸ºslot+å¯¹åº”ä¸‹æ ‡(ä»Ž1å¼€å§‹)ï¼Œè¦å‘slotåˆ†å‘çš„ç»„ä»¶ä¼ é€’ä¸‰ä¸ªå‚æ•°ï¼šstateã€indexã€page å‚æ•° è¯´æ˜Ž å€¼ state å¯¹åº”è¿‡æ¸¡æˆ–åŠ¨ç”»çš„çŠ¶æ€ enterã€leaveã€transitionend index å½“å‰slotå¯¹åº”çš„ä¸‹æ ‡ page ç„¦ç‚¹å±å¯¹åº”çš„ä¸‹æ ‡ 123watch: &#123; //ç›‘å¬pageæˆ–state,å¹¶åšç›¸åº”çš„ä¸šåŠ¡é€»è¾‘å¤„ç† &#125;]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>fullPage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue-cliä¸­å¼•å…¥jQuery]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2FVue-cli%E4%B8%AD%E5%BC%95%E5%85%A5jQuery%2F</url>
    <content type="text"><![CDATA[vue-cliä¸­å¼•å…¥jqueryçš„æ–¹æ³• ä»¥å‰å†™vueé¡¹ç›®éƒ½æ²¡æœ‰å¼•å…¥è¿‡jqueryï¼Œä»Šå¤©ç¾¤é‡Œé¢çš„ä¸€ä½å°ä¼™ä¼´é—®äº†æˆ‘è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å°±è‡ªå·±æ£é¼“äº†ä¸€ä¸‹ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š æˆ‘ä»¬å…ˆè¿›å…¥webpack.base.conf.jsæ–‡ä»¶ï¼Œå¼€å§‹é¡¶éƒ¨æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦åŠ ä¸€è¡Œä»£ç  å˜æˆè¿™æ · 12345var path = require(&apos;path&apos;)var utils = require(&apos;./utils&apos;)var webpack = require(&quot;webpack&quot;) //è¿™æ˜¯æˆ‘ä»¬æ·»åŠ çš„var config = require(&apos;../config&apos;)var vueLoaderConfig = require(&apos;./vue-loader.conf&apos;) ç„¶åŽåˆ°ä¸‹é¢çš„module.exportså†…éƒ¨åŠ å…¥ 1234567plugins: [ new webpack.optimize.CommonsChunkPlugin(&apos;common.js&apos;), new webpack.ProvidePlugin(&#123; jQuery: &quot;jquery&quot;, $: &quot;jquery&quot; &#125;) ], æˆ‘ä»¬åœ¨ä¸Šé¢å¼•å…¥webpackå°±æ˜¯ä¸ºäº†åœ¨æ­¤ä½¿ç”¨webpackå¯¹è±¡ï¼› ç„¶åŽåœ¨package.jsoné‡Œçš„dependenciesåŠ å…¥â€jqueryâ€ : â€œ^1.8.0â€ï¼›æˆ–è€…ä½ å¯ä»¥ä½¿ç”¨npm install xxx -saveåŽ»ç”Ÿæˆ ç„¶åŽæˆ‘ä»¬å°±å¯ä»¥åœ¨main.jsé‡Œé¢åŽ»å¯¼å…¥jqueryäº† æœ€åŽï¼Œé‡å¯é¡¹ç›® æœ€æœ€åŽï¼Œéªšå¹´ï¼ŒåŽ»æµªå§]]></content>
      <categories>
        <category>jQuery</category>
        <category>Vue</category>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
        <tag>Vue</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-cli npm run build]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2Fvue-cli-npm-run-build%2F</url>
    <content type="text"><![CDATA[vue-cli npm run buildå¦‚æžœæ˜¯æäº¤åˆ°githubå±•ç¤ºé‚£ä¹ˆå°±å¿…é¡»ä¿®æ”¹config&gt;index.js&gt;build:{assetsPublicPath:&#39;./&#39;}æºä»£ç æ˜¯assetsPublicPath:&#39;/&#39; è¿˜éœ€è¦ä¿®æ”¹src&gt;main.jså°†import ä¸­CSSæ ·å¼æ”¾åˆ°ä¸€èµ·ç§»åŠ¨åˆ°ä¸Šè¾¹(ç¬¬ä¸‰æ–¹uiåº“æ”¾åˆ°æœ€åŽè‡ªå·±ä¿®æ”¹çš„æ ·å¼æ”¾åœ¨å‰è¾¹) ,è®©import App åœ¨æœ€ä¸‹è¾¹. ä¿®æ”¹.gitignoreä¸­å°†/dist/åˆ é™¤å°±å¯ä»¥æäº¤ä»£ç åˆ°githubä¸Šäº†,æŽ¥ç€urlåœ°å€åŽè¾¹åŠ /dist å¦‚æžœæ˜¯å…¬å¸é¡¹ç›®é‚£ä¹ˆä¸Šè¾¹çš„ä¿®æ”¹éƒ½ä¸ç”¨å•¦,ç›´æŽ¥npm run build åŽå°†disté‡Œæ‰€æœ‰æ–‡ä»¶æäº¤åˆ°æœåŠ¡å™¨å°±å¯ä»¥äº†.]]></content>
      <categories>
        <category>Vue</category>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueè®¡ç®—å±žæ€§çš„ç§˜å¯†]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2Fvue%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%9A%84%E7%A7%98%E5%AF%86%2F</url>
    <content type="text"><![CDATA[Vue.js è®¡ç®—å±žæ€§çš„ç§˜å¯†â€‹ è®¡ç®—å±žæ€§æ˜¯ä¸€ä¸ªå¾ˆé‚ªé—¨çš„ä¸œè¥¿ï¼Œåªè¦åœ¨å®ƒçš„å‡½æ•°é‡Œå¼•ç”¨äº† data ä¸­çš„æŸä¸ªå±žæ€§ï¼Œå½“è¿™ä¸ªå±žæ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‡½æ•°ä»¿ä½›å¯ä»¥å—…æŽ¢åˆ°è¿™ä¸ªå˜åŒ–ï¼Œå¹¶è‡ªåŠ¨é‡æ–°æ‰§è¡Œã€‚ ) â€‹ ä¸Šè¿°ä»£ç ä¼šæºæºä¸æ–­çš„æ‰“å°å‡º b çš„å€¼ã€‚å¦‚æžœå¸Œæœ› a ä¾èµ– data ä¸­çš„ x è€Œå˜åŒ–ï¼Œåªéœ€ä¿è¯ a å‡½æ•°ä¸­æœ‰ this.x å³å¯ã€‚å¦‚æžœå‡½æ•°ä¸­æ²¡æœ‰å‡ºçŽ° data ä¸­çš„å±žæ€§ï¼Œé‚£ä¹ˆæ— è®º data ä¸­çš„å±žæ€§æ€Žä¹ˆå˜ï¼Œa å¯¹åº”çš„å‡½æ•°ä¸€æ¬¡ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚ â€‹ Vue æ€Žä¹ˆçŸ¥é“è®¡ç®—å±žæ€§åœ¨å‡½æ•°ä¸­å¼•ç”¨äº†å“ªä¸ª data å±žæ€§ï¼Ÿè¿™ä¸ªå‡½æ•°åˆæ˜¯æ€Žä¹ˆçŸ¥é“ data å±žæ€§å˜äº†ï¼Œè€Œä¸”åªå…³å¿ƒå®ƒå†…éƒ¨å¼•ç”¨çš„é‚£ä¸ªå±žæ€§ï¼Œåˆ«çš„éƒ½ä¸ç®¡ï¼Ÿ â€‹ å®˜æ–¹æ–‡æ¡£å¯¹è®¡ç®—å±žæ€§çš„æè¿°æ˜¯ï¼š â€‹ æ–‡æ¡£çš„æè¿°è®©æˆ‘çš„å›°æƒ‘æ›´åŠ å›°æƒ‘ï¼Œè¿˜æœ‰è¿™ç§æ“ä½œï¼Ÿè¿™ç‰¹ä¹ˆæ˜¯æ€Žä¹ˆåšåˆ°çš„ï¼Ÿ â€‹ Google äº†ä¸€æŠŠï¼Œçœ‹äº†ä¸€ç¯‡ä¸‰å“¥çš„åšæ–‡ï¼ˆè§æ–‡æœ«ï¼‰ï¼Œè±ç„¶å¼€æœ—ã€‚ â€‹ æˆ‘ä»¬ç®€å•æ¨¡æ‹Ÿå®žçŽ°ä¸€ä¸ªè®¡ç®—å±žæ€§ï¼ša å˜åŒ–æ—¶ï¼Œb è‡ªåŠ¨è·Ÿç€å˜åŒ–ã€‚ â€‹ ç”±äºŽæ¶‰åŠ Vue çš„å“åº”å¼ç»‘å®šçš„åŽŸç†ï¼Œå¦‚æžœä½ å¯¹æ­¤ä¸ç†Ÿï¼Œæœ€å¥½å…ˆçœ‹çœ‹ã€ŠVue.js åŒå‘ç»‘å®šçš„å®žçŽ°åŽŸç†ã€‹[ ](http://www.cnblogs.com/kidney/p/6052935.html) â€‹ å°‘å•°å—¦ï¼Œå…ˆçœ‹è¿‡ç¨‹ï¼š é¦–å…ˆ b å±žæ€§ä¼šè¢«å¤„ç†ä¸ºå­˜å–å™¨å±žæ€§ï¼Œè®¿é—® b å°±ä¼šè§¦å‘å…¶ get å‡½æ•° å¤„ç†è®¡ç®—å±žæ€§ a æ—¶ï¼Œä¼šæ‰§è¡Œ a çš„å‡½æ•°ï¼Œä»Žè€Œä¼šæ‰§è¡Œ this.bï¼ŒäºŽæ˜¯è§¦å‘ b çš„ get å‡½æ•° b çš„ get å‡½æ•°ä¼šæ·»åŠ  b å±žæ€§çš„ä¾èµ–é¡¹ï¼Œè€Œåˆšæ‰åœ¨å¤„ç†è®¡ç®—å±žæ€§è¿‡ç¨‹ä¸­ï¼Œa å·²ç»ä½œä¸ºä¾èµ–é¡¹è¢«ä¼ ç»™äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œb çš„ get å‡½æ•°ä¼šæ£€æµ‹åˆ°è¿™ä¸ªå…¨å±€å˜é‡ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°è‡ªèº«çš„è®¢é˜…è€…åˆ—è¡¨ä¸­ å¯¹ b èµ‹äºˆæ–°çš„å€¼æ—¶ï¼Œä¼šè§¦å‘å…¶ set å‡½æ•°ï¼Œset å‡½æ•°ä¸­ä¼šéåŽ†æ‰§è¡Œè®¢é˜…è€…ï¼Œa çš„å€¼å°±æ˜¯åœ¨è¿™ä¸ªæ—¶å€™æ›´æ–°çš„ â€‹ å†çœ‹ä»£ç ï¼š ï¼ˆæ³¨ï¼šå›¾ä¸­æ•°å­—ä»…ä½œæ€è·¯å¼•å¯¼ï¼Œå¹¶éžä¸Žå‰æ–‡è¿‡ç¨‹æè¿°å¯¹åº”ï¼‰ â€‹ æµ‹è¯•ä¸€ä¸‹ï¼Œå®Œç¾Žæ‰“å°å‡º 1, 2, 3, 4 â€‹ console.log(obj.b) â€‹ obj.a += 1; â€‹ console.log(obj.b); â€‹ obj.a += 1; â€‹ console.log(obj.b); â€‹ obj.a += 1; â€‹ console.log(obj.b); â€‹ â€‹ é€šè¿‡å¯¹å­˜å–å™¨å±žæ€§ã€é—­åŒ…å’Œè§‚å¯Ÿè€…æ¨¡å¼çš„ç»¼åˆè¿ç”¨ï¼ŒVue å·§å¦™çš„å®žçŽ°äº†è®¡ç®—å±žæ€§ã€‚çŽ°åœ¨å†çœ‹å®˜æ–¹æ–‡æ¡£æè¿°ï¼Œæ˜¯ä¸æ˜¯æ›´é€šé€äº†å‘¢ã€‚ â€‹ å¯ä»¥çœ‹å‡ºï¼ŒVue å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒç†å¿µæ˜¯â€œä¾èµ–â€ï¼ŒDOM èŠ‚ç‚¹ä¹‹æ‰€ä»¥éšæ•°æ®è€Œå˜åŒ–ï¼Œæ˜¯å› ä¸ºèŠ‚ç‚¹ä¾èµ–äºŽæ•°æ®ï¼Œè®¡ç®—å±žæ€§ä¹‹æ‰€ä»¥éšæ•°æ®è€Œå˜åŒ–ï¼Œæ˜¯å› ä¸ºè®¡ç®—å±žæ€§ä¾èµ–äºŽæ•°æ®ã€‚åšå¥½å“åº”å¼çš„å…³é”®å°±åœ¨äºŽå¤„ç†å¥½ä¾èµ–å…³ç³»ã€‚ å‚è€ƒæ–‡ç« ï¼šhttps://skyronic.com/blog/vuejs-internals-computed-properties â€‹ : https://www.cnblogs.com/kidney/p/7384835.html]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>computed</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç€‘å¸ƒæµ]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E7%80%91%E5%B8%83%E6%B5%81%2F</url>
    <content type="text"><![CDATA[Waterfall Flowå®žçŽ°ç€‘å¸ƒæµçš„ä¸‰ç§æ–¹æ³•ï¼Œæˆ‘ç›®å‰çŸ¥æ™“çš„æœ‰ 1ã€ç»å¯¹å®šä½å¸ƒå±€ï¼šå…³é”®æ˜¯å–å¾—å›¾ç‰‡çš„é«˜åº¦ï¼Œç„¶åŽä¾æ¬¡ç»å¯¹å®šä½æ¯å¼ å›¾ç‰‡(topã€left)ï¼Œè¿™ç§æ–¹æ³•æ˜¯ç›®å‰ç”¨çš„æ¯”è¾ƒå¤šï¼Œå› ä¸ºè¦ä¸€ç›´ç®—å®šä½ï¼Œæ‰€ä»¥æ€§èƒ½ä¸é«˜ï¼› 2ã€å›ºå®šåˆ—æ•°çš„æµ®åŠ¨å¸ƒå±€ï¼šåŠ è½½é¡µé¢æ—¶å–é¡µé¢å®½åº¦ï¼Œç®—å‡ºå¯ä»¥æœ‰çš„åˆ—æ•°ï¼Œç„¶åŽä¾æ¬¡ç»™æ¯åˆ—æ’å…¥å›¾ç‰‡ï¼Œåƒå‘æ‰‘å…‹ç‰Œä¸€æ ·ï¼Œè¿™ç§æ–¹æ³•ä¸ç”¨çŸ¥é“é«˜åº¦ï¼Œæ¯”ä¸Šä¸€ç§æ–¹æ³•ç®€æ˜“ï¼› 3ã€åˆ©ç”¨CSS3åˆ—(column)å¸ƒå±€ï¼šè¿™ä¸ªæœ€çœäº‹ï¼Œä¸è¿‡å…¼å®¹æ˜¯ä¸ªé—®é¢˜ï¼› ç»å¯¹å®šä½å¸ƒå±€ 1.å…ˆè®¡ç®—å½“å‰å±å¹•æœ€å¤šèƒ½å®¹çº³å‡ åˆ—ç€‘å¸ƒï¼Œå…¶å€¼ä¸º â€œå–æ•´(å±å¹•å¯è§åŒºåŸŸå®½åº¦/(æ ¼å­å¤–å®½åº¦) 2.ä¸ºäº†ä¿è¯å®¹å™¨çš„å±…ä¸­ï¼Œå°†å®¹å™¨çš„å®½åº¦è®¾ç½®ä¸º åˆ—æ•°* (æ ¼å­å¤–å®½åº¦)ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ å½“å®¹å™¨çš„å®½åº¦è®¡ç®—å‡ºæ¥ä¹‹åŽå†æ˜¾ç¤ºï¼Œå¦åˆ™ä¼šé€ æˆé¡µé¢å®½åº¦çš„æŠ–åŠ¨ï¼Œå½±å“ä½“éªŒã€‚ 3.æŽ’åºå¼€å§‹ï¼Œç„¶åŽæ¯æ¬¡å¯»æ‰¾é«˜åº¦æœ€å°çš„ä¸€åˆ—ï¼ŒæŠŠæ ¼å­æ”¾è¿›åŽ»ï¼ˆleftå€¼ä¸ºåˆ—åºå·*æ ¼å­å¤–å®½åº¦ï¼Œtopå€¼ä¸º åˆ—åºå·çš„é«˜åº¦ï¼‰ï¼Œå¹¶åˆ·æ–°åˆ—çš„é«˜åº¦ï¼ŒéåŽ†æ‰€æœ‰æ ¼å­ç›´åˆ°æ‰€æœ‰çš„æ ¼å­éƒ½è¢«æŽ’åºã€‚å†å°†äº‹ä»¶å¥æŸ„ç»‘å®šåˆ°window.onloadå’Œwindow.onresize æ³¨æ„ç‚¹ 1.å½“ç¼©æ”¾æµè§ˆå™¨çª—å£æ—¶ä¼šä¸æ–­åœ°è§¦å‘äº‹ä»¶ï¼Œå¦‚æžœæ¯æ¬¡éƒ½å“åº”çš„è¯ä¼šç‹‚è€—æ€§èƒ½ï¼Œéœ€è¦åœ¨ç¼©æ”¾åŠ¨ä½œç»“æŸåŽå†æ‰§è¡Œé‡æŽ’æ–¹æ³•ã€‚ ç”¨setTimeoutå’ŒclearTimeoutè§£å†³ 2.é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨è¯·æ±‚æ•°æ®æˆåŠŸä¹‹åŽåªå¯¹æ–°å¢žçš„èŠ‚ç‚¹é‡æŽ’ã€‚ åœ¨äºŽå¦‚æžœæ¯æ¬¡æœ‰æ–°çš„æ•°æ®åŠ è½½ï¼Œéƒ½è¦å¯¹æ•´ä¸ªå®¹å™¨å†…çš„èŠ‚ç‚¹è¿›è¡Œé‡æŽ’ï¼Œéžå¸¸æ¶ˆè€—æ€§èƒ½ã€‚è§£å†³æ€è·¯ï¼š1.å°†åˆ—ä¿å­˜åœ¨å…¨å±€æ•°ç»„ä¸­ï¼Œæ¯æ¬¡é‡æŽ’æˆ–è€…æ–°å¢žæ ¼å­ä¹‹åŽæ›´æ–°æ•°ç»„çš„æ•°æ®ï¼Œè¿™æ ·ä¸‹æ¬¡æ‰§è¡ŒæŽ’åºç®—æ³•çš„æ—¶å€™å¯ä»¥ç›´æŽ¥è°ƒç”¨ã€‚2.å°†æ–°å¢žæ ¼å­ä¿å­˜åœ¨æ•°ç»„ä¸­ä½œä¸ºå‚æ•°ä¼ é€’ç»™æŽ’åºç®—æ³•ï¼Œä»…å¯¹æ–°æ ¼å­è¿›è¡ŒéåŽ†å’Œæ“ä½œã€‚ 3.å¦‚æžœæœåŠ¡å™¨æ— æ³•ç»™å‡ºå›¾ç‰‡é«˜åº¦ï¼Œéœ€è¦åœ¨å›¾ç‰‡åŠ è½½å®Œæ¯•ä¹‹åŽå†è¿›è¡Œé‡æŽ’ã€‚ åªèƒ½éåŽ†æ‰€æœ‰å›¾ç‰‡ï¼Œæ¯å¼ å›¾ç‰‡åŠ è½½æˆåŠŸåŽæ‰§è¡Œä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œå°†åŠ è½½æˆåŠŸçš„å›¾ç‰‡æ•°é‡+1ï¼Œå½“åŠ è½½æˆåŠŸçš„å›¾ç‰‡æ•°é‡ç­‰äºŽå›¾ç‰‡æ€»æ•°çš„æ—¶å€™æ‰§è¡ŒæŽ’åºæ–¹æ³•ã€‚ç¼ºç‚¹æ˜¯æœ‰ä¸€å¼ å›¾ç‰‡åŠ è½½ä¸æˆåŠŸå°±æ— æ³•çœ‹åˆ°æ‰€æœ‰çš„ï¼ŒçœŸæ­£é¡¹ç›®ä¸­è¿˜æ˜¯éœ€è¦åœ¨å¼‚æ­¥åŠ è½½æ•°æ®çš„æ—¶å€™èŽ·å–å›¾ç‰‡å°ºå¯¸ã€‚ é¡¹ç›®ä»£ç ]]></content>
      <categories>
        <category>JavaScript</category>
        <category>å¸ƒå±€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±æ‹·è´-é€’å½’]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%B7%B1%E6%8B%B7%E8%B4%9D-%E9%80%92%E5%BD%92%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ä¸»è¦è®²ä¸€ä¸‹ js çš„åŸºæœ¬æ•°æ®ç±»åž‹ä»¥åŠä¸€äº›å †å’Œæ ˆçš„çŸ¥è¯†å’Œä»€ä¹ˆæ˜¯æ·±æ‹·è´ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´ã€æ·±æ‹·è´ä¸Žæµ…æ‹·è´çš„åŒºåˆ«ï¼Œä»¥åŠæ€Žä¹ˆè¿›è¡Œæ·±æ‹·è´å’Œæ€Žä¹ˆè¿›è¡Œæµ…æ‹·è´ã€‚ æœ¬æ–‡æ€ç»´å¯¼å›¾å¦‚ä¸‹ï¼š æœ¬æ–‡æ€ç»´å¯¼å›¾ æœ¬æ–‡é¦–å‘äºŽæˆ‘çš„ä¸ªäººåšå®¢ï¼šcherryblog.site/ å †å’Œæ ˆçš„åŒºåˆ«å…¶å®žæ·±æ‹·è´å’Œæµ…æ‹·è´çš„ä¸»è¦åŒºåˆ«å°±æ˜¯å…¶åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ç±»åž‹ä¸åŒã€‚ å †å’Œæ ˆéƒ½æ˜¯å†…å­˜ä¸­åˆ’åˆ†å‡ºæ¥ç”¨æ¥å­˜å‚¨çš„åŒºåŸŸã€‚ æ ˆï¼ˆstackï¼‰ä¸ºè‡ªåŠ¨åˆ†é…çš„å†…å­˜ç©ºé—´ï¼Œå®ƒç”±ç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾ï¼›è€Œå †ï¼ˆheapï¼‰åˆ™æ˜¯åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå¤§å°ä¸å®šä¹Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚ ECMAScript çš„æ•°æ®ç±»åž‹åœ¨å°†æ·±æ‹·è´å’Œæµ…æ‹·è´ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥é‡æ–°å›žé¡¾ä¸€ä¸‹ ECMAScript ä¸­çš„æ•°æ®ç±»åž‹ã€‚ä¸»è¦åˆ†ä¸º åŸºæœ¬æ•°æ®ç±»åž‹ï¼ˆundefinedï¼Œbooleanï¼Œnumberï¼Œstringï¼Œnullï¼‰åŸºæœ¬æ•°æ®ç±»åž‹ä¸»è¦æ˜¯ï¼šundefinedï¼Œbooleanï¼Œnumberï¼Œstringï¼Œnullã€‚ åŸºæœ¬æ•°æ®ç±»åž‹å­˜æ”¾åœ¨æ ˆä¸­å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œæ•°æ®å¤§å°ç¡®å®šï¼Œå†…å­˜ç©ºé—´å¤§å°å¯ä»¥åˆ†é…ï¼Œæ˜¯ç›´æŽ¥æŒ‰å€¼å­˜æ”¾çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥è®¿é—®ã€‚ åŸºæœ¬æ•°æ®ç±»åž‹å€¼ä¸å¯å˜ javascriptä¸­çš„åŽŸå§‹å€¼ï¼ˆundefinedã€nullã€å¸ƒå°”å€¼ã€æ•°å­—å’Œå­—ç¬¦ä¸²ï¼‰ä¸Žå¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„å’Œå‡½æ•°ï¼‰æœ‰ç€æ ¹æœ¬åŒºåˆ«ã€‚åŽŸå§‹å€¼æ˜¯ä¸å¯æ›´æ”¹çš„ï¼šä»»ä½•æ–¹æ³•éƒ½æ— æ³•æ›´æ”¹ï¼ˆæˆ–â€œçªå˜â€ï¼‰ä¸€ä¸ªåŽŸå§‹å€¼ã€‚å¯¹æ•°å­—å’Œå¸ƒå°”å€¼æ¥è¯´æ˜¾ç„¶å¦‚æ­¤ â€”â€” æ”¹å˜æ•°å­—çš„å€¼æœ¬èº«å°±è¯´ä¸é€šï¼Œè€Œå¯¹å­—ç¬¦ä¸²æ¥è¯´å°±ä¸é‚£ä¹ˆæ˜Žæ˜¾äº†ï¼Œå› ä¸ºå­—ç¬¦ä¸²çœ‹èµ·æ¥åƒç”±å­—ç¬¦ç»„æˆçš„æ•°ç»„ï¼Œæˆ‘ä»¬æœŸæœ›å¯ä»¥é€šè¿‡æŒ‡å®šç´¢å¼•æ¥å‡æ”¹å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚å®žé™…ä¸Šï¼Œjavascript æ˜¯ç¦æ­¢è¿™æ ·åšçš„ã€‚å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„æ–¹æ³•çœ‹ä¸ŠåŽ»è¿”å›žäº†ä¸€ä¸ªä¿®æ”¹åŽçš„å­—ç¬¦ä¸²ï¼Œå®žé™…ä¸Šè¿”å›žçš„æ˜¯ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å€¼ã€‚ åŸºæœ¬æ•°æ®ç±»åž‹çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼ŒåŠ¨æ€ä¿®æ”¹äº†åŸºæœ¬æ•°æ®ç±»åž‹çš„å€¼ï¼Œå®ƒçš„åŽŸå§‹å€¼ä¹Ÿæ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œä¾‹å¦‚ï¼š 12345var str = &quot;abc&quot;;console.log(str[1]=&quot;f&quot;); // fconsole.log(str); // abc è¿™ä¸€ç‚¹å…¶å®žå¼€å§‹æˆ‘æ˜¯æ¯”è¾ƒè¿·æƒ‘çš„ï¼Œæ€»æ˜¯æ„Ÿè§‰ js æ˜¯ä¸€ä¸ªçµæ´»çš„è¯­è¨€ï¼Œä»»ä½•å€¼åº”è¯¥éƒ½æ˜¯å¯å˜çš„ï¼ŒçœŸæ˜¯å›¾æ ·å›¾æ£®ç ´ï¼Œæˆ‘ä»¬é€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯å¯¹ä¸€ä¸ªå˜é‡é‡æ–°èµ‹å€¼ï¼Œè€Œä¸æ˜¯æ”¹å˜åŸºæœ¬æ•°æ®ç±»åž‹çš„å€¼ã€‚å°±å¦‚ä¸Šè¿°å¼•ç”¨æ‰€è¯´çš„é‚£æ ·ï¼Œåœ¨ js ä¸­æ²¡æœ‰æ–¹æ³•æ˜¯å¯ä»¥æ”¹å˜å¸ƒå°”å€¼å’Œæ•°å­—çš„ã€‚å€’æ˜¯æœ‰å¾ˆå¤šæ“ä½œå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•éƒ½æ˜¯è¿”å›žä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶æ²¡æœ‰æ”¹å˜å…¶åŽŸæœ‰çš„æ•°æ®ã€‚ æ‰€ä»¥ï¼Œè®°ä½è¿™ä¸€ç‚¹ï¼šåŸºæœ¬æ•°æ®ç±»åž‹å€¼ä¸å¯å˜ã€‚ åŸºæœ¬ç±»åž‹çš„æ¯”è¾ƒæ˜¯å€¼çš„æ¯”è¾ƒåŸºæœ¬ç±»åž‹çš„æ¯”è¾ƒæ˜¯å€¼çš„æ¯”è¾ƒï¼Œåªè¦å®ƒä»¬çš„å€¼ç›¸ç­‰å°±è®¤ä¸ºä»–ä»¬æ˜¯ç›¸ç­‰çš„ï¼Œä¾‹å¦‚ï¼š 123var a = 1;var b = 1;console.log(a === b);//true æ¯”è¾ƒçš„æ—¶å€™æœ€å¥½ä½¿ç”¨ä¸¥æ ¼ç­‰ï¼Œå› ä¸º == æ˜¯ä¼šè¿›è¡Œç±»åž‹è½¬æ¢çš„ï¼Œæ¯”å¦‚ï¼š 123var a = 1;var b = true;console.log(a == b);//true å¼•ç”¨ç±»åž‹å¼•ç”¨ç±»åž‹å­˜æ”¾åœ¨å †ä¸­å¼•ç”¨ç±»åž‹ï¼ˆobjectï¼‰æ˜¯å­˜æ”¾åœ¨å †å†…å­˜ä¸­çš„ï¼Œå˜é‡å®žé™…ä¸Šæ˜¯ä¸€ä¸ªå­˜æ”¾åœ¨æ ˆå†…å­˜çš„æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å †å†…å­˜ä¸­çš„åœ°å€ã€‚æ¯ä¸ªç©ºé—´å¤§å°ä¸ä¸€æ ·ï¼Œè¦æ ¹æ®æƒ…å†µå¼€è¿›è¡Œç‰¹å®šçš„åˆ†é…ï¼Œä¾‹å¦‚ã€‚ 123var person1 = &#123;name:&apos;jozo&apos;&#125;;var person2 = &#123;name:&apos;xiaom&apos;&#125;;var person3 = &#123;name:&apos;xiaoq&apos;&#125;; å †å†…å­˜ å¼•ç”¨ç±»åž‹å€¼å¯å˜å¼•ç”¨ç±»åž‹æ˜¯å¯ä»¥ç›´æŽ¥æ”¹å˜å…¶å€¼çš„ï¼Œä¾‹å¦‚ï¼š 123var a = [1,2,3];a[1] = 5;console.log(a[1]); // 5 å¼•ç”¨ç±»åž‹çš„æ¯”è¾ƒæ˜¯å¼•ç”¨çš„æ¯”è¾ƒæ‰€ä»¥æ¯æ¬¡æˆ‘ä»¬å¯¹ js ä¸­çš„å¼•ç”¨ç±»åž‹è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œéƒ½æ˜¯æ“ä½œå…¶å¯¹è±¡çš„å¼•ç”¨ï¼ˆä¿å­˜åœ¨æ ˆå†…å­˜ä¸­çš„æŒ‡é’ˆï¼‰ï¼Œæ‰€ä»¥æ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨ç±»åž‹ï¼Œæ˜¯çœ‹å…¶çš„å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š 123var a = [1,2,3];var b = [1,2,3];console.log(a === b); // false è™½ç„¶å˜é‡ a å’Œå˜é‡ b éƒ½æ˜¯è¡¨ç¤ºä¸€ä¸ªå†…å®¹ä¸º 1ï¼Œ2ï¼Œ3 çš„æ•°ç»„ï¼Œä½†æ˜¯å…¶åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯è¯´å˜é‡ a å’Œå˜é‡ b æŒ‡å‘çš„ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ä»–ä»¬æ˜¯ä¸ç›¸ç­‰çš„ã€‚ å¼•ç”¨ç±»åž‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ ä¼ å€¼ä¸Žä¼ å€äº†è§£äº†åŸºæœ¬æ•°æ®ç±»åž‹ä¸Žå¼•ç”¨ç±»åž‹çš„åŒºåˆ«ä¹‹åŽï¼Œæˆ‘ä»¬å°±åº”è¯¥èƒ½æ˜Žç™½ä¼ å€¼ä¸Žä¼ å€çš„åŒºåˆ«äº†ã€‚åœ¨æˆ‘ä»¬è¿›è¡Œèµ‹å€¼æ“ä½œçš„æ—¶å€™ï¼ŒåŸºæœ¬æ•°æ®ç±»åž‹çš„èµ‹å€¼ï¼ˆ=ï¼‰æ˜¯åœ¨å†…å­˜ä¸­æ–°å¼€è¾Ÿä¸€æ®µæ ˆå†…å­˜ï¼Œç„¶åŽå†æŠŠå†å°†å€¼èµ‹å€¼åˆ°æ–°çš„æ ˆä¸­ã€‚ä¾‹å¦‚ï¼š 123456var a = 10;var b = a;a ++ ;console.log(a); // 11console.log(b); // 10 åŸºæœ¬æ•°æ®ç±»åž‹çš„èµ‹å€¼ æ‰€ä»¥è¯´ï¼ŒåŸºæœ¬ç±»åž‹çš„èµ‹å€¼çš„ä¸¤ä¸ªå˜é‡æ˜¯ä¸¤ä¸ªç‹¬ç«‹ç›¸äº’ä¸å½±å“çš„å˜é‡ã€‚ ä½†æ˜¯å¼•ç”¨ç±»åž‹çš„èµ‹å€¼æ˜¯ä¼ å€ã€‚åªæ˜¯æ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ï¼Œä¾‹å¦‚ï¼Œä¹Ÿå°±æ˜¯è¯´å¼•ç”¨ç±»åž‹çš„èµ‹å€¼æ˜¯å¯¹è±¡ä¿å­˜åœ¨æ ˆä¸­çš„åœ°å€çš„èµ‹å€¼ï¼Œè¿™æ ·çš„è¯ä¸¤ä¸ªå˜é‡å°±æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ä¸¤è€…ä¹‹é—´æ“ä½œäº’ç›¸æœ‰å½±å“ã€‚ä¾‹å¦‚ï¼š 123456789101112var a = &#123;&#125;; // aä¿å­˜äº†ä¸€ä¸ªç©ºå¯¹è±¡çš„å®žä¾‹var b = a; // aå’Œbéƒ½æŒ‡å‘äº†è¿™ä¸ªç©ºå¯¹è±¡a.name = &apos;jozo&apos;;console.log(a.name); // &apos;jozo&apos;console.log(b.name); // &apos;jozo&apos;b.age = 22;console.log(b.age);// 22console.log(a.age);// 22console.log(a == b);// true å¼•ç”¨ç±»åž‹çš„èµ‹å€¼ æµ…æ‹·è´åœ¨æ·±å…¥äº†è§£ä¹‹å‰ï¼Œæˆ‘è®¤ä¸ºä¸Šé¢çš„èµ‹å€¼å°±æ˜¯æµ…æ‹·è´ï¼Œå“‡å“ˆå“ˆï¼ŒçœŸçš„æ˜¯å›¾æ ·å›¾æ£®ç ´ã€‚ä¸Šé¢é‚£ä¸ªåº”è¯¥åªèƒ½ç®—æ˜¯â€œå¼•ç”¨â€ï¼Œå¹¶ä¸ç®—æ˜¯çœŸæ­£çš„æµ…æ‹·è´ã€‚ä¸€ä¸‹éƒ¨åˆ†å‚ç…§çŸ¥ä¹Žä¸­çš„æé—®ï¼š javascriptä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ èµ‹å€¼ï¼ˆ=ï¼‰å’Œæµ…æ‹·è´çš„åŒºåˆ«é‚£ä¹ˆèµ‹å€¼å’Œæµ…æ‹·è´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Œæˆ‘ä»¬çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546var obj1 = &#123; &apos;name&apos; : &apos;zhangsan&apos;, &apos;age&apos; : &apos;18&apos;, &apos;language&apos; : [1,[2,3],[4,5]],&#125;;var obj2 = obj1;var obj3 = shallowCopy(obj1);function shallowCopy(src) &#123; var dst = &#123;&#125;; for (var prop in src) &#123; if (src.hasOwnProperty(prop)) &#123; dst[prop] = src[prop]; &#125; &#125; return dst;&#125;obj2.name = &quot;lisi&quot;;obj3.age = &quot;20&quot;;obj2.language[1] = [&quot;äºŒ&quot;,&quot;ä¸‰&quot;];obj3.language[2] = [&quot;å››&quot;,&quot;äº”&quot;];console.log(obj1); //obj1 = &#123;// &apos;name&apos; : &apos;lisi&apos;,// &apos;age&apos; : &apos;18&apos;,// &apos;language&apos; : [1,[&quot;äºŒ&quot;,&quot;ä¸‰&quot;],[&quot;å››&quot;,&quot;äº”&quot;]],//&#125;;console.log(obj2);//obj2 = &#123;// &apos;name&apos; : &apos;lisi&apos;,// &apos;age&apos; : &apos;18&apos;,// &apos;language&apos; : [1,[&quot;äºŒ&quot;,&quot;ä¸‰&quot;],[&quot;å››&quot;,&quot;äº”&quot;]],//&#125;;console.log(obj3);//obj3 = &#123;// &apos;name&apos; : &apos;zhangsan&apos;,// &apos;age&apos; : &apos;20&apos;,// &apos;language&apos; : [1,[&quot;äºŒ&quot;,&quot;ä¸‰&quot;],[&quot;å››&quot;,&quot;äº”&quot;]],//&#125;; å…ˆå®šä¹‰ä¸ªä¸€ä¸ªåŽŸå§‹çš„å¯¹è±¡ obj1ï¼Œç„¶åŽä½¿ç”¨èµ‹å€¼å¾—åˆ°ç¬¬äºŒä¸ªå¯¹è±¡ obj2ï¼Œç„¶åŽé€šè¿‡æµ…æ‹·è´ï¼Œå°† obj1 é‡Œé¢çš„å±žæ€§éƒ½èµ‹å€¼åˆ° obj3 ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š obj1ï¼šåŽŸå§‹æ•°æ® obj2ï¼šèµ‹å€¼æ“ä½œå¾—åˆ° obj3ï¼šæµ…æ‹·è´å¾—åˆ° ç„¶åŽæˆ‘ä»¬æ”¹å˜ obj2 çš„ name å±žæ€§å’Œ obj3 çš„ name å±žæ€§ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ”¹å˜èµ‹å€¼å¾—åˆ°çš„å¯¹è±¡ obj2 åŒæ—¶ä¹Ÿä¼šæ”¹å˜åŽŸå§‹å€¼ obj1ï¼Œè€Œæ”¹å˜æµ…æ‹·è´å¾—åˆ°çš„çš„ obj3 åˆ™ä¸ä¼šæ”¹å˜åŽŸå§‹å¯¹è±¡ obj1ã€‚è¿™å°±å¯ä»¥è¯´æ˜Žèµ‹å€¼å¾—åˆ°çš„å¯¹è±¡ obj2 åªæ˜¯å°†æŒ‡é’ˆæ”¹å˜ï¼Œå…¶å¼•ç”¨çš„ä»ç„¶æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæµ…æ‹·è´å¾—åˆ°çš„çš„ obj3 åˆ™æ˜¯é‡æ–°åˆ›å»ºäº†æ–°å¯¹è±¡ã€‚ ç„¶è€Œï¼Œæˆ‘ä»¬æŽ¥ä¸‹æ¥æ¥çœ‹ä¸€ä¸‹æ”¹å˜å¼•ç”¨ç±»åž‹ä¼šæ˜¯ä»€ä¹ˆæƒ…å†µå‘¢ï¼Œæˆ‘åˆæ”¹å˜äº†èµ‹å€¼å¾—åˆ°çš„å¯¹è±¡ obj2 å’Œæµ…æ‹·è´å¾—åˆ°çš„ obj3 ä¸­çš„ language å±žæ€§çš„ç¬¬äºŒä¸ªå€¼å’Œç¬¬ä¸‰ä¸ªå€¼ï¼ˆlanguage æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿå°±æ˜¯å¼•ç”¨ç±»åž‹ï¼‰ã€‚ç»“æžœè§è¾“å‡ºï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œæ— è®ºæ˜¯ä¿®æ”¹èµ‹å€¼å¾—åˆ°çš„å¯¹è±¡ obj2 å’Œæµ…æ‹·è´å¾—åˆ°çš„ obj3 éƒ½ä¼šæ”¹å˜åŽŸå§‹æ•°æ®ã€‚ è¿™æ˜¯å› ä¸ºæµ…æ‹·è´åªå¤åˆ¶ä¸€å±‚å¯¹è±¡çš„å±žæ€§ï¼Œå¹¶ä¸åŒ…æ‹¬å¯¹è±¡é‡Œé¢çš„ä¸ºå¼•ç”¨ç±»åž‹çš„æ•°æ®ã€‚æ‰€ä»¥å°±ä¼šå‡ºçŽ°æ”¹å˜æµ…æ‹·è´å¾—åˆ°çš„ obj3 ä¸­çš„å¼•ç”¨ç±»åž‹æ—¶ï¼Œä¼šä½¿åŽŸå§‹æ•°æ®å¾—åˆ°æ”¹å˜ã€‚ æ·±æ‹·è´ï¼šå°† B å¯¹è±¡æ‹·è´åˆ° A å¯¹è±¡ä¸­ï¼ŒåŒ…æ‹¬ B é‡Œé¢çš„å­å¯¹è±¡ï¼Œ æµ…æ‹·è´ï¼šå°† B å¯¹è±¡æ‹·è´åˆ° A å¯¹è±¡ä¸­ï¼Œä½†ä¸åŒ…æ‹¬ B é‡Œé¢çš„å­å¯¹è±¡ â€“ å’ŒåŽŸæ•°æ®æ˜¯å¦æŒ‡å‘åŒä¸€å¯¹è±¡ ç¬¬ä¸€å±‚æ•°æ®ä¸ºåŸºæœ¬æ•°æ®ç±»åž‹ åŽŸæ•°æ®ä¸­åŒ…å«å­å¯¹è±¡ èµ‹å€¼ æ˜¯ æ”¹å˜ä¼šä½¿åŽŸæ•°æ®ä¸€åŒæ”¹å˜ æ”¹å˜ä¼šä½¿åŽŸæ•°æ®ä¸€åŒæ”¹å˜ æµ…æ‹·è´ å¦ æ”¹å˜ä¸ä¼šä½¿åŽŸæ•°æ®ä¸€åŒæ”¹å˜ æ”¹å˜ä¼šä½¿åŽŸæ•°æ®ä¸€åŒæ”¹å˜ æ·±æ‹·è´ å¦ æ”¹å˜ä¸ä¼šä½¿åŽŸæ•°æ®ä¸€åŒæ”¹å˜ æ”¹å˜ä¸ä¼šä½¿åŽŸæ•°æ®ä¸€åŒæ”¹å˜ æ·±æ‹·è´çœ‹äº†è¿™ä¹ˆåŠå¤©ï¼Œä½ ä¹Ÿåº”è¯¥æ¸…æ¥šä»€ä¹ˆæ˜¯æ·±æ‹·è´äº†å§ï¼Œå¦‚æžœè¿˜ä¸æ¸…æ¥šï¼Œæˆ‘å°±å‰–è…¹è‡ªå°½(à²¥_à²¥) æ·±æ‹·è´æ˜¯å¯¹å¯¹è±¡ä»¥åŠå¯¹è±¡çš„æ‰€æœ‰å­å¯¹è±¡è¿›è¡Œæ‹·è´ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€Žä¹ˆè¿›è¡Œæ·±æ‹·è´å‘¢ï¼Ÿ æ€è·¯å°±æ˜¯é€’å½’è°ƒç”¨åˆšåˆšçš„æµ…æ‹·è´ï¼ŒæŠŠæ‰€æœ‰å±žäºŽå¯¹è±¡çš„å±žæ€§ç±»åž‹éƒ½éåŽ†èµ‹ç»™å¦ä¸€ä¸ªå¯¹è±¡å³å¯ã€‚æˆ‘ä»¬ç›´æŽ¥æ¥çœ‹ä¸€ä¸‹ Zepto ä¸­æ·±æ‹·è´çš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637// å†…éƒ¨æ–¹æ³•ï¼šç”¨æˆ·åˆå¹¶ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡// å‚æ•°ï¼š// target ç›®æ ‡å¯¹è±¡ å¯¹è±¡éƒ½åˆå¹¶åˆ°targeté‡Œ// source åˆå¹¶å¯¹è±¡// deep æ˜¯å¦æ‰§è¡Œæ·±åº¦åˆå¹¶function extend(target, source, deep) &#123; for (key in source) if (deep &amp;&amp; (isPlainObject(source[key]) || isArray(source[key]))) &#123; // source[key] æ˜¯å¯¹è±¡ï¼Œè€Œ target[key] ä¸æ˜¯å¯¹è±¡ï¼Œ åˆ™ target[key] = &#123;&#125; åˆå§‹åŒ–ä¸€ä¸‹ï¼Œå¦åˆ™é€’å½’ä¼šå‡ºé”™çš„ if (isPlainObject(source[key]) &amp;&amp; !isPlainObject(target[key])) target[key] = &#123;&#125; // source[key] æ˜¯æ•°ç»„ï¼Œè€Œ target[key] ä¸æ˜¯æ•°ç»„ï¼Œåˆ™ target[key] = [] åˆå§‹åŒ–ä¸€ä¸‹ï¼Œå¦åˆ™é€’å½’ä¼šå‡ºé”™çš„ if (isArray(source[key]) &amp;&amp; !isArray(target[key])) target[key] = [] // æ‰§è¡Œé€’å½’ extend(target[key], source[key], deep) &#125; // ä¸æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œè¯´æ˜Ž source[key] æ˜¯ä¸€èˆ¬çš„å€¼ç±»åž‹ï¼Œç›´æŽ¥èµ‹å€¼ç»™ target å°±æ˜¯äº† else if (source[key] !== undefined) target[key] = source[key]&#125;// Copy all but undefined properties from one or more// objects to the `target` object.$.extend = function(target)&#123; var deep, args = slice.call(arguments, 1); //ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºbooleanå€¼æ—¶ï¼Œè¡¨ç¤ºæ˜¯å¦æ·±åº¦åˆå¹¶ if (typeof target == &apos;boolean&apos;) &#123; deep = target; //targetå–ç¬¬äºŒä¸ªå‚æ•° target = args.shift() &#125; // éåŽ†åŽé¢çš„å‚æ•°ï¼Œéƒ½åˆå¹¶åˆ°targetä¸Š args.forEach(function(arg)&#123; extend(target, arg, deep) &#125;) return target&#125; åœ¨ Zepto ä¸­çš„ $.extend æ–¹æ³•åˆ¤æ–­çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­æ˜¯å¦è¿›è¡Œæ·±æ‹·è´ã€‚ åœ¨ $.extend æ–¹æ³•å†…éƒ¨ï¼Œåªæœ‰ä¸€ä¸ªå½¢å‚ targetï¼Œè¿™ä¸ªè®¾è®¡ä½ çœŸçš„å¾ˆå·§å¦™ã€‚å› ä¸ºå½¢å‚åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥ target å°±æ˜¯ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨è®¾ç½®ä¸€ä¸ªå˜é‡ args æ¥æŽ¥æ”¶åŽ»é™¤ç¬¬ä¸€ä¸ªå‚æ•°çš„å…¶ä½™å‚æ•°ï¼Œå¦‚æžœè¯¥å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”ç±»åž‹çš„å€¼çš„è¯ï¼Œè¯´æ˜Žè¦å¯ç”¨æ·±æ‹·è´ï¼Œå°±å°† deep è®¾ç½®ä¸º trueï¼Œå¹¶å°† target èµ‹å€¼ä¸º args çš„ç¬¬ä¸€ä¸ªå€¼ï¼ˆä¹Ÿå°±æ˜¯çœŸæ­£çš„ targetï¼‰ã€‚å¦‚æžœè¯¥å€¼ä¸æ˜¯ä¸€ä¸ªå¸ƒå°”ç±»åž‹çš„è¯ï¼Œé‚£ä¹ˆä¼ å…¥çš„ç¬¬ä¸€ä¸ªå€¼ä»ä¸º target ä¸éœ€è¦è¿›è¡Œå¤„ç†ï¼Œåªéœ€è¦éåŽ†ä½¿ç”¨ extend æ–¹æ³•å°±å¯ä»¥ã€‚ è¿™é‡Œæœ‰ç‚¹ç»•ï¼Œä½†æ˜¯çœŸçš„è®¾è®¡çš„å¾ˆç²¾å¦™ï¼Œå»ºè®®è‡ªå·±æ‰“æ–­ç‚¹è¯•ä¸€ä¸‹ï¼Œä¼šæœ‰æ„å¤–æ”¶èŽ·ï¼ˆçŽ©è½¬ js çš„å¤§ç¥žè¯·å¿½ç•¥ï¼‰ã€‚ è€Œåœ¨ extend çš„å†…éƒ¨ï¼Œæ˜¯æ‹·è´çš„è¿‡ç¨‹ã€‚ é€’å½’ 123456789101112131415161718192021222324252627282930var obj=&#123; name: &quot;nanyang&quot;, age: 21, friend:&#123; name:&quot;kobe&quot;, age: 38 &#125;&#125;function deepClone(obj) &#123; var newObj = &#123;&#125;; for (var key in obj)&#123; if (obj.hasOwnProperty(key))&#123; if(typeof obj[key] === &quot;string&quot; ||typeof obj[key] === &quot;number&quot; ||typeof obj[key] === &quot;boolean&quot; ||obj[key] === undefined ||obj[key] === null) &#123; newObj[key] = obj[key]; &#125;else &#123; newObj[key] = deepClone(obj[key]) &#125; &#125; &#125; return newObj;&#125;var obj2 = deepClone(obj);console.log(obj2);obj.friend.name = &quot;james&quot;;console.log(obj);console.log(obj2); json 123456789101112131415161718var obj=&#123; name: &quot;nanyang&quot;, age: 21, friend:&#123; name:&quot;kobe&quot;, age: 38 &#125;&#125;function deepClone(obj) &#123; var newObj = JSON.parse(JSON.stringify(obj));//stringifyå°†objå¯¹è±¡è½¬åŒ–æˆå­—ç¬¦ä¸²ï¼Œparseå°†å­—ç¬¦ä¸²é‡æ–°ç”Ÿæˆå¯¹è±¡ return newObj;&#125;var obj2 = deepClone(obj);obj.name = &quot;yangnan&quot;;obj.friend.name= &quot;james&quot;;console.log(obj2);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ·±æ‹·è´</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±å…¥ç†è§£call,apply,bind]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3call-apply-bind%2F</url>
    <content type="text"><![CDATA[æ·±å…¥ç†è§£ callã€apply å’Œ bindåœ¨JavaScript ä¸­ï¼Œcallã€apply å’Œ bind æ˜¯ Function å¯¹è±¡è‡ªå¸¦çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°ä¸­çš„ this æŒ‡å‘ï¼Œä»Žè€Œå¯ä»¥è¾¾åˆ°æŽ¥èŠ±ç§»æœ¨çš„æ•ˆæžœã€‚æœ¬æ–‡å°†å¯¹è¿™ä¸‰ä¸ªæ–¹æ³•è¿›è¡Œè¯¦ç»†çš„è®²è§£ï¼Œå¹¶åˆ—å‡ºå‡ ä¸ªç»å…¸åº”ç”¨åœºæ™¯ã€‚ 1ã€call(thisArgs [,argsâ€¦])è¯¥æ–¹æ³•å¯ä»¥ä¼ é€’ä¸€ä¸ªthisArgså‚æ•°å’Œä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼ŒthisArgs æŒ‡å®šäº†å‡½æ•°åœ¨è¿è¡ŒæœŸçš„è°ƒç”¨è€…ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°ä¸­çš„ this å¯¹è±¡ï¼Œè€Œå‚æ•°åˆ—è¡¨ä¼šè¢«ä¼ å…¥è°ƒç”¨å‡½æ•°ä¸­ã€‚thisArgs çš„å–å€¼æœ‰ä»¥ä¸‹4ç§æƒ…å†µï¼š ä¸ä¼ ï¼Œæˆ–è€…ä¼ null,undefinedï¼Œ å‡½æ•°ä¸­çš„ this æŒ‡å‘ window å¯¹è±¡ ä¼ é€’å¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°åï¼Œå‡½æ•°ä¸­çš„ this æŒ‡å‘è¿™ä¸ªå‡½æ•°çš„å¼•ç”¨ ä¼ é€’å­—ç¬¦ä¸²ã€æ•°å€¼æˆ–å¸ƒå°”ç±»åž‹ç­‰åŸºç¡€ç±»åž‹ï¼Œå‡½æ•°ä¸­çš„ this æŒ‡å‘å…¶å¯¹åº”çš„åŒ…è£…å¯¹è±¡ï¼Œå¦‚ Stringã€Numberã€Boolean ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œå‡½æ•°ä¸­çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡ 123456789101112131415function a()&#123; console.log(this); //è¾“å‡ºå‡½æ•°aä¸­çš„thiså¯¹è±¡&#125;function b()&#123;&#125; //å®šä¹‰å‡½æ•°b var obj = &#123;name:'onepixel'&#125;; //å®šä¹‰å¯¹è±¡obj a.call(); //windowa.call(null); //windowa.call(undefined);//windowa.call(1); //Numbera.call(''); //Stringa.call(true); //Booleana.call(b);// function b()&#123;&#125;a.call(obj); //Object è¿™æ˜¯call çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå®ƒå…è®¸ä½ åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨è¯¥å¯¹è±¡æ²¡æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¯ä»¥è®¿é—®è¯¥å¯¹è±¡ä¸­çš„å±žæ€§ï¼Œè‡³äºŽè¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„ï¼Œæˆ‘å¾…ä¼šå†è®²ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 1234567891011121314151617181920var a = &#123; name:'onepixel', //å®šä¹‰açš„å±žæ€§ say:function()&#123; //å®šä¹‰açš„æ–¹æ³• console.log("Hi,I'm function a!"); &#125;&#125;; function b(name)&#123; console.log("Post params: "+ name); console.log("I'm "+ this.name); this.say();&#125; b.call(a,'test');&gt;&gt;Post params: testI'm onepixelI'm function a! å½“æ‰§è¡Œb.call æ—¶ï¼Œå­—ç¬¦ä¸²testä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†å‡½æ•°b,ç”±äºŽcallçš„ä½œç”¨ï¼Œå‡½æ•°bä¸­çš„thisæŒ‡å‘äº†å¯¹è±¡a, å› æ­¤ç›¸å½“äºŽè°ƒç”¨äº†å¯¹è±¡aä¸Šçš„å‡½æ•°b,è€Œå®žé™…ä¸Šaä¸­æ²¡æœ‰å®šä¹‰b ã€‚ 2ã€apply(thisArgs[,args[]])apply å’Œ call çš„å”¯ä¸€åŒºåˆ«æ˜¯ç¬¬äºŒä¸ªå‚æ•°çš„ä¼ é€’æ–¹å¼ä¸åŒï¼Œapply çš„ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œ call å…è®¸ä¼ é€’ä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚å€¼å¾—ä½ æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ apply æŽ¥æ”¶çš„æ˜¯ä¸€ä¸ªå‚æ•°æ•°ç»„ï¼Œä½†åœ¨ä¼ é€’ç»™è°ƒç”¨å‡½æ•°æ—¶ï¼Œå´æ˜¯ä»¥å‚æ•°åˆ—è¡¨çš„å½¢å¼ä¼ é€’ï¼Œæˆ‘ä»¬çœ‹ä¸ªç®€å•çš„ä¾‹å­ï¼š 12345function b(x,y,z)&#123; console.log(x,y,z);&#125; b.apply(null,[1,2,3]); // 1 2 3 apply çš„è¿™ä¸ªç‰¹æ€§å¾ˆé‡è¦ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹é¢çš„åº”ç”¨åœºæ™¯ä¸­æåˆ°è¿™ä¸ªç‰¹æ€§ã€‚ 3ã€bind(thisArgs [,argsâ€¦])bindæ˜¯ES5 æ–°å¢žçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒçš„ä¼ å‚å’Œcallç±»ä¼¼ï¼Œä½†åˆå’Œ call/apply æœ‰ç€æ˜¾è‘—çš„ä¸åŒï¼Œå³è°ƒç”¨ call æˆ– apply éƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼Œè€Œ bind ä¸ä¼šæ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼Œåªæ˜¯è¿”å›žäº†å¯¹å‡½æ•°çš„å¼•ç”¨ã€‚ç²—ç•¥ä¸€çœ‹ï¼Œbind ä¼¼ä¹Žæ¯”call/apply è¦è½åŽä¸€äº›ï¼Œé‚£ES5ä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥bind å‘¢ï¼Ÿ å…¶å®žï¼ŒES5å¼•å…¥ bind çš„çœŸæ­£ç›®çš„æ˜¯ä¸ºäº†å¼¥è¡¥ call/apply çš„ä¸è¶³ï¼Œç”±äºŽ call/apply ä¼šå¯¹ç›®æ ‡å‡½æ•°è‡ªåŠ¨æ‰§è¡Œï¼Œä»Žè€Œå¯¼è‡´å®ƒæ— æ³•åœ¨äº‹ä»¶ç»‘å®šå‡½æ•°ä¸­ä½¿ç”¨ï¼Œå› ä¸ºäº‹ä»¶ç»‘å®šå‡½æ•°ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ‰§è¡Œï¼Œå®ƒæ˜¯åœ¨äº‹ä»¶è¢«è§¦å‘æ—¶ç”±JS å†…éƒ¨è‡ªåŠ¨æ‰§è¡Œçš„ã€‚è€Œ bind åœ¨å®žçŽ°æ”¹å˜å‡½æ•° this çš„åŒæ—¶åˆä¸ä¼šè‡ªåŠ¨æ‰§è¡Œç›®æ ‡å‡½æ•°ï¼Œå› æ­¤å¯ä»¥å®Œç¾Žçš„è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œçœ‹ä¸€ä¸ªä¾‹å­å°±èƒ½æ˜Žç™½ï¼š 12345678910111213141516var obj = &#123;name:'onepixel'&#125;; /** * ç»™documentæ·»åŠ clickäº‹ä»¶ç›‘å¬ï¼Œå¹¶ç»‘å®šonClickå‡½æ•° * é€šè¿‡bindæ–¹æ³•è®¾ç½®onClickçš„thisä¸ºobjï¼Œå¹¶ä¼ é€’å‚æ•°p1,p2 */document.addEventListener('click',onClick.bind(obj,'p1','p2'),false); //å½“ç‚¹å‡»ç½‘é¡µæ—¶è§¦å‘å¹¶æ‰§è¡Œfunction onClick(a,b)&#123; console.log( this.name, //onepixel a, //p1 b //p2 )&#125; å½“ç‚¹å‡»ç½‘é¡µæ—¶ï¼ŒonClick è¢«è§¦å‘æ‰§è¡Œï¼Œè¾“å‡ºonepixel p1 p2, è¯´æ˜Ž onClick ä¸­çš„ this è¢« bind æ”¹å˜æˆäº†obj å¯¹è±¡ï¼Œä¸ºäº†å¯¹ bind è¿›è¡Œæ·±å…¥çš„ç†è§£ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ bind çš„ polyfill å®žçŽ° (thisç¯‡ä¹Ÿæœ‰æ­¤å†…å®¹ï¼Œç®€åŒ–ç‰ˆpolyfill) ï¼š 12345678910111213141516171819202122if (!Function.prototype.bind) &#123; Function.prototype.bind = function (oThis) &#123; var aArgs = Array.prototype.slice.call(arguments, 1), fToBind = this, //thisåœ¨è¿™é‡ŒæŒ‡å‘çš„æ˜¯ç›®æ ‡å‡½æ•° fBound = function () &#123; return fToBind.apply( //å¦‚æžœå¤–éƒ¨æ‰§è¡Œvar obj = new fBound(),åˆ™å°†objä½œä¸ºæœ€ç»ˆçš„thisï¼Œæ”¾å¼ƒä½¿ç”¨oThis this instanceof fToBind ? this //æ­¤æ—¶çš„thiså°±æ˜¯newå‡ºçš„obj : oThis || this, //å¦‚æžœä¼ é€’çš„oThisæ— æ•ˆï¼Œå°±å°†fBoundçš„è°ƒç”¨è€…ä½œä¸ºthis //å°†é€šè¿‡bindä¼ é€’çš„å‚æ•°å’Œè°ƒç”¨æ—¶ä¼ é€’çš„å‚æ•°è¿›è¡Œåˆå¹¶ï¼Œå¹¶ä½œä¸ºæœ€ç»ˆçš„å‚æ•°ä¼ é€’ aArgs.concat(Array.prototype.slice.call(arguments))); &#125;; //å°†ç›®æ ‡å‡½æ•°çš„åŽŸåž‹å¯¹è±¡æ‹·è´åˆ°æ–°å‡½æ•°ä¸­ï¼Œå› ä¸ºç›®æ ‡å‡½æ•°æœ‰å¯èƒ½è¢«å½“ä½œæž„é€ å‡½æ•°ä½¿ç”¨ fBound.prototype = this.prototype; //è¿”å›žfBondçš„å¼•ç”¨ï¼Œç”±å¤–éƒ¨æŒ‰éœ€è°ƒç”¨ return fBound; &#125;;&#125; ä¸€æ—¦å‡½æ•°é€šè¿‡bindä¼ é€’äº†æœ‰æ•ˆçš„thiså¯¹è±¡ï¼Œåˆ™è¯¥å‡½æ•°åœ¨è¿è¡ŒæœŸçš„thiså°†æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œå³ä½¿é€šè¿‡callæˆ–applyæ¥è¯•å›¾æ”¹å˜thisçš„æŒ‡å‘ä¹Ÿæ˜¯å¾’åŠ³çš„ã€‚ 123456789101112131415161718192021222324//å®žçŽ°æ•°ç»„çš„åŽ»é‡åŠŸèƒ½Array.prototype.unique = function(fn) &#123; var rst = []; var tmp = &#123;&#125;; this.forEach(function(val) &#123; //ä½¿ç”¨callæ¥æ”¹å˜fnçš„thisæŒ‡å‘ï¼Œè¿™é‡Œä¼ window var key = 'uniq' + (typeof fn === 'function' ? fn.call(window, val) : val); if (!tmp.hasOwnProperty(key)) &#123; rst.push(val); tmp[key] = null; &#125; &#125;, this); return rst;&#125; //å¯¹è±¡æ•°ç»„åŽ»é‡var arr = [ &#123; id: 2 &#125;, &#123; id: 4 &#125;, &#123; id: 3 &#125;, &#123; id: 3 &#125;, &#123; id: 4 &#125;, &#123; id: 6 &#125;]arr.unique(function(v) &#123; console.log(this) //ä½¿ç”¨bindä¼ é€’äº†Array,åˆ™thisä¸€å®šæ˜¯Array,è€Œä¸ä¼šæ˜¯window return v.id&#125;.bind(Array)); 4ã€åº”ç”¨åœºæ™¯ä¸€ï¼šç»§æ‰¿å¤§å®¶çŸ¥é“ï¼ŒJavaScriptä¸­æ²¡æœ‰è¯¸å¦‚Javaã€C# ç­‰é«˜çº§è¯­è¨€ä¸­çš„extend å…³é”®å­—ï¼Œå› æ­¤JS ä¸­æ²¡æœ‰ç»§æ‰¿çš„æ¦‚å¿µï¼Œå¦‚æžœä¸€å®šè¦ç»§æ‰¿çš„è¯ï¼Œcall å’Œ apply å¯ä»¥å®žçŽ°è¿™ä¸ªåŠŸèƒ½ï¼š 12345678910111213141516function Animal(name,weight)&#123; this.name = name; this.weight = weight;&#125; function Cat()&#123; Animal.call(this,'cat','50'); //Animal.apply(this,['cat','50']); this.say = function()&#123; console.log("I am " + this.name+",my weight is " + this.weight); &#125;&#125; var cat = new Cat();cat.say();//I am cat,my weight is 50 å½“é€šè¿‡new è¿ç®—ç¬¦äº§ç”Ÿäº†cat æ—¶ï¼ŒCatä¸­çš„ this å°±æŒ‡å‘äº†catå¯¹è±¡(å…³äºŽnewè¿ç®—ç¬¦çš„è®²è§£ï¼Œè¯·å‚è€ƒJSæž„é€ å‡½æ•°å’Œnewè¿ç®—ç¬¦ï¼Œè€Œç»§æ‰¿çš„å…³é”®æ˜¯åœ¨äºŽCatä¸­æ‰§è¡Œäº†Animal.call(this,â€™catâ€™,â€™50â€™) è¿™å¥è¯ï¼Œåœ¨callä¸­å°†thisä½œä¸ºthisArgså‚æ•°ä¼ é€’ï¼ŒäºŽæ˜¯Animal æ–¹æ³•ä¸­çš„ this å°±æŒ‡å‘äº†Catä¸­çš„ thisï¼Œè€Œ cat ä¸­çš„ this æŒ‡å‘çš„æ˜¯ cat å¯¹è±¡ï¼Œæ‰€ä»¥Animal ä¸­çš„ this æŒ‡å‘çš„å°±æ˜¯ cat å¯¹è±¡ï¼Œåœ¨ Animal ä¸­å®šä¹‰äº†name å’Œ weight å±žæ€§ï¼Œå°±ç›¸å½“äºŽåœ¨ cat ä¸­å®šä¹‰äº†è¿™äº›å±žæ€§ï¼Œå› æ­¤ cat å¯¹è±¡ä¾¿æ‹¥æœ‰äº†Animal ä¸­å®šä¹‰çš„å±žæ€§ï¼Œä»Žè€Œè¾¾åˆ°äº†ç»§æ‰¿çš„ç›®çš„ã€‚ 5ã€åº”ç”¨åœºæ™¯äºŒï¼šç§»èŠ±æŽ¥æœ¨åœ¨è®²ä¸‹é¢çš„å†…å®¹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥è®¤è¯†ä¸€ä¸‹JavaScript ä¸­çš„ä¸€ä¸ªéžæ ‡å‡†ä¸“ä¸šæœ¯è¯­ï¼šArrayLike (ç±»æ•°ç»„/ä¼ªæ•°ç»„) ArrayLike å¯¹è±¡å³æ‹¥æœ‰æ•°ç»„çš„ä¸€éƒ¨åˆ†è¡Œä¸ºï¼Œåœ¨DOM ä¸­æ—©å·²è¡¨çŽ°å‡ºæ¥ï¼Œè€ŒjQuery çš„å´›èµ·è®©ArrayLike åœ¨JavaScript ä¸­å¤§æ”¾å¼‚å½©ã€‚ArrayLike å¯¹è±¡çš„ç²¾å¦™åœ¨äºŽå®ƒå’ŒJS åŽŸç”Ÿçš„ Array ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒæ˜¯è‡ªç”±æž„å»ºçš„ï¼Œå®ƒæ¥è‡ªå¼€å‘è€…å¯¹JavaScript å¯¹è±¡çš„æ‰©å±•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šå¯¹äºŽå®ƒçš„åŽŸåž‹(prototype)æˆ‘ä»¬å¯ä»¥è‡ªç”±å®šä¹‰ï¼Œè€Œä¸ä¼šæ±¡æŸ“åˆ°JSåŽŸç”Ÿçš„Arrayã€‚ ArrayLike å¯¹è±¡åœ¨JSä¸­è¢«å¹¿æ³›ä½¿ç”¨ï¼Œæ¯”å¦‚DOM ä¸­çš„NodeList, å‡½æ•°ä¸­çš„arguments éƒ½æ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡åƒæ•°ç»„ä¸€æ ·å­˜å‚¨ç€æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä½†å®ƒæ²¡æœ‰æ“ä½œæ•°ç»„çš„æ–¹æ³•ï¼Œè€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡call å°†æ•°ç»„çš„æŸäº›æ–¹æ³•ç§»æŽ¥åˆ°ArrayLike å¯¹è±¡ï¼Œä»Žè€Œè¾¾åˆ°æ“ä½œå…¶å…ƒç´ çš„ç›®çš„ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥è¿™æ ·éåŽ†å‡½æ•°ä¸­çš„arguments: 12345678910111213141516function test()&#123; //æ£€æµ‹argumentsæ˜¯å¦ä¸ºArrayçš„å®žä¾‹ console.log( arguments instanceof Array, //false Array.isArray(arguments) //false ); //åˆ¤æ–­argumentsæ˜¯å¦æœ‰forEachæ–¹æ³• console.log(arguments.forEach); //undefined // å°†æ•°ç»„ä¸­çš„forEachåº”ç”¨åˆ°argumentsä¸Š Array.prototype.forEach.call(arguments,function(item)&#123; console.log(item); // 1 2 3 4 &#125;); &#125;test(1,2,3,4); é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹äºŽapply è€Œè¨€ï¼Œæˆ‘ä»¬ä¸Šé¢æåˆ°äº†å®ƒç‹¬æœ‰çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå³apply æŽ¥æ”¶çš„æ˜¯æ•°ç»„ï¼Œåœ¨ä¼ é€’ç»™è°ƒç”¨å‡½æ•°çš„æ—¶å€™æ˜¯ä»¥å‚æ•°åˆ—è¡¨ä¼ é€’çš„ã€‚ è¿™ä¸ªç‰¹æ€§è®©apply çœ‹èµ·æ¥æ¯”call ç•¥èƒœä¸€ç­¹ï¼Œæ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šç»™å®šä¸€ä¸ªæ•°ç»„[1,3,4,7]ï¼Œç„¶åŽæ±‚æ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ ï¼Œè€Œæˆ‘ä»¬çŸ¥é“ï¼Œæ•°ç»„ä¸­å¹¶æ²¡æœ‰èŽ·å–æœ€å¤§å€¼çš„æ–¹æ³•ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ éœ€è¦é€šè¿‡ç¼–å†™ä»£ç æ¥å®žçŽ°ã€‚è€Œæˆ‘ä»¬çŸ¥é“ï¼ŒMath å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªèŽ·å–æœ€å¤§å€¼çš„æ–¹æ³•ï¼Œå³Math.max()ï¼Œ maxæ–¹æ³•éœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œç„¶åŽè¿”å›žè¿™äº›å‚æ•°ä¸­çš„æœ€å¤§å€¼ã€‚è€Œapply ä¸ä»…å¯ä»¥å°†Math å¯¹è±¡çš„max æ–¹æ³•åº”ç”¨åˆ°å…¶ä»–å¯¹è±¡ä¸Šï¼Œè¿˜å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„è½¬åŒ–ä¸ºå‚æ•°åˆ—è¡¨ä¼ é€’ç»™max,çœ‹ä»£ç å°±èƒ½ä¸€ç›®äº†ç„¶ï¼š 123var arr = [2,3,1,5,4]; Math.max.apply(null,arr); // 5 ä»¥ä¸Šä¾¿æ˜¯call å’Œapply æ¯”è¾ƒç»å…¸çš„å‡ ä¸ªåº”ç”¨åœºæ™¯ï¼Œ]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>call</tag>
        <tag>apply</tag>
        <tag>bind</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[webå‰ç«¯çŸ¥è¯†ä½“ç³»ç²¾ç®€]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2Fweb%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%E7%B2%BE%E7%AE%80%2F</url>
    <content type="text"><![CDATA[Webå‰ç«¯çŸ¥è¯†ä½“ç³»ç²¾ç®€Webå‰ç«¯æŠ€æœ¯ç”± htmlã€css å’Œ javascript ä¸‰å¤§éƒ¨åˆ†æž„æˆï¼Œæ˜¯ä¸€ä¸ªåºžå¤§è€Œå¤æ‚çš„æŠ€æœ¯ä½“ç³»ï¼Œå…¶å¤æ‚ç¨‹åº¦ä¸ä½ŽäºŽä»»ä½•ä¸€é—¨åŽç«¯è¯­è¨€ã€‚è€Œæˆ‘ä»¬åœ¨å­¦ä¹ å®ƒçš„æ—¶å€™å¾€å¾€æ˜¯å…ˆä»ŽæŸä¸€ä¸ªç‚¹åˆ‡å…¥ï¼Œç„¶åŽä¸æ–­åœ°æŽ¥è§¦å’Œå­¦ä¹ æ–°çš„çŸ¥è¯†ç‚¹ï¼Œå› æ­¤å¯¹äºŽåˆå­¦è€…å¾ˆéš¾ç†æ¸…æ¥šæ•´ä¸ªä½“ç³»çš„è„‰ç»œç»“æž„ã€‚æœ¬æ–‡å°†å¯¹Webå‰ç«¯çŸ¥è¯†ä½“ç³»è¿›è¡Œç®€å•çš„æ¢³ç†ï¼Œå¯¹åº”çš„æ¯ä¸ªçŸ¥è¯†ç‚¹ç‚¹åˆ°ä¸ºæ­¢ï¼Œä¸ä½œè¯¦ç»†ä»‹ç»ã€‚ç›®çš„æ˜¯å¸®åŠ©å¤§å®¶å®¡æŸ¥è‡ªå·±çš„çŸ¥è¯†ç»“æž„æ˜¯å¦å®Œå–„ï¼Œå¦‚æœ‰é—æ¼æˆ–ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œå¸Œæœ›å…±å‹‰ã€‚ JAVASCRIPT ç¯‡0ã€åŸºç¡€è¯­æ³•Javascript åŸºç¡€è¯­æ³•åŒ…æ‹¬ï¼šå˜é‡å£°æ˜Žã€æ•°æ®ç±»åž‹ã€å‡½æ•°ã€æŽ§åˆ¶è¯­å¥ã€å†…ç½®å¯¹è±¡ç­‰ã€‚ åœ¨ES5 ä¸­ï¼Œå˜é‡å£°æ˜Žæœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ var å’Œ function ï¼Œvar ç”¨äºŽå£°æ˜Žæ™®é€šçš„å˜é‡ï¼ŒæŽ¥æ”¶ä»»æ„ç±»åž‹ï¼Œfunctionç”¨äºŽå£°æ˜Žå‡½æ•°ã€‚å¦å¤–ï¼ŒES6 æ–°å¢žäº† letã€constã€import å’Œ class ç­‰å››ä¸ªå‘½ä»¤ï¼Œåˆ†åˆ«ç”¨ä»¥å£°æ˜Ž æ™®é€šå˜é‡ã€é™æ€å˜é‡ã€æ¨¡å— å’Œ ç±» ã€‚ JSæ•°æ®ç±»åž‹å…±æœ‰å…­ç§ï¼Œåˆ†åˆ«æ˜¯ Stringã€Numberã€Booleanã€Nullã€Undefined å’Œ Object ç­‰ï¼Œ å¦å¤–ï¼ŒES6 æ–°å¢žäº† Symbol ç±»åž‹ã€‚å…¶ä¸­ï¼ŒObject æ˜¯å¼•ç”¨ç±»åž‹ï¼Œå…¶ä»–çš„éƒ½æ˜¯åŽŸå§‹ç±»åž‹(Primitive Type)ã€‚ åŽŸå§‹ç±»åž‹ä¹Ÿç§°ä¸ºåŸºæœ¬ç±»åž‹æˆ–ç®€å•ç±»åž‹ï¼Œå› ä¸ºå…¶å æ®ç©ºé—´å›ºå®šï¼Œæ˜¯ç®€å•çš„æ•°æ®æ®µï¼Œä¸ºäº†ä¾¿äºŽæå‡å˜é‡æŸ¥è¯¢é€Ÿåº¦ï¼Œå°†å…¶å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰ä¸­ï¼ˆæŒ‰å€¼è®¿é—®ï¼‰ã€‚ä¸ºäº†ä¾¿äºŽæ“ä½œè¿™ç±»æ•°æ®ï¼ŒECMAScript æä¾›äº† 3 ä¸ªåŸºæœ¬åŒ…è£…ç±»åž‹ï¼šBooleanã€Number å’Œ String ã€‚åŸºæœ¬åŒ…è£…ç±»åž‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¼•ç”¨ç±»åž‹ï¼Œæ¯å½“è¯»å–ä¸€ä¸ªåŸºæœ¬ç±»åž‹å€¼çš„æ—¶å€™ï¼ŒJSå†…éƒ¨å°±ä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„åŒ…è£…å¯¹è±¡ï¼Œä»Žè€Œå¯ä»¥è°ƒç”¨ä¸€äº›æ–¹æ³•æ¥æ“ä½œè¿™äº›æ•°æ®ã€‚ å¼•ç”¨ç±»åž‹ç”±äºŽå…¶å€¼çš„å¤§å°ä¼šæ”¹å˜ï¼Œæ‰€ä»¥ä¸èƒ½å°†å…¶å­˜æ”¾åœ¨æ ˆä¸­ï¼Œå¦åˆ™ä¼šé™ä½Žå˜é‡æŸ¥è¯¢é€Ÿåº¦ï¼Œå› æ­¤å…¶å­˜å‚¨åœ¨å †(heap)ä¸­ï¼Œå­˜å‚¨åœ¨å˜é‡å¤„çš„å€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­˜å‚¨å¯¹è±¡çš„å†…å­˜å¤„(æŒ‰å€è®¿é—®)ï¼Œå¯¹äºŽå¼•ç”¨ç±»åž‹çš„å€¼ï¼Œå¯ä»¥ä¸ºå…¶æ·»åŠ å±žæ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ”¹å˜å’Œåˆ é™¤å…¶å±žæ€§å’Œæ–¹æ³•ï¼›ä½†åŸºæœ¬ç±»åž‹ä¸å¯ä»¥æ·»åŠ å±žæ€§å’Œæ–¹æ³•ã€‚å…³äºŽæ›´å¤šä»‹ç»è¯·å‚è€ƒï¼šè¯¦è§£ ECMAScript æ•°æ®ç±»åž‹ JavaScript å¯ä»¥é€šè¿‡ typeof æ¥åˆ¤æ–­åŽŸå§‹æ•°æ®ç±»åž‹ï¼Œä½†ä¸èƒ½åˆ¤æ–­å¼•ç”¨ç±»åž‹ï¼Œè¦çŸ¥é“å¼•ç”¨ç±»åž‹çš„å…·ä½“ç±»åž‹ï¼Œéœ€è¦é€šè¿‡ Object åŽŸåž‹ä¸Šçš„ toString æ–¹æ³•æ¥åˆ¤æ–­ï¼Œå…³äºŽæ•°æ®ç±»åž‹åˆ¤æ–­å¯ä»¥å‚è€ƒï¼šåˆ¤æ–­JSæ•°æ®ç±»åž‹çš„4ç§æ–¹æ³• åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°æœ‰ä¸‰ç§è§’è‰²ï¼Œå³æ™®é€šå‡½æ•°ã€æž„é€ å‡½æ•° å’Œ å¯¹è±¡æ–¹æ³•ã€‚åŒä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨æ–¹å¼ä¸åŒï¼Œå‡½æ•°çš„ä½œç”¨ä¸ä¸€æ ·ï¼Œæ‰€æ‰®æ¼”çš„è§’è‰²ä¹Ÿä¸ä¸€æ ·ã€‚ç›´æŽ¥è°ƒç”¨æ—¶å°±æ˜¯æ™®é€šå‡½æ•°ï¼Œé€šè¿‡newåˆ›å»ºå¯¹è±¡æ—¶å°±æ˜¯æž„é€ å‡½æ•°ï¼Œé€šè¿‡å¯¹è±¡è°ƒç”¨æ—¶å°±æ˜¯æ–¹æ³•ã€‚ JavaScript å¸¸ç”¨çš„å†…ç½®å¯¹è±¡æœ‰ Dateã€Arrayã€JSONã€RegExp ç­‰ç­‰ï¼ŒDate å’Œ Array ä½¿ç”¨åœºæ™¯æœ€å¤šï¼ŒJSONä¸»è¦ç”¨äºŽå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œè¿˜æœ‰ä¸€ä¸ªä½œç”¨å°±æ˜¯å®žçŽ°å¯¹è±¡çš„æ·±æ‹·è´ã€‚RegExp å³æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ˜¯å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨ã€‚ å…³äºŽæ›´å¤šä»‹ç»è¯·å‚è€ƒï¼šæ•°ç»„å¸¸ç”¨æ“ä½œæ–¹æ³•æ€»ç»“ ï¼Œ æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€çŸ¥è¯† 1ã€å‡½æ•°åŽŸåž‹é“¾JSæ˜¯ä¸€ç§åŸºäºŽå¯¹è±¡çš„è¯­è¨€ï¼Œä½†åœ¨ ES6 ä¹‹å‰æ˜¯ä¸æ”¯æŒç»§æ‰¿çš„ï¼Œä¸ºäº†å…·å¤‡ç»§æ‰¿çš„èƒ½åŠ›ï¼ŒJavaScript åœ¨å‡½æ•°å¯¹è±¡ä¸Šå»ºç«‹äº†åŽŸåž‹å¯¹è±¡ prototypeï¼Œå¹¶ä»¥å‡½æ•°å¯¹è±¡ä¸ºä¸»çº¿ï¼Œä»Žä¸Šè‡³ä¸‹ï¼Œåœ¨JSå†…éƒ¨æž„å»ºäº†ä¸€æ¡åŽŸåž‹é“¾ã€‚åŽŸåž‹é“¾æŠŠä¸€ä¸ªä¸ªç‹¬ç«‹çš„å¯¹è±¡è”ç³»åœ¨ä¸€èµ·ï¼ŒObject åˆ™æ˜¯æ‰€æœ‰å¯¹è±¡çš„ç¥–å®—ï¼Œ ä»»ä½•å¯¹è±¡æ‰€å»ºç«‹çš„åŽŸåž‹é“¾æœ€ç»ˆéƒ½æŒ‡å‘äº† Objectï¼Œå¹¶ä»¥ Object ç»ˆç»“ã€‚ ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å»ºç«‹äº†å˜é‡æŸ¥æ‰¾æœºåˆ¶ï¼Œå½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§æ—¶ï¼Œå…ˆæŸ¥æ‰¾å¯¹è±¡æœ¬èº«æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœä¸å­˜åœ¨å°±åŽ»è¯¥å¯¹è±¡æ‰€åœ¨çš„åŽŸåž‹è¿žä¸ŠåŽ»æ‰¾ï¼Œç›´åˆ° Object å¯¹è±¡ä¸ºæ­¢ï¼Œå¦‚æžœéƒ½æ²¡æœ‰æ‰¾åˆ°è¯¥å±žæ€§æ‰ä¼šè¿”å›ž undefinedã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŽŸåž‹é“¾æ¥å®žçŽ°ç»§æ‰¿æœºåˆ¶ã€‚å…³äºŽå‡½æ•°åŽŸåž‹é“¾è¯·å‚è€ƒï¼šè®¤è¯†åŽŸåž‹å¯¹è±¡å’ŒåŽŸåž‹é“¾ 2ã€å‡½æ•°ä½œç”¨åŸŸå‡½æ•°ä½œç”¨åŸŸå°±æ˜¯å˜é‡åœ¨å£°æ˜Žå®ƒä»¬çš„å‡½æ•°ä½“ä»¥åŠè¿™ä¸ªå‡½æ•°ä½“åµŒå¥—çš„ä»»æ„å‡½æ•°ä½“å†…éƒ½æ˜¯æœ‰å®šä¹‰çš„ã€‚é€šä¿—æ¥è®²å°±æ˜¯ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œæœ‰äº›å˜é‡å¯ä»¥è®¿é—®ï¼Œæœ‰äº›ä¸å¯ä»¥è®¿é—®ã€‚é‚£äº›èƒ½è®¿é—®çš„å˜é‡æ‰€å½¢æˆçš„èŒƒå›´ï¼Œå°±æ˜¯è¿™ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸã€‚ åœ¨ JavaScript ä¸­ï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œåªæœ‰å‡½æ•°ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ ifã€whileã€for è¯­å¥ä¸ä¼šå½¢æˆç‹¬ç«‹çš„ä½œç”¨åŸŸã€‚ä½†æœ‰ä¸€ä¸ªç‰¹æ®Šæƒ…å†µï¼Œå³ with è¯­å¥å’Œ catch è¯­å¥ä¼šå½¢æˆä¸´æ—¶ä½œç”¨åŸŸï¼Œè¯­å¥æ‰§è¡Œç»“æŸåŽï¼Œè¯¥ä½œç”¨åŸŸå°±ä¼šè¢«é‡Šæ”¾ã€‚å…³äºŽå‡½æ•°ä½œç”¨åŸŸè¯·å‚è€ƒï¼šå‡½æ•°ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾ 3ã€this æŒ‡é’ˆthis æŒ‡é’ˆå­˜åœ¨äºŽå‡½æ•°ä¸­ï¼Œç”¨ä»¥æ ‡è¯†å‡½æ•°è¿è¡Œæ—¶æ‰€å¤„çš„ä¸Šä¸‹æ–‡ã€‚å‡½æ•°çš„ç±»åž‹ä¸åŒï¼Œthis æŒ‡å‘è§„åˆ™ä¹Ÿä¸ä¸€æ ·ï¼šå¯¹äºŽæ™®é€šå‡½æ•°ï¼Œthis å§‹ç»ˆæŒ‡å‘å…¨å±€å¯¹è±¡windowï¼›å¯¹äºŽæž„é€ å‡½æ•°ï¼Œthisåˆ™æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼›å¯¹äºŽæ–¹æ³•ï¼ŒthisæŒ‡å‘è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ã€‚å¦å¤–ï¼ŒFunction å¯¹è±¡ä¹Ÿæä¾›äº†callã€apply å’Œ bind ç­‰æ–¹æ³•æ¥æ”¹å˜å‡½æ•°çš„ this æŒ‡å‘ï¼Œå…¶ä¸­ï¼Œcall å’Œ apply ä¸»åŠ¨æ‰§è¡Œå‡½æ•°ï¼Œbind ä¸€èˆ¬åœ¨äº‹ä»¶å›žè°ƒä¸­ä½¿ç”¨ï¼Œè€Œ call å’Œ apply çš„åŒºåˆ«åªæ˜¯å‚æ•°çš„ä¼ é€’æ–¹å¼ä¸åŒã€‚å…³äºŽæ›´å¤šä»‹ç»è¯·å‚è€ƒï¼šæ·±å…¥ç†è§£ call,applyå’Œ bind å¦‚æžœå¾€æ·±çš„åŽ»ç†è§£ï¼Œæ— è®ºä»€ä¹ˆå‡½æ•°ï¼Œthis æ˜¯å¦è¢«æ”¹å˜ï¼Œ æœ¬è´¨ä¸Šï¼Œthis å‡æŒ‡å‘è§¦å‘å‡½æ•°è¿è¡Œæ—¶çš„é‚£ä¸ªå¯¹è±¡ã€‚è€Œåœ¨å‡½æ•°è¿è¡Œæ—¶ï¼Œthis çš„å€¼æ˜¯ä¸èƒ½è¢«æ”¹å˜çš„ã€‚ 4ã€new æ“ä½œç¬¦å‡½æ•°çš„åˆ›å»ºæœ‰ä¸‰ç§æ–¹å¼ï¼Œå³ æ˜¾å¼å£°æ˜Žã€åŒ¿åå®šä¹‰ å’Œ new Function() ã€‚å‰é¢æåˆ°ï¼ŒJS ä¸­çš„å‡½æ•°å³å¯ä»¥æ˜¯å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•ï¼Œè¿˜å¯ä»¥æ˜¯æž„é€ å‡½æ•°ã€‚ å½“ä½¿ç”¨ new æ¥åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè¯¥å‡½æ•°å°±æ˜¯æž„é€ å‡½æ•°ï¼ŒJS å°†æ–°å¯¹è±¡çš„åŽŸåž‹é“¾æŒ‡å‘äº†æž„é€ å‡½æ•°çš„åŽŸåž‹å¯¹è±¡ï¼ŒäºŽæ˜¯å°±åœ¨æ–°å¯¹è±¡å’Œå‡½æ•°å¯¹è±¡ä¹‹é—´å»ºç«‹äº†ä¸€æ¡åŽŸåž‹é“¾ï¼Œé€šè¿‡æ–°å¯¹è±¡å¯ä»¥è®¿é—®åˆ°å‡½æ•°å¯¹è±¡åŽŸåž‹ prototype ä¸­çš„æ–¹æ³•å’Œå±žæ€§ã€‚å…³äºŽæž„é€ å‡½æ•°å’Œ new æ“ä½œç¬¦è¯·å‚è€ƒï¼š æ·±å…¥ç†è§£ new æ“ä½œç¬¦ 5ã€é—­åŒ…é—­åŒ…ä¸æ˜¯ä¸€ä¸ªå­¤ç«‹çš„æ¦‚å¿µï¼Œéœ€è¦ä»Žå‡½æ•°ä½œç”¨åŸŸçš„è§’åº¦æ¥ç†è§£ã€‚ æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œå¦‚æžœåœ¨ä¸€ä¸ªå‡½æ•°é‡Œå®šä¹‰äº†å¦ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå¯¹åº”çš„å°±æœ‰ä¸¤ä¸ªä½œç”¨åŸŸï¼Œè¿™ä¸¤ä¸ªä½œç”¨åŸŸå°±ä¼šå½¢æˆä¸€ä¸ªé“¾æ¡ï¼Œä¿—ç§°ä½œç”¨åŸŸé“¾ã€‚æœ¬è´¨ä¸Šè®²ï¼Œä½œç”¨åŸŸé“¾æ˜¯ä¸€ä¸ªè‡ªä¸Šè€Œä¸‹çš„é“¾è¡¨ï¼Œ é“¾è¡¨çš„æœ€é¡¶ç«¯æ˜¯å†…éƒ¨å‡½æ•°ä½œç”¨åŸŸï¼Œé“¾è¡¨çš„æœ€åº•ç«¯æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚å†…éƒ¨å‡½æ•°æœ‰æƒè®¿é—®æ•´ä¸ªä½œç”¨åŸŸé“¾ä¸Šçš„å˜é‡ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ¯å½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå¯¹åº”çš„ä½œç”¨åŸŸå°±ä¼šä»Žè¯¥é“¾è¡¨ä¸Šç§»é™¤ï¼Œç„¶åŽé”€æ¯ã€‚ ä½†å¦‚æžœå‡½æ•° A æŠŠå‡½æ•° B ä½œä¸ºè¿”å›žå€¼è¿”å›žæ—¶ï¼Œæƒ…å†µåˆä¸ä¸€æ ·ã€‚ é¦–å…ˆï¼Œå‡½æ•° A è¿”å›žçš„æ˜¯å‡½æ•° B çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒB å¯èƒ½ä¼šåœ¨å…¶ä»–åœ°æ–¹è¢«è°ƒç”¨ã€‚ä¸Šé¢æåˆ°ï¼Œå‡½æ•° B çš„å®šä¹‰æ˜¯ä½äºŽå‡½æ•° A å†…éƒ¨ï¼Œå› æ­¤ A å’Œ B ä¼šå½¢æˆä¸€æ¡ä½œç”¨åŸŸé“¾ï¼Œå‡½æ•° B æœ‰å¯èƒ½ä¼šè¯»å– A ä¸­çš„å˜é‡ ã€‚ä¸ºäº†ä¿è¯å‡½æ•° B èƒ½å¤Ÿåœ¨å…¶ä»–åœ°æ–¹æ­£ç¡®æ‰§è¡Œï¼Œå‡½æ•° B æ‰€åœ¨çš„è¿™æ¡ä½œç”¨åŸŸé“¾å°±ä¸èƒ½è¢«ç ´åã€‚æ‰€ä»¥ï¼Œå³ä½¿å‡½æ•° A æ‰§è¡Œè¿”å›žåŽï¼ŒA çš„ä½œç”¨åŸŸä¹Ÿä¸èƒ½é‡Šæ”¾ï¼Œéœ€è¦ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä»¥ç¡®ä¿å‡½æ•° B èƒ½å¤Ÿæ­£å¸¸è¯»å–é‡Œé¢çš„å˜é‡ã€‚å‡½æ•° B å…·æœ‰æ°¸ä¹…è®¿é—® A ä½œç”¨åŸŸçš„ç‰¹æƒï¼Œç¡®åˆ‡è¯´ï¼Œå‡½æ•° B å°±æ˜¯é—­åŒ… ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œé—­åŒ…å°±æ˜¯ä¸€ä¸ªæœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„å‡½æ•°ã€‚ 6ã€å•çº¿ç¨‹ä¸Žäº‹ä»¶å¾ªçŽ¯JavaScript æ˜¯å•çº¿ç¨‹è¯­è¨€ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œå½“JSä»£ç è¢«åŠ è½½æ—¶ï¼Œæµè§ˆå™¨ä¼šä¸ºå…¶åˆ†é…ä¸€ä¸ªä¸»çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¸»çº¿ç¨‹ä¼šåœ¨æ ˆä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡ŒçŽ¯å¢ƒ ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰ã€‚æ¯å½“æœ‰ä¸€ä¸ªå‡½æ•°è¿›å…¥æ‰§è¡Œæµæ—¶ï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªå¯¹åº”çš„æ‰§è¡ŒçŽ¯å¢ƒï¼ˆå‡½æ•°ä½œç”¨åŸŸï¼‰ï¼Œå¹¶å°†è¯¥æ‰§è¡ŒçŽ¯å¢ƒåŽ‹å…¥æ ˆä¸­ã€‚æ¯å½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•ä»¥åŽï¼Œå¯¹åº”çš„æ‰§è¡ŒçŽ¯å¢ƒå°±ä¼šä»Žæ ˆä¸­å¼¹å‡ºï¼Œç„¶åŽè¢«é”€æ¯ã€‚è¿™å°±æ˜¯æ‰§è¡ŒçŽ¯å¢ƒæ ˆï¼Œæ‰§è¡ŒçŽ¯å¢ƒæ ˆçš„ä½œç”¨å°±æ˜¯ä¿è¯æ‰€æœ‰çš„å‡½æ•°èƒ½æŒ‰ç…§æ­£ç¡®çš„é¡ºåºè¢«æ‰§è¡Œã€‚ ä½†åœ¨æµè§ˆå™¨ä¸­ï¼Œæœ‰ä¸€äº›ä»»åŠ¡æ˜¯éžå¸¸è€—æ—¶çš„ï¼Œæ¯”å¦‚ ajaxè¯·æ±‚ã€å®šæ—¶å™¨ã€äº‹ä»¶ç­‰ã€‚ä¸ºäº†ä¿è¯ä¸»çº¿ç¨‹ä¸Šçš„ä»»åŠ¡ä¸è¢«é˜»å¡žï¼ŒJavaScript å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œ å½“è¿™äº›è€—æ—¶ä»»åŠ¡ç»“æŸæ—¶ï¼ˆAjax è¯·æ±‚è¿”å›žã€å®šæ—¶å™¨è¶…æ—¶ã€äº‹ä»¶è¢«è§¦å‘ï¼‰ï¼Œå°±å°†å¯¹åº”çš„å›žè°ƒå‡½æ•°æ’å…¥é˜Ÿåˆ—ä¸­è¿›è¡Œç­‰å¾…ã€‚è¿™äº›ä»»åŠ¡çš„æ‰§è¡Œæ—¶æœºå¹¶ä¸ç¡®å®šï¼Œåªæœ‰å½“æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åŽï¼Œæ‰§è¡ŒçŽ¯å¢ƒæ ˆè¢«æ¸…ç©ºï¼ˆæ ˆåº•çš„å…¨å±€æ‰§è¡ŒçŽ¯å¢ƒä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°è¿›ç¨‹é€€å‡ºï¼‰ä»¥åŽï¼Œç„¶åŽå†ä»Žä»»åŠ¡é˜Ÿåˆ—ä¸­ä¾æ¬¡è¯»å–å›žè°ƒå‡½æ•°ï¼Œå¹¶å°†å…¶åŽ‹å…¥æ‰§è¡ŒçŽ¯å¢ƒæ ˆä¸­ã€‚äºŽæ˜¯ï¼Œä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡Œæ–°çš„åŒæ­¥ä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæ¯•åŽå†ä»Žæ ˆä¸­å¼¹å‡ºï¼Œæ ˆè¢«æ¸…ç©ºã€‚ ä¸»çº¿ç¨‹ä»Žä»»åŠ¡é˜Ÿåˆ—ä¸­è¯»å–ä»»åŠ¡æ˜¯ä¸æ–­å¾ªçŽ¯çš„ï¼Œæ¯å½“æ ˆè¢«æ¸…ç©ºåŽï¼Œä¸»çº¿ç¨‹å°±ä¼šä»Žä»»åŠ¡é˜Ÿåˆ—ä¸­è¯»å–æ–°çš„ä»»åŠ¡å¹¶æ‰§è¡Œï¼Œå¦‚æžœæ²¡æœ‰æ–°çš„ä»»åŠ¡ï¼Œå°±ä¼šä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æœ‰æ–°çš„ä»»åŠ¡ã€‚JavaScript çš„è¿™ç§æ‰§è¡Œæœºåˆ¶å°±å«åšä»»åŠ¡å¾ªçŽ¯ã€‚å› ä¸ºæ¯ä¸ªä»»åŠ¡éƒ½ç”±ä¸€ä¸ªäº‹ä»¶æ‰€è§¦å‘ï¼Œæ‰€ä»¥ä¹Ÿå« â€œäº‹ä»¶å¾ªçŽ¯â€ã€‚ 7ã€Ajax å’Œ è·¨åŸŸæŠ€æœ¯Ajax æ˜¯æµè§ˆå™¨ä¸“é—¨ç”¨æ¥å’ŒæœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„å¼‚æ­¥é€šè®¯æŠ€æœ¯ï¼Œå…¶æ ¸å¿ƒå¯¹è±¡æ˜¯ XMLHttpRequestï¼Œé€šè¿‡è¯¥å¯¹è±¡å¯ä»¥åˆ›å»ºä¸€ä¸ª Ajax è¯·æ±‚ã€‚Ajax è¯·æ±‚æ˜¯ä¸€ä¸ªè€—æ—¶çš„å¼‚æ­¥æ“ä½œï¼Œå½“è¯·æ±‚å‘å‡ºä»¥åŽï¼ŒAjax æä¾›äº†ä¸¤ä¸ªçŠ¶æ€ä½æ¥æè¿°è¯·æ±‚åœ¨ä¸åŒé˜¶æ®µçš„çŠ¶æ€ï¼Œè¿™ä¸¤ä¸ªçŠ¶æ€ä½åˆ†åˆ«æ˜¯ readyState å’Œ status ï¼ŒreadyState é€šè¿‡ 5ä¸ªçŠ¶æ€ç æ¥æè¿°ä¸€ä¸ªè¯·æ±‚çš„ 5 ä¸ªé˜¶æ®µï¼š 0 - è¯·æ±‚æœªå‘é€ï¼Œåˆå§‹åŒ–é˜¶æ®µ 1 - è¯·æ±‚å‘é€ä¸­ï¼ŒæœåŠ¡å™¨è¿˜æœªæ”¶åˆ°è¯·æ±‚ 2 - è¯·æ±‚å‘é€æˆåŠŸï¼ŒæœåŠ¡å™¨å·²æ”¶åˆ°è¯·æ±‚ 3 - æœåŠ¡å™¨å¤„ç†å®Œæˆï¼Œå¼€å§‹å“åº”è¯·æ±‚ï¼Œä¼ è¾“æ•°æ® 4 - å®¢æˆ·ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œå¹¶å®Œæˆäº†æ•°æ®ä¸‹è½½ï¼Œç”Ÿæˆäº†å“åº”å¯¹è±¡ status ç”¨äºŽæè¿°æœåŠ¡ç«¯å¯¹è¯·æ±‚å¤„ç†çš„æƒ…å†µï¼Œ200 è¡¨ç¤ºæ­£ç¡®å“åº”äº†è¯·æ±‚ï¼Œ404 è¡¨ç¤ºæœåŠ¡å™¨æ‰¾ä¸åˆ°èµ„æºï¼Œ500 ä»£è¡¨æœåŠ¡å™¨å†…éƒ¨å¼‚å¸¸ç­‰ç­‰ã€‚ Ajax å¯¹è±¡è¿˜å¯ä»¥è®¾ç½®ä¸€ä¸ª timeout å€¼ï¼Œä»£è¡¨è¶…æ—¶æ—¶é—´ã€‚åˆ‡è®°ï¼štimeout åªä¼šå½±å“ readyStateï¼Œè€Œä¸ä¼šå½±å“ statusï¼Œå› ä¸ºè¶…æ—¶åªä¼šä¸­æ–­æ•°æ®ä¼ è¾“ï¼Œä½†ä¸ä¼šå½±å“æœåŠ¡å™¨çš„å¤„ç†ç»“æžœã€‚ å¦‚æžœ timeout è®¾ç½®çš„ä¸åˆç†ï¼Œå°±ä¼šå¯¼è‡´å“åº”ç  status æ˜¯ 200ï¼Œä½† responseé‡Œå´æ²¡æœ‰æ•°æ®ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯æœåŠ¡å™¨æ­£ç¡®å“åº”äº†è¯·æ±‚ï¼Œä½†æ•°æ®çš„ä¸‹è½½è¢«è¶…æ—¶ä¸­æ–­äº†ã€‚ ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œæµè§ˆå™¨å¼•å…¥äº†åŒæºç­–ç•¥ï¼Œå¯¹è„šæœ¬è¯·æ±‚åšäº†é™åˆ¶ï¼Œä¸å…è®¸ Ajax è·¨åŸŸè¯·æ±‚æœåŠ¡å™¨ ï¼Œåªå…è®¸è¯·æ±‚å’Œå½“å‰åœ°å€åŒåŸŸçš„æœåŠ¡å™¨èµ„æºã€‚ä½†ä¸é™åˆ¶ HTML æ ‡ç­¾å‘é€è·¨åŸŸè¯·æ±‚ï¼Œæ¯”å¦‚ scriptã€imgã€a æ ‡ç­¾ç­‰ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨æ ‡ç­¾è·¨åŸŸèƒ½åŠ›æ¥å®žçŽ°è·¨åŸŸè¯·æ±‚ï¼Œè¿™å°±æ˜¯ JSONP èƒ½å¤Ÿè·¨åŸŸçš„åŽŸç†ã€‚ JSONP è™½ç„¶å¯ä»¥è§£å†³è·¨åŸŸé—®é¢˜ï¼Œä½†åªèƒ½å‘é€ GET è¯·æ±‚ï¼Œå¹¶ä¸”æ²¡æœ‰æœ‰æ•ˆçš„é”™è¯¯æ•èŽ·æœºåˆ¶ ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒW3C åœ¨ XMLHttpRequest Level2 ä¸­æå‡ºäº† CORS è§„èŒƒï¼Œå³ â€œè·¨åŸŸèµ„æºå…±äº«â€ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªæ–°çš„ APIï¼Œè€Œæ˜¯ä¸€ä¸ªæ ‡å‡†è§„èŒƒ ã€‚å½“æµè§ˆå™¨å‘çŽ°è¯¥è¯·æ±‚éœ€è¦è·¨åŸŸæ—¶ï¼Œå°±ä¼šè‡ªåŠ¨åœ¨å¤´ä¿¡æ¯ä¸­æ·»åŠ ä¸€ä¸ª Origin å­—æ®µï¼Œç”¨ä»¥è¯´æ˜Žæœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæºã€‚æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œå†³å®šæ˜¯å¦åŒæ„è¿™æ¬¡è¯·æ±‚ã€‚ å…³äºŽ CORS çš„è¯¦ç»†ä»‹ç»è¯·å‚è€ƒï¼šè·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£ éšç€ç§»åŠ¨ç«¯çš„å¿«é€Ÿå‘å±•ï¼ŒWeb æŠ€æœ¯çš„åº”ç”¨åœºæ™¯æ­£åœ¨å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€ åŽŸåˆ™åœ¨ç³»ç»Ÿè®¾è®¡å±‚é¢å°±æ˜¾å¾—è¶Šæ¥è¶Šé‡è¦ï¼Œè€Œ XMLHttpRequest æ˜¯ Ajax æœ€å¤è€çš„ä¸€ä¸ªæŽ¥å£ï¼Œå› è€Œä¸å¤ªç¬¦åˆçŽ°ä»£åŒ–çš„ç³»ç»Ÿè®¾è®¡ç†å¿µã€‚å› æ­¤ï¼Œæµè§ˆå™¨æä¾›äº†ä¸€ä¸ªæ–°çš„ Ajax æŽ¥å£ï¼Œå³ Fetchï¼ŒFetch æ˜¯åŸºäºŽ ES6 çš„ Promise æ€æƒ³è®¾è®¡çš„ï¼Œæ›´ç¬¦åˆå…³æ³¨ç‚¹åˆ†ç¦»åŽŸåˆ™ã€‚å…³äºŽ Fetch çš„æ›´å¤šä»‹ç»è¯·å‚è€ƒï¼šä¼ ç»Ÿ Ajax å·²æ­»ï¼ŒFetch æ°¸ç”Ÿ 8ã€æ¨¡å—åŒ–åŽ†å²ä¸Šï¼ŒJavaScript è§„èŒƒä¸€ç›´æ²¡æœ‰æ¨¡å—ï¼ˆModuleï¼‰ä½“ç³»ï¼Œå³æ— æ³•å°†ä¸€ä¸ªå¤§ç¨‹åºæ‹†åˆ†æˆäº’ç›¸ä¾èµ–çš„å°æ–‡ä»¶ï¼Œå†ç”¨ç®€å•çš„æ–¹æ³•æ‹¼è£…èµ·æ¥ã€‚åœ¨ ES6 ä¹‹å‰ï¼Œä¸ºäº†å®žçŽ° JS æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»è¦æœ‰ CMD å’Œ AMD ä¸¤ç§ï¼Œåˆ†åˆ«ä»¥ commonjs å’Œ requirejs ä¸ºä»£è¡¨ã€‚ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®žçŽ°äº†æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå…¶è®¾è®¡æ€æƒ³æ˜¯ï¼Œå°½é‡é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œå³ç¼–è¯‘æ—¶åŠ è½½ï¼Œè€Œ CMD å’Œ AMD æ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šä¾èµ–å…³ç³»ï¼Œå³è¿è¡Œæ—¶åŠ è½½ã€‚å…³äºŽ ES6 æ¨¡å—åŒ–è¯·å‚è€ƒï¼šES6æ¨¡å—åŒ– 9ã€Node.jsNode.js æ˜¯ä¸€ä¸ªåŸºäºŽ Chrome V8 å¼•æ“Žçš„ JavaScript è¿è¡ŒçŽ¯å¢ƒï¼Œå®ƒçš„è¿è¡Œä¸ä¾èµ–äºŽæµè§ˆå™¨ä½œä¸ºå®¿ä¸»çŽ¯å¢ƒï¼Œè€Œæ˜¯å’ŒæœåŠ¡ç«¯ç¨‹åºä¸€æ ·å¯ä»¥ç‹¬ç«‹çš„è¿è¡Œï¼Œè¿™ä½¿å¾— JavaScript ç¼–ç¨‹ç¬¬ä¸€æ¬¡ä»Žå®¢æˆ·ç«¯è¢«å¸¦åˆ°äº†æœåŠ¡ç«¯ï¼ŒNode.js åœ¨æœåŠ¡ç«¯çš„ä¼˜åŠ¿æ˜¯ï¼Œå®ƒé‡‡ç”¨å•çº¿ç¨‹å’Œå¼‚æ­¥ I/O æ¨¡åž‹ï¼Œå®žçŽ°äº†ä¸€ä¸ªé«˜å¹¶å‘ã€é«˜æ€§èƒ½çš„è¿è¡Œæ—¶çŽ¯å¢ƒã€‚ç›¸æ¯”ä¼ ç»Ÿçš„å¤šçº¿ç¨‹æ¨¡åž‹ï¼ŒNode.js å®žçŽ°ç®€å•ï¼Œå¹¶ä¸”å¯ä»¥å‡å°‘èµ„æºå¼€é”€ã€‚å…³äºŽ Node.jså•çº¿ç¨‹æ¨¡åž‹è¯·å‚è€ƒï¼šNode.js äº‹ä»¶å¾ªçŽ¯æœºåˆ¶ 10ã€ES6ES6 æ˜¯ ECMAScript 6.0 çš„ç®€å†™ï¼Œå³ JavaScript è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œå·²ç»åœ¨ 2015å¹´6æœˆæ­£å¼å‘å¸ƒäº†ï¼Œå®ƒçš„ç›®æ ‡æ˜¯è®©JSèƒ½å¤Ÿæ–¹ä¾¿çš„å¼€å‘ä¼ä¸šçº§å¤§åž‹åº”ç”¨ç¨‹åºï¼Œå› æ­¤ï¼ŒES6çš„ä¸€äº›è§„èŒƒæ­£åœ¨é€æ¸å‘Javaã€C# ç­‰åŽç«¯è¯­è¨€æ ‡å‡†é è¿‘ã€‚åœ¨ ES6 è§„èŒƒä¸­ï¼Œæ¯”è¾ƒé‡å¤§çš„å˜åŒ–æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š æ–°å¢ž letã€const å‘½ä»¤ æ¥å£°æ˜Žå˜é‡ï¼Œå’Œvar ç›¸æ¯”ï¼Œlet å£°æ˜Žçš„å˜é‡ä¸å­˜åœ¨å˜é‡æå‡é—®é¢˜ï¼Œä½†æ²¡æœ‰æ”¹å˜JSå¼±ç±»åž‹çš„ç‰¹ç‚¹ï¼Œä¾ç„¶å¯ä»¥æŽ¥å—ä»»æ„ç±»åž‹å˜é‡çš„å£°æ˜Žï¼›const å£°æ˜Žçš„å˜é‡ä¸å…è®¸åœ¨åŽç»­é€»è¾‘ä¸­æ”¹å˜ï¼Œæé«˜äº†JSè¯­æ³•çš„ä¸¥è°¨æ€§ã€‚ æ–°å¢žè§£æž„èµ‹å€¼ã€rest è¯­æ³•ã€ç®­å¤´å‡½æ•°ç­‰ï¼Œè¿™äº›éƒ½æ˜¯ä¸ºäº†è®©ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´ï¼Œè€ŒåŒ…è£…çš„è¯­æ³•ç³–ã€‚ æ–°å¢žæ¨¡å—åŒ–æœºåˆ¶ï¼Œè¿™æ˜¯ JavaScript èµ°å‘è§„èŒƒæ¯”è¾ƒé‡è¦çš„ä¸€æ­¥ï¼Œè®©å‰ç«¯æ›´æ–¹ä¾¿çš„å®žçŽ°å·¥ç¨‹åŒ–ã€‚ æ–°å¢žç±»å’Œç»§æ‰¿çš„æ¦‚å¿µï¼Œé…åˆæ¨¡å—åŒ–ï¼ŒJavaScript ä¹Ÿå¯ä»¥å®žçŽ°é«˜å¤ç”¨ã€é«˜æ‰©å±•çš„ç³»ç»Ÿæž¶æž„ã€‚ æ–°å¢žæ¨¡æ¿å­—ç¬¦ä¸²åŠŸèƒ½ï¼Œé«˜æ•ˆç®€æ´ï¼Œç»“æŸæ‹¼æŽ¥å­—ç¬¦ä¸²çš„æ—¶ä»£ã€‚ æ–°å¢ž Promise æœºåˆ¶ï¼Œè§£å†³å¼‚æ­¥å›žè°ƒå¤šå±‚åµŒå¥—çš„é—®é¢˜ã€‚ CSS ç¯‡1ã€CSSé€‰æ‹©å™¨CSS é€‰æ‹©å™¨å³é€šè¿‡æŸç§è§„åˆ™æ¥åŒ¹é…ç›¸åº”çš„æ ‡ç­¾ï¼Œå¹¶ä¸ºå…¶è®¾ç½® CSS æ ·å¼ï¼Œå¸¸ç”¨çš„æœ‰ç±»é€‰æ‹©å™¨ã€æ ‡ç­¾é€‰æ‹©å™¨ã€IDé€‰æ‹©å™¨ã€åŽä»£é€‰æ‹©å™¨ã€ç¾¤ç»„é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨(before/after)ã€å…„å¼Ÿé€‰æ‹©å™¨(+~)ã€å±žæ€§é€‰æ‹©å™¨ç­‰ç­‰ã€‚ 2ã€CSS ResetHTML æ ‡ç­¾åœ¨ä¸è®¾ç½®ä»»ä½•æ ·å¼çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„ CSS æ ·å¼ï¼Œè€Œä¸åŒå†…æ ¸æµè§ˆå™¨å¯¹äºŽè¿™ä¸ªé»˜è®¤å€¼çš„è®¾ç½®åˆ™ä¸å°½ç›¸åŒï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´åŒä¸€å¥—ä»£ç åœ¨ä¸åŒæµè§ˆå™¨ä¸Šçš„æ˜¾ç¤ºæ•ˆæžœä¸ä¸€è‡´ï¼Œè€Œå‡ºçŽ°å…¼å®¹æ€§é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨åˆå§‹åŒ–æ—¶ï¼Œéœ€è¦å¯¹å¸¸ç”¨æ ‡ç­¾çš„æ ·å¼è¿›è¡Œåˆå§‹åŒ–ï¼Œä½¿å…¶é»˜è®¤æ ·å¼ç»Ÿä¸€ï¼Œè¿™å°±æ˜¯ CSS Reset ï¼Œå³ CSS æ ·å¼é‡ç½®ï¼Œæ¯”å¦‚ï¼š 1`*&#123; margin:0; padding:0; &#125;` å°±æ˜¯æœ€ç®€å• CSS Resetã€‚ å…³äºŽ CSS é‡ç½®è¯·å‚è€ƒï¼šNeat.css 3ã€ç›’å­å¸ƒå±€ç›’å­æ¨¡åž‹æ˜¯CSSæ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä¹Ÿæ˜¯CSS å¸ƒå±€çš„åŸºçŸ³ã€‚ å¸¸è§çš„ç›’å­æ¨¡åž‹æœ‰å—çº§ç›’å­(block)å’Œè¡Œå†…ç›’å­(inline-block)ï¼Œä¸Žç›’å­ç›¸å…³çš„å‡ ä¸ªå±žæ€§æœ‰ï¼šmarginã€borderã€paddingå’Œcontent ç­‰ï¼Œè¿™äº›å±žæ€§çš„ä½œç”¨æ˜¯è®¾ç½®ç›’å­ä¸Žç›’å­ä¹‹é—´çš„å…³ç³»ä»¥åŠç›’å­ä¸Žå†…å®¹ä¹‹é—´çš„å…³ç³»ï¼Œè€Œ box-sizing å±žæ€§ä¼šå½±å“ç›’å­å¤§å°çš„è®¡ç®—æ–¹å¼ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š åªæœ‰æ™®é€šæ–‡æ¡£æµä¸­å—çº§ç›’å­çš„åž‚ç›´å¤–è¾¹è·æ‰ä¼šå‘ç”Ÿåˆå¹¶ï¼Œè€Œå…·æœ‰ BFC ç‰¹æ€§ç›’å­çš„å¤–è¾¹è·ä¸ä¼šåˆå¹¶ã€‚ 4ã€æµ®åŠ¨å¸ƒå±€è®¾ç½®å…ƒç´ çš„ float å±žæ€§å€¼ä¸º left æˆ– rightï¼Œå°±èƒ½ä½¿è¯¥å…ƒç´ è„±ç¦»æ™®é€šæ–‡æ¡£æµï¼Œå‘å·¦æˆ–å‘å³æµ®åŠ¨ã€‚ä¸€èˆ¬åœ¨åšå®«æ ¼å¸ƒå±€æ—¶ä¼šç”¨åˆ°ï¼Œå¦‚æžœå­å…ƒç´ å…¨éƒ¨è®¾ç½®ä¸ºæµ®åŠ¨ï¼Œåˆ™çˆ¶å…ƒç´ æ˜¯å¡Œé™·çš„ï¼Œè¿™æ—¶å°±éœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Œæ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•ä¹Ÿå¾ˆå¤šï¼Œå¸¸ç”¨çš„æ–¹æ³•æ˜¯åœ¨å…ƒç´ æœ«å°¾åŠ ç©ºå…ƒç´ è®¾ç½® clear: bothï¼Œæ›´é«˜çº§ä¸€ç‚¹çš„å°±ç»™çˆ¶å®¹å™¨è®¾ç½® before/after æ¥æ¨¡æ‹Ÿä¸€ä¸ªç©ºå…ƒç´ ï¼Œè¿˜å¯ä»¥ç›´æŽ¥è®¾ç½® overflow å±žæ€§ä¸º auto/hidden æ¥æ¸…é™¤æµ®åŠ¨ã€‚é™¤æµ®åŠ¨å¯ä»¥å®žçŽ°å®«æ ¼å¸ƒå±€ï¼Œè¡Œå†…ç›’å­(inline-block) å’Œ table ä¹Ÿå¯ä»¥å®žçŽ°åŒæ ·çš„æ•ˆæžœã€‚ 5ã€å®šä½å¸ƒå±€è®¾ç½®å…ƒç´ çš„ position å±žæ€§å€¼ä¸º relative/absolute/fixedï¼Œå°±å¯ä»¥ä½¿è¯¥å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œå¹¶ä»¥æŸç§å‚ç…§åæ ‡è¿›è¡Œåç§»ã€‚å…¶ä¸­ï¼Œreleave æ˜¯ç›¸å¯¹å®šä½ï¼Œå®ƒä»¥è‡ªå·±åŽŸæ¥çš„ä½ç½®è¿›è¡Œåç§»ï¼Œåç§»åŽï¼ŒåŽŸæ¥çš„ç©ºé—´ä¸ä¼šè¢«å…¶ä»–å…ƒç´ å ç”¨ï¼›absolute æ˜¯ç»å¯¹å®šä½ï¼Œå®ƒä»¥ç¦»è‡ªå·±æœ€è¿‘çš„å®šä½çˆ¶å®¹å™¨ä½œä¸ºå‚ç…§è¿›è¡Œåç§»ï¼›ä¸ºäº†å¯¹æŸä¸ªå…ƒç´ è¿›è¡Œå®šä½ï¼Œå¸¸ç”¨çš„æ–¹å¼å°±æ˜¯è®¾ç½®çˆ¶å®¹å™¨çš„ poistion:relativeï¼Œå› ä¸ºç›¸å¯¹å®šä½å…ƒç´ åœ¨ä¸è®¾ç½® top å’Œ left å€¼æ—¶ï¼Œä¸ä¼šå¯¹å…ƒç´ ä½ç½®äº§ç”Ÿå½±å“ï¼›fixed å³å›ºå®šå®šä½ï¼Œå®ƒåˆ™ä»¥æµè§ˆå™¨çª—å£ä¸ºå‚ç…§ç‰©ï¼ŒPCç½‘é¡µåº•éƒ¨æ‚¬åœçš„bannerä¸€èˆ¬éƒ½å¯ä»¥é€šè¿‡fixedå®šä½æ¥å®žçŽ°ï¼Œä½†fixedå±žæ€§åœ¨ç§»åŠ¨ç«¯æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œå› æ­¤ä¸æŽ¨èä½¿ç”¨ï¼Œå¯æ›¿ä»£çš„æ–¹æ¡ˆæ˜¯ï¼šç»å¯¹å®šä½+å†…éƒ¨æ»šåŠ¨ã€‚ 6ã€å¼¹æ€§å¸ƒå±€å¼¹æ€§å¸ƒå±€å³ Flex å¸ƒå±€ï¼Œå®šä¹‰äº† flex çš„å®¹å™¨ä¸€ä¸ªå¯ä¼¸ç¼©å®¹å™¨ï¼Œé¦–å…ˆå®¹å™¨æœ¬èº«ä¼šæ ¹æ®å®¹å™¨ä¸­çš„å…ƒç´ åŠ¨æ€è®¾ç½®è‡ªèº«å¤§å°ï¼›ç„¶åŽå½“Flexå®¹å™¨è¢«åº”ç”¨ä¸€ä¸ªå¤§å°æ—¶ï¼ˆwidthå’Œheightï¼‰ï¼Œå°†ä¼šè‡ªåŠ¨è°ƒæ•´å®¹å™¨ä¸­çš„å…ƒç´ é€‚åº”æ–°å¤§å°ã€‚Flexå®¹å™¨ä¹Ÿå¯ä»¥è®¾ç½®ä¼¸ç¼©æ¯”ä¾‹å’Œå›ºå®šå®½åº¦ï¼Œè¿˜å¯ä»¥è®¾ç½®å®¹å™¨ä¸­å…ƒç´ çš„æŽ’åˆ—æ–¹å‘ï¼ˆæ¨ªå‘å’Œçºµå‘ï¼‰å’Œæ˜¯å¦æ”¯æŒå…ƒç´ çš„è‡ªåŠ¨æ¢è¡Œã€‚æœ‰äº†è¿™ä¸ªç¥žå™¨ï¼Œåšé¡µé¢å¸ƒå±€çš„å¯ä»¥æ–¹ä¾¿å¾ˆå¤šäº†ã€‚æ³¨æ„ï¼Œè®¾ä¸ºFlex å¸ƒå±€ä»¥åŽï¼Œå­å…ƒç´ çš„ floatã€clearã€inline-block å’Œ vertical-align å±žæ€§å°†å¤±æ•ˆã€‚å…³äºŽ flexbox è¯·å‚è€ƒï¼šå›¾è§£CSS3 Flexboxå±žæ€§ 7ã€CSS3 åŠ¨ç”»CSS3 ä¸­è§„èŒƒå¼•å…¥äº†ä¸¤ç§åŠ¨ç”»ï¼Œåˆ†åˆ«æ˜¯ transition å’Œ animationï¼Œtransition å¯ä»¥è®©å…ƒç´ çš„ CSS å±žæ€§å€¼çš„å˜åŒ–åœ¨ä¸€æ®µæ—¶é—´å†…å¹³æ»‘çš„è¿‡æ¸¡ï¼Œå½¢æˆåŠ¨ç”»æ•ˆæžœï¼Œä¸ºäº†ä½¿å…ƒç´ çš„å˜æ¢æ›´åŠ ä¸°å¯Œå¤šå½©ï¼ŒCSS3 è¿˜å¼•å…¥äº† transfrom å±žæ€§ï¼Œå®ƒå¯ä»¥é€šè¿‡å¯¹å…ƒç´ è¿›è¡Œ å¹³ç§»(translate)ã€æ—‹è½¬(rotate)ã€æ”¾å¤§ç¼©å°(scale)ã€å€¾æ–œ(skew) ç­‰æ“ä½œï¼Œæ¥å®žçŽ° 2D å’Œ 3D å˜æ¢æ•ˆæžœã€‚transiton è¿˜æœ‰ä¸€ä¸ªç»“æŸäº‹ä»¶ transitionEndï¼Œè¯¥äº‹ä»¶æ˜¯åœ¨ CSS å®Œæˆè¿‡æ¸¡åŽè§¦å‘ï¼Œä½†å¦‚æžœè¿‡æ¸¡åœ¨å®Œæˆä¹‹å‰è¢«ç§»é™¤ï¼Œåˆ™ä¸ä¼šè§¦å‘ transitionEnd ã€‚ animation éœ€è¦è®¾ç½®ä¸€ä¸ª @keyframesï¼Œæ¥å®šä¹‰å…ƒç´ ä»¥å“ªç§å½¢å¼è¿›è¡Œå˜æ¢ï¼Œ ç„¶åŽå†é€šè¿‡åŠ¨ç”»å‡½æ•°è®©è¿™ç§å˜æ¢å¹³æ»‘çš„è¿›è¡Œï¼Œä»Žè€Œè¾¾åˆ°åŠ¨ç”»æ•ˆæžœï¼ŒåŠ¨ç”»å¯ä»¥è¢«è®¾ç½®ä¸ºæ°¸ä¹…å¾ªçŽ¯æ¼”ç¤ºã€‚è®¾ç½® animation-play-state:paused å¯ä»¥æš‚åœåŠ¨ç”»ï¼Œè®¾ç½® animation-fill-mode:forwards å¯ä»¥è®©åŠ¨ç”»å®ŒæˆåŽå®šæ ¼åœ¨æœ€åŽä¸€å¸§ã€‚ å¦å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡JS ç›‘å¬ animation çš„â€œå¼€å§‹â€ã€â€œç»“æŸâ€ å’Œ â€œé‡å¤æ’­æ”¾â€ çŠ¶æ€ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªäº‹ä»¶ï¼Œå³ animationStartã€animationEndã€animationIteration ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼š å½“æ’­æ”¾æ¬¡æ•°è®¾ç½®ä¸º1æ—¶ï¼Œä¸ä¼šè§¦å‘ animationIteration ã€‚ å’Œ transitionç›¸æ¯”ï¼Œanimation è®¾ç½®åŠ¨ç”»æ•ˆæžœæ›´çµæ´»æ›´ä¸°å¯Œï¼ŒäºŒè€…è¿˜æœ‰ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼štransition åªèƒ½é€šè¿‡ä¸»åŠ¨æ”¹å˜å…ƒç´ çš„ css å€¼æ‰èƒ½è§¦å‘åŠ¨ç”»æ•ˆæžœï¼Œè€Œ animation ä¸€æ—¦è¢«åº”ç”¨ï¼Œå°±å¼€å§‹æ‰§è¡ŒåŠ¨ç”»ã€‚ å¦å¤–ï¼ŒHTML5 è¿˜æ–°å¢žäº†ä¸€ä¸ªåŠ¨ç”»APIï¼Œå³ requestAnimationFrameï¼Œå®ƒé€šè¿‡JSæ¥è°ƒç”¨ï¼Œå¹¶æŒ‰ç…§å±å¹•çš„ç»˜åˆ¶é¢‘çŽ‡æ¥æ”¹å˜å…ƒç´ çš„CSSå±žæ€§ï¼Œä»Žè€Œè¾¾åˆ°åŠ¨ç”»æ•ˆæžœï¼Œå…³äºŽè¿™ä¸ªAPIçš„ä»‹ç»è¯·å‚è€ƒï¼šrequestAnimationFrame çŸ¥å¤šå°‘ï¼Ÿ 8ã€BFCBFC æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢å…ƒç´ ã€‚æ¯”å¦‚ï¼šå†…éƒ¨æ»šåŠ¨å°±æ˜¯ä¸€ä¸ª BFCï¼Œå½“ä¸€ä¸ªçˆ¶å®¹å™¨çš„ overflow-y è®¾ç½®ä¸º auto æ—¶ï¼Œå¹¶ä¸”å­å®¹å™¨çš„é•¿åº¦å¤§äºŽçˆ¶å®¹å™¨æ—¶ï¼Œå°±ä¼šå‡ºçŽ°å†…éƒ¨æ»šåŠ¨ï¼Œæ— è®ºå†…éƒ¨çš„å…ƒç´ æ€Žä¹ˆæ»šåŠ¨ï¼Œéƒ½ä¸ä¼šå½±å“çˆ¶å®¹å™¨ä»¥å¤–çš„å¸ƒå±€ï¼Œè¿™ä¸ªçˆ¶å®¹å™¨çš„æ¸²æŸ“åŒºåŸŸå°±å« BFCã€‚æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€å°±å¯è§¦å‘ BFCï¼š æ ¹å…ƒç´ ï¼Œå³ HTML å…ƒç´  float çš„å€¼ä¸ä¸º none overflow çš„å€¼ä¸ä¸º visible display çš„å€¼ä¸º inline-blockã€table-cellã€table-caption position çš„å€¼ä¸º absolute æˆ– fixed 9ã€Spriteï¼ŒIconfontï¼Œfont-faceå¯¹äºŽå¤§åž‹ç«™ç‚¹ï¼Œä¸ºäº†å‡å°‘ http è¯·æ±‚çš„æ¬¡æ•°ï¼Œä¸€èˆ¬ä¼šå°†å¸¸ç”¨çš„å°å›¾æ ‡æŽ’åˆ°ä¸€ä¸ªå¤§å›¾ä¸­ï¼Œé¡µé¢åŠ è½½æ—¶åªéœ€è¯·æ±‚ä¸€æ¬¡ç½‘ç»œï¼Œ ç„¶åŽåœ¨ css ä¸­é€šè¿‡è®¾ç½® background-position æ¥æŽ§åˆ¶æ˜¾ç¤ºæ‰€éœ€è¦çš„å°å›¾æ ‡ï¼Œè¿™å°±æ˜¯ Sprite å›¾ã€‚ Iconfontï¼Œå³å­—ä½“å›¾æ ‡ï¼Œå°±æ˜¯å°†å¸¸ç”¨çš„å›¾æ ‡è½¬åŒ–ä¸ºå­—ä½“èµ„æºå­˜åœ¨æ–‡ä»¶ä¸­ï¼Œé€šè¿‡åœ¨ CSS ä¸­å¼•ç”¨è¯¥å­—ä½“æ–‡ä»¶ï¼Œç„¶åŽå¯ä»¥ç›´æŽ¥ç”¨æŽ§åˆ¶å­—ä½“çš„csså±žæ€§æ¥è®¾ç½®å›¾æ ‡çš„æ ·å¼ï¼Œå­—ä½“å›¾æ ‡çš„å¥½å¤„æ˜¯èŠ‚çœç½‘ç»œè¯·æ±‚ã€å…¶å¤§å°ä¸å—å±å¹•åˆ†è¾¨çŽ‡çš„å½±å“ï¼Œå¹¶ä¸”å¯ä»¥ä»»æ„ä¿®æ”¹å›¾æ ‡çš„é¢œè‰²ã€‚ font-face æ˜¯ CSS3 ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œé€šè¿‡ font-face å¯ä»¥å®šä¹‰ä¸€ç§å…¨æ–°çš„å­—ä½“ï¼Œç„¶åŽå°±å¯ä»¥é€šè¿‡ css å±žæ€§ font-family æ¥ä½¿ç”¨è¿™ä¸ªå­—ä½“äº†ï¼Œå³ä½¿æ“ä½œç³»ç»Ÿæ²¡æœ‰å®‰è£…è¿™ç§å­—ä½“ï¼Œç½‘é¡µä¸Šä¹Ÿä¼šæ­£å¸¸æ˜¾ç¤ºå‡ºæ¥ã€‚ 10ã€CSS HACKæ—©æœŸï¼Œä¸åŒå†…æ ¸æµè§ˆå™¨å¯¹CSSå±žæ€§çš„è§£æžå­˜åœ¨ç€å·®å¼‚ï¼Œå¯¼è‡´æ˜¾ç¤ºæ•ˆæžœä¸ä¸€è‡´ï¼Œæ¯”å¦‚ margin å±žæ€§åœ¨ ie6 ä¸­æ˜¾ç¤ºçš„è·ç¦»ä¼šæ¯”å…¶ä»–æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„è·ç¦»å®½ 2 å€ï¼Œä¹Ÿå°±æ˜¯è¯´ margin-left:20px; åœ¨ie6ä¸­è·å·¦ä¾§å…ƒç´ çš„å®žé™…æ˜¾ç¤ºè·ç¦»æ˜¯ 40pxï¼Œè€Œåœ¨éž ie6 çš„æµè§ˆå™¨ä¸Šæ˜¾ç¤ºæ­£å¸¸ã€‚å› æ­¤ï¼Œå¦‚æžœè¦æƒ³è®©æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½æ˜¾ç¤ºæ˜¯ 20px çš„å®½åº¦ï¼Œå°±éœ€è¦åœ¨CSSæ ·å¼ä¸­åŠ å…¥ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·ï¼Œè®©ä¸åŒçš„æµè§ˆå™¨è¯†åˆ«ä¸åŒçš„ç¬¦å·ï¼Œä»¥è¾¾åˆ°åº”ç”¨ä¸åŒçš„CSSæ ·å¼çš„ç›®çš„ï¼Œè¿™ç§æ–¹å¼å°±æ˜¯ â€œcss hackâ€ï¼Œ å¯¹äºŽ ie6 ä¸­çš„ margin åº”ç”¨ hack å°±ä¼šå˜æˆè¿™æ ·ï¼š 1`.el &#123;`` margin-left: 20px; ``// å…¶ä»–`` _margin-left: 10px;``// ie6``&#125;` å…¼å®¹å„å¤§æµè§ˆå™¨çš„ css hack å¦‚ä¸‹ï¼š 1`.element &#123;`` ``color: #000; ``// W3cæ ‡å‡†`` ``[;color:#f00;]; ``// Webkit(Chrome/Safari)`` ``color: #666\9; ``// IE8`` ``*color: #999; ``// IE7`` ``_color: #333; ``// IE6 ``&#125;``:root .element &#123;color: #0f0\9;&#125; ``// IE9``// Opera``@media all and (-webkit-min-device-pixel-ratio:10000),``not all and (-webkit-min-device-pixel-ratio:0) &#123;`` ``.element &#123;color:#336699;&#125;``&#125;``// Firefox``@-moz-document url-prefix() &#123;`` ``.element &#123;color: #f1f1f1&#125;``&#125; ` HTML ç¯‡1ã€BOMBOM æ˜¯ Browser Object Model çš„ç¼©å†™ï¼Œå³æµè§ˆå™¨å¯¹è±¡æ¨¡åž‹ï¼Œå½“ä¸€ä¸ªæµè§ˆå™¨é¡µé¢åˆå§‹åŒ–æ—¶ï¼Œä¼šåœ¨å†…å­˜åˆ›å»ºä¸€ä¸ªå…¨å±€çš„å¯¹è±¡ï¼Œç”¨ä»¥æè¿°å½“å‰çª—å£çš„å±žæ€§å’ŒçŠ¶æ€ï¼Œè¿™ä¸ªå…¨å±€å¯¹è±¡è¢«ç§°ä¸ºæµè§ˆå™¨å¯¹è±¡æ¨¡åž‹ï¼Œå³BOMã€‚BOMçš„æ ¸å¿ƒå¯¹è±¡å°±æ˜¯ windowï¼Œwindow å¯¹è±¡ä¹Ÿæ˜¯BOMçš„é¡¶çº§å¯¹è±¡ï¼Œå…¶åŒ…å«äº†æµè§ˆå™¨çš„å…­ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š document - å³æ–‡æ¡£å¯¹è±¡ï¼Œæ¸²æŸ“å¼•æ“Žåœ¨è§£æžHTMLä»£ç æ—¶ï¼Œä¼šä¸ºæ¯ä¸€ä¸ªå…ƒç´ ç”Ÿæˆå¯¹åº”çš„DOMå¯¹è±¡ï¼Œç”±äºŽå…ƒç´ ä¹‹é—´æœ‰å±‚çº§å…³ç³»ï¼Œå› æ­¤æ•´ä¸ªHTMLä»£ç è§£æžå®Œä»¥åŽï¼Œä¼šç”Ÿæˆä¸€ä¸ªç”±ä¸åŒèŠ‚ç‚¹ç»„æˆçš„æ ‘å½¢ç»“æž„ï¼Œä¿—ç§°DOMæ ‘ï¼Œdocument ç”¨äºŽæè¿°DOMæ ‘çš„çŠ¶æ€å’Œå±žæ€§ï¼Œå¹¶æä¾›äº†å¾ˆå¤šæ“ä½œDOMçš„APIã€‚ frames - HTML å­æ¡†æž¶ï¼Œå³åœ¨æµè§ˆå™¨é‡ŒåµŒå…¥å¦ä¸€ä¸ªçª—å£ï¼Œçˆ¶æ¡†æž¶å’Œå­æ¡†æž¶æ‹¥æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸå’Œä¸Šä¸‹æ–‡ã€‚ history - ä»¥æ ˆ(FIFO)çš„å½¢å¼ä¿å­˜ç€é¡µé¢è¢«è®¿é—®çš„åŽ†å²è®°å½•ï¼Œé¡µé¢å‰è¿›å³å…¥æ ˆï¼Œé¡µé¢è¿”å›žå³å‡ºæ ˆã€‚ location - æä¾›äº†å½“å‰çª—å£ä¸­åŠ è½½çš„æ–‡æ¡£ç›¸å…³ä¿¡æ¯ä»¥åŠä¸€äº›å¯¼èˆªåŠŸèƒ½ã€‚ navigator - ç”¨æ¥æè¿°æµè§ˆå™¨æœ¬èº«ï¼ŒåŒ…æ‹¬æµè§ˆå™¨çš„åç§°ã€ç‰ˆæœ¬ã€è¯­è¨€ã€ç³»ç»Ÿå¹³å°ã€ç”¨æˆ·ç‰¹æ€§å­—ç¬¦ä¸²ç­‰ä¿¡æ¯ã€‚ screen - æä¾›äº†æµè§ˆå™¨æ˜¾ç¤ºå±å¹•çš„ç›¸å…³å±žæ€§ï¼Œæ¯”å¦‚æ˜¾ç¤ºå±å¹•çš„å®½åº¦å’Œé«˜åº¦ï¼Œå¯ç”¨å®½åº¦å’Œé«˜åº¦ã€‚ 2ã€DOM ç³»ç»Ÿ DOM æ˜¯ Document Object Model çš„ç¼©å†™ï¼Œå³ æ–‡æ¡£å¯¹è±¡æ¨¡åž‹ï¼Œæ˜¯æ‰€æœ‰æµè§ˆå™¨å…¬å…±éµå®ˆçš„æ ‡å‡†ï¼ŒDOM å°†HTMLå’ŒXMLæ–‡æ¡£æ˜ å°„æˆä¸€ä¸ªç”±ä¸åŒèŠ‚ç‚¹ç»„æˆçš„æ ‘åž‹ç»“æž„ï¼Œä¿—ç§°DOMæ ‘ã€‚å…¶æ ¸å¿ƒå¯¹è±¡æ˜¯documentï¼Œç”¨äºŽæè¿°DOMæ ‘çš„çŠ¶æ€å’Œå±žæ€§ï¼Œå¹¶æä¾›å¯¹åº”çš„DOMæ“ä½œAPIã€‚éšç€åŽ†å²çš„å‘å±•ï¼ŒDOM è¢«åˆ’åˆ†ä¸º1çº§ã€2çº§ã€3çº§ï¼Œå…±3ä¸ªçº§åˆ«ï¼š 1çº§DOM - åœ¨1998å¹´10æœˆä»½æˆä¸ºW3Cçš„æè®®ï¼Œç”± DOM æ ¸å¿ƒä¸Ž DOM HTML ä¸¤ä¸ªæ¨¡å—ç»„æˆã€‚DOMæ ¸å¿ƒèƒ½æ˜ å°„ä»¥XMLä¸ºåŸºç¡€çš„æ–‡æ¡£ç»“æž„ï¼Œå…è®¸èŽ·å–å’Œæ“ä½œæ–‡æ¡£çš„ä»»æ„éƒ¨åˆ†ã€‚DOM HTMLé€šè¿‡æ·»åŠ HTMLä¸“ç”¨çš„å¯¹è±¡ä¸Žå‡½æ•°å¯¹DOMæ ¸å¿ƒè¿›è¡Œäº†æ‰©å±•ã€‚ 2çº§DOM - é‰´äºŽ1çº§DOMä»…ä»¥æ˜ å°„æ–‡æ¡£ç»“æž„ä¸ºç›®æ ‡ï¼ŒDOM 2çº§é¢å‘æ›´ä¸ºå®½å¹¿ã€‚é€šè¿‡å¯¹åŽŸæœ‰DOMçš„æ‰©å±•ï¼Œ2çº§DOMé€šè¿‡å¯¹è±¡æŽ¥å£å¢žåŠ äº†å¯¹é¼ æ ‡å’Œç”¨æˆ·ç•Œé¢äº‹ä»¶ï¼ˆDHTMLé•¿æœŸæ”¯æŒé¼ æ ‡ä¸Žç”¨æˆ·ç•Œé¢äº‹ä»¶ï¼‰ã€èŒƒå›´ã€éåŽ†ï¼ˆé‡å¤æ‰§è¡ŒDOMæ–‡æ¡£ï¼‰å’Œå±‚å æ ·å¼è¡¨ï¼ˆCSSï¼‰çš„æ”¯æŒã€‚åŒæ—¶ä¹Ÿå¯¹DOM 1çš„æ ¸å¿ƒè¿›è¡Œäº†æ‰©å±•ï¼Œä»Žè€Œå¯æ”¯æŒXMLå‘½åç©ºé—´ã€‚ 3çº§DOM - é€šè¿‡å¼•å…¥ç»Ÿä¸€æ–¹å¼è½½å…¥å’Œä¿å­˜æ–‡æ¡£å’Œæ–‡æ¡£éªŒè¯æ–¹æ³•å¯¹DOMè¿›è¡Œè¿›ä¸€æ­¥æ‰©å±•ï¼ŒDOM3åŒ…å«ä¸€ä¸ªåä¸ºâ€œDOMè½½å…¥ä¸Žä¿å­˜â€çš„æ–°æ¨¡å—ï¼ŒDOMæ ¸å¿ƒæ‰©å±•åŽå¯æ”¯æŒXML1.0çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬XML Infosetã€ XPathã€å’ŒXML Baseã€‚ æµè§ˆå™¨å¯¹ä¸åŒçº§åˆ«DOMçš„æ”¯æŒæƒ…å†µå¦‚ä¸‹æ‰€ç¤ºï¼š ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œç§»åŠ¨ç«¯å¸¸ç”¨çš„ webkit å†…æ ¸æµè§ˆå™¨ç›®å‰åªæ”¯æŒ DOM2ï¼Œè€Œä¸æ”¯æŒ DOM3 ã€‚ 3ã€äº‹ä»¶ç³»ç»Ÿäº‹ä»¶æ˜¯ç”¨æˆ·ä¸Žé¡µé¢äº¤äº’çš„åŸºç¡€ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼ŒDOMäº‹ä»¶ä»ŽPCç«¯çš„ é¼ æ ‡äº‹ä»¶(mouse) å‘å±•åˆ°äº† ç§»åŠ¨ç«¯çš„ è§¦æ‘¸äº‹ä»¶(touch) å’Œ æ‰‹åŠ¿äº‹ä»¶(guesture)ï¼Œtouchäº‹ä»¶æè¿°äº†æ‰‹æŒ‡åœ¨å±å¹•æ“ä½œçš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œguesture åˆ™æ˜¯æè¿°å¤šæ‰‹æŒ‡æ“ä½œæ—¶æ›´ä¸ºå¤æ‚çš„æƒ…å†µï¼Œæ€»ç»“å¦‚ä¸‹ï¼š ç¬¬ä¸€æ ¹æ‰‹æŒ‡æ”¾ä¸‹ï¼Œè§¦å‘ touchstartï¼Œé™¤æ­¤ä¹‹å¤–ä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿ æ‰‹æŒ‡æ»‘åŠ¨æ—¶ï¼Œè§¦å‘touchmove ç¬¬äºŒæ ¹æ‰‹æŒ‡æ”¾ä¸‹ï¼Œè§¦å‘ gesturestart è§¦å‘ç¬¬äºŒæ ¹æ‰‹æŒ‡çš„ touchstart ç«‹å³è§¦å‘ gesturechange ä»»æ„æ‰‹æŒ‡ç§»åŠ¨ï¼ŒæŒç»­è§¦å‘ gesturechange ç¬¬äºŒæ ¹æ‰‹æŒ‡å¼¹èµ·æ—¶ï¼Œè§¦å‘ gestureendï¼Œä»¥åŽå°†ä¸ä¼šå†è§¦å‘ gesturechange è§¦å‘ç¬¬äºŒæ ¹æ‰‹æŒ‡çš„ touchend è§¦å‘touchstart (å¤šæ ¹æ‰‹æŒ‡åœ¨å±å¹•ä¸Šï¼Œæèµ·ä¸€æ ¹ï¼Œä¼šåˆ·æ–°ä¸€æ¬¡å…¨å±€touch) å¼¹èµ·ç¬¬ä¸€æ ¹æ‰‹æŒ‡ï¼Œè§¦å‘ touchend æ›´å¤šå…³äºŽæ‰‹åŠ¿äº‹ä»¶çš„ä»‹ç»è¯·å‚è€ƒï¼šgestureäº‹ä»¶å¤„ç†å¤æ‚æ‰‹åŠ¿ DOM2.0 æ¨¡åž‹å°†äº‹ä»¶å¤„ç†æµç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œå³ äº‹ä»¶æ•èŽ·é˜¶æ®µã€äº‹ä»¶å¤„ç†é˜¶æ®µã€äº‹ä»¶å†’æ³¡é˜¶æ®µï¼Œå¦‚å›¾æ‰€ç¤ºï¼š äº‹ä»¶æ•èŽ·ï¼šå½“ç”¨æˆ·è§¦å‘ç‚¹å‡»äº‹ä»¶åŽï¼Œé¡¶å±‚å¯¹è±¡ document å°±ä¼šå‘å‡ºä¸€ä¸ªäº‹ä»¶æµï¼Œä»Žæœ€å¤–å±‚çš„ DOM èŠ‚ç‚¹å‘ç›®æ ‡å…ƒç´ èŠ‚ç‚¹ä¼ é€’ï¼Œæœ€ç»ˆåˆ°è¾¾ç›®æ ‡å…ƒç´ ã€‚ äº‹ä»¶å¤„ç†ï¼šå½“åˆ°è¾¾ç›®æ ‡å…ƒç´ ä¹‹åŽï¼Œæ‰§è¡Œç›®æ ‡å…ƒç´ ç»‘å®šçš„å¤„ç†å‡½æ•°ã€‚å¦‚æžœæ²¡æœ‰ç»‘å®šç›‘å¬å‡½æ•°ï¼Œåˆ™ä¸åšä»»ä½•å¤„ç†ã€‚ äº‹ä»¶å†’æ³¡ï¼šäº‹ä»¶æµä»Žç›®æ ‡å…ƒç´ å¼€å§‹ï¼Œå‘æœ€å¤–å±‚DOMèŠ‚ç‚¹ä¼ é€’ï¼Œé€”ä¸­å¦‚æžœæœ‰èŠ‚ç‚¹ç»‘å®šäº†äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å°±ä¼šè¢«æ‰§è¡Œã€‚ åˆ©ç”¨äº‹ä»¶å†’æ³¡åŽŸç†å¯ä»¥å®žçŽ° â€œäº‹ä»¶å§”æ‰˜â€ã€‚ æ‰€è°“äº‹ä»¶å§”æ‰˜ï¼Œå°±æ˜¯åœ¨çˆ¶å…ƒç´ ä¸Šæ·»åŠ äº‹ä»¶ç›‘å¬å™¨ï¼Œç”¨ä»¥ç›‘å¬å’Œå¤„ç†å­å…ƒç´ çš„äº‹ä»¶ï¼Œé¿å…é‡å¤ä¸ºå­å…ƒç´ ç»‘å®šç›¸åŒçš„äº‹ä»¶ã€‚å½“ç›®æ ‡å…ƒç´ çš„äº‹ä»¶è¢«è§¦å‘ä»¥åŽï¼Œè¿™ä¸ªäº‹ä»¶å°±ä»Žç›®æ ‡å…ƒç´ å¼€å§‹ï¼Œå‘æœ€å¤–å±‚å…ƒç´ ä¼ é€’ï¼Œæœ€ç»ˆå†’æ³¡åˆ°çˆ¶å…ƒç´ ä¸Šï¼Œçˆ¶å…ƒç´ å†é€šè¿‡ event.target èŽ·å–åˆ°è¿™ä¸ªç›®æ ‡å…ƒç´ ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œçˆ¶å…ƒç´ åªéœ€ç»‘å®šä¸€ä¸ªäº‹ä»¶ç›‘å¬ï¼Œå°±å¯ä»¥å¯¹æ‰€æœ‰å­å…ƒç´ çš„äº‹ä»¶è¿›è¡Œå¤„ç†äº†ï¼Œä»Žè€Œå‡å°‘äº†ä¸å¿…è¦çš„äº‹ä»¶ç»‘å®šï¼Œå¯¹é¡µé¢æ€§èƒ½æœ‰ä¸€å®šçš„æå‡ã€‚ 4ã€HTML æ¸²æŸ“æµç¨‹æ¸²æŸ“å¼•æ“Žä¸€å¼€å§‹ä¼šä»Žç½‘ç»œå±‚èŽ·å–è¯·æ±‚æ–‡æ¡£çš„å†…å®¹ï¼Œå†…å®¹çš„å¤§å°ä¸€èˆ¬é™åˆ¶åœ¨ 8000 ä¸ªå—ä»¥å†…ã€‚ ç„¶åŽè¿›è¡Œå¦‚ä¸‹æ‰€ç¤ºçš„åŸºæœ¬æµç¨‹ï¼š HTML Parser è§£æž HTML æ–‡æ¡£ï¼Œå¹¶å°†å„æ ‡è®°é€ä¸ªè½¬åŒ–ä¸º DOM èŠ‚ç‚¹ï¼Œç”Ÿæˆ â€œDOMæ ‘â€ã€‚ CSS Parser è§£æžå¤–éƒ¨ CSS æ–‡ä»¶ä»¥åŠæ ·å¼å…ƒç´ ä¸­çš„æ ·å¼æ•°æ®ï¼Œç”Ÿæˆ â€œCSSOMæ ‘â€ã€‚ â€œDOMæ ‘â€ å’Œ â€œCSSOMæ ‘â€ é€šè¿‡ â€œé™„ç€â€ å°†åˆ›å»ºå¦ä¸€ä¸ªæ ‘ç»“æž„ï¼šâ€œæ¸²æŸ“æ ‘â€ã€‚ æ¸²æŸ“æ ‘åŒ…å«å¤šä¸ªå¸¦æœ‰è§†è§‰å±žæ€§ï¼ˆå¦‚é¢œè‰²å’Œå°ºå¯¸ï¼‰çš„çŸ©å½¢ï¼Œè¿™äº›çŸ©å½¢çš„æŽ’åˆ—é¡ºåºå°±æ˜¯å®ƒä»¬å°†åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„é¡ºåºã€‚ æ¸²æŸ“æ ‘æž„å»ºå®Œæ¯•ä¹‹åŽï¼Œè¿›å…¥â€œå¸ƒå±€â€ å¤„ç†é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ªåº”å‡ºçŽ°åœ¨å±å¹•ä¸Šçš„ç¡®åˆ‡åæ ‡ã€‚ ä¸‹ä¸€ä¸ªé˜¶æ®µæ˜¯ â€œç»˜åˆ¶â€ï¼Œæ¸²æŸ“å¼•æ“Žä¼šéåŽ†æ¸²æŸ“æ ‘ï¼Œç”±ç”¨æˆ·ç•Œé¢åŽç«¯å±‚å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å‡ºæ¥ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š è¿™æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ã€‚ä¸ºè¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå‘ˆçŽ°å¼•æ“Žä¼šåŠ›æ±‚å°½å¿«å°†å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚å®ƒä¸å¿…ç­‰åˆ°æ•´ä¸ª HTML æ–‡æ¡£è§£æžå®Œæ¯•ä¹‹åŽï¼Œå°±ä¼šå¼€å§‹æž„å»ºå‘ˆçŽ°æ ‘å’Œè®¾ç½®å¸ƒå±€ã€‚åœ¨ä¸æ–­æŽ¥æ”¶å’Œå¤„ç†æ¥è‡ªç½‘ç»œçš„å…¶ä½™å†…å®¹çš„åŒæ—¶ï¼Œå‘ˆçŽ°å¼•æ“Žä¼šå°†éƒ¨åˆ†å†…å®¹è§£æžå¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚ 5ã€é‡ç»˜ä¸Žå›žæµå½“æ¸²æŸ“æ ‘ä¸­çš„ä¸€éƒ¨åˆ†(æˆ–å…¨éƒ¨)å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ã€å¸ƒå±€ã€éšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æž„å»ºï¼Œå°±ç§°ä¸º â€œå›žæµâ€ã€‚ å½“æ¸²æŸ“æ ‘ä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±žæ€§ï¼Œè€Œè¿™äº›å±žæ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£Žæ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€ï¼Œå°±ç§°ä¸º â€œé‡ç»˜â€ã€‚ å›žæµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›žæµã€‚ å¼•èµ·é‡ç»˜å’Œå›žæµçš„æ“ä½œå¦‚ä¸‹ï¼š æ·»åŠ ã€åˆ é™¤å…ƒç´ ï¼ˆå›žæµ+é‡ç»˜ï¼‰ éšè—å…ƒç´ ï¼Œdisplay: noneï¼ˆå›žæµ+é‡ç»˜ï¼‰ï¼Œvisibility:hiddenï¼ˆåªé‡ç»˜ï¼Œä¸å›žæµï¼‰ ç§»åŠ¨å…ƒç´ ï¼Œæ¯”å¦‚æ”¹å˜ topã€left çš„å€¼ï¼Œæˆ–è€…ç§»åŠ¨å…ƒç´ åˆ°å¦å¤–ä¸€ä¸ªçˆ¶å…ƒç´ ä¸­ã€‚ï¼ˆé‡ç»˜+å›žæµï¼‰ å¯¹ style çš„æ“ä½œï¼ˆå¯¹ä¸åŒçš„å±žæ€§æ“ä½œï¼Œå½±å“ä¸ä¸€æ ·ï¼‰ è¿˜æœ‰ä¸€ç§æ˜¯ç”¨æˆ·çš„æ“ä½œï¼Œæ¯”å¦‚æ”¹å˜æµè§ˆå™¨å¤§å°ï¼Œæ”¹å˜æµè§ˆå™¨çš„å­—ä½“å¤§å°ç­‰ï¼ˆå›žæµ+é‡ç»˜ï¼‰ æ³¨æ„é—®é¢˜ï¼š transform æ“ä½œä¸ä¼šå¼•èµ·é‡ç»˜å’Œå›žæµï¼Œæ˜¯ä¸€ç§é«˜æ•ˆçŽ‡çš„æ¸²æŸ“ã€‚è¿™æ˜¯å› ä¸ºtransformå±žäºŽåˆæˆå±žæ€§ï¼Œå¯¹åˆæˆå±žæ€§è¿›è¡Œtransition/animation åŠ¨ç”»æ—¶å°†ä¼šåˆ›å»ºä¸€ä¸ªåˆæˆå±‚ï¼Œè¿™ä½¿å¾—åŠ¨ç”»å…ƒç´ åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å±‚ä¸­è¿›è¡Œæ¸²æŸ“ï¼Œå½“å…ƒç´ çš„å†…å®¹æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±æ²¡å¿…è¦è¿›è¡Œé‡ç»˜ï¼Œæµè§ˆå™¨ä¼šé€šè¿‡é‡æ–°å¤åˆæ¥åˆ›å»ºåŠ¨ç”»å¸§ã€‚ 6ã€æœ¬åœ°å­˜å‚¨æœ¬åœ°å­˜å‚¨æœ€åŽŸå§‹çš„æ–¹å¼å°±æ˜¯ cookie,cookie æ˜¯å­˜æ”¾åœ¨æœ¬åœ°æµè§ˆå™¨çš„ä¸€æ®µæ–‡æœ¬ï¼Œæ•°æ®ä»¥é”®å€¼å¯¹çš„å½¢å¼ä¿å­˜ï¼Œå¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚ ä½†æ˜¯ cookie ä¸é€‚åˆå¤§é‡æ•°æ®çš„å­˜å‚¨ï¼Œå› ä¸ºæ¯è¯·æ±‚ä¸€æ¬¡é¡µé¢ï¼Œcookie éƒ½ä¼šå‘é€ç»™æœåŠ¡å™¨ï¼Œè¿™ä½¿å¾— cookie é€Ÿåº¦å¾ˆæ…¢è€Œä¸”æ•ˆçŽ‡ä¹Ÿä¸é«˜ã€‚å› æ­¤cookieçš„å¤§å°è¢«é™åˆ¶ä¸º4kå·¦å³(ä¸åŒæµè§ˆå™¨å¯èƒ½ä¸åŒ,åˆ†HOST)ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š Firefox å’Œ Safari å…è®¸ cookie å¤šè¾¾ 4097 ä¸ªå­—èŠ‚ï¼ŒåŒ…æ‹¬å(name)ã€å€¼(value) å’Œ ç­‰å·ã€‚ Opera å…è®¸ cookie å¤šè¾¾ 4096 ä¸ªå­—èŠ‚ï¼ŒåŒ…æ‹¬ï¼šå(name)ã€å€¼(value) å’Œ ç­‰å·ã€‚ Internet Explorer å…è®¸ cookie å¤šè¾¾4095ä¸ªå­—èŠ‚ï¼ŒåŒ…æ‹¬ï¼šå(name)ã€å€¼(value) å’Œ ç­‰å·ã€‚ åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­ï¼Œä»»ä½• cookie å¤§å°è¶…è¿‡é™åˆ¶éƒ½è¢«å¿½ç•¥ï¼Œä¸”æ°¸è¿œä¸ä¼šè¢«è®¾ç½®ã€‚ html5 æä¾›äº†ä¸¤ç§åœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„æ–°æ–¹æ³•ï¼šlocalStorage å’Œ sessionStorage, å®ƒä»¬éƒ½æ˜¯ä»¥ key/value çš„å½¢å¼æ¥å­˜å‚¨æ•°æ®ï¼Œå‰è€…æ˜¯æ°¸ä¹…å­˜å‚¨ï¼ŒåŽè€…çš„å­˜å‚¨æœŸé™ä»…é™äºŽæµè§ˆå™¨ä¼šè¯(session)ï¼Œå³å½“æµè§ˆå™¨çª—å£å…³é—­åŽï¼ŒsessionStorageä¸­çš„æ•°æ®è¢«æ¸…é™¤ã€‚ localStorage çš„å­˜å‚¨ç©ºé—´å¤§çº¦5Må·¦å³(ä¸åŒæµè§ˆå™¨å¯èƒ½ä¸åŒï¼Œåˆ† HOST)ï¼Œè¿™ä¸ªç›¸å½“äºŽä¸€ä¸ª5Må¤§å°çš„å‰ç«¯æ•°æ®åº“ï¼Œç›¸æ¯”äºŽcookieï¼Œå¯ä»¥èŠ‚çº¦å¸¦å®½ï¼Œä½†localStorageåœ¨æµè§ˆå™¨éšç§æ¨¡å¼ä¸‹æ˜¯ä¸å¯è¯»å–çš„ï¼Œå½“å­˜å‚¨æ•°æ®è¶…è¿‡äº†localStorage çš„å­˜å‚¨ç©ºé—´åŽä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ æ­¤å¤–ï¼ŒH5è¿˜æä¾›äº† websql å’Œ indexedDBï¼Œå…è®¸å‰ç«¯ä»¥å…³ç³»åž‹æ•°æ®åº“çš„æ–¹å¼æ¥å­˜å‚¨æœ¬åœ°æ•°æ®ï¼Œç›¸å¯¹æ¥è¯´ï¼Œè¿™ä¸ªåŠŸèƒ½ç›®å‰åº”ç”¨çš„åœºæ™¯æ¯”è¾ƒå°‘ï¼Œæ­¤å¤„ä¸ä½œä»‹ç»ã€‚ 7ã€æµè§ˆå™¨ç¼“å­˜æœºåˆ¶æµè§ˆå™¨ç¼“å­˜æœºåˆ¶æ˜¯æŒ‡é€šè¿‡ HTTP åè®®å¤´é‡Œçš„ Cache-Control (æˆ– Expires) å’Œ Last-Modified (æˆ– Etag) ç­‰å­—æ®µæ¥æŽ§åˆ¶æ–‡ä»¶ç¼“å­˜çš„æœºåˆ¶ã€‚ Cache-Control ç”¨äºŽæŽ§åˆ¶æ–‡ä»¶åœ¨æœ¬åœ°ç¼“å­˜æœ‰æ•ˆæ—¶é•¿ã€‚æœ€å¸¸è§çš„ï¼Œæ¯”å¦‚æœåŠ¡å™¨å›žåŒ…ï¼šCache-Control:max-age=600 è¡¨ç¤ºæ–‡ä»¶åœ¨æœ¬åœ°åº”è¯¥ç¼“å­˜ï¼Œä¸”æœ‰æ•ˆæ—¶é•¿æ˜¯600ç§’ (ä»Žå‘å‡ºè¯·æ±‚ç®—èµ·)ã€‚åœ¨æŽ¥ä¸‹æ¥600ç§’å†…ï¼Œå¦‚æžœæœ‰è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œæµè§ˆå™¨ä¸ä¼šå‘å‡º HTTP è¯·æ±‚ï¼Œè€Œæ˜¯ç›´æŽ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„æ–‡ä»¶ã€‚ Last-Modified æ˜¯æ ‡è¯†æ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„æœ€æ–°æ›´æ–°æ—¶é—´ã€‚ä¸‹æ¬¡è¯·æ±‚æ—¶ï¼Œå¦‚æžœæ–‡ä»¶ç¼“å­˜è¿‡æœŸï¼Œæµè§ˆå™¨é€šè¿‡ If-Modified-Since å­—æ®µå¸¦ä¸Šè¿™ä¸ªæ—¶é—´ï¼Œå‘é€ç»™æœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨æ¯”è¾ƒæ—¶é—´æˆ³æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹ã€‚å¦‚æžœæ²¡æœ‰ä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›ž304å‘Šè¯‰æµè§ˆå™¨ç»§ç»­ä½¿ç”¨ç¼“å­˜ï¼›å¦‚æžœæœ‰ä¿®æ”¹ï¼Œåˆ™è¿”å›ž200ï¼ŒåŒæ—¶è¿”å›žæœ€æ–°çš„æ–‡ä»¶ã€‚ Cache-Control é€šå¸¸ä¸Ž Last-Modified ä¸€èµ·ä½¿ç”¨ã€‚ä¸€ä¸ªç”¨äºŽæŽ§åˆ¶ç¼“å­˜æœ‰æ•ˆæ—¶é—´ï¼Œä¸€ä¸ªåœ¨ç¼“å­˜å¤±æ•ˆåŽï¼Œå‘æœåŠ¡æŸ¥è¯¢æ˜¯å¦æœ‰æ›´æ–°ã€‚ Cache-Control è¿˜æœ‰ä¸€ä¸ªåŒåŠŸèƒ½çš„å­—æ®µï¼šExpiresã€‚Expires çš„å€¼ä¸€ä¸ªç»å¯¹çš„æ—¶é—´ç‚¹ï¼Œå¦‚ï¼šExpires: Thu, 10 Nov 2015 08:45:11 GMTï¼Œè¡¨ç¤ºåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¹‹å‰ï¼Œç¼“å­˜éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚ Expires æ˜¯ HTTP1.0 æ ‡å‡†ä¸­çš„å­—æ®µï¼ŒCache-Control æ˜¯ HTTP1.1 æ ‡å‡†ä¸­æ–°åŠ çš„å­—æ®µï¼ŒåŠŸèƒ½ä¸€æ ·ï¼Œéƒ½æ˜¯æŽ§åˆ¶ç¼“å­˜çš„æœ‰æ•ˆæ—¶é—´ã€‚å½“è¿™ä¸¤ä¸ªå­—æ®µåŒæ—¶å‡ºçŽ°æ—¶ï¼ŒCache-Control æ˜¯é«˜ä¼˜åŒ–çº§çš„ã€‚ Etag ä¹Ÿæ˜¯å’Œ Last-Modified ä¸€æ ·ï¼Œå¯¹æ–‡ä»¶è¿›è¡Œæ ‡è¯†çš„å­—æ®µã€‚ä¸åŒçš„æ˜¯ï¼ŒEtag çš„å–å€¼æ˜¯ä¸€ä¸ªå¯¹æ–‡ä»¶è¿›è¡Œæ ‡è¯†çš„ç‰¹å¾å­—ä¸²ã€‚åœ¨å‘æœåŠ¡å™¨æŸ¥è¯¢æ–‡ä»¶æ˜¯å¦æœ‰æ›´æ–°æ—¶ï¼Œæµè§ˆå™¨é€šè¿‡ If-None-Match å­—æ®µæŠŠç‰¹å¾å­—ä¸²å‘é€ç»™æœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨å’Œæ–‡ä»¶æœ€æ–°ç‰¹å¾å­—ä¸²è¿›è¡ŒåŒ¹é…ï¼Œæ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æœ‰æ›´æ–°ã€‚æ²¡æœ‰æ›´æ–°å›žåŒ…304ï¼Œæœ‰æ›´æ–°å›žåŒ…200ã€‚Etag å’Œ Last-Modified å¯æ ¹æ®éœ€æ±‚ä½¿ç”¨ä¸€ä¸ªæˆ–ä¸¤ä¸ªåŒæ—¶ä½¿ç”¨ã€‚ä¸¤ä¸ªåŒæ—¶ä½¿ç”¨æ—¶ï¼Œåªè¦æ»¡è¶³åŸºä¸­ä¸€ä¸ªæ¡ä»¶ï¼Œå°±è®¤ä¸ºæ–‡ä»¶æ²¡æœ‰æ›´æ–°ã€‚ æµè§ˆç¼“å­˜çš„åŸºæœ¬æ¡†æž¶å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å…³äºŽæ›´å¤šæµè§ˆå™¨ç¼“å­˜ä»‹ç»è¯·å‚è€ƒï¼šH5 ç¼“å­˜æœºåˆ¶æµ…æž ç§»åŠ¨ç«¯ Web åŠ è½½æ€§èƒ½ä¼˜åŒ– 8ã€Historyç”¨æˆ·è®¿é—®ç½‘é¡µçš„åŽ†å²è®°å½•é€šå¸¸ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªç±»ä¼¼äºŽæ ˆçš„å¯¹è±¡ä¸­ï¼Œå³ history å¯¹è±¡ï¼Œç‚¹å‡»è¿”å›žå°±å‡ºæ ˆï¼Œè·³ä¸‹ä¸€é¡µå°±å…¥æ ˆã€‚ å®ƒæä¾›äº†ä»¥ä¸‹æ–¹æ³•æ¥æ“ä½œé¡µé¢çš„å‰è¿›å’ŒåŽé€€ï¼š window.history.back( ) è¿”å›žåˆ°ä¸Šä¸€ä¸ªé¡µé¢ window.history.forward( ) è¿›å…¥åˆ°ä¸‹ä¸€ä¸ªé¡µé¢ window.history.go( [delta] ) è·³è½¬åˆ°æŒ‡å®šé¡µé¢ HTML5 å¯¹History Api è¿›è¡Œäº†å¢žå¼ºï¼Œæ–°å¢žäº†ä¸¤ä¸ªApi å’Œä¸€ä¸ªäº‹ä»¶ï¼Œåˆ†åˆ«æ˜¯ pushStateã€replaceState å’Œ onpopstateï¼š pushState æ˜¯å¾€ history å¯¹è±¡é‡Œæ·»åŠ ä¸€ä¸ªæ–°çš„åŽ†å²è®°å½•ã€‚ replaceState æ˜¯æ›¿æ¢ history å¯¹è±¡ä¸­çš„å½“å‰åŽ†å²è®°å½•ã€‚ onpopstate å½“ç‚¹å‡»æµè§ˆå™¨åŽé€€æŒ‰é’®æˆ–JSè°ƒç”¨ history.back éƒ½ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚ onpopstate å’Œ onhashchange çš„åŒºåˆ«ï¼š onhashchange æœ¬æ¥æ˜¯ç”¨æ¥ç›‘å¬hashå˜åŒ–çš„ï¼Œä½†å¯ä»¥è¢«åˆ©ç”¨æ¥åšå®¢æˆ·ç«¯å‰è¿›å’ŒåŽé€€äº‹ä»¶çš„ç›‘å¬ï¼Œè€Œ onpopstate æ˜¯ä¸“é—¨ç”¨æ¥ç›‘å¬æµè§ˆå™¨å‰è¿›åŽé€€çš„ï¼Œä¸ä»…å¯ä»¥æ”¯æŒ hashï¼Œéž hash çš„åŒæº url ä¹Ÿæ”¯æŒã€‚ 9ã€HTML5 ç¦»çº¿ç¼“å­˜HTML5ç¦»çº¿ç¼“å­˜åˆå«Application Cacheï¼Œæ˜¯ä»Žæµè§ˆå™¨çš„ç¼“å­˜ä¸­åˆ†å‡ºæ¥çš„ä¸€å—ç¼“å­˜åŒºï¼Œå¦‚æžœè¦åœ¨è¿™ä¸ªç¼“å­˜ä¸­ä¿å­˜æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæè¿°æ–‡ä»¶ï¼ˆmanifest fileï¼‰ï¼Œåˆ—å‡ºè¦ä¸‹è½½å’Œç¼“å­˜çš„èµ„æºã€‚ manifest æ–‡ä»¶æ˜¯ç®€å•çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒå‘ŠçŸ¥æµè§ˆå™¨è¢«ç¼“å­˜çš„å†…å®¹ï¼ˆä»¥åŠä¸ç¼“å­˜çš„å†…å®¹ï¼‰ã€‚manifest æ–‡ä»¶å¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š CACHE MANIFEST - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶å°†åœ¨é¦–æ¬¡ä¸‹è½½åŽè¿›è¡Œç¼“å­˜ NETWORK - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶éœ€è¦ä¸ŽæœåŠ¡å™¨çš„è¿žæŽ¥ï¼Œä¸”ä¸ä¼šè¢«ç¼“å­˜ FALLBACK - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶è§„å®šå½“é¡µé¢æ— æ³•è®¿é—®æ—¶çš„å›žé€€é¡µé¢ï¼ˆæ¯”å¦‚ 404 é¡µé¢ï¼‰ ç¦»çº¿ç¼“å­˜ä¸ºåº”ç”¨å¸¦æ¥ä¸‰ä¸ªä¼˜åŠ¿ï¼š ç¦»çº¿æµè§ˆ - ç”¨æˆ·å¯åœ¨åº”ç”¨ç¦»çº¿æ—¶ä½¿ç”¨å®ƒä»¬ é€Ÿåº¦ - å·²ç¼“å­˜èµ„æºåŠ è½½å¾—æ›´å¿« å‡å°‘æœåŠ¡å™¨è´Ÿè½½ - æµè§ˆå™¨å°†åªä»ŽæœåŠ¡å™¨ä¸‹è½½æ›´æ–°è¿‡æˆ–æ›´æ”¹è¿‡çš„èµ„æºã€‚ 10ã€Webè¯­ä¹‰åŒ–ä¸ŽSEO Webè¯­ä¹‰åŒ–æ˜¯æŒ‡ä½¿ç”¨è¯­ä¹‰æ°å½“çš„æ ‡ç­¾ï¼Œä½¿é¡µé¢æœ‰è‰¯å¥½çš„ç»“æž„ï¼Œé¡µé¢å…ƒç´ æœ‰å«ä¹‰ï¼Œèƒ½å¤Ÿè®©äººå’Œæœç´¢å¼•æ“Žéƒ½å®¹æ˜“ç†è§£ã€‚ SEOæ˜¯æŒ‡åœ¨äº†è§£æœç´¢å¼•æ“Žè‡ªç„¶æŽ’åæœºåˆ¶çš„åŸºç¡€ä¹‹ä¸Šï¼Œå¯¹ç½‘ç«™è¿›è¡Œå†…éƒ¨åŠå¤–éƒ¨çš„è°ƒæ•´ä¼˜åŒ–ï¼Œæ”¹è¿›ç½‘ç«™åœ¨æœç´¢å¼•æ“Žä¸­å…³é”®è¯çš„è‡ªç„¶æŽ’åï¼ŒèŽ·å¾—æ›´å¤šçš„å±•çŽ°é‡ï¼Œå¸å¼•æ›´å¤šç›®æ ‡å®¢æˆ·ç‚¹å‡»è®¿é—®ç½‘ç«™ï¼Œä»Žè€Œè¾¾åˆ°äº’è”ç½‘è¥é”€åŠå“ç‰Œå»ºè®¾çš„ç›®æ ‡ã€‚ æœç´¢å¼•æ“Žé€šè¿‡çˆ¬è™«æŠ€æœ¯èŽ·å–çš„é¡µé¢å°±æ˜¯ç”±ä¸€å † html æ ‡ç­¾ç»„æˆçš„ä»£ç ï¼Œäººå¯ä»¥é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼æ¥åˆ¤æ–­é¡µé¢ä¸Šå“ªäº›å†…å®¹æ˜¯é‡ç‚¹ï¼Œè€Œæœºå™¨åšä¸åˆ°ã€‚ ä½†æœç´¢å¼•æ“Žä¼šæ ¹æ®æ ‡ç­¾çš„å«ä¹‰æ¥åˆ¤æ–­å†…å®¹çš„æƒé‡ï¼Œå› æ­¤ï¼Œåœ¨åˆé€‚çš„ä½ç½®ä½¿ç”¨æ°å½“çš„æ ‡ç­¾ï¼Œä½¿æ•´ä¸ªé¡µé¢çš„è¯­ä¹‰æ˜Žç¡®ï¼Œç»“æž„æ¸…æ™°ï¼Œæœç´¢å¼•æ“Žæ‰èƒ½æ­£ç¡®è¯†åˆ«é¡µé¢ä¸­çš„é‡è¦å†…å®¹ï¼Œå¹¶äºˆä»¥è¾ƒé«˜çš„æƒå€¼ã€‚æ¯”å¦‚h1~h6è¿™å‡ ä¸ªæ ‡ç­¾åœ¨SEOä¸­çš„æƒå€¼éžå¸¸é«˜ï¼Œç”¨å®ƒä»¬ä½œé¡µé¢çš„æ ‡é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„SEOä¼˜åŒ–ã€‚ æœ¬æ–‡è½¬è½½åœ°å€]]></content>
      <categories>
        <category>HTML</category>
        <category>CSS</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Ajax</tag>
        <tag>HTML</tag>
        <tag>CSS</tag>
        <tag>ES6</tag>
        <tag>Nodejs</tag>
        <tag>BOM</tag>
        <tag>DOM</tag>
        <tag>åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ç»“æž„ä¸Žç®—æ³•]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[åå¤§ç»å…¸æŽ’åºç®—æ³•ï¼ˆåŠ¨å›¾æ¼”ç¤ºï¼‰0ã€ç®—æ³•æ¦‚è¿°0.1 ç®—æ³•åˆ†ç±»åç§å¸¸è§æŽ’åºç®—æ³•å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼š æ¯”è¾ƒç±»æŽ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œç”±äºŽå…¶æ—¶é—´å¤æ‚åº¦ä¸èƒ½çªç ´O(nlogn)ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºéžçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æŽ’åºã€‚ éžæ¯”è¾ƒç±»æŽ’åºï¼šä¸é€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œå®ƒå¯ä»¥çªç ´åŸºäºŽæ¯”è¾ƒæŽ’åºçš„æ—¶é—´ä¸‹ç•Œï¼Œä»¥çº¿æ€§æ—¶é—´è¿è¡Œï¼Œå› æ­¤ä¹Ÿç§°ä¸ºçº¿æ€§æ—¶é—´éžæ¯”è¾ƒç±»æŽ’åºã€‚ 0.2 ç®—æ³•å¤æ‚åº¦ 0.3 ç›¸å…³æ¦‚å¿µ ç¨³å®šï¼šå¦‚æžœaåŽŸæœ¬åœ¨bå‰é¢ï¼Œè€Œa=bï¼ŒæŽ’åºä¹‹åŽaä»ç„¶åœ¨bçš„å‰é¢ã€‚ ä¸ç¨³å®šï¼šå¦‚æžœaåŽŸæœ¬åœ¨bçš„å‰é¢ï¼Œè€Œa=bï¼ŒæŽ’åºä¹‹åŽ a å¯èƒ½ä¼šå‡ºçŽ°åœ¨ b çš„åŽé¢ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šå¯¹æŽ’åºæ•°æ®çš„æ€»çš„æ“ä½œæ¬¡æ•°ã€‚åæ˜ å½“nå˜åŒ–æ—¶ï¼Œæ“ä½œæ¬¡æ•°å‘ˆçŽ°ä»€ä¹ˆè§„å¾‹ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šæ˜¯æŒ‡ç®—æ³•åœ¨è®¡ç®—æœº å†…æ‰§è¡Œæ—¶æ‰€éœ€å­˜å‚¨ç©ºé—´çš„åº¦é‡ï¼Œå®ƒä¹Ÿæ˜¯æ•°æ®è§„æ¨¡nçš„å‡½æ•°ã€‚ 1ã€å†’æ³¡æŽ’åºï¼ˆBubble Sortï¼‰å†’æ³¡æŽ’åºæ˜¯ä¸€ç§ç®€å•çš„æŽ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æŽ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æžœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æŽ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚ 1.1 ç®—æ³•æè¿° æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æžœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼› å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»Žå¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åŽä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åŽçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼› é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åŽä¸€ä¸ªï¼› é‡å¤æ­¥éª¤1~3ï¼Œç›´åˆ°æŽ’åºå®Œæˆã€‚ 1.2 åŠ¨å›¾æ¼”ç¤º 1.3 ä»£ç å®žçŽ°1`function bubbleSort(arr) &#123;`` ``var` `len = arr.length;`` ``for` `(``var` `i = 0; i &lt; len - 1; i++) &#123;`` ``for` `(``var` `j = 0; j &lt; len - 1 - i; j++) &#123;`` ``if` `(arr[j] &gt; arr[j+1]) &#123; ``// ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”`` ``var` `temp = arr[j+1]; ``// å…ƒç´ äº¤æ¢`` ``arr[j+1] = arr[j];`` ``arr[j] = temp;`` ``&#125;`` ``&#125;`` ``&#125;`` ``return` `arr;``&#125;` 2ã€é€‰æ‹©æŽ’åºï¼ˆSelection Sortï¼‰é€‰æ‹©æŽ’åº(Selection-sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŽŸç†ï¼šé¦–å…ˆåœ¨æœªæŽ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æŽ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åŽï¼Œå†ä»Žå‰©ä½™æœªæŽ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åŽæ”¾åˆ°å·²æŽ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æŽ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æŽ’åºå®Œæ¯•ã€‚ 2.1 ç®—æ³•æè¿°nä¸ªè®°å½•çš„ç›´æŽ¥é€‰æ‹©æŽ’åºå¯ç»è¿‡n-1è¶Ÿç›´æŽ¥é€‰æ‹©æŽ’åºå¾—åˆ°æœ‰åºç»“æžœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n]ï¼Œæœ‰åºåŒºä¸ºç©ºï¼› ç¬¬iè¶ŸæŽ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶ï¼Œå½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶ŸæŽ’åºä»Žå½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k]ï¼Œå°†å®ƒä¸Žæ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢ï¼Œä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢žåŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒºï¼› n-1è¶Ÿç»“æŸï¼Œæ•°ç»„æœ‰åºåŒ–äº†ã€‚ 2.2 åŠ¨å›¾æ¼”ç¤º 2.3 ä»£ç å®žçŽ°1`function selectionSort(arr) &#123;`` ``var` `len = arr.length;`` ``var` `minIndex, temp;`` ``for` `(``var` `i = 0; i &lt; len - 1; i++) &#123;`` ``minIndex = i;`` ``for` `(``var` `j = i + 1; j &lt; len; j++) &#123;`` ``if` `(arr[j] &lt; arr[minIndex]) &#123; ``// å¯»æ‰¾æœ€å°çš„æ•°`` ``minIndex = j; ``// å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜`` ``&#125;`` ``&#125;`` ``temp = arr[i];`` ``arr[i] = arr[minIndex];`` ``arr[minIndex] = temp;`` ``&#125;`` ``return` `arr;``&#125; ` 2.4 ç®—æ³•åˆ†æžè¡¨çŽ°æœ€ç¨³å®šçš„æŽ’åºç®—æ³•ä¹‹ä¸€ï¼Œå› ä¸ºæ— è®ºä»€ä¹ˆæ•°æ®è¿›åŽ»éƒ½æ˜¯O(n2)çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½ã€‚å”¯ä¸€çš„å¥½å¤„å¯èƒ½å°±æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´äº†å§ã€‚ç†è®ºä¸Šè®²ï¼Œé€‰æ‹©æŽ’åºå¯èƒ½ä¹Ÿæ˜¯å¹³æ—¶æŽ’åºä¸€èˆ¬äººæƒ³åˆ°çš„æœ€å¤šçš„æŽ’åºæ–¹æ³•äº†å§ã€‚ 3ã€æ’å…¥æŽ’åºï¼ˆInsertion Sortï¼‰æ’å…¥æŽ’åºï¼ˆInsertion-Sortï¼‰çš„ç®—æ³•æè¿°æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŽŸç†æ˜¯é€šè¿‡æž„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºŽæœªæŽ’åºæ•°æ®ï¼Œåœ¨å·²æŽ’åºåºåˆ—ä¸­ä»ŽåŽå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚ 3.1 ç®—æ³•æè¿°ä¸€èˆ¬æ¥è¯´ï¼Œæ’å…¥æŽ’åºéƒ½é‡‡ç”¨in-placeåœ¨æ•°ç»„ä¸Šå®žçŽ°ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š ä»Žç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æŽ’åºï¼› å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æŽ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»ŽåŽå‘å‰æ‰«æï¼› å¦‚æžœè¯¥å…ƒç´ ï¼ˆå·²æŽ’åºï¼‰å¤§äºŽæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼› é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æŽ’åºçš„å…ƒç´ å°äºŽæˆ–è€…ç­‰äºŽæ–°å…ƒç´ çš„ä½ç½®ï¼› å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åŽï¼› é‡å¤æ­¥éª¤2~5ã€‚ 3.2 åŠ¨å›¾æ¼”ç¤º 3.2 ä»£ç å®žçŽ°1`function insertionSort(arr) &#123;`` ``var` `len = arr.length;`` ``var` `preIndex, current;`` ``for` `(``var` `i = 1; i &lt; len; i++) &#123;`` ``preIndex = i - 1;`` ``current = arr[i];`` ``while` `(preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; current) &#123;`` ``arr[preIndex + 1] = arr[preIndex];`` ``preIndex--;`` ``&#125;`` ``arr[preIndex + 1] = current;`` ``&#125;`` ``return` `arr;``&#125;` 3.4 ç®—æ³•åˆ†æžæ’å…¥æŽ’åºåœ¨å®žçŽ°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨in-placeæŽ’åºï¼ˆå³åªéœ€ç”¨åˆ°O(1)çš„é¢å¤–ç©ºé—´çš„æŽ’åºï¼‰ï¼Œå› è€Œåœ¨ä»ŽåŽå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æŽ’åºå…ƒç´ é€æ­¥å‘åŽæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚ 4ã€å¸Œå°”æŽ’åºï¼ˆShell Sortï¼‰1959å¹´Shellå‘æ˜Žï¼Œç¬¬ä¸€ä¸ªçªç ´O(n2)çš„æŽ’åºç®—æ³•ï¼Œæ˜¯ç®€å•æ’å…¥æŽ’åºçš„æ”¹è¿›ç‰ˆã€‚å®ƒä¸Žæ’å…¥æŽ’åºçš„ä¸åŒä¹‹å¤„åœ¨äºŽï¼Œå®ƒä¼šä¼˜å…ˆæ¯”è¾ƒè·ç¦»è¾ƒè¿œçš„å…ƒç´ ã€‚å¸Œå°”æŽ’åºåˆå«ç¼©å°å¢žé‡æŽ’åºã€‚ 4.1 ç®—æ³•æè¿°å…ˆå°†æ•´ä¸ªå¾…æŽ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æŽ¥æ’å…¥æŽ’åºï¼Œå…·ä½“ç®—æ³•æè¿°ï¼š é€‰æ‹©ä¸€ä¸ªå¢žé‡åºåˆ—t1ï¼Œt2ï¼Œâ€¦ï¼Œtkï¼Œå…¶ä¸­ti&gt;tjï¼Œtk=1ï¼› æŒ‰å¢žé‡åºåˆ—ä¸ªæ•°kï¼Œå¯¹åºåˆ—è¿›è¡Œk è¶ŸæŽ’åºï¼› æ¯è¶ŸæŽ’åºï¼Œæ ¹æ®å¯¹åº”çš„å¢žé‡tiï¼Œå°†å¾…æŽ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²é•¿åº¦ä¸ºm çš„å­åºåˆ—ï¼Œåˆ†åˆ«å¯¹å„å­è¡¨è¿›è¡Œç›´æŽ¥æ’å…¥æŽ’åºã€‚ä»…å¢žé‡å› å­ä¸º1 æ—¶ï¼Œæ•´ä¸ªåºåˆ—ä½œä¸ºä¸€ä¸ªè¡¨æ¥å¤„ç†ï¼Œè¡¨é•¿åº¦å³ä¸ºæ•´ä¸ªåºåˆ—çš„é•¿åº¦ã€‚ 4.2 åŠ¨å›¾æ¼”ç¤º 4.3 ä»£ç å®žçŽ°1`// ä¿®æ”¹äºŽ 2019-03-06``function shellSort(arr) &#123;`` ``var` `len = arr.length;`` ``for` `(``var` `gap = Math.floor(len / 2); gap &gt; 0; gap = Math.floor(gap / 2)) &#123;`` ``// æ³¨æ„ï¼šè¿™é‡Œå’ŒåŠ¨å›¾æ¼”ç¤ºçš„ä¸ä¸€æ ·ï¼ŒåŠ¨å›¾æ˜¯åˆ†ç»„æ‰§è¡Œï¼Œå®žé™…æ“ä½œæ˜¯å¤šä¸ªåˆ†ç»„äº¤æ›¿æ‰§è¡Œ`` ``for` `(``var` `i = gap; i &lt; len; i++) &#123;`` ``var` `j = i;`` ``var` `current = arr[i];`` ``while` `(j - gap &gt;= 0 &amp;&amp; current &lt; arr[j - gap]) &#123;`` ``arr[j] = arr[j - gap];`` ``j = j - gap;`` ``&#125;`` ``arr[j] = current;`` ``&#125;`` ``&#125;`` ``return` `arr;``&#125;` 4.4 ç®—æ³•åˆ†æžå¸Œå°”æŽ’åºçš„æ ¸å¿ƒåœ¨äºŽé—´éš”åºåˆ—çš„è®¾å®šã€‚æ—¢å¯ä»¥æå‰è®¾å®šå¥½é—´éš”åºåˆ—ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€çš„å®šä¹‰é—´éš”åºåˆ—ã€‚åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—çš„ç®—æ³•æ˜¯ã€Šç®—æ³•ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹çš„åˆè‘—è€…Robert Sedgewickæå‡ºçš„ã€‚ 5ã€å½’å¹¶æŽ’åºï¼ˆMerge Sortï¼‰å½’å¹¶æŽ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æŽ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéžå¸¸å…¸åž‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸º2-è·¯å½’å¹¶ã€‚ 5.1 ç®—æ³•æè¿° æŠŠé•¿åº¦ä¸ºnçš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸ºn/2çš„å­åºåˆ—ï¼› å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æŽ’åºï¼› å°†ä¸¤ä¸ªæŽ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æŽ’åºåºåˆ—ã€‚ 5.2 åŠ¨å›¾æ¼”ç¤º 5.3 ä»£ç å®žçŽ°1`function mergeSort(arr) &#123;`` ``var` `len = arr.length;`` ``if` `(len &lt; 2) &#123;`` ``return` `arr;`` ``&#125;`` ``var` `middle = Math.floor(len / 2),`` ``left = arr.slice(0, middle),`` ``right = arr.slice(middle);`` ``return` `merge(mergeSort(left), mergeSort(right));``&#125;` `function merge(left, right) &#123;`` ``var` `result = [];` ` ``while` `(left.length&gt;0 &amp;&amp; right.length&gt;0) &#123;`` ``if` `(left[0] &lt;= right[0]) &#123;`` ``result.push(left.shift());`` ``&#125;``else` `&#123;`` ``result.push(right.shift());`` ``&#125;`` ``&#125;` ` ``while` `(left.length)`` ``result.push(left.shift());` ` ``while` `(right.length)`` ``result.push(right.shift());` ` ``return` `result;``&#125;` 5.4 ç®—æ³•åˆ†æžå½’å¹¶æŽ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æŽ’åºæ–¹æ³•ã€‚å’Œé€‰æ‹©æŽ’åºä¸€æ ·ï¼Œå½’å¹¶æŽ’åºçš„æ€§èƒ½ä¸å—è¾“å…¥æ•°æ®çš„å½±å“ï¼Œä½†è¡¨çŽ°æ¯”é€‰æ‹©æŽ’åºå¥½çš„å¤šï¼Œå› ä¸ºå§‹ç»ˆéƒ½æ˜¯O(nlognï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ä»£ä»·æ˜¯éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚ 6ã€å¿«é€ŸæŽ’åºï¼ˆQuick Sortï¼‰å¿«é€ŸæŽ’åºçš„åŸºæœ¬æ€æƒ³ï¼šé€šè¿‡ä¸€è¶ŸæŽ’åºå°†å¾…æŽ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†çš„å…³é”®å­—å°ï¼Œåˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡ŒæŽ’åºï¼Œä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚ 6.1 ç®—æ³•æè¿°å¿«é€ŸæŽ’åºä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š ä»Žæ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸º â€œåŸºå‡†â€ï¼ˆpivotï¼‰ï¼› é‡æ–°æŽ’åºæ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åŽé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åŽï¼Œè¯¥åŸºå‡†å°±å¤„äºŽæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼› é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºŽåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æŽ’åºã€‚ 6.2 åŠ¨å›¾æ¼”ç¤º 6.3 ä»£ç å®žçŽ°1`function quickSort(arr, left, right) &#123;`` ``var` `len = arr.length,`` ``partitionIndex,`` ``left =``typeof` `left !=``'number'` `? 0 : left,`` ``right =``typeof` `right !=``'number'` `? len - 1 : right;` ` ``if` `(left &lt; right) &#123;`` ``partitionIndex = partition(arr, left, right);`` ``quickSort(arr, left, partitionIndex-1);`` ``quickSort(arr, partitionIndex+1, right);`` ``&#125;`` ``return` `arr;``&#125;` `function partition(arr, left ,right) &#123; ``// åˆ†åŒºæ“ä½œ`` ``var` `pivot = left, ``// è®¾å®šåŸºå‡†å€¼ï¼ˆpivotï¼‰`` ``index = pivot + 1;`` ``for` `(``var` `i = index; i &lt;= right; i++) &#123;`` ``if` `(arr[i] &lt; arr[pivot]) &#123;`` ``swap(arr, i, index);`` ``index++;`` ``&#125; `` ``&#125;`` ``swap(arr, pivot, index - 1);`` ``return` `index-1;``&#125;` `function swap(arr, i, j) &#123;`` ``var` `temp = arr[i];`` ``arr[i] = arr[j];`` ``arr[j] = temp;``&#125;` 7ã€å †æŽ’åºï¼ˆHeap Sortï¼‰å †æŽ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æž„æ‰€è®¾è®¡çš„ä¸€ç§æŽ’åºç®—æ³•ã€‚å †ç§¯æ˜¯ä¸€ä¸ªè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æž„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼šå³å­ç»“ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºŽï¼ˆæˆ–è€…å¤§äºŽï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚ 7.1 ç®—æ³•æè¿° å°†åˆå§‹å¾…æŽ’åºå…³é”®å­—åºåˆ—(R1,R2â€¦.Rn)æž„å»ºæˆå¤§é¡¶å †ï¼Œæ­¤å †ä¸ºåˆå§‹çš„æ— åºåŒºï¼› å°†å †é¡¶å…ƒç´ R[1]ä¸Žæœ€åŽä¸€ä¸ªå…ƒç´ R[n]äº¤æ¢ï¼Œæ­¤æ—¶å¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)å’Œæ–°çš„æœ‰åºåŒº(Rn),ä¸”æ»¡è¶³R[1,2â€¦n-1]&lt;=R[n]ï¼› ç”±äºŽäº¤æ¢åŽæ–°çš„å †é¡¶R[1]å¯èƒ½è¿åå †çš„æ€§è´¨ï¼Œå› æ­¤éœ€è¦å¯¹å½“å‰æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)è°ƒæ•´ä¸ºæ–°å †ï¼Œç„¶åŽå†æ¬¡å°†R[1]ä¸Žæ— åºåŒºæœ€åŽä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œå¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2â€¦.Rn-2)å’Œæ–°çš„æœ‰åºåŒº(Rn-1,Rn)ã€‚ä¸æ–­é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æœ‰åºåŒºçš„å…ƒç´ ä¸ªæ•°ä¸ºn-1ï¼Œåˆ™æ•´ä¸ªæŽ’åºè¿‡ç¨‹å®Œæˆã€‚ 7.2 åŠ¨å›¾æ¼”ç¤º 7.3 ä»£ç å®žçŽ°1`var` `len; ``// å› ä¸ºå£°æ˜Žçš„å¤šä¸ªå‡½æ•°éƒ½éœ€è¦æ•°æ®é•¿åº¦ï¼Œæ‰€ä»¥æŠŠlenè®¾ç½®æˆä¸ºå…¨å±€å˜é‡` `function buildMaxHeap(arr) &#123; ``// å»ºç«‹å¤§é¡¶å †`` ``len = arr.length;`` ``for` `(``var` `i = Math.floor(len/2); i &gt;= 0; i--) &#123;`` ``heapify(arr, i);`` ``&#125;``&#125;` `function heapify(arr, i) &#123; ``// å †è°ƒæ•´`` ``var` `left = 2 * i + 1,`` ``right = 2 * i + 2,`` ``largest = i;` ` ``if` `(left &lt; len &amp;&amp; arr[left] &gt; arr[largest]) &#123;`` ``largest = left;`` ``&#125;` ` ``if` `(right &lt; len &amp;&amp; arr[right] &gt; arr[largest]) &#123;`` ``largest = right;`` ``&#125;` ` ``if` `(largest != i) &#123;`` ``swap(arr, i, largest);`` ``heapify(arr, largest);`` ``&#125;``&#125;` `function swap(arr, i, j) &#123;`` ``var` `temp = arr[i];`` ``arr[i] = arr[j];`` ``arr[j] = temp;``&#125;` `function heapSort(arr) &#123;`` ``buildMaxHeap(arr);` ` ``for` `(``var` `i = arr.length - 1; i &gt; 0; i--) &#123;`` ``swap(arr, 0, i);`` ``len--;`` ``heapify(arr, 0);`` ``&#125;`` ``return` `arr;``&#125;` 8ã€è®¡æ•°æŽ’åºï¼ˆCounting Sortï¼‰è®¡æ•°æŽ’åºä¸æ˜¯åŸºäºŽæ¯”è¾ƒçš„æŽ’åºç®—æ³•ï¼Œå…¶æ ¸å¿ƒåœ¨äºŽå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æŽ’åºï¼Œè®¡æ•°æŽ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚ 8.1 ç®—æ³•æè¿° æ‰¾å‡ºå¾…æŽ’åºçš„æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ï¼› ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå€¼ä¸ºiçš„å…ƒç´ å‡ºçŽ°çš„æ¬¡æ•°ï¼Œå­˜å…¥æ•°ç»„Cçš„ç¬¬ié¡¹ï¼› å¯¹æ‰€æœ‰çš„è®¡æ•°ç´¯åŠ ï¼ˆä»ŽCä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯ä¸€é¡¹å’Œå‰ä¸€é¡¹ç›¸åŠ ï¼‰ï¼› åå‘å¡«å……ç›®æ ‡æ•°ç»„ï¼šå°†æ¯ä¸ªå…ƒç´ iæ”¾åœ¨æ–°æ•°ç»„çš„ç¬¬C(i)é¡¹ï¼Œæ¯æ”¾ä¸€ä¸ªå…ƒç´ å°±å°†C(i)å‡åŽ»1ã€‚ 8.2 åŠ¨å›¾æ¼”ç¤º 8.3 ä»£ç å®žçŽ°1`function countingSort(arr, maxValue) &#123;`` ``var` `bucket =``new` `Array(maxValue + 1),`` ``sortedIndex = 0;`` ``arrLen = arr.length,`` ``bucketLen = maxValue + 1;` ` ``for` `(``var` `i = 0; i &lt; arrLen; i++) &#123;`` ``if` `(!bucket[arr[i]]) &#123;`` ``bucket[arr[i]] = 0;`` ``&#125;`` ``bucket[arr[i]]++;`` ``&#125;` ` ``for` `(``var` `j = 0; j &lt; bucketLen; j++) &#123;`` ``while``(bucket[j] &gt; 0) &#123;`` ``arr[sortedIndex++] = j;`` ``bucket[j]--;`` ``&#125;`` ``&#125;` ` ``return` `arr;``&#125;` 8.4 ç®—æ³•åˆ†æžè®¡æ•°æŽ’åºæ˜¯ä¸€ä¸ªç¨³å®šçš„æŽ’åºç®—æ³•ã€‚å½“è¾“å…¥çš„å…ƒç´ æ˜¯ n ä¸ª 0åˆ° k ä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n+k)ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n+k)ï¼Œå…¶æŽ’åºé€Ÿåº¦å¿«äºŽä»»ä½•æ¯”è¾ƒæŽ’åºç®—æ³•ã€‚å½“kä¸æ˜¯å¾ˆå¤§å¹¶ä¸”åºåˆ—æ¯”è¾ƒé›†ä¸­æ—¶ï¼Œè®¡æ•°æŽ’åºæ˜¯ä¸€ä¸ªå¾ˆæœ‰æ•ˆçš„æŽ’åºç®—æ³•ã€‚ 9ã€æ¡¶æŽ’åºï¼ˆBucket Sortï¼‰æ¡¶æŽ’åºæ˜¯è®¡æ•°æŽ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸Žå¦çš„å…³é”®å°±åœ¨äºŽè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚æ¡¶æŽ’åº (Bucket sort)çš„å·¥ä½œçš„åŽŸç†ï¼šå‡è®¾è¾“å…¥æ•°æ®æœä»Žå‡åŒ€åˆ†å¸ƒï¼Œå°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶å†åˆ†åˆ«æŽ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æŽ’åºç®—æ³•æˆ–æ˜¯ä»¥é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æŽ’åºè¿›è¡ŒæŽ’ï¼‰ã€‚ 9.1 ç®—æ³•æè¿° è®¾ç½®ä¸€ä¸ªå®šé‡çš„æ•°ç»„å½“ä½œç©ºæ¡¶ï¼› éåŽ†è¾“å…¥æ•°æ®ï¼Œå¹¶ä¸”æŠŠæ•°æ®ä¸€ä¸ªä¸€ä¸ªæ”¾åˆ°å¯¹åº”çš„æ¡¶é‡ŒåŽ»ï¼› å¯¹æ¯ä¸ªä¸æ˜¯ç©ºçš„æ¡¶è¿›è¡ŒæŽ’åºï¼› ä»Žä¸æ˜¯ç©ºçš„æ¡¶é‡ŒæŠŠæŽ’å¥½åºçš„æ•°æ®æ‹¼æŽ¥èµ·æ¥ã€‚ 9.2 å›¾ç‰‡æ¼”ç¤º 9.3 ä»£ç å®žçŽ°1`function bucketSort(arr, bucketSize) &#123;`` ``if` `(arr.length === 0) &#123;`` ``return` `arr;`` ``&#125;` ` ``var` `i;`` ``var` `minValue = arr[0];`` ``var` `maxValue = arr[0];`` ``for` `(i = 1; i &lt; arr.length; i++) &#123;`` ``if` `(arr[i] &lt; minValue) &#123;`` ``minValue = arr[i]; ``// è¾“å…¥æ•°æ®çš„æœ€å°å€¼`` ``&#125;``else` `if` `(arr[i] &gt; maxValue) &#123;`` ``maxValue = arr[i]; ``// è¾“å…¥æ•°æ®çš„æœ€å¤§å€¼`` ``&#125;`` ``&#125;` ` ``// æ¡¶çš„åˆå§‹åŒ–`` ``var` `DEFAULT_BUCKET_SIZE = 5; ``// è®¾ç½®æ¡¶çš„é»˜è®¤æ•°é‡ä¸º5`` ``bucketSize = bucketSize || DEFAULT_BUCKET_SIZE;`` ``var` `bucketCount = Math.floor((maxValue - minValue) / bucketSize) + 1; `` ``var` `buckets =``new` `Array(bucketCount);`` ``for` `(i = 0; i &lt; buckets.length; i++) &#123;`` ``buckets[i] = [];`` ``&#125;` ` ``// åˆ©ç”¨æ˜ å°„å‡½æ•°å°†æ•°æ®åˆ†é…åˆ°å„ä¸ªæ¡¶ä¸­`` ``for` `(i = 0; i &lt; arr.length; i++) &#123;`` ``buckets[Math.floor((arr[i] - minValue) / bucketSize)].push(arr[i]);`` ``&#125;` ` ``arr.length = 0;`` ``for` `(i = 0; i &lt; buckets.length; i++) &#123;`` ``insertionSort(buckets[i]); ``// å¯¹æ¯ä¸ªæ¡¶è¿›è¡ŒæŽ’åºï¼Œè¿™é‡Œä½¿ç”¨äº†æ’å…¥æŽ’åº`` ``for` `(``var` `j = 0; j &lt; buckets[i].length; j++) &#123;`` ``arr.push(buckets[i][j]); `` ``&#125;`` ``&#125;` ` ``return` `arr;``&#125;` 9.4 ç®—æ³•åˆ†æžæ¡¶æŽ’åºæœ€å¥½æƒ…å†µä¸‹ä½¿ç”¨çº¿æ€§æ—¶é—´O(n)ï¼Œæ¡¶æŽ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå–å†³ä¸Žå¯¹å„ä¸ªæ¡¶ä¹‹é—´æ•°æ®è¿›è¡ŒæŽ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºå…¶å®ƒéƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(n)ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ¡¶åˆ’åˆ†çš„è¶Šå°ï¼Œå„ä¸ªæ¡¶ä¹‹é—´çš„æ•°æ®è¶Šå°‘ï¼ŒæŽ’åºæ‰€ç”¨çš„æ—¶é—´ä¹Ÿä¼šè¶Šå°‘ã€‚ä½†ç›¸åº”çš„ç©ºé—´æ¶ˆè€—å°±ä¼šå¢žå¤§ã€‚ 10ã€åŸºæ•°æŽ’åºï¼ˆRadix Sortï¼‰åŸºæ•°æŽ’åºæ˜¯æŒ‰ç…§ä½Žä½å…ˆæŽ’åºï¼Œç„¶åŽæ”¶é›†ï¼›å†æŒ‰ç…§é«˜ä½æŽ’åºï¼Œç„¶åŽå†æ”¶é›†ï¼›ä¾æ¬¡ç±»æŽ¨ï¼Œç›´åˆ°æœ€é«˜ä½ã€‚æœ‰æ—¶å€™æœ‰äº›å±žæ€§æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œå…ˆæŒ‰ä½Žä¼˜å…ˆçº§æŽ’åºï¼Œå†æŒ‰é«˜ä¼˜å…ˆçº§æŽ’åºã€‚æœ€åŽçš„æ¬¡åºå°±æ˜¯é«˜ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ï¼Œé«˜ä¼˜å…ˆçº§ç›¸åŒçš„ä½Žä¼˜å…ˆçº§é«˜çš„åœ¨å‰ã€‚ 10.1 ç®—æ³•æè¿° å–å¾—æ•°ç»„ä¸­çš„æœ€å¤§æ•°ï¼Œå¹¶å–å¾—ä½æ•°ï¼› arrä¸ºåŽŸå§‹æ•°ç»„ï¼Œä»Žæœ€ä½Žä½å¼€å§‹å–æ¯ä¸ªä½ç»„æˆradixæ•°ç»„ï¼› å¯¹radixè¿›è¡Œè®¡æ•°æŽ’åºï¼ˆåˆ©ç”¨è®¡æ•°æŽ’åºé€‚ç”¨äºŽå°èŒƒå›´æ•°çš„ç‰¹ç‚¹ï¼‰ï¼› 10.2 åŠ¨å›¾æ¼”ç¤º 10.3 ä»£ç å®žçŽ°1`var` `counter = [];``function radixSort(arr, maxDigit) &#123;`` ``var` `mod = 10;`` ``var` `dev = 1;`` ``for` `(``var` `i = 0; i &lt; maxDigit; i++, dev *= 10, mod *= 10) &#123;`` ``for``(``var` `j = 0; j &lt; arr.length; j++) &#123;`` ``var` `bucket = parseInt((arr[j] % mod) / dev);`` ``if``(counter[bucket]==``null``) &#123;`` ``counter[bucket] = [];`` ``&#125;`` ``counter[bucket].push(arr[j]);`` ``&#125;`` ``var` `pos = 0;`` ``for``(``var` `j = 0; j &lt; counter.length; j++) &#123;`` ``var` `value =``null``;`` ``if``(counter[j]!=``null``) &#123;`` ``while` `((value = counter[j].shift()) !=``null``) &#123;`` ``arr[pos++] = value;`` ``&#125;`` ``&#125;`` ``&#125;`` ``&#125;`` ``return` `arr;``&#125;` 10.4 ç®—æ³•åˆ†æžåŸºæ•°æŽ’åºåŸºäºŽåˆ†åˆ«æŽ’åºï¼Œåˆ†åˆ«æ”¶é›†ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šçš„ã€‚ä½†åŸºæ•°æŽ’åºçš„æ€§èƒ½æ¯”æ¡¶æŽ’åºè¦ç•¥å·®ï¼Œæ¯ä¸€æ¬¡å…³é”®å­—çš„æ¡¶åˆ†é…éƒ½éœ€è¦O(n)çš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä¸”åˆ†é…ä¹‹åŽå¾—åˆ°æ–°çš„å…³é”®å­—åºåˆ—åˆéœ€è¦O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚å‡å¦‚å¾…æŽ’æ•°æ®å¯ä»¥åˆ†ä¸ºdä¸ªå…³é”®å­—ï¼Œåˆ™åŸºæ•°æŽ’åºçš„æ—¶é—´å¤æ‚åº¦å°†æ˜¯O(d*2n) ï¼Œå½“ç„¶dè¦è¿œè¿œå°äºŽnï¼Œå› æ­¤åŸºæœ¬ä¸Šè¿˜æ˜¯çº¿æ€§çº§åˆ«çš„ã€‚ åŸºæ•°æŽ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸ºO(n+k)ï¼Œå…¶ä¸­kä¸ºæ¡¶çš„æ•°é‡ã€‚ä¸€èˆ¬æ¥è¯´n&gt;&gt;kï¼Œå› æ­¤é¢å¤–ç©ºé—´éœ€è¦å¤§æ¦‚nä¸ªå·¦å³ã€‚]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æŽ’åº</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŽ’åº]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F17%2F%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849var data = [5, 1, 9, 10, 3, 4, 6, 1]function _sort(data) &#123; function bubbleSort() &#123; let x for (let i = 0; i &lt; data.length; i++) &#123; // console.log(i,'i') for (x = 0; x &lt; data.length - 1; x++) &#123; // console.log(x,'x') // console.log(data[x],data[x+1]) if (data[x] &lt;= data[x + 1]) &#123; &#125; else &#123; swap(data, x, x + 1) &#125; &#125; &#125; return data &#125; function quickSort() &#123; let x let min for (let i = 0; i &lt; data.length; i++) &#123; min = i for (x = i + 1; x &lt; data.length; x++) &#123; if (data[x] &lt; data[min]) &#123; min = x &#125; swap(data, i, min) &#125; &#125; return data &#125; function swap(data, a, b) &#123; var newdata = data[a] data[a] = data[b] data[b] = newdata &#125; return &#123; bubbleSort: bubbleSort, quickSort: quickSort &#125;&#125;console.log(_sort(data).bubbleSort())console.log(_sort(data).quickSort())]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æŽ’åº</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹å†™å°è£…ä¸€ä¸ªjQueryçš„Ajax]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E6%89%8B%E5%86%99%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AAjQuery%E7%9A%84Ajax%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445function ajax(options) &#123; var url = options.url; var method = options.type || "GET"; var datatype = options.dataType || "jSON"; var onsuccess = options.onsuccess || function() &#123;&#125;; var onerror = options.onerror || function() &#123;&#125;; var data = options.data || &#123;&#125;; var xhr = new XMLHttpRequest(); var dataStr = []; for (var key in data) &#123; dataStr.push(key + "=" + data[key]); &#125; dataStr.join("&amp;"); if (method === "GET") &#123; url = url + "?" + dataStr; &#125; xhr.open(method, url, true); xhr.onload = function(e) &#123; if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status === 300) &#123; if (datatype === "json") &#123; onsuccess(JSON.parse(xhr.responseText)); &#125; &#125; else &#123; onerror(); &#125; &#125;; xhr.onerror = onerror; if (method === "POST") &#123; xhr.send(dataStr); &#125; else &#123; xhr.send(); &#125;&#125;ajax(&#123; url: "http://api.jirengu.com/weather.php", data: &#123; city: "åŒ—äº¬" &#125;, onsuccess: function(ret) &#123; console.log(ret); &#125;, onerror: function() &#123; console.log("æœåŠ¡å™¨å¼‚å¸¸"); &#125;&#125;);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Ajax</tag>
        <tag>JavaScirpt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‡’åŠ è½½]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E6%87%92%E5%8A%A0%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[å…ˆä¸Šä»£ç jQueryå®žçŽ°æ–¹å¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;script src="//code.jquery.com/jquery-1.9.1.min.js"&gt;&lt;/script&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;JS Bin&lt;/title&gt; &lt;style&gt; .container &#123; max-width: 800px; margin: 0 auto; &#125; .container:after&#123; content: ''; display: block; clear: both; &#125; .container img &#123; float: left; width: 50%; &#125; h1&#123; clear: both; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="container"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="1" data-src="http://cdn.jirengu.com/book.jirengu.com/img/1.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="2" data-src="http://cdn.jirengu.com/book.jirengu.com/img/2.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="3" data-src="http://cdn.jirengu.com/book.jirengu.com/img/3.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="4" data-src="http://cdn.jirengu.com/book.jirengu.com/img/4.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="5" data-src="http://cdn.jirengu.com/book.jirengu.com/img/5.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="6" data-src="http://cdn.jirengu.com/book.jirengu.com/img/6.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="7" data-src="http://cdn.jirengu.com/book.jirengu.com/img/7.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="8" data-src="http://cdn.jirengu.com/book.jirengu.com/img/8.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="9" data-src="http://cdn.jirengu.com/book.jirengu.com/img/9.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="10" data-src="http://cdn.jirengu.com/book.jirengu.com/img/10.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="11" data-src="http://cdn.jirengu.com/book.jirengu.com/img/11.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="12" data-src="http://cdn.jirengu.com/book.jirengu.com/img/12.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="13" data-src="http://cdn.jirengu.com/book.jirengu.com/img/13.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="14" data-src="http://cdn.jirengu.com/book.jirengu.com/img/14.jpg"&gt; &lt;h1 id="target"&gt;hello&lt;/h1&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="15" data-src="http://cdn.jirengu.com/book.jirengu.com/img/15.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="16" data-src="http://cdn.jirengu.com/book.jirengu.com/img/16.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="17" data-src="http://cdn.jirengu.com/book.jirengu.com/img/17.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="18" data-src="http://cdn.jirengu.com/book.jirengu.com/img/18.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="19" data-src="http://cdn.jirengu.com/book.jirengu.com/img/19.jpg"&gt; &lt;img src="http://smashinghub.com/wp-content/uploads/2014/08/cool-loading-animated-gif-3.gif" alt="20" data-src="http://cdn.jirengu.com/book.jirengu.com/img/20.jpg"&gt; &lt;/div&gt; &lt;script&gt; start()function isShow($node) &#123; var $winHeight = $(window).height() //èŽ·å–è§†å£é«˜åº¦ var $scrollTop = $(window).scrollTop() //èŽ·å–è§†å£æ»šåŠ¨è·ç¦» var $offset = $node.offset().top //èŽ·å–å›¾ç‰‡topä½ç½®ä¸Žè§†å£é¡¶éƒ¨è·ç¦» var $nodeHeight = $node.outerHeight(true) //èŽ·å–å›¾ç‰‡è‡ªèº«é«˜åº¦ if ($winHeight + $scrollTop &gt;= $offset + $nodeHeight) &#123; return true &#125; else &#123; return false &#125;&#125;function start() &#123; let timer = null $(window).on('scroll', function (e) &#123; return !function () &#123; //å‡½æ•°èŠ‚æµ clearTimeout(timer) console.log() timer = setTimeout(function () &#123; $('.container img').not('[data-isloaded=1]').each(function () &#123; if (isShow($(this))) &#123; loadImg($(this)) &#125; &#125;) &#125;, 500) &#125;() &#125;)&#125;function loadImg($img) &#123; $img.attr('src', $img.attr('data-src')) $img.attr('data-isloaded',1)&#125;$(window).trigger('scroll') &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; æ‡’åŠ è½½æ‡’åŠ è½½ä¹Ÿå°±æ˜¯å»¶è¿ŸåŠ è½½ã€‚å½“è®¿é—®ä¸€ä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå…ˆæŠŠimgå…ƒç´ æˆ–æ˜¯å…¶ä»–å…ƒç´ çš„èƒŒæ™¯å›¾ç‰‡è·¯å¾„æ›¿æ¢æˆä¸€å¼ å¤§å°ä¸º1*1pxå›¾ç‰‡çš„è·¯å¾„ï¼ˆè¿™æ ·å°±åªéœ€è¯·æ±‚ä¸€æ¬¡ï¼Œä¿—ç§°å ä½å›¾ï¼‰ï¼Œåªæœ‰å½“å›¾ç‰‡å‡ºçŽ°åœ¨æµè§ˆå™¨çš„å¯è§†åŒºåŸŸå†…æ—¶ï¼Œæ‰è®¾ç½®å›¾ç‰‡æ­£çœŸçš„è·¯å¾„ï¼Œè®©å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™å°±æ˜¯å›¾ç‰‡æ‡’åŠ è½½ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ‡’åŠ è½½?å¾ˆå¤šé¡µé¢ï¼Œå†…å®¹å¾ˆä¸°å¯Œï¼Œé¡µé¢å¾ˆé•¿ï¼Œå›¾ç‰‡è¾ƒå¤šã€‚æ¯”å¦‚è¯´å„ç§å•†åŸŽé¡µé¢ã€‚è¿™äº›é¡µé¢å›¾ç‰‡æ•°é‡å¤šï¼Œè€Œä¸”æ¯”è¾ƒå¤§ï¼Œå°‘è¯´ç™¾æ¥Kï¼Œå¤šåˆ™ä¸Šå…†ã€‚è¦æ˜¯é¡µé¢è½½å…¥å°±ä¸€æ¬¡æ€§åŠ è½½å®Œæ¯•ã€‚ä¼°è®¡å¤§å®¶éƒ½ä¼šç­‰åˆ°é»„èŠ±å˜æˆé»„èŠ±èœäº†ã€‚ æ‡’åŠ è½½çš„åŽŸç†æ˜¯ä»€ä¹ˆ?é¡µé¢ä¸­çš„imgå…ƒç´ ï¼Œå¦‚æžœæ²¡æœ‰srcå±žæ€§ï¼Œæµè§ˆå™¨å°±ä¸ä¼šå‘å‡ºè¯·æ±‚åŽ»ä¸‹è½½å›¾ç‰‡ï¼Œåªæœ‰é€šè¿‡javascriptè®¾ç½®äº†å›¾ç‰‡è·¯å¾„ï¼Œæµè§ˆå™¨æ‰ä¼šå‘é€è¯·æ±‚ã€‚æ‡’åŠ è½½çš„åŽŸç†å°±æ˜¯å…ˆåœ¨é¡µé¢ä¸­æŠŠæ‰€æœ‰çš„å›¾ç‰‡ç»Ÿä¸€ä½¿ç”¨ä¸€å¼ å ä½å›¾è¿›è¡Œå ä½ï¼ŒæŠŠæ­£çœŸçš„è·¯å¾„å­˜åœ¨å…ƒç´ çš„â€œdata-urlâ€ï¼ˆè¿™ä¸ªåå­—èµ·ä¸ªè‡ªå·±è®¤è¯†å¥½è®°çš„å°±è¡Œï¼‰å±žæ€§é‡Œï¼Œè¦ç”¨çš„æ—¶å€™å°±å–å‡ºæ¥ï¼Œå†è®¾ç½®ï¼› æ‡’åŠ è½½çš„å®žçŽ°æ­¥éª¤?1)é¦–å…ˆï¼Œä¸è¦å°†å›¾ç‰‡åœ°å€æ”¾åˆ°srcå±žæ€§ä¸­ï¼Œè€Œæ˜¯æ”¾åˆ°å…¶å®ƒå±žæ€§(data-original)ä¸­ã€‚2)é¡µé¢åŠ è½½å®ŒæˆåŽï¼Œæ ¹æ®scrollTopåˆ¤æ–­å›¾ç‰‡æ˜¯å¦åœ¨ç”¨æˆ·çš„è§†é‡Žå†…ï¼Œå¦‚æžœåœ¨ï¼Œåˆ™å°†data-originalå±žæ€§ä¸­çš„å€¼å–å‡ºå­˜æ”¾åˆ°srcå±žæ€§ä¸­ã€‚3)åœ¨æ»šåŠ¨äº‹ä»¶ä¸­é‡å¤åˆ¤æ–­å›¾ç‰‡æ˜¯å¦è¿›å…¥è§†é‡Žï¼Œå¦‚æžœè¿›å…¥ï¼Œåˆ™å°†data-originalå±žæ€§ä¸­çš„å€¼å–å‡ºå­˜æ”¾åˆ°srcå±žæ€§ä¸­ã€‚ æ‡’åŠ è½½çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆ?é¡µé¢åŠ è½½é€Ÿåº¦å¿«ã€å¯ä»¥å‡è½»æœåŠ¡å™¨çš„åŽ‹åŠ›ã€èŠ‚çº¦äº†æµé‡,ç”¨æˆ·ä½“éªŒå¥½ é¢˜ç›®1ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºçŽ°åœ¨çª—å£å¯è§†èŒƒå›´ï¼ˆæµè§ˆå™¨çš„ä¸Šè¾¹ç¼˜å’Œä¸‹è¾¹ç¼˜ä¹‹é—´ï¼Œè‚‰çœ¼å¯è§†ï¼‰ã€‚å†™ä¸€ä¸ªå‡½æ•° isVisibleå®žçŽ°123456789function isVisible($node)&#123; var scrollTop = $(window).scrollTop(); var windowHeight = $(window).height(); var offsetTop = $(this).offset().top; if (offsetTop &lt; scrollTop + windowHeight &amp;&amp; offsetTop &gt; scrollTop)&#123; return true; &#125; return false;&#125; é¢˜ç›®2ï¼šå½“çª—å£æ»šåŠ¨æ—¶ï¼Œåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯ä¸æ˜¯å‡ºçŽ°åœ¨çª—å£å¯è§†èŒƒå›´ã€‚æ¯æ¬¡å‡ºçŽ°éƒ½åœ¨æŽ§åˆ¶å°æ‰“å° true ã€‚ç”¨ä»£ç å®žçŽ°12345$('div').on('scroll', function()&#123; if(isVisible($this))&#123; console.log(true) &#125;&#125;) é¢˜ç›®3ï¼šå½“çª—å£æ»šåŠ¨æ—¶ï¼Œåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯ä¸æ˜¯å‡ºçŽ°åœ¨çª—å£å¯è§†èŒƒå›´ã€‚åœ¨å…ƒç´ ç¬¬ä¸€æ¬¡å‡ºçŽ°æ—¶åœ¨æŽ§åˆ¶å°æ‰“å° trueï¼Œä»¥åŽå†æ¬¡å‡ºçŽ°ä¸åšä»»ä½•å¤„ç†ã€‚ç”¨ä»£ç å®žçŽ°1234567var flag = true;$('div').on('scroll', function()&#123; if(isVisible($this) &amp;&amp; flag === true)&#123; console.log(true); flag = false; &#125;&#125;) é¢˜ç›®4ï¼š å›¾ç‰‡æ‡’åŠ è½½çš„åŽŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦æ‡’åŠ è½½ï¼ˆå»¶è¿Ÿï¼‰å¯¹äºŽå›¾ç‰‡è¿‡å¤šçš„é¡µé¢ï¼Œä¸ºäº†åŠ é€Ÿé¡µé¢åŠ è½½é€Ÿåº¦ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦å°†é¡µé¢å†…æœªå‡ºçŽ°åœ¨å¯è§†åŒºåŸŸå†…çš„å›¾ç‰‡å…ˆä¸åšåŠ è½½ï¼Œ ç­‰åˆ°æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåŽå†åŽ»åŠ è½½ã€‚è¿™æ ·å­å¯¹äºŽé¡µé¢åŠ è½½æ€§èƒ½ä¸Šä¼šæœ‰å¾ˆå¤§çš„æå‡ï¼Œä¹Ÿæé«˜äº†ç”¨æˆ·ä½“éªŒã€‚ åŽŸç†é¡µé¢ä¸­çš„imgå…ƒç´ ï¼Œå¦‚æžœæ²¡æœ‰srcå±žæ€§ï¼Œæµè§ˆå™¨å°±ä¸ä¼šå‘å‡ºè¯·æ±‚åŽ»ä¸‹è½½å›¾ç‰‡ï¼Œåªæœ‰é€šè¿‡javascriptè®¾ç½®äº†å›¾ç‰‡è·¯å¾„ï¼Œæµè§ˆå™¨æ‰ä¼šå‘é€è¯·æ±‚ã€‚æ‡’åŠ è½½çš„åŽŸç†å°±æ˜¯å…ˆåœ¨é¡µé¢ä¸­æŠŠæ‰€æœ‰çš„å›¾ç‰‡ç»Ÿä¸€ä½¿ç”¨ä¸€å¼ å ä½å›¾è¿›è¡Œå ä½ï¼ŒæŠŠæ­£çœŸçš„è·¯å¾„å­˜åœ¨å…ƒç´ çš„â€œdata-urlâ€ï¼ˆè¿™ä¸ªåå­—èµ·ä¸ªè‡ªå·±è®¤è¯†å¥½è®°çš„å°±è¡Œï¼‰å±žæ€§é‡Œï¼Œè¦ç”¨çš„æ—¶å€™å°±å–å‡ºæ¥ï¼Œå†è®¾ç½®ï¼›1)é¦–å…ˆï¼Œä¸è¦å°†å›¾ç‰‡åœ°å€æ”¾åˆ°srcå±žæ€§ä¸­ï¼Œè€Œæ˜¯æ”¾åˆ°å…¶å®ƒå±žæ€§(data-original)ä¸­ã€‚2)é¡µé¢åŠ è½½å®ŒæˆåŽï¼Œæ ¹æ®scrollTopåˆ¤æ–­å›¾ç‰‡æ˜¯å¦åœ¨ç”¨æˆ·çš„è§†é‡Žå†…ï¼Œå¦‚æžœåœ¨ï¼Œåˆ™å°†data-originalå±žæ€§ä¸­çš„å€¼å–å‡ºå­˜æ”¾åˆ°srcå±žæ€§ä¸­ã€‚3)åœ¨æ»šåŠ¨äº‹ä»¶ä¸­é‡å¤åˆ¤æ–­å›¾ç‰‡æ˜¯å¦è¿›å…¥è§†é‡Žï¼Œå¦‚æžœè¿›å…¥ï¼Œåˆ™å°†data-originalå±žæ€§ä¸­çš„å€¼å–å‡ºå­˜æ”¾åˆ°srcå±žæ€§ä¸­ã€‚ æŽ˜é‡‘æ¯”è¾ƒå®Œç¾Žçš„æ‡’åŠ è½½æ–¹æ¡ˆä¸€ã€å‰è¨€ é€šå¸¸æƒ…å†µä¸‹ï¼ŒHTML ä¸­çš„å›¾ç‰‡èµ„æºä¼šè‡ªä¸Šè€Œä¸‹ä¾æ¬¡åŠ è½½ï¼Œè€Œéƒ¨åˆ†å›¾ç‰‡åªæœ‰åœ¨ç”¨æˆ·å‘ä¸‹æ»šåŠ¨é¡µé¢çš„åœºæ™¯ä¸‹æ‰èƒ½è¢«çœ‹è§ï¼Œå¦åˆ™è¿™éƒ¨åˆ†å›¾ç‰‡çš„æµé‡å°±ç™½ç™½æµªè´¹äº†ã€‚ æ‰€ä»¥ï¼Œå¯¹äºŽé‚£äº›å«æœ‰å¤§é‡å›¾ç‰‡èµ„æºçš„ç½‘ç«™ï¼Œä¼šé‡‡ç”¨â€œæŒ‰éœ€åŠ è½½â€çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯å½“å›¾ç‰‡èµ„æºå‡ºçŽ°åœ¨è§†å£åŒºåŸŸå†…ï¼Œæ‰ä¼šè¢«åŠ è½½ï¼Œè¿™æ ·å¯èƒ½ä¼šå½±å“ä¸€ä¸¢ä¸¢ç”¨æˆ·ä½“éªŒï¼Œä½†æ˜¯èƒ½å¤§å¤§èŠ‚çœç½‘ç«™çš„æµé‡ã€‚ è€Œä¸Šè¿°â€œæŒ‰éœ€åŠ è½½â€çš„æ–¹å¼å°±æ˜¯ä»Šå¤©çš„ä¸»è§’ â€“ å›¾ç‰‡æ‡’åŠ è½½æŠ€æœ¯ äºŒã€åŽŸç† å›¾ç‰‡æ‡’åŠ è½½æŠ€æœ¯ä¸»è¦é€šè¿‡ç›‘å¬å›¾ç‰‡èµ„æºå®¹å™¨æ˜¯å¦å‡ºçŽ°åœ¨è§†å£åŒºåŸŸå†…ï¼Œæ¥å†³å®šå›¾ç‰‡èµ„æºæ˜¯å¦è¢«åŠ è½½ã€‚ é‚£ä¹ˆå®žçŽ°å›¾ç‰‡æ‡’åŠ è½½æŠ€æœ¯çš„æ ¸å¿ƒå°±æ˜¯å¦‚ä½•åˆ¤æ–­å…ƒç´ å¤„äºŽè§†å£åŒºåŸŸä¹‹å†…ã€‚ ä¸‰ã€å‰ä¸– æ—©å‰å®žçŽ°çš„æ€è·¯ï¼š ç»™ç›®æ ‡å…ƒç´ æŒ‡å®šä¸€å¼ å ä½å›¾ï¼Œå°†çœŸå®žçš„å›¾ç‰‡é“¾æŽ¥å­˜å‚¨åœ¨è‡ªå®šä¹‰å±žæ€§ä¸­ï¼Œé€šå¸¸æ˜¯data-srcï¼› ç›‘å¬ä¸Žç”¨æˆ·æ»šåŠ¨è¡Œä¸ºç›¸å…³çš„ scroll äº‹ä»¶ï¼› åœ¨ scroll äº‹ä»¶å¤„ç†ç¨‹åºä¸­åˆ©ç”¨ Element.getBoundingClientRect() æ–¹æ³•åˆ¤æ–­ç›®æ ‡å…ƒç´ ä¸Žè§†å£çš„äº¤å‰çŠ¶æ€ï¼› å½“ç›®æ ‡å…ƒç´ ä¸Žè§†å£çš„äº¤å‰çŠ¶æ€å¤§äºŽ0æ—¶ï¼Œå°†çœŸå®žçš„å›¾ç‰‡é“¾æŽ¥èµ‹ç»™ç›®æ ‡å…ƒç´  src å±žæ€§æˆ–è€… backgroundImage å±žæ€§ã€‚ 1ã€scroll äº‹ä»¶ scroll äº‹ä»¶å¯èƒ½ä¼šè¢«é«˜é¢‘åº¦çš„è§¦å‘ï¼Œè€ŒæŒ‰ç…§ä¸Šè¿°æ€è·¯ï¼Œå¿…ç„¶ä¼šåœ¨ scroll äº‹ä»¶å¤„ç†ç¨‹åºä¸­å‡ºçŽ°å¤§é‡çš„ DOM æ“ä½œï¼Œè¿™å¾ˆå¯èƒ½ä¼šä½¿é¡µé¢ä¸å†â€œå¦‚ä¸èˆ¬é¡ºæ»‘â€ï¼Œè¿™æ—¶å°±éœ€è¦é™ä½Ž DOM æ“ä½œçš„é¢‘çŽ‡ã€‚ é™ä½Ž DOM æ“ä½œçš„é¢‘çŽ‡å¯ä»¥é‡‡ç”¨å‡½æ•°èŠ‚æµçš„æ–¹å¼ï¼Œå‡½æ•°èŠ‚æµèƒ½å¤Ÿç¡®ä¿åœ¨å›ºå®šæ—¶é—´é—´éš”åªæ‰§è¡Œä¸€æ¬¡æ“ä½œã€‚ ä¸Žå‡½æ•°èŠ‚æµç›¸å…³çš„å¦ä¸€ä¸ªæ¦‚å¿µå«åšå‡½æ•°é˜²æŠ–ï¼Œè¿™ä½å…„å¼ŸåŒæ ·ç­‰å¾…ä¸€ä¸ªæ—¶é—´é—´éš”æ‰§è¡Œæ“ä½œï¼Œä½†æ˜¯å®ƒè¢«æ‰“æ–­ä¹‹åŽå°±éœ€è¦é‡æ–°å¼€å§‹è®¡æ—¶ã€‚ è¿™ä¹Ÿæ˜¯æ­¤åœºæ™¯ä¸‹é‡‡ç”¨å‡½æ•°èŠ‚æµçš„åŽŸå› ã€‚åœ¨ JavaScript ä¸­å¯ä»¥é‡‡ç”¨ setTimeout + é—­åŒ…çš„æ–¹å¼å®žçŽ°å‡½æ•°èŠ‚æµï¼š 123456789101112131415161718192021222324function throttle (fn, interval = 500) &#123; let timer = null let firstTime = true return function (...args) &#123; if (firstTime) &#123; // ç¬¬ä¸€æ¬¡åŠ è½½ fn.apply(this, args) return firstTime = false &#125; if (timer) &#123; // å®šæ—¶å™¨æ­£åœ¨æ‰§è¡Œä¸­ï¼Œè·³è¿‡ return &#125; timer = setTimeout(() =&gt; &#123; clearTimeout(timer) timer = null fn.apply(this, args) &#125;, interval) &#125;&#125; é™¤äº†ä¸Šè¿° setTimeout + é—­åŒ…çš„å®žçŽ°æ–¹å¼ï¼Œè¿˜å¯ä»¥é€šè¿‡ window.requestAnimationFrame() æ–¹æ³•å®žçŽ°ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å°è¯•å°è¯•ã€‚ 2ã€getBoundingClientRect()æ–¹æ³• JavaScript æä¾› Element.getBoundingClientRect() æ–¹æ³•è¿”å›žå…ƒç´ çš„å¤§å°ä»¥åŠç›¸å¯¹äºŽè§†å£çš„ä½ç½®ä¿¡æ¯ï¼ŒæŽ¥ä¸‹æ¥ä¼šç”¨åˆ°è¿”å›žå¯¹è±¡çš„å››ä¸ªå±žæ€§ï¼š top å’Œ left æ˜¯ç›®æ ‡å…ƒç´ å·¦ä¸Šè§’åæ ‡ä¸Žç½‘é¡µå·¦ä¸Šè§’åæ ‡çš„åç§»å€¼ï¼› width å’Œ height æ˜¯ç›®æ ‡å…ƒç´ è‡ªèº«çš„å®½åº¦å’Œé«˜åº¦ã€‚ å†ç»“åˆè§†å£çš„é«˜åº¦å’Œå®½åº¦ï¼Œå³å¯åˆ¤æ–­å…ƒç´ æ˜¯å¦å‡ºçŽ°åœ¨è§†å£åŒºåŸŸå†…ï¼š 1234567891011function isElementInViewport (el) &#123; const &#123; top, height, left, width &#125; = el.getBoundingClientRect() const w = window.innerWidth || document.documentElement.clientWidth const h = window.innerHeight || document.documentElement.clientHeight return ( top &lt;= h &amp;&amp; (top + height) &gt;= 0 &amp;&amp; left &lt;= w &amp;&amp; (left + width) &gt;= 0 )&#125; 3ã€å®žçŽ° æŽ¥ä¸‹æ¥åœ¨å®žçŽ°å›¾ç‰‡æ‡’åŠ è½½çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€äº›å°é—®é¢˜ï¼š scroll äº‹ä»¶åªæœ‰åœ¨æ»šåŠ¨è¡Œä¸ºå‘ç”Ÿæ—¶ï¼Œæ‰ä¼šè¢«è§¦å‘ï¼Œè¿™é‡Œéœ€è¦æ‰‹åŠ¨åŠ è½½ä¸€æ¬¡é¦–å±çš„å›¾ç‰‡ï¼› åˆ©ç”¨ addEventListener æ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºæ—¶ï¼Œéœ€è¦ä¿å­˜äº‹ä»¶å¤„ç†ç¨‹åºçš„å¼•ç”¨ï¼Œä»¥ä¾¿é”€æ¯æ³¨å†Œçš„äº‹ä»¶ç¨‹åºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556function LazyLoad (el, options) &#123; if (!(this instanceof LazyLoad)) &#123; return new LazyLoad(el) &#125; this.setting = Object.assign(&#123;&#125;, &#123; src: 'data-src', srcset: 'data-srcset', selector: '.lazyload' &#125;, options) if (typeof el === 'string') &#123; el = document.querySelectorAll(el) &#125; this.images = Array.from(el) this.listener = this.loadImage() this.listener() this.initEvent()&#125;LazyLoad.prototype = &#123; loadImage () &#123; return throttle(function () &#123; let startIndex = 0 while (startIndex &lt; this.images.length) &#123; const image = this.images[startIndex] if (isElementInViewport(image)) &#123; const src = image.getAttribute(this.setting.src) const srcset = image.getAttribute(this.setting.srcset) if (image.tagName.toLowerCase() === 'img') &#123; if (src) &#123; image.src = src &#125; if (srcset) &#123; image.srcset = srcset &#125; &#125; else &#123; image.style.backgroundImage = `url($&#123;src&#125;)` &#125; this.images.splice(startIndex, 1) continue &#125; startIndex++ &#125; if (!this.images.length) &#123; this.destroy() &#125; &#125;).bind(this) &#125;, initEvent () &#123; window.addEventListener('scroll', this.listener, false) &#125;, destroy () &#123; window.removeEventListener('scroll', this.listener, false) this.images = null this.listener = null &#125;&#125; å››ã€ä»Šç”Ÿ å¦‚ä»Šï¼ŒWebä¸ºå¼€å‘è€…æä¾›äº† IntersectionObserver æŽ¥å£ï¼Œå®ƒå¯ä»¥å¼‚æ­¥ç›‘å¬ç›®æ ‡å…ƒç´ ä¸Žå…¶ç¥–å…ˆæˆ–è§†çª—çš„äº¤å‰çŠ¶æ€ï¼Œæ³¨æ„è¿™ä¸ªæŽ¥å£æ˜¯å¼‚æ­¥çš„ï¼Œå®ƒä¸éšç€ç›®æ ‡å…ƒç´ çš„æ»šåŠ¨åŒæ­¥è§¦å‘ï¼Œæ‰€ä»¥å®ƒå¹¶ä¸ä¼šå½±å“é¡µé¢çš„æ»šåŠ¨æ€§èƒ½ã€‚ IntersectionObserver æž„é€ å‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå›žè°ƒå‡½æ•°ä»¥åŠé…ç½®é¡¹ã€‚ 1ã€é…ç½®é¡¹ é…ç½®é¡¹ä¸­çš„å‚æ•°æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼š rootï¼šæ‰€ç›‘å¬å¯¹è±¡çš„å…·ä½“ç¥–å…ˆå…ƒç´ ï¼Œé»˜è®¤æ˜¯ viewport ï¼› rootMarginï¼šè®¡ç®—äº¤å‰çŠ¶æ€æ—¶ï¼Œå°† margin é™„åŠ åˆ°ç¥–å…ˆå…ƒç´ ä¸Šï¼Œä»Žè€Œæœ‰æ•ˆçš„æ‰©å¤§æˆ–è€…ç¼©å°ç¥–å…ˆå…ƒç´ åˆ¤å®šåŒºåŸŸï¼› thresholdï¼šè®¾ç½®ä¸€ç³»åˆ—çš„é˜ˆå€¼ï¼Œå½“äº¤å‰çŠ¶æ€è¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œä¼šè§¦å‘å›žè°ƒå‡½æ•°ã€‚ 2ã€å›žè°ƒå‡½æ•° IntersectionObserver å®žä¾‹æ‰§è¡Œå›žè°ƒå‡½æ•°æ—¶ï¼Œä¼šä¼ é€’ä¸€ä¸ªåŒ…å« IntersectionObserverEntry å¯¹è±¡çš„æ•°ç»„ï¼Œè¯¥å¯¹è±¡ä¸€å…±æœ‰ä¸ƒå¤§å±žæ€§ï¼š timeï¼šè¿”å›žä¸€ä¸ªè®°å½•ä»Ž IntersectionObserver çš„æ—¶é—´åŽŸç‚¹åˆ°äº¤å‰è¢«è§¦å‘çš„æ—¶é—´çš„æ—¶é—´æˆ³ï¼› targetï¼šç›®æ ‡å…ƒç´ ï¼› rootBoundsï¼šç¥–å…ˆå…ƒç´ çš„çŸ©å½¢åŒºåŸŸä¿¡æ¯ï¼› boundingClientRectï¼šç›®æ ‡å…ƒç´ çš„çŸ©å½¢åŒºåŸŸä¿¡æ¯ï¼Œä¸Žå‰é¢æåˆ°çš„ Element.getBoundingClientRect() æ–¹æ³•æ•ˆæžœä¸€è‡´ï¼› intersectionRectï¼šç¥–å…ˆå…ƒç´ ä¸Žç›®æ ‡å…ƒç´ ç›¸äº¤åŒºåŸŸä¿¡æ¯ï¼› intersectionRatioï¼šè¿”å›žintersectionRect ä¸Ž boundingClientRect çš„æ¯”ä¾‹å€¼ï¼› isIntersectingï¼šç›®æ ‡å…ƒç´ æ˜¯å¦ä¸Žç¥–å…ˆå…ƒç´ ç›¸äº¤ã€‚ 3ã€å®žçŽ° åœ¨æ­¤ä¹‹å‰ï¼Œè¿˜éœ€è¦äº†è§£ IntersectionObserver å®žä¾‹æ–¹æ³•ï¼š observeï¼šå¼€å§‹ç›‘å¬ä¸€ä¸ªç›®æ ‡å…ƒç´ ï¼› unobserveï¼šåœæ­¢ç›‘å¬ç‰¹å®šçš„å…ƒç´ ï¼› disconnectï¼šä½¿ IntersectionObserver å¯¹è±¡åœæ­¢ç›‘å¬å·¥ä½œï¼› takeRecordsï¼šä¸ºæ‰€æœ‰ç›‘å¬ç›®æ ‡è¿”å›žä¸€ä¸ª IntersectionObserverEntry å¯¹è±¡æ•°ç»„å¹¶ä¸”åœæ­¢ç›‘å¬è¿™äº›ç›®æ ‡ã€‚ ä»¥ä¸‹ä¸ºå®žçŽ°ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041function LazyLoad (images, options = &#123;&#125;) &#123; if (!(this instanceof LazyLoad)) &#123; return new LazyLoad(images, options) &#125; this.setting = Object.assign(&#123;&#125;, &#123; src: 'data-src', srcset: 'data-srcset', selector: '.lazyload' &#125;, options) this.images = images || document.querySelectorAll(this.setting.selector) this.observer = null this.init()&#125;LazyLoad.prototype.init = function () &#123; let self = this let observerConfig = &#123; root: null, rootMargin: '0px', threshold: [0] &#125; this.observer = new IntersectionObserver(entries =&gt; &#123; entries.forEach(entry =&gt; &#123; const target = entry.target if (entry.intersectionRatio &gt; 0) &#123; this.observer.unobserve(target) const src = target.getAttribute(this.setting.src) const srcset = target.getAttribute(this.setting.srcset) if ('img' === target.tagName.toLowerCase()) &#123; if (src) &#123; target.src = src &#125; if (srcset) &#123; target.srcset = srcset &#125; &#125; else &#123; target.style.backgroundImage = `url($&#123;src&#125;)` &#125; &#125; &#125;) &#125;, observerConfig) this.images.forEach(image =&gt; this.observer.observe(image))&#125;å¤åˆ¶ä»£ç  äº”ã€æ€»ç»“ åˆ°æ­¤ï¼Œå®žçŽ°å›¾ç‰‡æ‡’åŠ è½½ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š ç›‘å¬ scroll äº‹ä»¶ï¼Œé€šè¿‡ getBoundingClientRect() è®¡ç®—ç›®æ ‡å…ƒç´ ä¸Žè§†å£çš„äº¤å‰çŠ¶æ€ï¼› IntersectionObserver æŽ¥å£ã€‚ ç¬¬äºŒç§æ–¹æ³•æ›´åŠ çœå¿ƒï¼Œåˆ°ç›®å‰ä¸ºæ­¢å…¼å®¹æ€§ä¹Ÿè¿˜è¡Œï¼ˆè¿™ä¸€å¥æè¿°ä¸å¤ªæ°å½“ï¼Œå¦‚æžœæƒ³æ„‰å¿«åœ°ä½¿ç”¨è¯¥APIï¼Œå¯ä»¥é‡‡ç”¨polyfillçš„æ–¹å¼w3c IntersectionObserver polyfillï¼Œæ„Ÿè°¢ juejinå‘¨è¾‰ æŒ‡æ­£ï¼‰ï¼š ç›¸æ¯”è¾ƒä¸‹ï¼Œç¬¬ä¸€ç§æ–¹æ³•éœ€è¦ä»Žå„ä¸ªæ–¹é¢åŽ»ä¼˜åŒ– scroll äº‹ä»¶ï¼Œä»Žè€Œè¾¾åˆ°é¡µé¢æ»šåŠ¨â€œå¦‚ä¸èˆ¬é¡ºæ»‘â€çš„æ•ˆæžœã€‚ æœ€åŽï¼Œæ”¾ä¸Šä¸¤ç¯‡å…³äºŽæ»šåŠ¨ä¼˜åŒ–çš„æ–‡ç« ã€‚ ç™¾åº¦å¤–å–å‰ç«¯ â€“ å¦‚ä½•ä¸æ‹©æ‰‹æ®µæå‡scrolläº‹ä»¶çš„æ€§èƒ½ é«˜æ€§èƒ½æ»šåŠ¨ scroll åŠé¡µé¢æ¸²æŸ“ä¼˜åŒ–]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>image</tag>
        <tag>æ‡’åŠ è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®Œå–„çš„è¾“å…¥æ¡†ç›‘å¬æ–¹æ¡ˆ]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E5%AE%8C%E5%96%84%E7%9A%84%E8%BE%93%E5%85%A5%E6%A1%86%E7%9B%91%E5%90%AC%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[æ–‡ç« åˆ†äº«äº†ï¼Œå¦‚ä½•ä¸€æ­¥æ­¥ä¼˜åŒ–è¾“å…¥æ¡†çš„ç›‘å¬äº‹ä»¶ï¼Œä»¥è¾¾åˆ°å…¼å®¹ã€é«˜æ•ˆå’Œç»„åˆè¾“å…¥å‹å¥½ç­‰ç›®æ ‡ã€‚ å®Œå–„çš„è¾“å…¥æ¡†ç›‘å¬æ–¹æ¡ˆkeyupç›‘å¬è¾“å…¥æ¡†çš„è¾“å…¥ï¼Œæœ€åŽŸå§‹çš„æ–¹æ³•æ˜¯ä½¿ç”¨keyupäº‹ä»¶ã€‚ä¸ä½¿ç”¨changeäº‹ä»¶ï¼Œå®ƒåªä¼šåœ¨è¾“å…¥æ¡†å¤±åŽ»ç„¦ç‚¹åŽè¢«è§¦å‘ã€‚æ­¤æ–¹å¼å…¼å®¹æ€§å¹¿ï¼Œä½†æ•ˆçŽ‡è¾ƒä½Žï¼Œæ¯•ç«Ÿä»»æ„çš„æŒ‰é”®éƒ½ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚ 12345678&lt;input id=&quot;input&quot; type=&quot;text&quot; /&gt;&lt;script&gt; document.querySelector(&apos;#input&apos;) .addEventListener(&apos;keyup&apos;, function() &#123; console.log(&apos;value:&apos;, this.value); &#125;);&lt;/script&gt; inputæˆ‘ä»¬åªå¸Œæœ›å½“å€¼å‘ç”Ÿå˜åŒ–åŽå†è§¦å‘ç›‘å¬ï¼Œè¿™æ ·ï¼Œinputäº‹ä»¶å‡ºçŽ°äº†ã€‚å®ƒåªä¼šåœ¨è¾“å…¥æ¡†çš„å€¼å‘ç”Ÿå˜åŒ–åŽè¢«è§¦å‘ï¼Œä¸è¿‡IE8åŠä»¥ä¸‹ä¸æ”¯æŒè¯¥äº‹ä»¶ã€‚ ç½‘ä¸Šå¾ˆå¤šäººä½¿ç”¨IEç‹¬æœ‰çš„propertychangeäº‹ä»¶ï¼Œä½œä¸ºæ›¿ä»£inputçš„æ–¹æ¡ˆï¼Œè¿™é‡Œä¸æŽ¨èã€‚ä¸€æ–¹é¢å®ƒä¼šåœ¨ä»»æ„å±žæ€§å€¼å˜åŒ–åŽè¢«è§¦å‘ï¼Œæ²¡æœ‰ä¸“ä¸€æ€§ï¼Œä¸å¤Ÿè¯­ä¹‰ï¼Œæ¯”è¾ƒæµªè´¹ã€‚äºŒæ–¹é¢ç½‘ä¸Šéƒ½æ˜¯ç”¨jQueryç­‰å·¥å…·åº“æ“ä½œï¼Œæ¯”è¾ƒç®€å•ï¼Œè€Œæˆ‘ä»¬çš„ç›®çš„æ˜¯ç”¨åŽŸç”Ÿä»£ç å®žçŽ°ã€‚ä¸‰æ–¹é¢æ˜¯ä¸æ”¯æŒinputäº‹ä»¶çš„æµè§ˆå™¨å·²ç»å¾ˆå°‘äº†ï¼Œç¡¬ç¢°ä¸Šäº†å°±ç”¨keyupå¯¹ä»˜ã€‚ 12345678&lt;input id=&quot;input&quot; type=&quot;text&quot; /&gt;&lt;script&gt; document.querySelector(&apos;#input&apos;) .addEventListener(&apos;input&apos;, function() &#123; console.log(&apos;value:&apos;, this.value); &#125;);&lt;/script&gt; æŽ¥ç€ä¸Šæ­¥ï¼Œå¦‚ä½•åœ¨ä¸æ”¯æŒinputäº‹ä»¶æ—¶ä½¿ç”¨keyupäº‹ä»¶å‘¢ï¼Ÿç›´æŽ¥æ£€æµ‹äº‹ä»¶ä¸å¤ªé è°±ï¼Œå¯ä»¥åˆ©ç”¨inputåœ¨keyupä¹‹å‰å‘ç”Ÿçš„æ€§è´¨ï¼Œå·§å¦™çš„å®žçŽ°æ­¤åŠŸèƒ½ã€‚ 123456789101112131415161718&lt;input id=&quot;input&quot; type=&quot;text&quot; /&gt;&lt;script&gt; let inInputEvent = false; let input = document.querySelector(&apos;#input&apos;); input.addEventListener(&apos;keyup&apos;, function() &#123; if (inInputEvent) &#123; // You can remove keyup listener. &#125; else &#123; console.log(&apos;keyup:&apos;, this.value); &#125; &#125;); input.addEventListener(&apos;input&apos;, function() &#123; if (!inInputEvent) inInputEvent = true; console.log(&apos;input:&apos;, this.value); &#125;);&lt;/script&gt; å»¶è¿Ÿå‡½æ•°åœ¨æœç´¢åŠŸèƒ½ä¸­ï¼Œç†æƒ³åŒ–çš„æƒ…æ™¯æ˜¯å½“ç”¨æˆ·å…¨éƒ¨è¾“å…¥åŽï¼Œå†ç«‹å³æ‰§è¡Œæœç´¢ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•åœ¨ä¸éœ€è¦ç”¨æˆ·ç‚¹å‡»æœç´¢æŒ‰é’®çš„æƒ…å†µä¸‹ï¼Œå¾—çŸ¥å…¶è¿‡ç¨‹çš„å®Œæˆå‘¢ï¼Ÿæ²¡æœ‰åŠžæ³•ã€‚è™½ç„¶æ²¡æœ‰åŠžæ³•ï¼Œä½†æœ‰ä¼˜åŒ–çš„æ–¹å¼ï¼šå‡å®šç”¨æˆ·æ¯ä¸ªå•è¯çš„è¾“å…¥é—´éš”ï¼Œä»¥æ­¤æ—¶é—´å»¶è¿Ÿæ‰§è¡Œæœç´¢åŠŸèƒ½ã€‚ 12345678910111213141516171819202122è‹±æ–‡ä¸€èˆ¬ä¸º 300ms ï¼Œä¸­æ–‡å¯è®¾ç½®æˆ 500ms ã€‚&lt;input id=&quot;input&quot; type=&quot;text&quot; /&gt;&lt;script&gt; let input = document.querySelector(&apos;#input&apos;); let trigger = createDelayFunction(console.log); input.addEventListener(&apos;input&apos;, function() &#123; trigger(this.value); &#125;); function createDelayFunction(fn, timeout = 300) &#123; let timeoutId = -1; return (...args) =&gt; &#123; clearTimeout(timeoutId); timeoutId = setTimeout(() =&gt; &#123; fn.apply(null, args); &#125;, timeout); &#125; &#125;&lt;/script&gt; compositionä¸­æ–‡ã€æ—¥æ–‡ç­‰éœ€è¦å€ŸåŠ©è¾“å…¥æ³•ç»„åˆè¾“å…¥ï¼Œå³ä¾¿æ˜¯è‹±æ–‡ï¼ŒçŽ°åœ¨ä¹Ÿå¯å€ŸåŠ©ç»„åˆè¾“å…¥è¿›è¡Œé€‰è¯ç­‰ã€‚å®žé™…ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ç”¨æˆ·ç»„åˆè¾“å…¥å®Œçš„ä¸€æ®µæ–‡å­—ï¼Œè€Œä¸æ˜¯æ¯è¾“å…¥ä¸€ä¸ªå­—æ¯ï¼Œç®—åšä¸€æ¬¡è¾“å…¥çš„å®Œæˆã€‚ ç»„åˆè¾“å…¥äº‹ä»¶åº”è¿è€Œç”Ÿï¼Œå¸¸ç”¨çš„æ˜¯compositionstartï¼ˆç»„è¾“å¼€å§‹ï¼‰å’Œcompositionendï¼ˆç»„è¾“ç»“æŸï¼‰äº‹ä»¶ã€‚ç»“åˆç»„åˆäº‹ä»¶ä¸ç›‘å¬æ™®é€šçš„è¾“å…¥ï¼Œä»¥åŠcompositionstartå‘ç”Ÿåœ¨inputäº‹ä»¶ä¹‹å‰ï¼Œå¯ä»¥å¦‚æ­¤ä¼˜åŒ–ä¸­æ–‡è¾“å…¥ã€‚ 1234567891011121314151617&lt;input id=&quot;input&quot; type=&quot;text&quot; /&gt;&lt;script&gt; let inCompositionEvent = false; let input = document.querySelector(&apos;#input&apos;); input.addEventListener(&apos;input&apos;, function() &#123; !inCompositionEvent &amp;&amp; console.log(&apos;input&apos;, this.value); &#125;); input.addEventListener(&apos;compositionstart&apos;, function() &#123; inCompositionEvent = true; &#125;); input.addEventListener(&apos;compositionend&apos;, function() &#123; inCompositionEvent = false; console.log(&apos;composition&apos;, this.value); &#125;);&lt;/script&gt; ç»“åˆæœ€åŽæ˜¯ç»“åˆä»¥ä¸Šå‡ æ­¥ç”Ÿæˆä¸€ä¸ªèžåˆæ–¹æ³•ï¼Œä»£ç åŠ ç¤ºä¾‹ï¼šåœ°å€ã€‚ é‡Œé¢è¿˜åšäº†äº›å¢žå¼ºï¼šæ¯”å¦‚ç›‘å¬å‡½æ•°è¿”å›žçš„æ˜¯ä¸€ä¸ªï¼Œç§»é™¤è¿™ä¸€æ­¥æ‰€åŠ çš„æ‰€æœ‰äº‹ä»¶çš„æ–¹æ³•ã€‚æ¯”å¦‚é…ç½®æ˜¯å¦ç›‘å¬ç»„åˆè¾“å…¥äº‹ä»¶ï¼Œå› ä¸ºå¥½çš„æœç´¢æ¡†ä¼šç›´æŽ¥æ ¹æ®æ‹¼éŸ³å¼€å§‹æœç´¢ï¼Œæ— éœ€ç­‰åˆ°æ±‰å­—çš„å½¢æˆã€‚ ä»£ç ä½¿ç”¨ES6è¯­æ³•ï¼Œéœ€ä½¿ç”¨æ”¯æŒES6çš„æµè§ˆå™¨ï¼ˆChromeæœ€æ–°ç‰ˆï¼‰æˆ–è½¬ç åŽæ‰èƒ½ä½¿ç”¨ï¼Œè°…è§£ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768function listenInput(dom, callback, &#123; timeout = 300, useCompositionEvent = true&#125; = &#123;&#125;) &#123; let value = &apos;&apos;; let inInputEvent = false; let inCompositionEvent = false; let trigger = createDelayFunction(valueChanged, timeout); // Return a function that can remove listeners added here. return enabledEvent(dom); function valueChanged(val) &#123; if (val === value) &#123; return ; &#125; else &#123; value = val; &#125; callback(value, &#123; dom: dom &#125;); &#125; function enabledEvent(dom) &#123; dom.addEventListener(&apos;keyup&apos;, keyup); dom.addEventListener(&apos;input&apos;, input); useCompositionEvent &amp;&amp; dom.addEventListener(&apos;compositionstart&apos;, compositionstart); useCompositionEvent &amp;&amp; dom.addEventListener(&apos;compositionend&apos;, compositionend); return function() &#123; dom.removeEventListener(&apos;keyup&apos;, keyup); dom.removeEventListener(&apos;input&apos;, input); useCompositionEvent &amp;&amp; dom.removeEventListener(&apos;compositionstart&apos;, compositionstart); useCompositionEvent &amp;&amp; dom.removeEventListener(&apos;compositionend&apos;, compositionend); &#125;; function keyup() &#123; if (inInputEvent) &#123; dom.removeEventListener(&apos;keyup&apos;, keyup); &#125; else &#123; trigger(this.value); &#125; &#125; function input() &#123; if (!inInputEvent) inInputEvent = true; if (!inCompositionEvent) trigger(this.value); &#125; function compositionstart() &#123; inCompositionEvent = true; &#125; function compositionend() &#123; inCompositionEvent = false; trigger(this.value); &#125; &#125;&#125;function createDelayFunction(fn, timeout = 300) &#123; let timeoutId = -1; return (...args) =&gt; &#123; clearTimeout(timeoutId); timeoutId = setTimeout(() =&gt; &#123; fn.apply(null, args); &#125;, timeout); &#125;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>HTML</tag>
        <tag>input</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŽ»é‡è®¡æ•°]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E5%8E%BB%E9%87%8D%E8%AE%A1%E6%95%B0%2F</url>
    <content type="text"><![CDATA[æ™®é€šåŒå¾ªçŽ¯åŽ»é‡12345678910function unique(arr)&#123; for(var i = 0;i&lt;arr.length;i++)&#123; for(var j=i+1;j&lt;arr.length;j++)&#123; if(arr[i]===arr[j])&#123; arr.splice(j,1); j-- &#125; &#125; &#125;&#125; åŽ»é‡çš„å¤šç§æ–¹æ³• æ•°ç»„å¯¹è±¡åŽ»é‡å¹¶ä¸”å¢žåŠ ç›¸åŒIDæ•°é‡(è´­ç‰©è½¦ç´¯ç§¯æ·»åŠ åŠŸèƒ½)123456789101112let usedCart = [&#123;id: 4, number: 2, data: &#123;&#125;&#125;, &#123;id: 4, number: 25, data: &#123;&#125;&#125;, &#123;id: 5, number: 2, data: &#123;&#125;&#125;,]for (let i = 0; i &lt; usedCart.length; i++) &#123; for (let j = i + 1; j &lt; usedCart.length; j++) &#123; if (usedCart[i].id === usedCart[j].id) &#123; usedCart[i].number += usedCart[j].number usedCart.splice(j, 1); j = j - 1; // å…³é”®ï¼Œå› ä¸ºsplice()åˆ é™¤å…ƒç´ ä¹‹åŽï¼Œä¼šä½¿å¾—æ•°ç»„é•¿åº¦å‡å°ï¼Œæ­¤æ—¶å¦‚æžœæ²¡æœ‰j=j-1çš„è¯ï¼Œä¼šå¯¼è‡´ç›¸åŒidé¡¹åœ¨é‡å¤ä¸¤æ¬¡ä»¥ä¸Šä¹‹åŽæ— æ³•è¿›è¡ŒåŽ»é‡ï¼Œä¸”ä¼šé”™è¯¯åˆ é™¤idæ²¡æœ‰é‡å¤çš„é¡¹ã€‚ &#125; &#125;&#125;console.log(usedCart)//[ &#123; id: 4, number: 27, data: &#123;&#125; &#125;,&#123; id: 5, number: 2, data: &#123;&#125; &#125; ] ES6åŽ»é‡è®¡æ•°æ–¹æ³•123456789101112131415161718192021var arr = [1, 2, 3, 1, 2, 4];function arrayCnt(arr) &#123; var newArr = []; //ä½¿ç”¨setè¿›è¡Œæ•°ç»„åŽ»é‡ newArr = [...new Set(arr)]; var newarr2 = new Array(newArr.length); for(var t = 0; t &lt; newarr2.length; t++) &#123; newarr2[t] = 0; &#125; for(var p = 0; p &lt; newArr.length; p++) &#123; for(var j = 0; j &lt; arr.length; j++) &#123; if(newArr[p] == arr[j]) &#123; newarr2[p]++; &#125; &#125; &#125; for(var m = 0; m &lt; newArr.length; m++) &#123; console.log(newArr[m] + "é‡å¤çš„æ¬¡æ•°ä¸ºï¼š" + newarr2[m]); &#125;&#125;arrayCnt(arr); ES5åŽ»é‡è®¡æ•°æ–¹æ³•123456789101112131415161718192021222324var arr = [1, 2, 3, 1, 2, 4]; function arrayCnt(arr) &#123; var newArr = []; for(var i = 0; i &lt; arr.length; i++) &#123; if(newArr.indexOf(arr[i]) == -1) &#123; newArr.push(arr[i]) &#125; &#125; var newarr2 = new Array(newArr.length); for(var t = 0; t &lt; newarr2.length; t++) &#123; newarr2[t] = 0; &#125; for(var p = 0; p &lt; newArr.length; p++) &#123; for(var j = 0; j &lt; arr.length; j++) &#123; if(newArr[p] == arr[j]) &#123; newarr2[p]++; &#125; &#125; &#125; for(var m = 0; m &lt; newArr.length; m++) &#123; console.log(newArr[m] + "é‡å¤çš„æ¬¡æ•°ä¸ºï¼š" + newarr2[m]); &#125; &#125; arrayCnt(arr); æ•°ç»„å¯¹è±¡æ ¼å¼åŽ»é‡12345678910111213141516function arrayCnt(data) &#123; var arr = []; for (let val of data) &#123; arr.push(val.id) &#125; console.log(arr) var newArr = []; var newArr2 = []; for (let i= 0; i &lt; arr.length; i++) &#123; if (newArr.indexOf(arr[i]) === -1) &#123; newArr.push(arr[i]); newArr2.push(data[i]); &#125; &#125; return newArr2&#125; reduceåŽ»é‡æ ‡è®°12345678910111213141516let data = [ &#123; id: 201801, name: 'å¼ ä¸‰', age: 15, &#125;, &#123; id: 201804, name: 'John', age: 18, &#125;, &#123; id: 201802, name: 'æŽå››', age: 18, &#125;, &#123; id: 201801, name: 'å¼ ä¸‰', age: 15, &#125;, &#123; id: 201805, name: 'Jack', age: 18, &#125;, &#123; id: 201803, name: 'çŽ‹äº”', age: 10, &#125;, &#123; id: 201805, name: 'Jack', age: 18, &#125;, &#123; id: 201804, name: 'John', age: 18, &#125;, &#123; id: 201805, name: 'Jack', age: 18, &#125;, ];let hash = &#123;&#125;; data = data.reduce((preVal, curVal) =&gt; &#123; hash[curVal.id] ? '' : hash[curVal.id] = true &amp;&amp; preVal.push(curVal); return preVal &#125;, []) reduceå®žçŽ°åŽŸç†]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>åŽ»é‡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŽŸåž‹é“¾]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E5%8E%9F%E5%9E%8B%E9%93%BE%2F</url>
    <content type="text"><![CDATA[åŽŸåž‹é“¾æ ¸å¿ƒæ¦‚å¿µå°±æ˜¯ åˆ©ç”¨åŽŸåž‹è®©ä¸€ä¸ªå¼•ç”¨ç±»åž‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»åž‹çš„å±žæ€§å’Œæ–¹æ³• 12345678910function Person(nick, age)&#123; this.nick = nick; this.age = age;&#125;Person.prototype.sayName = function()&#123; console.log(this.nick);&#125;var p1 = new Person();p1.sayName(); å¤§æ¦‚è¿‡ç¨‹æ˜¯è¿™æ ·çš„ è®°å½“å‰å¯¹è±¡ä¸ºobjï¼ŒæŸ¥æ‰¾objå±žæ€§ã€æ–¹æ³•ï¼Œæ‰¾åˆ°åŽè¿”å›ž æ²¡æœ‰æ‰¾åˆ°ï¼Œé€šè¿‡objçš„protoå±žæ€§ï¼Œæ‰¾åˆ°å…¶ç±»åž‹Arrayçš„prototypeå±žæ€§ï¼ˆè®°ä¸ºpropï¼‰ç»§ç»­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°åŽè¿”å›ž æ²¡æœ‰æ‰¾åˆ°ï¼ŒæŠŠpropè®°ä¸ºobjåšé€’å½’é‡å¤æ­¥éª¤ä¸€ï¼Œé€šè¿‡ç±»ä¼¼æ–¹æ³•æ‰¾åˆ°propçš„ç±»åž‹Objectçš„ prototypeè¿›è¡ŒæŸ¥æ‰¾ï¼Œæ‰¾åˆ°è¿”å›ž ç†ä¸€ç†åŽŸåž‹é“¾åœ¨Javascriptä¸­ï¼Œå¤§è‡´å­˜åœ¨ä¸¤ç§å¯¹è±¡ï¼šæ™®é€šå¯¹è±¡å’Œå‡½æ•°å¯¹è±¡ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œé€šè¿‡new Function()åˆ›å»ºçš„å¯¹è±¡æ˜¯å‡½æ•°å¯¹è±¡ï¼Œå…¶ä»–çš„æ˜¯å‡½æ•°å¯¹è±¡ã€‚ 123456// afunction func1() &#123;&#125;// bvar func2 = function() &#123;&#125;// cvar func3 = new Function() aå’Œbåœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒJSä¼šè‡ªåŠ¨é€šè¿‡new Function()æ¥åˆ›å»ºå¯¹è±¡ï¼Œæ‰€ä»¥aï¼Œbï¼Œcéƒ½æ˜¯é€šè¿‡new Function()åˆ›é€ çš„å‡½æ•°å¯¹è±¡ã€‚ 123456// o1var o1 = &#123;&#125;// o2var o2 = new Object();// o3var o3 = new func1(); o1, o2æ˜¯ä½¿ç”¨å¯¹è±¡å­—é¢é‡çš„å½¢å¼åˆ›å»ºçš„æ™®é€šå¯¹è±¡ã€‚o3ä¸æ˜¯é€šè¿‡new Function()çš„å½¢å¼åˆ›å»ºçš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯æ™®é€šå¯¹è±¡ã€‚ æ¯å½“åˆ›å»ºå‡½æ•°å¯¹è±¡æ—¶ï¼Œè¯¥å¯¹è±¡ä¸­éƒ½ä¼šå†…ç½®ä¸€äº›å±žæ€§ï¼Œå…¶ä¸­åŒ…æ‹¬prototypeå’Œ[object Object]ã€‚prototypeå³ä¸ºåŽŸåž‹å¯¹è±¡å…¶å†…è®°å½•ç€å‡½æ•°å¯¹è±¡çš„ä¸€äº›å±žæ€§å’Œæ–¹æ³•ã€‚ 1234function f1() &#123;&#125;f1.prototype.foo = "bar";console.log(f1.prototype); // Object &#123;foo: "bar", constructor: function&#125;console.log(f1.foo); // undefined prototypeå¯¹f1ä¸å¯è§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œf1åœ¨è°ƒç”¨è‡ªèº«å±žæ€§æˆ–æ–¹æ³•æ—¶ä¸ä¼šæŸ¥æ‰¾prototypeå†…çš„å±žæ€§å’Œæ–¹æ³•ã€‚prototypeçš„ä¸»è¦ä½œç”¨æ˜¯ç»§æ‰¿ã€‚prototypeå†…å®šä¹‰çš„å±žæ€§å’Œæ–¹æ³•éƒ½æ˜¯ç•™ç»™è‡ªå·±çš„åŽä»£ä½¿ç”¨çš„ã€‚è¯´åˆ°åŽä»£ï¼Œå°±å¿…é¡»è¯´è¯´jsä¸­çš„åŽŸåž‹é“¾ã€‚æ­¤æ—¶ï¼Œå¦ä¸€ä¸ªå±žæ€§[object Object]å°±ç™»åœºäº†ã€‚[object Object]çš„ä½œç”¨æ˜¯ä¿ç•™çˆ¶ç±»çš„prototypeå¯¹è±¡ã€‚jsåœ¨ä½¿ç”¨newè¡¨è¾¾å¼åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¼šå°†çˆ¶ç±»çš„prototypeèµ‹å€¼ç»™æ–°å¯¹è±¡çš„[object Object]ï¼ˆä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼šæ–°å®žä¾‹çš„ [object Object]å±žæ€§æŒ‡å‘äº†çˆ¶ç±»çš„ prototypeï¼‰ã€‚è¿™æ ·å°±å½¢æˆäº†ä»£ä»£ç»§æ‰¿ã€‚ é‚£ä¹ˆf1çš„prototypeçš„protoåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ 12console.log(f1.prototype.__proto__ == Object.prototype); // trueconsole.log(Object.prototype.__proto__); // null å¯ä»¥çœ‹å‡ºï¼Œf1çš„prototypeçš„[object Object]æŒ‡å‘äº†Objectçš„prototypeï¼Œè€ŒObjectçš„prototypeçš„[object Object]ä¸ºnullã€‚ æ€»ç»“ï¼š åŽŸåž‹é“¾çœŸæ­£çš„å½¢æˆé çš„æ˜¯[object Object]è€Œéžprototypeã€‚jsåœ¨æ‰§è¡Œå¯¹è±¡æ–¹æ³•æ—¶ä¼šæŸ¥æ‰¾å¯¹è±¡è‡ªèº«æ˜¯å¦æœ‰è¯¥æ–¹æ³•ï¼Œå¦‚æžœä¸å­˜åœ¨ï¼Œä¼šåœ¨åŽŸåž‹é“¾ä¸Šæ‰¾è€Œä¸ä¼šåœ¨è‡ªèº«çš„prototypeä¸Šæ‰¾ã€‚ å¦‚æžœ[object Object]æ”¹å˜åˆ™æ•´æ¡åŽŸåž‹é“¾éƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œç­‰äºŽæ”¹å˜äº†å¯¹è±¡çš„æ•°æ®ç±»åž‹ã€‚ å‡½æ•°çš„prototypeä¸å±žäºŽè‡ªèº«çš„åŽŸåž‹é“¾ã€‚ åœ¨åŽŸåž‹å¯¹è±¡(prototype)ä¸Šå®šä¹‰æ–¹æ³•å’Œå±žæ€§æ˜¯ä¸ºäº†è¢«å­ç±»ç»§æ‰¿å’Œè°ƒç”¨ã€‚ å‚è€ƒ ç»§æ‰¿ ç»§æ‰¿æ˜¯æŒ‡ä¸€ä¸ªå¯¹è±¡ç›´æŽ¥ä½¿ç”¨å¦ä¸€å¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•ã€‚ JavaScriptå¹¶ä¸æä¾›åŽŸç”Ÿçš„ç»§æ‰¿æœºåˆ¶ï¼Œæˆ‘ä»¬è‡ªå·±å®žçŽ°çš„æ–¹å¼å¾ˆå¤šï¼Œä»‹ç»ä¸€ç§æœ€ä¸ºé€šç”¨çš„ é€šè¿‡ä¸Šé¢å®šä¹‰ï¼Œå¯ä»¥çœ‹å‡ºå¦‚æžœå®žçŽ°äº† ä¸¤ç‚¹ çš„è¯å°±å¯ä»¥è¯´å®žçŽ°äº†ç»§æ‰¿ å¾—åˆ°ä¸€ä¸ªç±»çš„å±žæ€§ å¾—åˆ°ä¸€ä¸ªç±»çš„æ–¹æ³• æˆ‘ä»¬åˆ†å¼€è®¨è®ºä¸€ä¸‹ï¼Œå…ˆå®šä¹‰ä¸¤ä¸ªç±» 12345678910111213141516function Person(name, sex)&#123; this.name = name; this.sex = sex;&#125;Person.prototype.printName = function()&#123; console.log(this.name);&#125;;function Male(age)&#123; this.age = age;&#125;Male.prototype.printAge = function()&#123; console.log(this.age);&#125;; å±žæ€§èŽ·å–å¯¹è±¡å±žæ€§çš„èŽ·å–æ˜¯é€šè¿‡æž„é€ å‡½æ•°çš„æ‰§è¡Œï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªç±»ä¸­æ‰§è¡Œå¦å¤–ä¸€ä¸ªç±»çš„æž„é€ å‡½æ•°ï¼Œå°±å¯ä»¥æŠŠå±žæ€§èµ‹å€¼åˆ°è‡ªå·±å†…éƒ¨ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æŠŠçŽ¯å¢ƒæ”¹åˆ°è‡ªå·±çš„ä½œç”¨åŸŸå†…ï¼Œè¿™å°±è¦å€ŸåŠ© call äº† æ”¹é€ ä¸€ä¸‹ Male12345678function Male(name, sex, age)&#123; Person.call(this, name, sex); this.age = age;&#125;Male.prototype.printAge = function()&#123; console.log(this.age);&#125;; å®žä¾‹åŒ–çœ‹çœ‹ç»“æžœ 12var m = new Male('Byron', 'male', 26);console.log(m.sex); // "male" æ–¹æ³•èŽ·å–æˆ‘ä»¬çŸ¥é“ç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨äº†prototypeé‡Œé¢ï¼Œæ‰€ä»¥åªè¦æˆ‘ä»¬æŠŠå­ç±»çš„ prototype æ”¹ä¸ºçˆ¶ç±»çš„ prototypeçš„å¤‡ä»½å°±å¥½äº† 1Male.prototype.__proto__ = Person.prototype; è¿™æ ·å†™å¯ä»¥è¾¾åˆ°æ•ˆæžœï¼Œå¯æ˜¯ [object Object]ä¸æ˜¯ä¸€ä¸ªè§„èŒƒä¸­çš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚ 1Male.prototype = Object.create(Person.prototype); è¿™é‡Œæˆ‘ä»¬é€šè¿‡ Object.create cloneäº†ä¸€ä¸ªæ–°çš„ prototype è€Œä¸æ˜¯ç›´æŽ¥æŠŠ Person.prtotype ç›´æŽ¥èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºå¼•ç”¨ç±»åž‹çš„å…³ç³»ï¼Œä¼šå¯¼è‡´åŽç»­ä¿®æ”¹å­ç±»çš„ prototype ä¹Ÿä¿®æ”¹äº†çˆ¶ç±»çš„ prototype ï¼Œå› ä¸ºä¿®æ”¹çš„æ˜¯åŒä¸€ä¸ªå€¼ã€‚ å¦å¤–Object.createæ˜¯ES5æ–¹æ³•ï¼Œå…¼å®¹å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å®žçŽ° 12345function object (o)&#123; function f()&#123;&#125;; f.prototype = o; return new f();&#125; è¿˜æœ‰éœ€è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯å¯¹å­ç±»æ·»åŠ æ–¹æ³•ï¼Œå¿…é¡»åœ¨ä¿®æ”¹å…¶ prototype ä¹‹åŽï¼Œå¦‚æžœåœ¨ä¹‹å‰ä¼šè¢«è¦†ç›–æŽ‰ 1234Male.prototype.printAge = function()&#123; console.log(this.age);&#125;;Male.prototype = Object.create(Person.prototype); è¿™æ ·çš„è¯ï¼ŒprintAge æ–¹æ³•åœ¨ä¿®æ”¹ prototype åŽå°±æ²¡äº†ï¼Œå› æ­¤å¾—è¿™ä¹ˆå†™ 12345678910function Male(name, sex, age)&#123; Person.call(this, name, sex); this.age = age;&#125;Male.prototype = Object.create(Person.prototype);Male.prototype.printAge = function()&#123; console.log(this.age);&#125;; è¿™æ ·å†™è²Œä¼¼æ²¡é—®é¢˜äº†ï¼Œä½†æ˜¯è¿˜æœ‰ä¸ªé—®é¢˜ï¼šå°±æ˜¯æˆ‘ä»¬çŸ¥é“ prototype å¯¹è±¡æœ‰ä¸€ä¸ªå±žæ€§ constructor æŒ‡å‘å…¶ç±»åž‹ï¼Œå› ä¸ºæˆ‘ä»¬å¤åˆ¶çš„çˆ¶å…ƒç´ çš„prototypeï¼Œè¿™æ—¶å€™constructorå±žæ€§æŒ‡å‘æ˜¯ä¸å¯¹çš„ï¼Œå¯¼è‡´æˆ‘ä»¬åˆ¤æ–­ç±»åž‹å‡ºé”™ 1Male.prototype.constructor; //Person å› æ­¤æˆ‘ä»¬éœ€è¦å†é‡æ–°æŒ‡å®šä¸€ä¸‹ constructor å±žæ€§åˆ°è‡ªå·±çš„ç±»åž‹ å¯ä»¥é€šè¿‡ä¸€ä¸ªå‡½æ•°å®žçŽ° 12345function inherit(superType, subType)&#123; var _prototype = Object.create(superType.prototype); _prototype.constructor = subType; subType.prototype = _prototype;&#125; æœ€ç»ˆæ–¹æ¡ˆå­¦åä¸º å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ 1234567891011121314151617181920212223function Person(name, sex)&#123; this.name = name; this.sex = sex;&#125;Person.prototype.printName = function()&#123; console.log(this.name);&#125;; function Male(name, sex, age)&#123; Person.call(this, name, sex); // å±žæ€§ä½¿ç”¨callæ¥èŽ·å– this.age = age;&#125;inherit(Person, Male); // æ–¹æ³•é€šè¿‡ä¿®æ”¹ å­ç±»çš„åŽŸåž‹ æ˜¯ çˆ¶ç±»åŽŸåž‹çš„å¤‡ä»½// åœ¨ç»§æ‰¿å‡½æ•°ä¹‹åŽå†™è‡ªå·±çš„æ–¹æ³•ï¼Œå¦åˆ™ä¼šè¢«è¦†ç›–Male.prototype.printAge = function()&#123; console.log(this.age);&#125;;var m = new Male('Byron', 'm', 26);m.printName(); è¿™æ ·æˆ‘ä»¬å°±åœ¨JavaScriptä¸­å®žçŽ°äº†ç»§æ‰¿ å…¶å®žè¿˜æœ‰ç»„åˆç»§æ‰¿ 12345678910111213141516171819202122function Mother (age) &#123; this.age = age; this.hobby = ['running','football']&#125;Mother.prototype.showAge = function () &#123; console.log(this.age);&#125;;function Person (name, age) &#123; Mother.call(this, age); //ç¬¬äºŒæ¬¡æ‰§è¡Œ this.name = name;&#125;Person.prototype = new Mother(); //ç¬¬ä¸€æ¬¡æ‰§è¡ŒPerson.prototype.constructor = Person;Person.prototype.showName = function () &#123; console.log(this.name);&#125;var p1 = new Person('Jack', 20);p1.hobby.push('basketball'); //p1:'Jack'; __proto__:20,['running','football']var p2 = new Person('Mark', 18); //p2:'Mark'; __proto__:18,['running','football'] é€šè¿‡ç¬¬äºŒæ¬¡æ‰§è¡ŒåŽŸåž‹çš„æž„é€ å‡½æ•° Mother()ï¼Œæˆ‘ä»¬åœ¨å¯¹è±¡å®žä¾‹ä¸­å¤åˆ¶äº†ä¸€ä»½åŽŸåž‹çš„å±žæ€§ï¼Œè¿™æ ·å°±åšåˆ°äº†ä¸ŽåŽŸåž‹å±žæ€§çš„åˆ†ç¦»ç‹¬ç«‹ã€‚ç»†å¿ƒçš„ä½ ä¼šå‘çŽ°ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡è°ƒç”¨ Mother()ï¼Œå¥½åƒä»€ä¹ˆç”¨éƒ½æ²¡æœ‰å‘¢ï¼Œèƒ½ä¸è°ƒç”¨ä»–å—ï¼Ÿå¯ä»¥ï¼Œæ‰€ä»¥æ‰æœ‰äº†ä¸Šé¢ä»‹ç»çš„å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ åœ¨å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿é‡Œé¢ï¼Œå…³é”®ç‚¹åœ¨äºŽ Object.create(o) ï¼Œå®ƒå€Ÿç”¨äº†ä¸€ä¸ªä¸´æ—¶å¯¹è±¡æ¥å·§å¦™é¿å…äº†è°ƒç”¨ new Mother() ï¼Œç„¶åŽå°†åŽŸåž‹ä¸º o çš„æ–°å¯¹è±¡å®žä¾‹è¿”å›žï¼Œä»Žè€Œå®Œæˆäº†åŽŸåž‹é“¾çš„è®¾ç½®ã€‚å¾ˆç»•ï¼Œå¯¹å§ï¼Œé‚£æ˜¯å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç›´æŽ¥è®¾ç½® Person.prototype = Mother.prototype å•Šã€‚ä¸ç„¶ä¿®æ”¹Person.prototype ä¹Ÿä¼šå½±å“Mother.prototypeã€‚ function hasOwnProperty() { [native code] }hasOwnPerpertyæ˜¯Object.prototypeçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åŒ…å«è‡ªå®šä¹‰å±žæ€§è€Œä¸æ˜¯åŽŸåž‹é“¾ä¸Šçš„å±žæ€§ï¼ŒhasOwnPropertyæ˜¯JavaScriptä¸­å”¯ä¸€ä¸€ä¸ªå¤„ç†å±žæ€§ä½†æ˜¯ä¸æŸ¥æ‰¾åŽŸåž‹é“¾çš„å‡½æ•° 123m.hasOwnProperty('name'); // truem.hasOwnProperty('printName'); // falseMale.prototype.hasOwnProperty('printAge'); // true èŽ·å–åŽŸåž‹å¯¹è±¡æ–¹æ³•çš„æ¯”è¾ƒèŽ·å–å®žä¾‹å¯¹è±¡objçš„åŽŸåž‹å¯¹è±¡ï¼Œæœ‰ä¸‰ç§æ–¹æ³•ã€‚ obj.__proto__ obj.constructor.prototype Object.getPrototypeOf(obj) ä¸Šé¢ä¸‰ç§æ–¹æ³•ä¹‹ä¸­ï¼Œå‰ä¸¤ç§éƒ½ä¸æ˜¯å¾ˆå¯é ã€‚æœ€æ–°çš„ES6æ ‡å‡†è§„å®šï¼Œ[object Object]å±žæ€§åªæœ‰æµè§ˆå™¨æ‰éœ€è¦éƒ¨ç½²ï¼Œå…¶ä»–çŽ¯å¢ƒå¯ä»¥ä¸éƒ¨ç½²ã€‚è€Œobj.constructor.prototypeåœ¨æ‰‹åŠ¨æ”¹å˜åŽŸåž‹å¯¹è±¡æ—¶ï¼Œå¯èƒ½ä¼šå¤±æ•ˆã€‚æ‰€ä»¥ï¼ŒæŽ¨èä½¿ç”¨ç¬¬ä¸‰ç§Object.getPrototypeOfæ–¹æ³•ï¼ŒèŽ·å–åŽŸåž‹å¯¹è±¡ã€‚ Array.prototype.slice vs [].slice é€Ÿåº¦æµ‹è¯•ï¼Œæ˜Žæ˜¾å‰è€…å¿«çš„å¤šï¼Œå°½é‡ç”¨å‰è€…https://jsperf.com/array-prototype-slice-vs-slice Array.prototype.sliceå¯ä»¥è¢«é‡å†™ï¼Œ[].sliceå®žé™…ç”¨çš„æ˜¯Array.prototype.sliceï¼Œä½†ä¸èƒ½æ˜¾å¼ä¿®æ”¹[].sliceï¼Œ[]ä¸­ownpropertityåªæœ‰lengthä¸€ä¸ªå±žæ€§ åŽŸåž‹é“¾ç›¸å…³é—®é¢˜é—®é¢˜7ï¼šæœ‰å¦‚ä¸‹ä»£ç ï¼Œè§£é‡ŠPersonã€ prototypeã€[object Object]ã€pã€function Object() { [native code] }ä¹‹é—´çš„å…³è”ã€‚1234567891011121314151617function Person(name)&#123; this.name = name;&#125;Person.prototype.sayName = function()&#123; console.log('My name is :' + this.name);&#125;var p = new Person("è‹¥æ„š")p.sayName();p.__proto__ === Person.prototype//truep.constructor === Person//truep.constructor.prototype === Person.prototype//truep.sayName === Person.prototype.sayName//true é—®é¢˜8ï¼š ä¸Šä¾‹ä¸­ï¼Œå¯¹ å¯¹è±¡ på¯ä»¥è¿™æ ·è°ƒç”¨ p.toString()ã€‚toStringæ˜¯å“ªé‡Œæ¥çš„? ç”»å‡ºåŽŸåž‹å›¾?å¹¶è§£é‡Šä»€ä¹ˆæ˜¯åŽŸåž‹é“¾ã€‚pçš„toStringæ–¹æ³•æ˜¯ä»ŽåŽŸåž‹é“¾ä¸Šçš„ Objectçš„åŽŸåž‹ ç»§æ‰¿æ¥çš„ é—®é¢˜9ï¼šå¯¹Stringåšæ‰©å±•ï¼Œå®žçŽ°å¦‚ä¸‹æ–¹å¼èŽ·å–å­—ç¬¦ä¸²ä¸­é¢‘çŽ‡æœ€é«˜çš„å­—ç¬¦1234567891011121314151617181920212223var str = 'ahbbccdeddddfg';String.prototype.getMostOften = function () &#123; var hash = &#123;&#125;; var max = 0; var maxChar for (var i=0; i&lt;this.length; i++)&#123; var key = this[i]; if (key in hash)&#123; hash[key] += 1; &#125;else &#123; hash[key] = 1; &#125; &#125; for (key in hash)&#123; if (hash[key] &gt; max)&#123; max = hash[key] maxChar = key; &#125; &#125; return maxChar&#125;var ch = str.getMostOften();console.log(ch); //d , å› ä¸ºd å‡ºçŽ°äº†5æ¬¡ é—®é¢˜10ï¼š instanceOfæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå†…éƒ¨é€»è¾‘æ˜¯å¦‚ä½•å®žçŽ°çš„ï¼ŸinstanceOfæ–¹æ³•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„å®žä¾‹ 12345678910function instanceOf(L, R) &#123; //L è¡¨ç¤ºå·¦è¡¨è¾¾å¼ï¼ŒR è¡¨ç¤ºå³è¡¨è¾¾å¼ var S = R.prototype; L = L.__proto__; while (true) &#123; if (L === null) return false; if (S === L) // å½“ S ä¸¥æ ¼ç­‰äºŽ L æ—¶ï¼Œè¿”å›ž true return true; &#125;&#125; ç»§æ‰¿ç›¸å…³é—®é¢˜é—®é¢˜11ï¼šç»§æ‰¿æœ‰ä»€ä¹ˆä½œç”¨?å­ç±»å¯ä»¥æ‹¥æœ‰çˆ¶ç±»çš„å±žæ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å®šä¹‰è‡ªèº«çš„å±žæ€§å’Œæ–¹æ³•ã€‚å­ç±»å¯ä»¥é‡å†™å’Œæ‰©å±•ç»§æ‰¿çˆ¶ç±»çš„å±žæ€§å’Œæ–¹æ³•ï¼Œåˆä¸å½±å“çˆ¶ç±»ã€‚ é—®é¢˜12ï¼š ä¸‹é¢ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆåŒºåˆ«?123456789//æ–¹æ³•1function People(name, sex)&#123; this.name = name; this.sex = sex; this.printName = function()&#123; console.log(this.name); &#125;&#125;var p1 = new People('é¥¥äººè°·', 2) 12345678910//æ–¹æ³•2function Person(name, sex)&#123; this.name = name; this.sex = sex;&#125;Person.prototype.printName = function()&#123; console.log(this.name);&#125;var p1 = new Person('è‹¥æ„š', 27); æ–¹æ³•1çš„printNameæ–¹æ³•æ˜¯åœ¨å‡½æ•°Personå®žä¾‹å¯¹è±¡é‡Œçš„ï¼Œè€Œæ–¹æ³•2æ˜¯åœ¨Personçš„prototypeå¯¹è±¡ä¸Šçš„ã€‚å½“å†åˆ›å»ºä¸€ä¸ªPersonå®žä¾‹å¯¹è±¡çš„æ—¶å€™ï¼Œæ–¹æ³•1åˆå°†ä¼šå†åˆ›å»ºä¸€ä¸ªprintNameæ–¹æ³•ï¼Œå ç”¨æ–°çš„å†…å­˜ã€‚è€Œæ–¹æ³•2å°†ä¸€ä¸ªå…¬ç”¨çš„printNameæ–¹æ³•å†™åœ¨åŽŸåž‹ä¸Šï¼Œå½“å¯¹è±¡è¦ä½¿ç”¨è¯¥æ–¹æ³•åªéœ€åˆ°åŽŸåž‹é“¾é‡Œè°ƒç”¨å°±å¯ä»¥äº†ï¼Œè¾¾åˆ°èŠ‚çœå†…å­˜çš„æ•ˆæžœã€‚ é—®é¢˜13ï¼š Object.create æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå…¼å®¹æ€§å¦‚ä½•ï¼ŸObject.create() æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ª ä½¿ç”¨æŒ‡å®šåŽŸåž‹å¯¹è±¡ çš„ æ–°å¯¹è±¡ å¯ä»¥ä½¿ç”¨ Object.create å®žçŽ°ç±»å¼ç»§æ‰¿ IE9 åŠå…¶ä»¥ä¸Š é—®é¢˜14ï¼š hasOwnPropertyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å¦‚ä½•ä½¿ç”¨ï¼ŸhasOwnProperty() æ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå¯¹è±¡æ˜¯å¦å…·æœ‰æŒ‡å®šçš„å±žæ€§ä½œä¸ºè‡ªèº«ï¼ˆä¸ç»§æ‰¿ï¼‰å±žæ€§ã€‚ 123456789101112function Person(sex,age)&#123; this.sex=sex; this.age=age;&#125;Person.prototype.say=function()&#123; console.log("I say");&#125;var p=new Person("man",11);p.hasOwnProperty("sex")//truep.hasOwnProperty("say")//falsePerson.prototype.hasOwnProperty("say")//true é—®é¢˜15ï¼šå¦‚ä¸‹ä»£ç ä¸­callçš„ä½œç”¨æ˜¯ä»€ä¹ˆ?12345678function Person(name, sex)&#123; this.name = name; this.sex = sex;&#125;function Male(name, sex, age)&#123; Person.call(this, name, sex); //è¿™é‡Œçš„ call æœ‰ä»€ä¹ˆä½œç”¨ this.age = age;&#125; é€šè¿‡ callï¼Œä½¿ Male å®žä¾‹ä¹Ÿæœ‰äº† Person çš„å±žæ€§(ä¹Ÿå¯ä»¥æ–¹æ³•ï¼‰ é—®é¢˜16ï¼š è¡¥å…¨ä»£ç ï¼Œå®žçŽ°ç»§æ‰¿12345678910111213141516171819function Person(name, sex)&#123; this.name = name; this.sex = sex;&#125;Person.prototype.getName = function()&#123; console.log(this.name)&#125;;function Male(name, sex, age)&#123; Person.call(this, name, sex); this.age = age;&#125;Male.prototype = Object.create(Person.prototype);Male.prototype.constructor = Male;Male.prototype.getAge = function()&#123; console.log(this.age)&#125;;var ruoyu = new Male('è‹¥æ„š', 'ç”·', 27);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Prototype</tag>
        <tag>åŽŸåž‹é“¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡½æ•°function]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E5%87%BD%E6%95%B0function%2F</url>
    <content type="text"><![CDATA[å‡½æ•°å£°æ˜Žå‡½æ•°çš„ä¸‰ç§æ–¹å¼ æž„é€ å‡½æ•°ï¼Œä½¿ç”¨newæ¥åˆ›å»ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ å‡½æ•°å£°æ˜Ž //å£°æ˜Žå¯ä»¥æ”¾åœ¨è°ƒç”¨ä¹‹å‰ï¼Œä»»ä½•åœ°æ–¹ å‡½æ•°è¡¨è¾¾å¼ //å£°æ˜Žå¿…é¡»æ”¾åœ¨è°ƒç”¨ä¹‹åŽã€‚å’Œå˜é‡å£°æ˜Žæ²¡å·®åˆ« å£°æ˜Žå‡½æ•°æ˜¯ä¸æ‰§è¡Œçš„ï¼Œè°ƒç”¨æ‰æ‰§è¡Œ è¿”å›žå€¼ æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›åœ¨å‡½æ•°æ‰§è¡ŒåŽå¾—åˆ°ä¸€ä¸ªç»“æžœä¾›åˆ«äººä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡returnæ¥å®žçŽ° æ‰§è¡Œå®Œreturnè¯­å¥ä¹‹åŽåœæ­¢å¹¶ç«‹å³æŽ¨å‡ºå‡½æ•° å¦‚æžœä¸å†™ï¼Œä¹Ÿä¼šé»˜è®¤è¿”å›žundefined å£°æ˜Žå‰ç½® var å’Œ function çš„å£°æ˜Žå‰ç½®åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹ï¼Œvar å£°æ˜Žçš„å˜é‡å’Œfunction å£°æ˜Žçš„å‡½æ•°ä¼šå‰ç½® 123456789console.log(a); //undefinedvar a = 3;console.log(a); //3sayHello();function sayHello()&#123; console.log('hello');&#125; å‡½æ•°è¡¨è¾¾å¼å‡½æ•°è¡¨è¾¾å¼å’Œ var ä¸€ä¸ªå˜é‡æ²¡ä»€ä¹ˆåŒºåˆ« 123console.log(fn); //undefinedfn(); //æŠ¥é”™var fn = function()&#123;&#125; ä½œç”¨åŸŸåœ¨ JS ä¸­åªæœ‰å‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—ä½œç”¨åŸŸ æ‰§è¡ŒçŽ¯å¢ƒ ECå®šä¹‰äº†å˜é‡æˆ–å‡½æ•°æœ‰æƒè®¿é—®çš„å…¶ä»–æ•°æ®ï¼Œå†³å®šäº†å®ƒä»¬å„è‡ªçš„è¡Œä¸ºã€‚ ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯ä¿è¯å¯¹æ‰§è¡ŒçŽ¯èŠ‚æœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚ å…¨å±€æ‰§è¡ŒçŽ¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆçš„éƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸­çš„æœ€åŽä¸€ä¸ªå¯¹è±¡ã€‚ å†…éƒ¨çŽ¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®å¤–éƒ¨çŽ¯å¢ƒï¼Œä½†å¤–éƒ¨çŽ¯å¢ƒæ— æ³•è®¿é—®å†…éƒ¨çŽ¯å¢ƒçš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚ 1. å‡½æ•°å£°æ˜Žå’Œå‡½æ•°è¡¨è¾¾å¼æœ‰ä»€ä¹ˆåŒºåˆ« å‡½æ•°å£°æ˜Žå¯ä»¥æ”¾åœ¨ä»»ä½•åœ°æ–¹ å‡½æ•°è¡¨è¾¾å¼çš„å£°æ˜Žå¿…é¡»æ”¾åœ¨è°ƒç”¨ä¹‹å‰ï¼Œå’Œvarä¸€ä¸ªå˜é‡æ²¡åŒºåˆ« 2. ä»€ä¹ˆæ˜¯å˜é‡çš„å£°æ˜Žå‰ç½®ï¼Ÿä»€ä¹ˆæ˜¯å‡½æ•°çš„å£°æ˜Žå‰ç½® å˜é‡çš„å£°æ˜Žå‰ç½®ï¼šJavaScriptå¼•æ“Žçš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå…ˆè§£æžä»£ç ï¼ŒèŽ·å–æ‰€æœ‰è¢«å£°æ˜Žçš„å˜é‡ï¼Œç„¶åŽå†ä¸€è¡Œä¸€è¡Œåœ°è¿è¡Œã€‚è¿™é€ æˆçš„ç»“æžœï¼Œå°±æ˜¯æ‰€æœ‰çš„å˜é‡çš„å£°æ˜Žè¯­å¥ï¼Œéƒ½ä¼šè¢«æå‡åˆ°ä»£ç çš„å¤´éƒ¨ï¼Œç„¶åŽç»™ä»–åˆå§‹å€¼undefinedï¼Œç„¶åŽæ‰é€å¥æ‰§è¡Œç¨‹åºï¼Œè¿™å°±å«åšâ€œå˜é‡æå‡â€ï¼Œä¹Ÿå³â€œå˜é‡çš„å£°æ˜Žå‰ç½®â€ã€‚ å‡½æ•°çš„å£°æ˜Žå‰ç½®ï¼šå¦‚æžœä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼å£°æ˜Žå‡½æ•°ï¼Œå‰ç½®ç±»ä¼¼å˜é‡çš„å£°æ˜Žå‰ç½®ï¼›å¦‚æžœä½¿ç”¨å‡½æ•°å£°æ˜Žï¼Œé‚£ä¹ˆå³ä½¿å‡½æ•°å†™åœ¨æœ€åŽä¹Ÿå¯ä»¥åœ¨å‰é¢è¯­å¥è°ƒç”¨ï¼Œå‰ææ˜¯å‡½æ•°å£°æ˜Žéƒ¨åˆ†å·²ç»è¢«ä¸‹è½½åˆ°æœ¬åœ°ã€‚ 3. arguments æ˜¯ä»€ä¹ˆargumentç±»æ•°ç»„å¯¹è±¡ï¼Œå¯ä»¥ç”¨æ¥èŽ·å–å‡½æ•°ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚ 4. å‡½æ•°çš„â€é‡è½½â€æ€Žæ ·å®žçŽ°ä¸€äº›å¼ºè¯­è¨€ç±»åž‹çš„è¯­è¨€ï¼Œä¸åŒçš„å‡½æ•°å£°æ˜Žæ–¹å¼ï¼Œä¸åŒçš„ä¼ å‚ç±»åž‹å£°æ˜Žçš„åŒåå‡½æ•°ï¼Œè°ƒç”¨æ—¶ï¼Œä¼šæ ¹æ®ä¼ å‚çš„ç±»åž‹è‡ªåŠ¨åŒ¹é…åˆé€‚çš„å‡½æ•°ï¼Œç§°ä¸ºå‡½æ•°é‡è½½JSå±žäºŽå¼±è¯­è¨€ï¼Œæ²¡æœ‰é‡è½½ï¼ŒåŒåå‡½æ•°ï¼ŒåŽå£°æ˜Žçš„ä¼šè¦†ç›–å‰é¢å£°æ˜Žçš„ï¼›ä½†æ˜¯å¯ä»¥æ¨¡æ‹Ÿé‡è½½ï¼Œå£°æ˜Žå‡½æ•°æ—¶ï¼Œåˆ¤æ–­ä¼ å…¥å‚æ•°ç¬¦åˆçš„æ¡ä»¶ï¼Œæ‰§è¡Œè¯¥æ¡ä»¶ä¸‹çš„å‡½æ•°ä½“ï¼›ä»¥è¾¾åˆ°ï¼Œå‡½æ•°è°ƒç”¨æ—¶ä¼ å…¥ä¸åŒå‚æ•°ï¼Œå¾—åˆ°ä¸åŒçš„ç»“æžœã€‚ 5. ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼æœ‰å¤šç§å†™æ³•ï¼š(function(){})(); , æˆ– (function(){}()); ,æˆ– !function(){}(); ,æˆ– void function(){}(); , å¦‚ä¸‹å›¾æ‰€ç¤º: ä½œç”¨ï¼š åˆ›å»ºç‹¬ç«‹ä½œç”¨åŸŸ,å†…éƒ¨ä¿å­˜ä¸€äº›å¤§é‡ä¸´æ—¶å˜é‡çš„ä»£ç é˜²æ­¢å‘½åå†²çªã€‚ ä¸€äº›åº“çš„å¤–å±‚ç”¨è¿™ç§å½¢å¼åŒ…èµ·æ¥é˜²æ­¢ä½œç”¨åŸŸæ±¡æŸ“ã€‚ è¿è¡Œä¸€äº›åªæ‰§è¡Œä¸€æ¬¡çš„ä»£ç ã€‚ 6. æ±‚n!ï¼Œç”¨é€’å½’æ¥å®žçŽ° è‡ªå·±è°ƒç”¨è‡ªå·± è®¾å®šç»ˆæ­¢æ¡ä»¶ ä¼˜ç‚¹: ç®—æ³•ç®€å• ç¼ºç‚¹: æ•ˆçŽ‡ä½Ž 12345678910111213141516171819function factorial (n) &#123; if (n &lt; 0 )&#123; return "è´Ÿæ•°æ²¡æœ‰é˜¶ä¹˜" &#125; else if (n ===1 || n === 0)&#123; return 1; &#125; else return n*factorial(n-1);&#125;factorial(5)//120factorial(0)//1factorial(2)//2factorial(1)//1factorial(-1)//"è´Ÿæ•°æ²¡æœ‰é˜¶ä¹˜" 7. ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ12345678910111213141516171819202122232425262728 function getInfo(name, age, sex)&#123; console.log('name:',name); console.log('age:', age); console.log('sex:', sex); console.log(arguments); arguments[0] = 'valley'; console.log('name', name); &#125;getInfo('é¥¥äººè°·', 2, 'ç”·');// name: é¥¥äººè°· age: 2 sex: ç”· ["é¥¥äººè°·", 2, "ç”·"] name valley getInfo('å°è°·', 3);// name: å°è°· ageï¼š 3 sex: undefined ["å°è°·"ï¼Œ3] name valleygetInfo('ç”·');// name: ç”· age:undefined sex:undefined ["ç”·"] name valley 8. å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›žå‚æ•°çš„å¹³æ–¹å’Œï¼Ÿ1234567891011function sumOfSquares()&#123; var sum = 0; for(i=0;i&lt;arguments.length;i++)&#123; sum += arguments[i]*arguments[i]; &#125; return sum ;&#125;var result = sumOfSquares(2,3,4)var result2 = sumOfSquares(1,3)console.log(result) //29console.log(result2) //10 9. å¦‚ä¸‹ä»£ç çš„è¾“å‡ºï¼Ÿä¸ºä»€ä¹ˆ123console.log(a);//undefined å˜é‡aå£°æ˜Žæå‰äº†ï¼Œå› æ­¤æ˜¯undefinedvar a = 1;console.log(b); //b is not defined bæ²¡å£°æ˜Žå®šä¹‰å°±ç›´æŽ¥ç”¨äº† 10. å¦‚ä¸‹ä»£ç çš„è¾“å‡ºï¼Ÿä¸ºä»€ä¹ˆ12345678sayName('world');//hello worldå‡½æ•°å£°æ˜Žçš„å‡½æ•°è°ƒç”¨å¯ä»¥æ”¾åœ¨å‡½æ•°å£°æ˜Žå‰sayAge(10);//æŠ¥é”™ å‡½æ•°è¡¨è¾¾å¼å£°æ˜Žçš„å‡½æ•° å¿…é¡»æ˜¯å£°æ˜Žåœ¨å‰ï¼Œè°ƒç”¨åœ¨åŽfunction sayName(name)&#123; console.log('hello ', name);&#125;var sayAge = function(age)&#123; console.log(age);&#125;; 11. å¦‚ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ? å†™å‡ºä½œç”¨åŸŸé“¾æŸ¥æ‰¾è¿‡ç¨‹ä¼ªä»£ç 123456789var x = 10bar() function foo() &#123; console.log(x)&#125;function bar()&#123; var x = 30 foo()&#125; 123456789101112131415161718192021222324//10//console.log(x)æ‰§è¡Œæ—¶ï¼Œå…ˆåœ¨fooContext.AOé‡Œé¢æŸ¥æ‰¾Xï¼Œæ²¡æœ‰ï¼›ç»§ç»­åœ¨Scope: foo.[[scope]] // æŒ‡å‘globalContext.AOä¸­æŸ¥æ‰¾ï¼Œå¾—X=10ï¼›æ‰€ä»¥è¾“å‡ºç»“æžœä¸º10ã€‚1. globalContext = &#123; AO: &#123; x:10 bar: function foo: funciton &#125;, Scope: null&#125;bar.[[scope]]= globalContext.AOfoo.[[scope]]= globalContext.AO2. barContext = &#123; AO: &#123; x: 30 &#125;, Scope: bar.[[scope]] = globalContext.AO&#125;3. fooContext = &#123; AO: &#123;&#125;, Scope: foo.[[scope]] = globalContext.AO&#125; 12. å¦‚ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ? å†™å‡ºä½œç”¨åŸŸé“¾æŸ¥æ‰¾è¿‡ç¨‹ä¼ªä»£ç 123456789var x = 10;bar() function bar()&#123; var x = 30; function foo()&#123; console.log(x) &#125; foo();&#125; 12345678910111213141516171819202122232425//30//console.log(x)æ‰§è¡Œæ—¶ï¼Œå…ˆåœ¨fooContext.AOé‡Œé¢æŸ¥æ‰¾ï¼Œæ²¡æœ‰ï¼›ç»§ç»­åœ¨Scope: foo.[[scope]] = barContext.AOé‡Œé¢æŸ¥æ‰¾ï¼Œå¾—åˆ°X=30ï¼Œæ‰€ä»¥è¾“å‡º30.1. globalContext = &#123; AO: &#123; x: 10 bar: function &#125;, Scope: null&#125;bar.[[scope]] = globelContext.AO2. barContext = &#123; AO: &#123; x: 30 foo: function &#125;, Scope: bar.[[scope]] = globalContext.AO&#125;foo.[[scope]] = barContext.AO3. fooContext = &#123; AO: &#123;&#125;, scope: foo.[[scope]] = barContext.AO&#125; 13. ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ? å†™å‡ºä½œç”¨åŸŸé“¾çš„æŸ¥æ‰¾è¿‡ç¨‹ä¼ªä»£ç 12345678var x = 10;bar() function bar()&#123; var x = 30; (function ()&#123; console.log(x) &#125;)()&#125; 123456789101112131415161718192021222324//30//console.log(x)æ‰§è¡Œæ—¶ï¼Œå…ˆåœ¨functionContext.AOé‡Œé¢æŸ¥æ‰¾ï¼Œæ— Xï¼›ç»§ç»­åœ¨Scope: function.[[scope]] = barContext.AOé‡Œé¢æŸ¥æ‰¾ï¼Œå¾—X=30ï¼Œæ‰€ä»¥è¾“å‡ºç»“æžœä¸º30ã€‚1. globalContext = &#123; AO: &#123; x:10 bar: function &#125;, Scope: null&#125;bar.[[scope]] = globalContext.AO2. barContext = &#123; AO: &#123; x: 30 function &#125;, Scope: bar.[[scope]]&#125;function.[[scope]] = barContext.AO3. functionContext = &#123; AO: &#123;&#125;, Scope: funcion.[[scope]] = barContext.AO&#125; 14. ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ å†™å‡ºä½œç”¨åŸŸé“¾æŸ¥æ‰¾è¿‡ç¨‹ä¼ªä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758var a = 1;function fn()&#123; console.log(a) var a = 5 console.log(a) a++ var a fn3() fn2() console.log(a) function fn2()&#123; console.log(a) a = 20 &#125;&#125;function fn3()&#123; console.log(a) a = 200&#125;fn()console.log(a)//undefined, 5, 1, 6, 20, 2001.globalContext = &#123; AO: &#123; a: 1 ==&gt;a: 200 fn: function fn3: function &#125;, Scope: null&#125;fn.[[scope]] = globalContext.AOfn3.[[scope]] = globalContext.AO2.fn()fnContext = &#123; AO: &#123; a: undefined(è¾“å‡ºï¼šundefined)==&gt;5(è¾“å‡ºï¼š5)==&gt;6 fn2: function &#125;, Scope: fn.[[scope]] = globalContext.AO&#125;fn2.[[scope]] = fnContext.AO3.fn3()fn3Context = &#123; AO: &#123;&#125;, Scope: fn3.[[scope]] = globalContext.AO&#125;è¾“å‡ºï¼š14.fn2()fn2Context = &#123; AO: &#123; a:è¾“å‡ºï¼š6 ==&gt;a: 20(è¾“å‡ºï¼š20) &#125;, Scope: fn2.[[scope]] = fnContext.AO&#125;5.console.log(a) è¾“å‡ºï¼š200]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[thiså…³é”®å­—]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2Fthis%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[this å…³é”®å­—å…ˆçœ‹è¿™å‡ æœ¬ç›¸å¯¹æƒå¨çš„JSä¹¦ç±å…³äºŽ this çš„æè¿° ã€ŠJavascriptæƒå¨æŒ‡å—ã€‹ï¼šå¦‚æžœåµŒå¥—å‡½æ•°ä½œä¸ºå‡½æ•°è°ƒç”¨ï¼Œå…¶thiså€¼æ˜¯å…¨å±€å¯¹è±¡ï¼ˆéžä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰æˆ–æ˜¯undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰;å¦‚æžœåµŒå¥—å‡½æ•°ä½œä¸ºæ–¹æ³•è°ƒç”¨ï¼Œå…¶thiså€¼æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ã€‚ ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ï¼šåœ¨å…¨å±€å‡½æ•°ä¸­ï¼Œthisç­‰äºŽwindowï¼Œè€Œå½“å‡½æ•°è¢«ä½œä¸ºæŸä¸ªå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨æ—¶ï¼Œthisç­‰äºŽé‚£ä¸ªå¯¹è±¡ã€‚å¦å¤–ï¼ŒåŒ¿åå‡½æ•°çš„æ‰§è¡ŒçŽ¯å¢ƒå…·æœ‰å…¨å±€æ€§ï¼Œå› æ­¤thiså¯¹è±¡é€šå¸¸æŒ‡å‘window ã€Šä½ ä¸çŸ¥é“çš„JavaScript - ä¸Šå·ã€‹ï¼šthis çš„ç»‘å®šç±»åž‹åˆ†ä¸ºäº† é»˜è®¤ç»‘å®šï¼Œéšå¼ç»‘å®šï¼Œæ˜¾å¼ç»‘å®šï¼Œnewç»‘å®š å¯¹äºŽthisçš„ç†è§£åˆ†å¾ˆå¤šç§ä»¥æˆ‘çš„ç†è§£ï¼Œ é»˜è®¤ç»‘å®šï¼š å°±æ˜¯ å…¨å±€ &amp; è°ƒç”¨æ™®é€šå‡½æ•° éšå¼ç»‘å®šï¼š å°±æ˜¯ å‡½æ•°ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§ï¼Œå¹¶ä¸”ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§è¢«è°ƒç”¨æ—¶ æ˜¾å¼ç»‘å®šï¼š å°±æ˜¯ å‡½æ•°ç”¨callæˆ–è€…applyè°ƒç”¨ newç»‘å®šï¼š å°±æ˜¯ newæž„é€ å‡½æ•° åˆ†åˆ«è¯´æ˜Žä¸€ä¸‹ é»˜è®¤ç»‘å®šåœ¨ä»£ç ä¸­foo()æ˜¯ç›´æŽ¥ä½¿ç”¨ä¸å¸¦ä»»ä½•ä¿®é¥°çš„å‡½æ•°å¼•ç”¨è¿›è¡Œè°ƒç”¨çš„ï¼Œé‡‡ç”¨é»˜è®¤ç»‘å®šã€‚ç®€å•è¯´å°±æ˜¯ å…¨å±€ &amp; è°ƒç”¨æ™®é€šå‡½æ•° åœ¨å…¨å±€çŽ¯å¢ƒä¸‹ï¼Œthisæ°¸è¿œæ˜¯windowï¼Œè¿™ä¸ªåº”è¯¥æ²¡æœ‰éžè®®æ™®é€šå‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œå…¶ä¸­çš„thisä¹Ÿéƒ½æ˜¯windowã€‚ 12345var x = 10;function foo()&#123; console.log( this.x ) // 10&#125;foo() ä»¥ä¸Šä»£ç å¾ˆå¥½ç†è§£ã€‚ ä¸è¿‡ä¸‹é¢çš„æƒ…å†µä½ éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼š 1234567891011var obj = &#123; x: 10, foo: function()&#123; function fn()&#123; console.log( this ) //window console.log( this.x ) //undefined &#125; fn() &#125;&#125;obj.foo() å‡½æ•°fè™½ç„¶æ˜¯åœ¨obj.fnå†…éƒ¨å®šä¹‰çš„ï¼Œä½†æ˜¯å®ƒä»ç„¶æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œthisä»ç„¶æŒ‡å‘windowã€‚æ¢ä¸ªè¯´æ³•ï¼šå‡½æ•°åµŒå¥—äº§ç”Ÿçš„å†…éƒ¨å‡½æ•°çš„thisä¸æ˜¯å…¶çˆ¶å‡½æ•°ï¼Œä»ç„¶æ˜¯å…¨å±€å˜é‡ å¦å¤– åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°çš„é—´æŽ¥å¼•ç”¨ï¼Œä¹Ÿä¼šåº”ç”¨é»˜è®¤ç»‘å®š éšå¼ç»‘å®šè§„åˆ™æ˜¯ è°ƒç”¨ä½ç½®æ˜¯å¦æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæˆ–è€…è¯´æ˜¯è¢«æŸä¸ªå¯¹è±¡æ‹¥æœ‰æˆ–è€…åŒ…å«ã€‚ ç®€å•åœ°è¯´å°±æ˜¯ å¦‚æžœå‡½æ•°ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§æ—¶ï¼Œå¹¶ä¸” ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§è¢«è°ƒç”¨æ—¶ï¼Œå‡½æ•°ä¸­çš„thisæŒ‡å‘è¯¥å¯¹è±¡ 12345678var obj =&#123; x: 10, foo: function () &#123; console.log(this) //obj console.log(this.x) //10 &#125;&#125;obj.foo() ä»¥ä¸Šä»£ç ä¸­ï¼Œfnä¸ä»…ä½œä¸ºä¸€ä¸ªå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§ï¼Œè€Œä¸”çš„ç¡®æ˜¯ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§è¢«è°ƒç”¨ã€‚ç»“æžœthiså°±æ˜¯objå¯¹è±¡ã€‚ æ³¨æ„ï¼Œå¦‚æžœfnå‡½æ•°ä¸ä½œä¸ºobjçš„ä¸€ä¸ªå±žæ€§è¢«è°ƒç”¨ï¼Œç»“æžœå°±ä¸åŒäº†123456789var obj =&#123; x: 10, foo: function () &#123; console.log(this) //window console.log(this.x) //undefined &#125;&#125;var foo1 = obj.foofoo1() ä»¥ä¸Šä»£ç ï¼Œå¦‚æžœfnå‡½æ•°è¢«èµ‹å€¼åˆ°äº†å¦ä¸€ä¸ªå˜é‡ä¸­ï¼Œå¹¶æ²¡æœ‰ä½œä¸ºobjçš„ä¸€ä¸ªå±žæ€§è¢«è°ƒç”¨ï¼Œå®ƒå¼•ç”¨çš„æ˜¯fooå‡½æ•°æœ¬èº«,å†…éƒ¨çš„thiså°±ä¼šæŒ‡å‘fooè¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼ˆæœ¬ä¾‹æ˜¯é¡¶å±‚å¯¹è±¡ï¼‰ã€‚( å› æ­¤é‡‡ç”¨é»˜è®¤ç»‘å®šï¼Œé‚£ä¹ˆthisçš„å€¼å°±æ˜¯windowï¼Œthis.xä¸ºundefinedã€‚ï¼ˆè¢«ç§°ä½œéšå¼ä¸¢å¤±ï¼‰) å¦‚æžœæŸä¸ªæ–¹æ³•ä½äºŽå¤šå±‚å¯¹è±¡çš„å†…éƒ¨ï¼Œè¿™æ—¶thisåªæ˜¯æŒ‡å‘å½“å‰ä¸€å±‚çš„å¯¹è±¡ï¼Œè€Œä¸ä¼šç»§æ‰¿æ›´ä¸Šé¢çš„å±‚12345678910var a = &#123; p: 'Hello', b: &#123; m: function() &#123; console.log(this.p); &#125; &#125;&#125;;a.b.m() // undefined ä¸Šé¢ä»£ç ä¸­ï¼Œa.b.mæ–¹æ³•åœ¨aå¯¹è±¡çš„ç¬¬äºŒå±‚ï¼Œè¯¥æ–¹æ³•å†…éƒ¨çš„thisä¸æ˜¯æŒ‡å‘aï¼Œè€Œæ˜¯æŒ‡å‘a.bã€‚è¿™æ˜¯å› ä¸ºå®žé™…æ‰§è¡Œçš„æ˜¯ä¸‹é¢çš„ä»£ç ã€‚ 1234567891011var b = &#123; m: function() &#123; console.log(this.p);&#125;;var a = &#123; p: 'Hello', b: b&#125;;(a.b).m() // ç­‰åŒäºŽ b.m() å¦‚æžœè¦è¾¾åˆ°é¢„æœŸæ•ˆæžœï¼Œåªæœ‰å†™æˆä¸‹é¢è¿™æ ·ã€‚ 12345678var a = &#123; b: &#123; m: function() &#123; console.log(this.p); &#125;, p: 'Hello' &#125;&#125;; å¦‚æžœè¿™æ—¶å°†åµŒå¥—å¯¹è±¡å†…éƒ¨çš„æ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œthisä¾ç„¶ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ã€‚ 1234567891011var a = &#123; b: &#123; m: function() &#123; console.log(this.p); &#125;, p: 'Hello' &#125;&#125;;var hello = a.b.m;hello() // undefined ä¸Šé¢ä»£ç ä¸­ï¼Œmæ˜¯å¤šå±‚å¯¹è±¡å†…éƒ¨çš„ä¸€ä¸ªæ–¹æ³•ã€‚ä¸ºæ±‚ç®€ä¾¿ï¼Œå°†å…¶èµ‹å€¼ç»™helloå˜é‡ï¼Œç»“æžœè°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘äº†é¡¶å±‚å¯¹è±¡ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åªå°†mæ‰€åœ¨çš„å¯¹è±¡èµ‹å€¼ç»™helloï¼Œè¿™æ ·è°ƒç”¨æ—¶ï¼Œthisçš„æŒ‡å‘å°±ä¸ä¼šå˜ã€‚ 12var hello = a.b;hello.m() // Hello å¦å¤–è¯´æ˜Žä¸€ä¸‹ å…³äºŽfooå‡½æ•°çš„å£°æ˜Žæ–¹å¼1234567function foo()&#123; alert(this.x);&#125;var obj = &#123;&#125;;obj.x = 1;obj.m = foo;obj.m(); // 1 è™½ç„¶ä¸¥æ ¼æ„ä¹‰ä¸Šå‡½æ•°fooä¸å±žäºŽobjå¯¹è±¡ã€‚ä½†æ˜¯ è°ƒç”¨ä½ç½®ä¼šä½¿ç”¨objä¸Šä¸‹æ–‡æ¥å¼•ç”¨å‡½æ•°ï¼Œå› æ­¤å¯ä»¥è¯´æ˜¯å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œobjå¯¹è±¡æ‹¥æœ‰å®ƒæˆ–è€…åŒ…å«å®ƒ æ˜¾å¼ç»‘å®šJSæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œcall(..)å’Œapply(..)å®ƒä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯ç»™thiså‡†å¤‡çš„ï¼ŒæŽ¥ç€åœ¨è°ƒç”¨å‡½æ•°æ—¶å°†å…¶ç»‘å®šåˆ°thisã€‚å› ä¸ºå¯ä»¥ç›´æŽ¥æŒ‡å®šthisçš„ç»‘å®šå¯¹è±¡ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºthisã€‚ ç®€å•åœ°è¯´ å½“ä¸€ä¸ªå‡½æ•°è¢«callå’Œapplyè°ƒç”¨æ—¶ï¼Œthiså°±æ˜¯ä¼ å…¥çš„å¯¹è±¡ 12345678var obj = &#123; x: 10&#125;;var fpo = function () &#123; console.log(this) //obj console.log(this.x) //10&#125;foo.call(obj) ï¼ˆå¦‚æžœä¼ å…¥äº†åŽŸå§‹å€¼æ¥å½“åšthisçš„ç»‘å®šå¯¹è±¡ï¼Œè¿™ä¸ªåŽŸå§‹å€¼ä¼šè½¬åŒ–æˆå®ƒçš„å¯¹è±¡å½¢å¼ï¼Œä¹Ÿå°±æ˜¯new String()ã€new Boolean()ã€new Numbe()ï¼Œé€šå¸¸è¢«ç§°ä¸ºè£…ç®±ï¼‰ å¦å¤– å¦‚æžœæŠŠ null æˆ– undefined ä½œä¸ºthisçš„ç»‘å®šå¯¹è±¡ä¼ å…¥ callã€applyã€bind ï¼Œè¿™äº›å€¼åœ¨è°ƒç”¨æ—¶ä¼šå¿½ç•¥ï¼Œå®žé™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™ new ç»‘å®šæ‰€è°“æž„é€ å‡½æ•°ï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªå‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆobjectï¼‰ã€‚è¿™æ—¶ï¼Œthiså°±æŒ‡è¿™ä¸ªæ–°å¯¹è±¡ã€‚å…¶å®žä¸¥æ ¼æ¥è¯´ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½å¯ä»¥newä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯æœ‰äº›å‡½æ•°çš„å®šä¹‰æ˜¯ä¸ºäº†newä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæœ‰äº›å‡½æ•°åˆ™ä¸æ˜¯ã€‚å¦å¤–æ³¨æ„ï¼Œçº¦å®šæž„é€ å‡½æ•°çš„å‡½æ•°åç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ã€‚ ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œ åˆ›å»ºï¼ˆæž„é€ ï¼‰ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[Prototype]] è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„this å¦‚æžœå‡½æ•°æ²¡æœ‰è¿”å›žå…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆnewè¡¨è¾¾å¼çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›žè¿™ä¸ªæ–°å¯¹è±¡ ä¼˜å…ˆçº§åˆ¤æ–­thisæ ¹æ®å››ç§è§„åˆ™çš„ä¼˜å…ˆçº§ï¼Œæ¥åˆ¤æ–­å‡½æ•°åœ¨æŸä¸ªä½ç½®åº”ç”¨çš„æ˜¯å“ªæ¡è§„åˆ™ å‡½æ•°æ˜¯å¦åœ¨ new ä¸­è°ƒç”¨ï¼Œæ˜¯çš„è¯thisç»‘å®šçš„æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡ å‡½æ•°æ˜¯å¦é€šè¿‡ callã€apply è°ƒç”¨ï¼Œæ˜¯çš„è¯thisç»‘å®šçš„æ˜¯æŒ‡å®šçš„å¯¹è±¡ å‡½æ•°æ˜¯å¦åœ¨æŸä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ä¸­è°ƒç”¨ï¼Œæ˜¯çš„è¯thisç»‘å®šçš„æ˜¯å“ªä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ å¦‚æžœéƒ½ä¸æ˜¯çš„è¯ï¼Œé‡‡ç”¨é»˜è®¤ç»‘å®šï¼Œéžä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼Œä¸¥æ ¼æ¨¡å¼æ˜¯undefined åŒ¿åå‡½æ•°çš„thisæŒ‡å‘è¯·çœ‹ä¸‹é¢çš„ä»£ç ã€‚ 1234567var obj =&#123; foo: function () &#123; console.log(this); &#125;&#125;;obj.foo() // obj ä¸Šé¢ä»£ç ä¸­ï¼Œobj.fooæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œå®ƒå†…éƒ¨çš„thisæŒ‡å‘objã€‚ ä½†æ˜¯ï¼Œåªæœ‰è¿™ä¸€ç§ç”¨æ³•ï¼ˆç›´æŽ¥åœ¨objå¯¹è±¡ä¸Šè°ƒç”¨fooæ–¹æ³•ï¼‰ï¼ŒthisæŒ‡å‘objï¼›å…¶ä»–ç”¨æ³•æ—¶ï¼Œthiséƒ½æŒ‡å‘ä»£ç å—å½“å‰æ‰€åœ¨å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸ºwindowå¯¹è±¡ï¼‰ã€‚ 12345678// æƒ…å†µä¸€(obj.foo = obj.foo)() // window// æƒ…å†µäºŒ(false || obj.foo)() // window// æƒ…å†µä¸‰(1, obj.foo)() // window ä¸Šé¢ä»£ç ä¸­ï¼Œobj.fooå…ˆè¿ç®—å†æ‰§è¡Œï¼Œå³ä½¿å€¼æ ¹æœ¬æ²¡æœ‰å˜åŒ–ï¼Œthisä¹Ÿä¸å†æŒ‡å‘objäº†ã€‚è¿™æ˜¯å› ä¸ºè¿™æ—¶å®ƒå°±è„±ç¦»äº†è¿è¡ŒçŽ¯å¢ƒobjï¼Œè€Œæ˜¯åœ¨å…¨å±€çŽ¯å¢ƒæ‰§è¡Œã€‚ å¯ä»¥è¿™æ ·ç†è§£ï¼Œåœ¨ JavaScript å¼•æ“Žå†…éƒ¨ï¼Œobjå’Œobj.fooå‚¨å­˜åœ¨ä¸¤ä¸ªå†…å­˜åœ°å€ï¼Œç®€ç§°ä¸ºM1å’ŒM2ã€‚åªæœ‰obj.foo()è¿™æ ·è°ƒç”¨æ—¶ï¼Œæ˜¯ä»ŽM1è°ƒç”¨M2ï¼Œå› æ­¤thisæŒ‡å‘objã€‚ä½†æ˜¯ï¼Œä¸Šé¢ä¸‰ç§æƒ…å†µï¼Œéƒ½æ˜¯ç›´æŽ¥å–å‡ºM2è¿›è¡Œè¿ç®—ï¼Œç„¶åŽå°±åœ¨å…¨å±€çŽ¯å¢ƒæ‰§è¡Œè¿ç®—ç»“æžœï¼ˆè¿˜æ˜¯M2ï¼‰ï¼Œå› æ­¤thisæŒ‡å‘å…¨å±€çŽ¯å¢ƒã€‚ ä¸Šé¢ä¸‰ç§æƒ…å†µç­‰åŒäºŽä¸‹é¢çš„ä»£ç ã€‚ 123456789101112131415161718// æƒ…å†µä¸€(obj.foo = function () &#123; console.log(this);&#125;)()// ç­‰åŒäºŽ(function () &#123; console.log(this);&#125;)()// æƒ…å†µäºŒ(false || function () &#123; console.log(this);&#125;)()// æƒ…å†µä¸‰(1, function () &#123; console.log(this);&#125;)() å…¶å®žå¯ä»¥ç®€å•è®¤ä¸º åŒ¿åå‡½æ•°çš„thisæŒ‡å‘å°±æ˜¯window DOMå¯¹è±¡ç»‘å®šäº‹ä»¶åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­thisä»£è¡¨äº‹ä»¶æºDOMå¯¹è±¡ï¼ˆä½Žç‰ˆæœ¬IEæœ‰bugï¼ŒæŒ‡å‘äº†windowï¼‰ ES6 ç®­å¤´å‡½æ•°ç¨å¾…è¡¥å…… å‡½æ•°çš„æ‰§è¡ŒçŽ¯å¢ƒJavaScriptä¸­çš„å‡½æ•°æ—¢å¯ä»¥è¢«å½“ä½œæ™®é€šå‡½æ•°æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•æ‰§è¡Œï¼Œè¿™æ˜¯å¯¼è‡´ this å«ä¹‰å¦‚æ­¤ä¸°å¯Œçš„ä¸»è¦åŽŸå›  ä¸€ä¸ªå‡½æ•°è¢«æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡ŒçŽ¯å¢ƒï¼ˆExecutionContextï¼‰ï¼Œå‡½æ•°çš„æ‰€æœ‰çš„è¡Œä¸ºå‡å‘ç”Ÿåœ¨æ­¤æ‰§è¡ŒçŽ¯å¢ƒä¸­ï¼Œæž„å»ºè¯¥æ‰§è¡ŒçŽ¯å¢ƒæ—¶ï¼ŒJavaScript é¦–å…ˆä¼šåˆ›å»º argumentså˜é‡ï¼Œå…¶ä¸­åŒ…å«è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•° æŽ¥ä¸‹æ¥åˆ›å»ºä½œç”¨åŸŸé“¾ï¼Œç„¶åŽåˆå§‹åŒ–å˜é‡ã€‚é¦–å…ˆåˆå§‹åŒ–å‡½æ•°çš„å½¢å‚è¡¨ï¼Œå€¼ä¸º argumentså˜é‡ä¸­å¯¹åº”çš„å€¼ï¼Œå¦‚æžœ argumentså˜é‡ä¸­æ²¡æœ‰å¯¹åº”å€¼ï¼Œåˆ™è¯¥å½¢å‚åˆå§‹åŒ–ä¸º undefinedã€‚ å¦‚æžœè¯¥å‡½æ•°ä¸­å«æœ‰å†…éƒ¨å‡½æ•°ï¼Œåˆ™åˆå§‹åŒ–è¿™äº›å†…éƒ¨å‡½æ•°ã€‚å¦‚æžœæ²¡æœ‰ï¼Œç»§ç»­åˆå§‹åŒ–è¯¥å‡½æ•°å†…å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ­¤æ—¶è¿™äº›å˜é‡åˆå§‹åŒ–ä¸º undefinedï¼Œå…¶èµ‹å€¼æ“ä½œåœ¨æ‰§è¡ŒçŽ¯å¢ƒï¼ˆExecutionContextï¼‰åˆ›å»ºæˆåŠŸåŽï¼Œå‡½æ•°æ‰§è¡Œæ—¶æ‰ä¼šæ‰§è¡Œï¼Œè¿™ç‚¹å¯¹äºŽæˆ‘ä»¬ç†è§£JavaScriptä¸­çš„å˜é‡ä½œç”¨åŸŸéžå¸¸é‡è¦ï¼Œæœ€åŽä¸ºthiså˜é‡èµ‹å€¼ï¼Œä¼šæ ¹æ®å‡½æ•°è°ƒç”¨æ–¹å¼çš„ä¸åŒï¼Œèµ‹ç»™thiså…¨å±€å¯¹è±¡ï¼Œå½“å‰å¯¹è±¡ç­‰ è‡³æ­¤å‡½æ•°çš„æ‰§è¡ŒçŽ¯å¢ƒï¼ˆExecutionContextï¼‰åˆ›å»ºæˆåŠŸï¼Œå‡½æ•°å¼€å§‹é€è¡Œæ‰§è¡Œï¼Œæ‰€éœ€å˜é‡å‡ä»Žä¹‹å‰æž„å»ºå¥½çš„æ‰§è¡ŒçŽ¯å¢ƒï¼ˆExecutionContextï¼‰ä¸­è¯»å– ä¸‰ç§å˜é‡ å®žä¾‹å˜é‡ï¼šï¼ˆthisï¼‰ç±»çš„å®žä¾‹æ‰èƒ½è®¿é—®åˆ°çš„å˜é‡ é™æ€å˜é‡ï¼šï¼ˆå±žæ€§ï¼‰ç›´æŽ¥ç±»åž‹å¯¹è±¡èƒ½è®¿é—®åˆ°çš„å˜é‡ ç§æœ‰å˜é‡ï¼šï¼ˆå±€éƒ¨å˜é‡ï¼‰å½“å‰ä½œç”¨åŸŸå†…æœ‰æ•ˆçš„å˜é‡ çœ‹ä¸ªä¾‹å­ 123456789101112131415function ClassA()&#123; var a = 1; //ç§æœ‰å˜é‡ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨å¯ä»¥è®¿é—® this.b = 2; //å®žä¾‹å˜é‡ï¼Œåªæœ‰å®žä¾‹å¯ä»¥è®¿é—®&#125;ClassA.c = 3; // é™æ€å˜é‡ï¼Œä¹Ÿå°±æ˜¯å±žæ€§ï¼Œç±»åž‹è®¿é—®console.log(a); // errorconsole.log(ClassA.b) // undefinedconsole.log(ClassA.c) //3var classa = new ClassA();console.log(classa.a);//undefinedconsole.log(classa.b);// 2console.log(classa.c);//undefined callã€applyã€bindè¯¦è§£[ã€ŠJavaScript æ ‡å‡†å‚è€ƒæ•™ç¨‹ï¼ˆalphaï¼‰ã€‹ï¼Œby é˜®ä¸€å³° ](http://javascript.ruanyifeng.com/oop/this.html#toc3) bind()çš„polyfillå®žçŽ°12345678910if (!Function.prototype.bind)&#123; Function.prototype.bind = function () &#123; var fn = this; var context = arguments[0]; var args = Array.prototype.slice.call(arguments, 1); return function () &#123; return fn.apply(context, args) &#125; &#125;&#125; æ€»ç»“JavaScript è¯­è¨€ä¹‹ä¸­ï¼Œä¸€åˆ‡çš†å¯¹è±¡ï¼Œè¿è¡ŒçŽ¯å¢ƒä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°éƒ½æ˜¯åœ¨æŸä¸ªå¯¹è±¡ä¹‹ä¸­è¿è¡Œï¼Œthiså°±æ˜¯è¿™ä¸ªå¯¹è±¡ï¼ˆçŽ¯å¢ƒï¼‰ã€‚ä½†æ˜¯ JavaScript æ”¯æŒè¿è¡ŒçŽ¯å¢ƒåŠ¨æ€åˆ‡æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œthisçš„æŒ‡å‘æ˜¯åŠ¨æ€çš„ï¼Œæ²¡æœ‰åŠžæ³•äº‹å…ˆç¡®å®šåˆ°åº•æŒ‡å‘å“ªä¸ªå¯¹è±¡ å‚è€ƒèµ„æ–™ä¹¦ç±ï¼šã€Šä½ ä¸çŸ¥é“çš„JavaScriptâ€”â€”ä¸Šå·ã€‹[this å…³é”®å­— ã€ŠJavaScript æ ‡å‡†å‚è€ƒæ•™ç¨‹ï¼ˆalphaï¼‰ã€‹ï¼Œby é˜®ä¸€å³° ](http://javascript.ruanyifeng.com/oop/this.html) this ç›¸å…³é—®é¢˜é—®é¢˜1ï¼š applyã€call ã€bindæœ‰ä»€ä¹ˆä½œç”¨ï¼Œä»€ä¹ˆåŒºåˆ« call:è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºå‡½æ•°çš„thisï¼ŒéšåŽçš„å‚æ•°ä½œä¸ºargumenstä¼ å…¥ apply:è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºå‡½æ•°çš„thisï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å†…ä¸ºè¦ä¼ å…¥çš„å‚æ•° bind:è¿”å›žä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºå‡½æ•°çš„thisï¼Œç¬¬äºŒä¸ªå¼€å§‹ä½œä¸ºå‡½æ•°çš„å‚æ•° åŒºåˆ«ï¼š apply ã€ call ã€bind ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ï¼› apply ã€ call ã€bind ä¸‰è€…éƒ½å¯ä»¥åˆ©ç”¨åŽç»­å‚æ•°ä¼ å‚ï¼› bind æ˜¯è¿”å›žå¯¹åº”å‡½æ•°ï¼Œä¾¿äºŽç¨åŽè°ƒç”¨ ï¼›apply ã€call åˆ™æ˜¯ç«‹å³è°ƒç”¨ ã€‚å³å½“ä½ å¸Œæœ›æ”¹å˜ä¸Šä¸‹æ–‡çŽ¯å¢ƒä¹‹åŽå¹¶éžç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯å›žè°ƒæ‰§è¡Œçš„æ—¶å€™ï¼Œä½¿ç”¨ bind() æ–¹æ³•ï¼Œè€Œ apply/call åˆ™ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ã€‚ é—®é¢˜2ï¼š ä»¥ä¸‹ä»£ç è¾“å‡ºä»€ä¹ˆ?123456789var john = &#123; firstName: "John" &#125;function func() &#123; alert(this.firstName + ": hi!")&#125;john.sayHi = funcjohn.sayHi()// John : hi! é—®é¢˜3ï¼š ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ12345func() function func() &#123; alert(this)&#125;// window é—®é¢˜4ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ12345678document.addEventListener('click', function(e)&#123; console.log(this); setTimeout(function()&#123; console.log(this); &#125;, 200);&#125;, false);//document//window é—®é¢˜5ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Œwhy12345678910var john = &#123; firstName: "John" &#125;function func() &#123; alert( this.firstName )&#125;func.call(john)// John// call ä¼ å…¥å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒthisæŒ‡å‘äº†johnå¯¹è±¡ é—®é¢˜6ï¼š ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚ä½•ä¿®æ”¹123456789101112var module= &#123; bind: function()&#123; $btn.on('click', function()&#123; console.log(this) //thisæŒ‡ä»€ä¹ˆ this.showMsg(); &#125;) &#125;, showMsg: function()&#123; console.log('é¥¥äººè°·'); &#125;&#125; ä¿®æ”¹ 12345678910111213var module= &#123; bind: function()&#123; var _this = this //_this = this,å¼ºåˆ¶æŒ‡å‘obj $btn.on('click', function()&#123; console.log(this) _this.showMsg(); &#125;) &#125;, showMsg: function()&#123; console.log('é¥¥äººè°·'); &#125;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScirpt</tag>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PCé˜»æ­¢æ»šåŠ¨äº‹ä»¶]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FPC%E9%98%BB%E6%AD%A2%E6%BB%9A%E5%8A%A8%E4%BA%8B%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[pcé˜»æ­¢æ»šåŠ¨äº‹ä»¶è™½ç„¶è¿™æ ·å¯ä»¥é˜»æ­¢æ»šåŠ¨äº‹ä»¶ä½†æ˜¯æ— æ³•åˆ é™¤æ»šåŠ¨äº‹ä»¶,åŽŸå› æ˜¯æ— æ³•åˆ é™¤å¯¹åº”åŒ¿åå‡½æ•°12345678window.addEventListener("wheel",function(e)&#123; e.preventDefault(0;&#125;)window.addEventListener("keydown",function(e)&#123; if(e.key == "ArrowDown" || e.key == "ArrowUp")&#123; e.preventDefault(); &#125;&#125;) æ­£ç¡®æ·»åŠ åˆ é™¤é˜»æ­¢æ»šåŠ¨äº‹ä»¶1234567let cancelScroll = function (event) &#123; event.preventDefault()&#125; window.addEventListener('wheel',cancelScroll) window.addEventListener('keydown',cancelScroll) window.removeEventListener('wheel',cancelScroll) window.removeEventListener('keydown',cancelScroll) ç§»åŠ¨ç«¯æ–¹æ³•æ–¹æ¡ˆä¸€ï¼šæŽ§åˆ¶overflowç¦æ­¢æ»šåŠ¨ï¼ˆiosä¸å…¼å®¹ï¼‰è¦åˆ¶ä½œè¿™ä¸ªæ•ˆæžœåœ¨PCç«¯éžå¸¸ç®€å•ï¼Œåªéœ€è¦è®¾ç½®htmlçš„é«˜åº¦ä¸º100%å æ»¡å±å¹•ï¼Œå¹¶ä¸”å°†htmlçš„overflowè®¾ç½®ä¸ºhiddenï¼Œå³å¯ä¿è¯é¡µé¢ä¸å¯æ»šåŠ¨ã€‚ä½†æ˜¯åŒæ ·çš„é—®é¢˜åœ¨ç§»åŠ¨ç«¯æƒ…å†µå°±æœ‰æ‰€åŒºåˆ«ã€‚ä»…ä»…è®¾ç½®htmlçš„ä¸Šåˆ—å±žæ€§ï¼Œåœ¨ç§»åŠ¨ç«¯ä»ç„¶æ— æ³•ç¦æ­¢é¡µé¢è¶…å‡ºéƒ¨åˆ†çš„æ»šåŠ¨ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸‹é¢çš„ä»£ç æ‰èƒ½åœ¨å¼¹æ¡†å‡ºçŽ°çš„æ—¶å€™ç¦æ­¢é¡µé¢æ»šåŠ¨ï¼š html.style.overflow=â€hiddenâ€;html.style.height=â€100%â€;body.style.overflow=â€hiddenâ€;body.style.height=â€100%â€;1234åŽŸå› æ˜¯å› ä¸ºç§»åŠ¨ç«¯æ˜¯åŸºäºŽtouchäº‹ä»¶ï¼Œè¦ç¦æ­¢åŸºäºŽtouchäº‹ä»¶çš„æ»šåŠ¨ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨å¯¹htmlç¦æ­¢æ»šåŠ¨çš„åŸºç¡€ä¹‹ä¸Šï¼Œå†å°†éœ€è¦ç¦æ­¢æ»šåŠ¨çš„å†…å®¹ä¸Šå†å¢žåŠ ä¸€ä¸ªåŒ…è£¹å±‚å—çº§å…ƒç´ ï¼Œç„¶åŽå°†è¿™ä¸ªåŒ…è£¹å±‚å—çº§å…ƒç´ é«˜åº¦è®¾ç½®ä¸º100%å¹¶è®¾ç½®overflow:hidden;ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œæˆ‘ä»¬è®¤ä¸ºbodyåŒ…è£¹äº†æ•´ä¸ªé¡µé¢ï¼Œæ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„å—çº§å…ƒç´ ï¼Œå°†ä»–ä¹Ÿè®¾ç½®ä¸ºç¦æ­¢æ»šåŠ¨ï¼Œå°±å¯ä»¥ä¿è¯ç§»åŠ¨ç«¯é¡µé¢çš„æ»‘åŠ¨æ—¶é—´ä¸ä¼šè§¦å‘é¡µé¢æ»šåŠ¨ã€‚å½“ç”¨æˆ·å…³é—­äº†å¼¹æ¡†ï¼Œé¡µé¢ä¹Ÿå°±æ¢å¤æ­£å¸¸ï¼Œæˆ‘ä»¬è®¾ç½®å¦‚ä¸‹CSSæ ·å¼å±žæ€§æ¥è¿˜åŽŸæ•´ä¸ªé¡µé¢çš„æ»šåŠ¨æ•ˆæžœï¼š html.style.overflow=â€visibleâ€;html.style.height=â€autoâ€;body.style.overflow=â€visibleâ€;body.style.height=â€autoâ€;1234è¿™äº›æ ·å¼æ­£æ˜¯å¯¹åº”CSSå±žæ€§çš„é»˜è®¤æ ·å¼ã€‚ç„¶è€Œè¿™ä¸ªæ–¹æ¡ˆæœ‰ä¸€ä¸ªç¼ºé™·ï¼Œå°±æ˜¯iosç³»ç»Ÿä¸‹ä¸å…¼å®¹ï¼Œé»‘å¹•çš„æ•ˆæžœæ²¡æ³•é˜»æ­¢é¡µé¢çš„æ»šåŠ¨ã€‚ä¸‹é¢ä»‹ç»ç§»åŠ¨ç«¯çš„å¦ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ æ–¹æ¡ˆäºŒï¼šç»å¯¹/å›ºå®šå¸ƒå±€é˜»æ­¢æ‰‹åŠ¿æ»šåŠ¨äº‹ä»¶å†’æ³¡ï¼ˆPCç«¯æ— æ•ˆï¼‰æ­£æ˜¯å› ä¸ºç§»åŠ¨ç«¯çš„æ»šåŠ¨åŸºäºŽå±å¹•çš„touchäº‹ä»¶ï¼Œå› æ­¤è¯žç”Ÿäº†æ–¹æ¡ˆäºŒï¼ˆæ‰‹æœºæ·˜å®å°±ä½¿ç”¨äº†è¿™ç§æ–¹æ¡ˆï¼‰ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸¤ä¸ªå‰æçŸ¥è¯†ç‚¹ï¼š1ã€é‡å çš„ä¸¤ä¸ªé¡µé¢å…ƒç´ ï¼Œz-indexå€¼æ›´é«˜çš„ä¼šä¼˜å…ˆè§¦å‘äº‹ä»¶ç›‘å¬ï¼Œä»Žè€Œå¯ä»¥åœ¨æ­¤æŽ§åˆ¶æ˜¯å¦è®©äº‹ä»¶æµç»§ç»­ï¼›2ã€ç§»åŠ¨ç«¯æ»šåŠ¨çš„touchäº‹ä»¶ï¼ŒåŸºäºŽäº‹ä»¶æµã€‚æœ‰äº†ä¸Šé¢ä¸¤ä¸ªçŸ¥è¯†ç‚¹çš„åŸºç¡€ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥ç†è§£è¿™ç§æ–¹æ¡ˆçš„è®¾è®¡æ€è·¯ã€‚æ–¹æ¡ˆäºŒçš„åŽŸç†æ˜¯ï¼šä¸å¯¹åŽŸé¡µé¢è¿›è¡Œä»»ä½•æ”¹åŠ¨ï¼Œä»…ä»…åªæ˜¯ç”¨ä¸€ä¸ªæ‹¥æœ‰æ›´é«˜z-indexå€¼çš„ï¼Œå¸ƒå±€ä¸ºabsoluteæˆ–è€…fixedå¸ƒå±€çš„é»‘å¹•ï¼ˆé•¿å®½100%ï¼‰æ¥æŒ¡ä½æ•´ä¸ªé¡µé¢ï¼Œå¹¶ä¸”ç›‘å¬é»‘å¹•çš„touchstartäº‹ä»¶ï¼Œåœ¨touchstartäº‹ä»¶å†…ç»“æŸäº‹ä»¶æµï¼Œä»Žè€Œé˜»æŒ¡äº‹ä»¶æµç»§ç»­ã€‚è¿™æ ·ï¼Œèƒ½å¤Ÿäº§ç”Ÿæ»šåŠ¨æ•ˆæžœçš„touchäº‹ä»¶å°±ä¼ ä¸åˆ°é¡µé¢ä¸Šï¼Œä¹Ÿå°±ä¸ä¼šå‘ç”Ÿæ»šåŠ¨ã€‚ ä¸‹é¢è´´ä¸Šæ–¹æ¡ˆäºŒçš„å®Œæ•´æµ‹è¯•æºä»£ç ï¼š &lt;!DOCTYPE html&gt; .main-content{ position:relative; width:100%; background-color:#ccc; height:2000px; } 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273 .main-content .trigger&#123; width:200px; height:100px; font-size:30px; color:#000; &#125; .main-content .bottom&#123; position:absolute; bottom:0; left:0; width:100%; height:200px; background-color:red; &#125; .black-shield&#123; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(10,10,10,0.4); z-index:10; &#125; .black-shield .info&#123; font-size:40px; color:#000; border:1px solid; z-index:20; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="main-content"&gt; &lt;button id="trigger" class="trigger"&gt;å¼€/å…³&lt;/button&gt; &lt;div class="bottom"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div id="shield" class="black-shield" style="display:none;"&gt; &lt;div id="info" class="info"&gt;å½“å‰é»‘å¹•å¼¹å‡ºåŽï¼Œé¡µé¢åº”è¯¥ä¸å¯æ»‘åŠ¨ï¼Œç‚¹å‡»å½“å‰æ–‡æœ¬ï¼Œå…³é—­é»‘å¹•&lt;/div&gt; &lt;/div&gt; &lt;script&gt; function test2()&#123; var showShield=false; var shield=document.getElementById("shield"); var trigger=document.getElementById("trigger"); var info=document.getElementById("info"); var body=document.querySelector("body"); var html=document.querySelector("html"); //ç‚¹å‡»æ˜¾ç¤ºé»‘å¹• trigger.addEventListener("click",function()&#123; shield.style.display="block"; &#125;,false); //ç‚¹å‡»å…³é—­é»‘å¹• info.addEventListener("touchstart",function()&#123; shield.style.display="none"; &#125;,false); //åœ¨é»‘å¹•å±‚é˜»æŒ¡touchäº‹ä»¶ shield.addEventListener("touchstart",function(e)&#123; e.stopPropagation(); e.preventDefault(); &#125;,false); &#125; test2(); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>æ»šåŠ¨äº‹ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSçš„newåˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FJS%E7%9A%84new%E5%88%B0%E5%BA%95%E6%98%AF%E5%B9%B2%E4%BB%80%E4%B9%88%E7%9A%84%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[å‰è¨€å¤§éƒ¨åˆ†è®² new çš„æ–‡ç« ä¼šä»Žé¢å‘å¯¹è±¡çš„æ€è·¯è®²èµ·ï¼Œä½†æ˜¯æˆ‘å§‹ç»ˆè®¤ä¸ºï¼Œåœ¨è§£é‡Šä¸€ä¸ªäº‹ç‰©çš„æ—¶å€™ï¼Œä¸åº”è¯¥å¼•å…¥å¦ä¸€ä¸ªæ›´å¤æ‚çš„äº‹ç‰©ã€‚ ä»Šå¤©æˆ‘ä»Žã€Œçœä»£ç ã€çš„è§’åº¦æ¥è®² newã€‚ -â€”â€”â€”â€”â€”â€”â€”â€”â€“ æƒ³è±¡æˆ‘ä»¬åœ¨åˆ¶ä½œä¸€ä¸ªç­–ç•¥ç±»æˆ˜äº‰æ¸¸æˆï¼ŒçŽ©å®¶å¯ä»¥æ“ä½œä¸€å †å£«å…µæ”»å‡»æ•Œæ–¹ã€‚ æˆ‘ä»¬ç€é‡æ¥ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªæ¸¸æˆé‡Œé¢çš„ã€Œåˆ¶é€ å£«å…µã€çŽ¯èŠ‚ã€‚ ä¸€ä¸ªå£«å…µçš„åœ¨è®¡ç®—æœºé‡Œå°±æ˜¯ä¸€å †å±žæ€§ï¼Œå¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬åªéœ€è¦è¿™æ ·å°±å¯ä»¥åˆ¶é€ ä¸€ä¸ªå£«å…µï¼š 12345678910111213var å£«å…µ = &#123; ID: 1, // ç”¨äºŽåŒºåˆ†æ¯ä¸ªå£«å…µ å…µç§:"ç¾Žå›½å¤§å…µ", æ”»å‡»åŠ›:5, ç”Ÿå‘½å€¼:42, è¡Œèµ°:function()&#123; /*èµ°ä¿©æ­¥çš„ä»£ç */&#125;, å¥”è·‘:function()&#123; /*ç‹‚å¥”çš„ä»£ç */ &#125;, æ­»äº¡:function()&#123; /*Go die*/ &#125;, æ”»å‡»:function()&#123; /*ç³Šä»–ç†Šè„¸*/ &#125;, é˜²å¾¡:function()&#123; /*æŠ¤è„¸*/ &#125;&#125;å…µè¥.åˆ¶é€ (å£«å…µ) åˆ¶é€ ä¸€ç™¾ä¸ªå£«å…µå¦‚æžœéœ€è¦åˆ¶é€  100 ä¸ªå£«å…µæ€Žä¹ˆåŠžå‘¢ï¼Ÿ å¾ªçŽ¯ 100 æ¬¡å§ï¼š 123456789101112131415161718var å£«å…µä»¬ = []var å£«å…µfor(var i=0; i&lt;100; i++)&#123; å£«å…µ = &#123; ID: i, // ID ä¸èƒ½é‡å¤ å…µç§:&quot;ç¾Žå›½å¤§å…µ&quot;, æ”»å‡»åŠ›:5, ç”Ÿå‘½å€¼:42, è¡Œèµ°:function()&#123; /*èµ°ä¿©æ­¥çš„ä»£ç */&#125;ï¼Œ å¥”è·‘:function()&#123; /*ç‹‚å¥”çš„ä»£ç */ &#125;, æ­»äº¡:function()&#123; /*Go die*/ &#125;, æ”»å‡»:function()&#123; /*ç³Šä»–ç†Šè„¸*/ &#125;, é˜²å¾¡:function()&#123; /*æŠ¤è„¸*/ &#125; &#125; å£«å…µä»¬.push(å£«å…µ)&#125;å…µè¥.æ‰¹é‡åˆ¶é€ (å£«å…µä»¬) å“Žå‘€å¥½ç®€å•ã€‚ è´¨ç–‘ä¸Šé¢çš„ä»£ç å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæµªè´¹äº†å¾ˆå¤šå†…å­˜ã€‚ è¡Œèµ°ã€å¥”è·‘ã€æ­»äº¡ã€æ”»å‡»ã€é˜²å¾¡è¿™äº”ä¸ªåŠ¨ä½œå¯¹äºŽæ¯ä¸ªå£«å…µå…¶å®žæ˜¯ä¸€æ ·çš„ï¼Œåªéœ€è¦å„è‡ªå¼•ç”¨åŒä¸€ä¸ªå‡½æ•°å°±å¯ä»¥äº†ï¼Œæ²¡å¿…è¦é‡å¤åˆ›å»º 100 ä¸ªè¡Œèµ°ã€100ä¸ªå¥”è·‘â€¦â€¦ è¿™äº›å£«å…µçš„å…µç§å’Œæ”»å‡»åŠ›éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ²¡å¿…è¦åˆ›å»º 100 æ¬¡ã€‚ åªæœ‰ ID å’Œç”Ÿå‘½å€¼éœ€è¦åˆ›å»º 100 æ¬¡ï¼Œå› ä¸ºæ¯ä¸ªå£«å…µæœ‰è‡ªå·±çš„ ID å’Œç”Ÿå‘½å€¼ã€‚ æ”¹è¿›çœ‹è¿‡æˆ‘ä»¬çš„ä¸“æ ä»¥å‰æ–‡ç« ï¼ˆJS åŽŸåž‹é“¾ï¼‰çš„åŒå­¦è‚¯å®šçŸ¥é“ï¼Œç”¨åŽŸåž‹é“¾å¯ä»¥è§£å†³é‡å¤åˆ›å»ºçš„é—®é¢˜ï¼šæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªã€Œå£«å…µåŽŸåž‹ã€ï¼Œç„¶åŽè®©ã€Œå£«å…µã€çš„ proto æŒ‡å‘ã€Œå£«å…µåŽŸåž‹ã€ 123456789101112131415161718192021222324var å£«å…µåŽŸåž‹ = &#123; å…µç§:&quot;ç¾Žå›½å¤§å…µ&quot;, æ”»å‡»åŠ›:5, è¡Œèµ°:function()&#123; /*èµ°ä¿©æ­¥çš„ä»£ç */&#125;ï¼Œ å¥”è·‘:function()&#123; /*ç‹‚å¥”çš„ä»£ç */ &#125;, æ­»äº¡:function()&#123; /*Go die*/ &#125;, æ”»å‡»:function()&#123; /*ç³Šä»–ç†Šè„¸*/ &#125;, é˜²å¾¡:function()&#123; /*æŠ¤è„¸*/ &#125;&#125;var å£«å…µä»¬ = []var å£«å…µfor(var i=0; i&lt;100; i++)&#123; å£«å…µ = &#123; ID: i, // ID ä¸èƒ½é‡å¤ ç”Ÿå‘½å€¼:42 &#125; /*å®žé™…å·¥ä½œä¸­ä¸è¦è¿™æ ·å†™ï¼Œå› ä¸º __proto__ ä¸æ˜¯æ ‡å‡†å±žæ€§*/ å£«å…µ.__proto__ = å£«å…µåŽŸåž‹ å£«å…µä»¬.push(å£«å…µ)&#125;å…µè¥.æ‰¹é‡åˆ¶é€ (å£«å…µä»¬) ä¼˜é›…ï¼Ÿæœ‰äººæŒ‡å‡ºåˆ›å»ºä¸€ä¸ªå£«å…µçš„ä»£ç åˆ†æ•£åœ¨ä¸¤ä¸ªåœ°æ–¹å¾ˆä¸ä¼˜é›…ï¼ŒäºŽæ˜¯æˆ‘ä»¬ç”¨ä¸€ä¸ªå‡½æ•°æŠŠè¿™ä¸¤éƒ¨åˆ†è”ç³»èµ·æ¥ï¼š 12345678910111213141516171819202122function å£«å…µ(ID)&#123; var ä¸´æ—¶å¯¹è±¡ = &#123;&#125; ä¸´æ—¶å¯¹è±¡.__proto__ = å£«å…µ.åŽŸåž‹ ä¸´æ—¶å¯¹è±¡.ID = ID ä¸´æ—¶å¯¹è±¡.ç”Ÿå‘½å€¼ = 42 return ä¸´æ—¶å¯¹è±¡&#125;å£«å…µ.åŽŸåž‹ = &#123; å…µç§:&quot;ç¾Žå›½å¤§å…µ&quot;, æ”»å‡»åŠ›:5, è¡Œèµ°:function()&#123; /*èµ°ä¿©æ­¥çš„ä»£ç */&#125;ï¼Œ å¥”è·‘:function()&#123; /*ç‹‚å¥”çš„ä»£ç */ &#125;, æ­»äº¡:function()&#123; /*Go die*/ &#125;, æ”»å‡»:function()&#123; /*ç³Šä»–ç†Šè„¸*/ &#125;, é˜²å¾¡:function()&#123; /*æŠ¤è„¸*/ &#125;&#125;// ä¿å­˜ä¸ºæ–‡ä»¶ï¼šå£«å…µ.js ç„¶åŽå°±å¯ä»¥æ„‰å¿«åœ°å¼•ç”¨ã€Œå£«å…µã€æ¥åˆ›å»ºå£«å…µäº†ï¼š 123456var å£«å…µä»¬ = []for(var i=0; i&lt;100; i++)&#123; å£«å…µä»¬.push(å£«å…µ(i))&#125;å…µè¥.æ‰¹é‡åˆ¶é€ (å£«å…µä»¬) JS ä¹‹çˆ¶çš„å…³æ€€JS ä¹‹çˆ¶åˆ›å»ºäº† new å…³é”®å­—ï¼Œå¯ä»¥è®©æˆ‘ä»¬å°‘å†™å‡ è¡Œä»£ç ï¼š åªè¦ä½ åœ¨å£«å…µå‰é¢ä½¿ç”¨ new å…³é”®å­—ï¼Œé‚£ä¹ˆå¯ä»¥å°‘åšå››ä»¶äº‹æƒ…ï¼š ä¸ç”¨åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼ˆä½ ä½¿ç”¨ã€Œthisã€å°±å¯ä»¥è®¿é—®åˆ°ä¸´æ—¶å¯¹è±¡ï¼‰ï¼› ä¸ç”¨ç»‘å®šåŽŸåž‹ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼ˆnew ä¸ºäº†çŸ¥é“åŽŸåž‹åœ¨å“ªï¼Œæ‰€ä»¥æŒ‡å®šåŽŸåž‹çš„åå­—ä¸º prototypeï¼‰ï¼› ä¸ç”¨ return ä¸´æ—¶å¯¹è±¡ï¼Œå› ä¸º new ä¼šå¸®ä½ åšï¼› ä¸è¦ç»™åŽŸåž‹æƒ³åå­—äº†ï¼Œå› ä¸º new æŒ‡å®šåå­—ä¸º prototypeã€‚ è¿™ä¸€æ¬¡æˆ‘ä»¬ç”¨ new æ¥å†™12345678910111213141516function å£«å…µ(ID)&#123; this.ID = ID this.ç”Ÿå‘½å€¼ = 42&#125;å£«å…µ.prototype = &#123; å…µç§:&quot;ç¾Žå›½å¤§å…µ&quot;, æ”»å‡»åŠ›:5, è¡Œèµ°:function()&#123; /*èµ°ä¿©æ­¥çš„ä»£ç */&#125;, å¥”è·‘:function()&#123; /*ç‹‚å¥”çš„ä»£ç */ &#125;, æ­»äº¡:function()&#123; /*Go die*/ &#125;, æ”»å‡»:function()&#123; /*ç³Šä»–ç†Šè„¸*/ &#125;, é˜²å¾¡:function()&#123; /*æŠ¤è„¸*/ &#125;&#125;// ä¿å­˜ä¸ºæ–‡ä»¶ï¼šå£«å…µ.js ç„¶åŽæ˜¯åˆ›å»ºå£«å…µï¼ˆåŠ äº†ä¸€ä¸ª new å…³é”®å­—ï¼‰ï¼š 123456var å£«å…µä»¬ = []for(var i=0; i&lt;100; i++)&#123; å£«å…µä»¬.push(new å£«å…µ(i))&#125;å…µè¥.æ‰¹é‡åˆ¶é€ (å£«å…µä»¬) new çš„ä½œç”¨ï¼Œå°±æ˜¯çœé‚£ä¹ˆå‡ è¡Œä»£ç ã€‚ï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„è¯­æ³•ç³–ï¼‰ æ³¨æ„ constructor å±žæ€§new æ“ä½œä¸ºäº†è®°å½•ã€Œä¸´æ—¶å¯¹è±¡æ˜¯ç”±å“ªä¸ªå‡½æ•°åˆ›å»ºçš„ã€ï¼Œæ‰€ä»¥é¢„å…ˆç»™ã€Œå£«å…µ.prototypeã€åŠ äº†ä¸€ä¸ª constructor å±žæ€§ï¼š 123å£«å…µ.prototype = &#123; constructor: å£«å…µ&#125; å¦‚æžœä½ é‡æ–°å¯¹ã€Œå£«å…µ.prototypeã€èµ‹å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ª constructor å±žæ€§å°±æ²¡äº†ï¼Œæ‰€ä»¥ä½ åº”è¯¥è¿™ä¹ˆå†™ï¼š 1234567å£«å…µ.prototype.å…µç§ = &quot;ç¾Žå›½å¤§å…µ&quot;å£«å…µ.prototype.æ”»å‡»åŠ› = 5å£«å…µ.prototype.è¡Œèµ° = function()&#123; /*èµ°ä¿©æ­¥çš„ä»£ç */&#125;å£«å…µ.prototype.å¥”è·‘ = function()&#123; /*ç‹‚å¥”çš„ä»£ç */ &#125;å£«å…µ.prototype.æ­»äº¡ = function()&#123; /*Go die*/ &#125;å£«å…µ.prototype.æ”»å‡» = function()&#123; /*ç³Šä»–ç†Šè„¸*/ &#125;å£«å…µ.prototype.é˜²å¾¡ = function()&#123; /*æŠ¤è„¸*/ &#125; æˆ–è€…ä½ ä¹Ÿå¯ä»¥è‡ªå·±ç»™ constructor é‡æ–°èµ‹å€¼ï¼š 12345678910å£«å…µ.prototype = &#123; constructor: å£«å…µ, å…µç§:&quot;ç¾Žå›½å¤§å…µ&quot;, æ”»å‡»åŠ›:5, è¡Œèµ°:function()&#123; /*èµ°ä¿©æ­¥çš„ä»£ç */&#125;, å¥”è·‘:function()&#123; /*ç‹‚å¥”çš„ä»£ç */ &#125;, æ­»äº¡:function()&#123; /*Go die*/ &#125;, æ”»å‡»:function()&#123; /*ç³Šä»–ç†Šè„¸*/ &#125;, é˜²å¾¡:function()&#123; /*æŠ¤è„¸*/ &#125;&#125; å®Œã€‚ æœ¬ç‰‡æ–‡ç« è½¬è½½è‡ªçŸ¥ä¹Žæ–¹æ–¹]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>new</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mathåº”ç”¨]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FMath%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ç”Ÿæˆä¸€ä¸ªéšæœºçš„ipåœ°å€12345678910function getRandIp()&#123; var arr = [] for(var i = 0;i&lt;4;i++)&#123; var random = Math.floor(Math.random()*256) arr.push(random) &#125; return arr.join('.')&#125;var ip = getRandIp()console.log(ip) å†™ä¸€ä¸ªå‡½æ•°ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºé¢œè‰²å­—ç¬¦ä¸²ï¼Œåˆæ³•çš„é¢œè‰²ä¸º#000000~ #ffffff123456789101112131415161718192021function getRandColor()&#123; var str = '0123456789abcdef' var arr = [] for(var i=0;i&lt;6;i++)&#123; var random = Math.floor((Math.random() * 16)) arr.push(str[random]) &#125; return '#' + arr.join('') &#125; var color = getRandColor() console.log(color) // #3e2f1b å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›žä»Žminåˆ°maxä¹‹é—´çš„ éšæœºæ•´æ•°ï¼ŒåŒ…æ‹¬minä¸åŒ…æ‹¬max ã€‚123456789function random(min,max)&#123; var random = Math.floor(Math.random()*(max-min)+min) return random &#125; console.log(random(1,10)) å†™ä¸€ä¸ªå‡½æ•°ï¼Œç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º n çš„éšæœºå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²å­—ç¬¦çš„å–å€¼èŒƒå›´åŒ…æ‹¬0åˆ°9ï¼Œaåˆ° zï¼ŒAåˆ°Zã€‚123456789101112131415161718192021function getRandStr(len)&#123; var basics = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'+'abcdefghijklmnopqrstuvwxyz'+'0123456789' var string = '' for(var i = 0;i&lt;len;i++)&#123; var index = Math.floor(Math.random()*basics.length) string+=basics.slice(index,index+1) &#125; return string &#125; var str = getRandStr(10); console.log(str)]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptè®¾è®¡æ¨¡å¼]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FJavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[JSè®¾è®¡æ¨¡å¼å¸¸è§ è®¾è®¡æ¨¡å¼æœ‰ æž„é€ å‡½æ•°æ¨¡å¼ constructor å·¥åŽ‚æ¨¡å¼ factory æ··åˆæ¨¡å¼ mixin æ¨¡å—æ¨¡å¼ module å•ä¾‹æ¨¡å¼ singleton è®¢é˜…å‘å¸ƒæ¨¡å¼ subscibe &amp; pulish è§‚å¯Ÿè€…æ¨¡å¼ observer æž„é€ å‡½æ•°æ¨¡å¼ constructor1ä½¿ç”¨åœºæ™¯ï¼šåˆ›å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ï¼Œå¯ä»¥æ·»åŠ æ–¹æ³• new å‡½æ•°è°ƒç”¨ï¼Œè¿”å›žæ–°çš„å¯¹è±¡ã€‚æ¯æ¬¡éƒ½æ˜¯æ–°çš„å¼•ç”¨æ–¹æ³•æ”¾åœ¨åŽŸåž‹é“¾ä¸Š 1234567891011//æž„é€ å‡½æ•°function Person(name, age) &#123; this.name = name; this.age = age;&#125;Person.prototype.sayName = function () &#123; return this.name;&#125;;var student = new Person("è‹¥æ„š", 30);var student1 = new Person("slash", 30); å·¥åŽ‚æ¨¡å¼ factory1ä½¿ç”¨åœºæ™¯ï¼šåˆ›å»ºä¸€ä¸ªç®€å•çš„å¯¹è±¡ å­˜åœ¨çš„æ„ä¹‰æ˜¯ æ¯æ¬¡åˆ›å»ºæ–°çš„å¼•ç”¨ï¼Œç”Ÿäº§å‡ºæ¥çš„æ•°æ®ç»“æž„ä¸€è‡´ 1234567891011121314//å·¥åŽ‚æ¨¡å¼function createPerson(name) &#123; var person = &#123; name: name, sayName: function () &#123; console.log(this.name); &#125; &#125;; return person;&#125;; // å¼€è¾Ÿæ–°å†…å­˜// createPerson('a') // createPerson('b') æ··åˆæ¨¡å¼ mixin1ä½¿ç”¨åœºæ™¯ï¼šå¯ç»§æ‰¿çš„å…¬ç”¨æ–¹æ³• é€šè¿‡ç»§æ‰¿æ¥å®žçŽ° å°†ä¸€äº›å¯é‡ç”¨çš„ä»£ç æ”¾åœ¨çˆ¶ç±»ä¸Šï¼Œå­ç±»é€šè¿‡ç»§æ‰¿å¾—åˆ°å±žæ€§å’Œæ–¹æ³•ï¼Œå¹¶èƒ½æ ¹æ®éœ€è¦è‡ªèº«æ·»åŠ æ–°çš„å±žæ€§ã€æ–¹æ³• 123456789101112131415161718192021222324// æ··åˆæ¨¡å¼ mixin == &gt; å®žçŽ°ç»§æ‰¿ // å®žä¾‹1js var Person = function (name, age) &#123; this.name = name; this.age = age;&#125;;Person.prototype.sayName = function () &#123; console.log(this.name);&#125;var Student = function (name, age, score) &#123; // å®žä¾‹å±žæ€§å®žçŽ°ç»§æ‰¿ Person.call(this, name, age); this.score = score;&#125;;// å°†Person.prototypeæŒ‚åœ¨Student.prototypeçš„åŽŸåž‹é“¾ç¬¬ä¸€å±‚ // åŽŸåž‹é“¾å®žçŽ°ç»§æ‰¿ Student.prototype = Object.create(Person.prototype);Student.prototype.getName = function () &#123; return this.name;&#125; æ¨¡å—æ¨¡å¼ module1ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦å°è£…çš„ç»„ä»¶ å°é—­ä½œç”¨åŸŸï¼Œé€šè¿‡é—­åŒ…è¯»å–å†…éƒ¨å˜é‡ æš´éœ²ç»™å¤–ç•Œçš„ä»…ä»…æ˜¯returné€‰æ‹©çš„å†…å®¹ 12345678910111213141516//æ¨¡å—æ¨¡å¼//é€šè¿‡é—­åŒ…ï¼Œå®žçŽ°ä½œç”¨åŸŸçš„éš”ç¦»æ¥å®žçŽ°ä¸€ä¸ªæ¨¡å— var Person = (function () &#123; var name = 'ruoyu'; function sayName() &#123; console.log(name); &#125;; //è¯æ³•ä½œç”¨åŸŸï¼šä¸€ä¸ªå‡½æ•°å¯ä»¥è®¿é—®åˆ°çš„ä¸Šä¸‹æ–‡çŽ¯å¢ƒç”±å®ƒæ‰€å®šä¹‰çš„ä½ç½®å†³å®š // è¯æ³•ä½œç”¨åŸŸ return &#123; name: name, sayName: sayName &#125;&#125;)(); å•ä¾‹æ¨¡å¼ singleton1ä½¿ç”¨åœºæ™¯ï¼šåªéœ€å‡ºçŽ°ä¸€æ¬¡ï¼Œç‹¬ä¸€æ— äºŒçš„ç»„ä»¶ åŒ¿åå‡½æ•°ï¼ˆlambdaå‡½æ•°ï¼‰åˆ’åˆ†å‘½åç©ºé—´ï¼Œé¿å…å…¨å±€æ±¡æŸ“ å¯ä»¥è¢«å®žä¾‹åŒ–ï¼Œä¸”å®žä¾‹åŒ–ä¸€æ¬¡ã€‚ æŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨ï¼Œåªå¼€è¾Ÿä¸€æ¬¡å†…å­˜ç©ºé—´ 1234567891011121314151617181920212223//å•ä¾‹æ¨¡å¼ singletonå•ä¾‹// åŒ¿åå‡½æ•° var People = (function () &#123; var instance; function init(name) &#123; return &#123; name: name &#125;; &#125;; //è¯æ³•ä½œç”¨åŸŸ return &#123; createPeople: function (name) &#123; if (!instance) &#123; // å¦‚æžœæ²¡æœ‰instanceå°±åˆå§‹åŒ– instance = init(name); // æ‰€ä»¥ç¬¬ä¸€æ¬¡è°ƒç”¨å°±åˆå§‹åŒ–ï¼Œä¹‹åŽä¸å†æ‰§è¡Œè¿™æ®µä»£ç  &#125; return instance; //å•ä¾‹å°±æ˜¯åªå¼€è¾Ÿäº†ä¸€ä¸ªå†…å­˜ç©ºé—´ &#125; //ç¬¬ä¸€æ¬¡ä¼ å…¥çš„å€¼è¢«å‚¨å­˜ä¸‹æ¥ &#125;; //ä¹‹åŽç”Ÿæˆçš„å®žä¾‹å…¨éƒ½æŒ‡å‘åŒæ ·çš„åœ°æ–¹&#125;());People.createPeople('jirengu') === People.createPeople('hello') //true //&#123;name:'jirengu'&#125; &#123;name:'jirengu'&#125; è®¢é˜…å‘å¸ƒæ¨¡å¼ subscibe &amp; pulish123456789101112131415161718192021222324252627282930313233343536373839404142// è®¢é˜…å‘å¸ƒæ¨¡å¼ //é€»è¾‘ï¼š // subscribe publish $('.btn').on('click', function (event) &#123; // console.log('clicked') // &#125;); === &gt; &#123; // 'click': [fn] // &#125; // $('.btn').on('mouseover', function (event) &#123; // $('.btn').trigger('click',event); ====&gt; [fn].forEach(fn(event)); // &#125;) var EventCenter = (function () &#123; // æ–°å»ºè®¢é˜…ä¸­å¿ƒ //æˆ‘ä»¬å¦‚ä½•åŽ»å®žçŽ° var F = function () &#123; this.eventPool = &#123;&#125;; // æ–°å»ºç¼“å­˜åˆ—è¡¨ï¼Œå­˜å‚¨è®¢é˜…è€…çš„å›žè°ƒå‡½æ•° &#125;; F.prototype.on = function (name, callback) &#123; // æ·»åŠ æ¶ˆæ¯ï¼šç»‘å®šäº‹ä»¶ this.eventPool[name] = this.eventPool[name] || []; //æ£€æŸ¥äº‹ä»¶åˆ—è¡¨events&#123;&#125;é‡Œæ˜¯å¦æœ‰è¿™ä¸ªkey this.eventPool[name].push(callback); åœ¨é€‰å®šäº‹ä»¶é‡Œå¢žåŠ ä¸€ä¸ªå‡½æ•° &#125;; F.prototype.trigger = function (name) &#123; if (!this.eventPool[name]) &#123; this.eventPool[name] = []; &#125; this.eventPool[name].forEach(function (fn) &#123; //å¦‚æžœå­˜åœ¨ï¼ŒéåŽ†åˆ—è¡¨eventsï¼Œä¾æ¬¡æ‰§è¡Œå¤„ç†ç¨‹åº fn() &#125;) &#125;; return F;&#125;()); var e = new EventCenter(); e.on('hello', function () &#123; console.log('hello') &#125;); // === &gt; å­˜ &#123; 'hello': [fn] &#125; e.trigger('hello'); // hello ===&gt; å–åŽæ‰§è¡Œ è§‚å¯Ÿè€…æ¨¡å¼ observer123456789101112131415161718//è§‚å¯Ÿè€…æ¨¡å¼ observer$('input').change(function () &#123; $('input').observers.forEach(function (observer) &#123; observer(); &#125;)&#125;);$('input').observers = [];$('input').subscribe = function (fn) &#123; this.observers.push(fn);&#125;;// APIä½¿ç”¨æ–¹å¼ // $('.input').subscribe(fn) ==&gt; è®°å½•æ—¥å¿— // $('input').subscribe(fn1) ==&gt; å‘èµ·è¯·æ±‚ // $('input').subscribe(fn2) ==&gt; æ”¹å˜UI è®¢é˜…å‘å¸ƒ æ¨¡å¼ ä¸Ž è§‚å¯Ÿè€…æ¨¡å¼ çš„åŒºåˆ« å¾ˆå¤šçš„èµ„æ–™éƒ½è®¤ä¸ºäºŒè€…æ˜¯ä¸€æ ·çš„å…¶å®žä»”ç»†è€ƒè™‘ï¼Œè¿˜æ˜¯æœ‰å¾ˆé‡è¦çš„ä¸åŒç‚¹ è§‚å¯Ÿè€…æ¨¡å¼åˆ›å»ºä¸€ä¸ªéœ€è¦è§‚å¯Ÿçš„äº‹ä»¶æ—¶ï¼Œè¦å…ˆåˆ°subscribeé‡Œé¢è¿›è¡Œæ³¨å†Œï¼Œè¿™ä¸ªå‡½æ•°å°†æ­¤äº‹ä»¶æŽ¨é€åˆ°éœ€è¦é€šçŸ¥çš„æ•°ç»„é‡Œï¼Œç„¶åŽï¼Œå½“è®¢é˜…çš„å†…éƒ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒæŠŠè¿™ä¸ªå˜åŒ–é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚éšæ„æ³¨å†Œäº‹ä»¶ï¼Œè°ƒç”¨äº‹ä»¶ï¼Œä¸ä¼šå¯¹äº‹æƒ…åšåŒºåˆ† å‘å¸ƒ-è®¢é˜…æ¨¡å¼è§’è‰²ä¸ºå‘å¸ƒè€…(publisher)å’Œè®¢é˜…è€…(subscriber)ï¼Œpubå’Œsubä¹‹é—´æ²¡æœ‰ç›´æŽ¥çš„è€¦åˆå…³ç³»ï¼Œpubå‘å¸ƒä¸€ä¸ªæ¶ˆæ¯äº‹ä»¶(event)ï¼Œsubè®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯äº‹ä»¶ï¼Œsubä¹Ÿå¯ä»¥å–æ¶ˆè®¢é˜…ã€‚æ˜¯å¯¹ç‰¹å®šä¸€ç³»åˆ—çš„è®¢é˜…äº‹ä»¶è¿›è¡Œç»Ÿä¸€ç®¡ç† åˆæ­¥å¾—å‡ºç»“è®ºï¼šè§‚å¯Ÿè€…æ¨¡å¼ä¸­çš„è§‚å¯Ÿè€…æ˜¯å’Œä¸»é¢˜å¯¹è±¡ç´§è€¦åˆçš„ã€‚å‘å¸ƒ-è®¢é˜…æ¨¡å¼ä¸­çš„å‘å¸ƒè€…å’Œè®¢é˜…è€…æ˜¯æ¾è€¦åˆçš„ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…æ˜¯é€šè¿‡äº‹ä»¶å‘ç”Ÿè”ç³»çš„ã€‚åœ¨å¼€å‘å¤§åž‹é¡¹ç›®çš„æ—¶å€™ï¼Œè®¢é˜…/å‘å¸ƒæ¨¡å¼ä¼šè®©ä¸šåŠ¡æ›´æ¸…æ™°ã€‚ JSè®¾è®¡æ¨¡å¼æ¼«è°ˆDesign-Patterns-Tutorial ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼å†™ä¸€ä¸ªäº‹ä»¶ç®¡ç†å™¨ï¼Œå¯ä»¥å®žçŽ°å¦‚ä¸‹æ–¹å¼è°ƒç”¨12345Event.on('change', function(val)&#123; console.log('change... now val is ' + val); &#125;);Event.fire('change', 'é¥¥äººè°·');Event.off('changer'); ä»£ç  123456789101112131415161718192021222324252627282930313233var eventCenter = (function () &#123; var e = function () &#123; this.eventPool = []; &#125; e.prototype = &#123; on: function (name, callback) &#123; this.eventPool[name] = this.eventPool[name] || []; this.eventPool[name].push(callback); &#125;, fire: function (name, value) &#123; if (!this.eventPool[name]) return; this.eventPool[name].forEach(function (e) &#123; e(value); &#125;); &#125;, off: function (name) &#123; delete this.eventPool[name]; &#125; &#125;; return e;&#125;)()//æµ‹è¯•var Event = new eventCenter()Event.on('change', function (val) &#123; console.log('change... now val is ' + val);&#125;);Event.fire('change', 'aaaaaa');Event.off('change');Event.on('change1', function (val) &#123; console.log('ç¬¬äºŒæ¬¡~' + val);&#125;);Event.fire('change1', 'bbbbbb');]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[newå’ŒObject,Prototypeç†è§£]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2Fnew%E5%92%8CObject-Prototype%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[JavaScript å¯¹è±¡å› ä¸ºJavaScriptæ˜¯åŸºäºŽåŽŸåž‹ï¼ˆprototypeï¼‰çš„ï¼Œæ²¡æœ‰ç±»çš„æ¦‚å¿µï¼ˆES6æœ‰äº†ï¼Œè¿™ä¸ªæš‚ä¸”ä¸è°ˆï¼‰ï¼Œæˆ‘ä»¬èƒ½æŽ¥è§¦åˆ°çš„éƒ½æ˜¯å¯¹è±¡ï¼ŒçœŸæ­£åšåˆ°äº†ä¸€åˆ‡çš†ä¸ºå¯¹è±¡ Objectæˆ‘ä»¬çŸ¥é“JavaScriptæœ‰nullã€undefinedã€numberã€booleanã€stringäº”ç§ç®€å•ç±»åž‹ï¼Œnullå’Œundefinedåˆ†åˆ«è¡¨ç¤ºæ²¡æœ‰å£°æ˜Žå’Œå£°æ˜ŽåŽæ²¡æœ‰åˆå§‹åŒ–çš„å˜é‡ã€å¯¹è±¡ï¼Œæ˜¯ä¸¤ä¸ªç®€å•çš„å€¼ï¼Œå…¶ä½™ä¸‰ä¸ªæœ‰å¯¹åº”çš„åŒ…è£…å¯¹è±¡Numberã€Booleanã€String å…¶å®ƒçš„å°±éƒ½æ˜¯objectç±»åž‹äº†ï¼Œæ¯”å¦‚å¸¸ç”¨çš„Arrayã€Dateã€RegExpç­‰ï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„Functionä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œè™½ç„¶ 1typeof function()&#123;&#125;; // &quot;function&quot; ä½†æ˜¯Functionå®žä¾‹å’Œå…¶å®ƒç±»åž‹çš„å®žä¾‹æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œéƒ½æ˜¯å¯¹è±¡ï¼Œåªä¸è¿‡typeofæ“ä½œç¬¦å¯¹å…¶åšäº†ç‰¹æ®Šå¤„ç† åœ¨JavaScriptä¸­ä½¿ç”¨å¯¹è±¡å¾ˆç®€å•ï¼Œä½¿ç”¨newæ“ä½œç¬¦æ‰§è¡ŒObejctå‡½æ•°å°±å¯ä»¥æž„å»ºä¸€ä¸ªæœ€åŸºæœ¬çš„å¯¹è±¡ 1var obj = new Object(); æˆ‘ä»¬ç§°new è°ƒç”¨çš„å‡½æ•°ä¸ºæž„é€ å‡½æ•°ï¼Œæž„é€ å‡½æ•°å’Œæ™®é€šå‡½æ•°åŒºåˆ«ä»…ä»…åœ¨äºŽæ˜¯å¦ä½¿ç”¨äº†newæ¥è°ƒç”¨ï¼Œå®ƒä»¬çš„è¿”å›žå€¼ä¹Ÿä¼šä¸åŒ æ‰€è°“â€œæž„é€ å‡½æ•°â€ï¼Œå°±æ˜¯ä¸“é—¨ç”¨æ¥ç”Ÿæˆâ€œå¯¹è±¡â€çš„å‡½æ•°ã€‚å®ƒæä¾›æ¨¡æ¿ï¼Œä½œä¸ºå¯¹è±¡çš„åŸºæœ¬ç»“æž„ã€‚ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œå¯ä»¥ç”Ÿæˆå¤šä¸ªå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡éƒ½æœ‰ç›¸åŒçš„ç»“æž„ æˆ‘ä»¬å¯ä»¥é€šè¿‡.æ¥ä¸ºå¯¹è±¡æ·»åŠ å±žæ€§å’Œæ–¹æ³• 12345//1.åŽŸå§‹æ¨¡å¼ï¼ŒObjectæž„é€ å‡½æ•°æ–¹å¼obj.name = 'Byron';obj.printName = function()&#123; console.log(obj.name);&#125;; è¿™ä¹ˆå†™æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä¸‹é¢çš„å†™æ³•å’Œä¸Šé¢ç­‰ä»· 1234567//1.åŽŸå§‹æ¨¡å¼ï¼Œå¯¹è±¡å­—é¢é‡æ–¹å¼var obj = &#123; name: 'Byron', printName: function()&#123; console.log(obj.name); &#125;&#125; è™½ç„¶Objectæž„é€ å‡½æ•°å’Œå¯¹è±¡å­—é¢é‡éƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºå•ä¸ªå¯¹è±¡ï¼Œä½†è¿™ä¸¤ä¸ªæ–¹å¼æœ‰ä¸ªæ˜Žæ˜¾ç¼ºç‚¹ï¼Œå°±æ˜¯ä½¿ç”¨åŒä¸€æŽ¥å£ä¼šåˆ›å»ºå¾ˆå¤šå¯¹è±¡ï¼Œäº§ç”Ÿå¤§é‡é‡å¤ä»£ç ã€‚è€Œä¸”å¦‚æžœæƒ³ä¸ªæ€§åŒ–ï¼Œåªèƒ½é€šè¿‡æ‰‹å·¥èµ‹å€¼ï¼Œä½¿ç”¨è€…å¿…é¡»è¯¦ç»†äº†è§£å¯¹è±¡ é™¤äº†æœ€æ™®é€šçš„å­—é¢é‡å’ŒObjectæž„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼ŒJS ä¸­è¿˜æœ‰å…¶ä»–å‡ ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ï¼ŒçŽ°åœ¨æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ç»„åˆæ¨¡å¼å·¥åŽ‚æ¨¡å¼1234567891011121314//2.å·¥åŽ‚æ¨¡å¼ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ›å»ºå¯¹è±¡function createObj(nick, age)&#123; var obj = &#123; nick: nick, age: age, printName: function()&#123; console.log(this.nick); &#125; &#125;; return obj;&#125;var obj3 = createObj('Byron', 30);obj3.printName(); å·¥åŽ‚æ¨¡å¼å°±æ˜¯æ‰¹é‡åŒ–ç”Ÿäº§ï¼Œè¿™ç§æ–¹æ³•é€šè¿‡åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥å®žçŽ°è‡ªåŠ¨åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ï¼Œè‡³äºŽä¸ªæ€§åŒ–é€šè¿‡å‚æ•°å®žçŽ°ï¼Œå¼€å‘è€…ä¸å¿…å…³æ³¨ç»†èŠ‚ï¼Œåªéœ€è¦ä¼ å…¥æŒ‡å®šå‚æ•°å³å¯ é—®é¢˜ï¼š æž„é€ å‡ºæ¥çš„å¯¹è±¡ç±»åž‹éƒ½æ˜¯Objectï¼Œæ²¡æœ‰è§£å†³å¯¹è±¡è¯†åˆ«çš„é—®é¢˜ï¼ˆå¯¹è±¡çš„ç±»åž‹ï¼‰ æ¯æ¬¡ä½¿ç”¨éƒ½è¦åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œæµªè´¹å†…å­˜ã€‚ æž„é€ å‡½æ•° æ¨¡å¼æˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›é¢å¤–çŸ¥è¯† functionä½œä¸ºæž„é€ å‡½æ•°ï¼ˆé€šè¿‡newæ“ä½œç¬¦è°ƒç”¨ï¼‰çš„æ—¶å€™ä¼šè¿”å›žä¸€ä¸ªç±»åž‹ä¸ºfunctionçš„nameçš„å¯¹è±¡ functionå¯ä»¥æŽ¥å—å‚æ•°ï¼Œå¯ä»¥æ ¹æ®å‚æ•°æ¥åˆ›å»ºç›¸åŒç±»åž‹ä¸åŒå€¼çš„å¯¹è±¡ functionå®žä¾‹ä½œç”¨åŸŸå†…æœ‰ä¸€ä¸ªconstructorå±žæ€§ï¼Œè¿™ä¸ªå±žæ€§å°±å¯ä»¥æŒ‡ç¤ºå…¶æž„é€ å™¨ newnew è¿ç®—ç¬¦æŽ¥å—ä¸€ä¸ªå‡½æ•° F åŠå…¶å‚æ•°ï¼šnew F(argumentsâ€¦)ã€‚è¿™ä¸€è¿‡ç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š åˆ›å»ºä¸€ä¸ªæ–°å®žä¾‹ã€‚è¿™æ­¥æ˜¯æŠŠä¸€ä¸ªç©ºçš„å¯¹è±¡çš„ proto å±žæ€§è®¾ç½®ä¸º F.prototype ã€‚ åˆå§‹åŒ–å®žä¾‹ã€‚å‡½æ•° F è¢«ä¼ å…¥å‚æ•°å¹¶è°ƒç”¨ï¼Œå…³é”®å­— this æŒ‡å‘äº†æ–°å®žä¾‹ã€‚ è¿”å›žå®žä¾‹ã€‚ 12345678910// 3.æž„é€ å‡½æ•°æ¨¡å¼ï¼Œä¸ºå¯¹è±¡å®šä¹‰ä¸€ä¸ªæž„é€ å‡½æ•°function Person(nick, age)&#123; this.nick = nick; this.age = age; this.sayName = function()&#123; console.log(this.nick); &#125;&#125;var p1 = new Person('Byron', 25); instanceofinstanceofæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºæŸä¸ªç±»åž‹çš„å®žä¾‹ 12p1 instanceof Person; // truep1 instanceof Object;// true instanceofåˆ¤æ–­çš„æ˜¯å¯¹è±¡ 11 instanceof Number; // false é—®é¢˜ï¼š æž„é€ å‡½æ•°åœ¨è§£å†³äº†ä¸Šé¢æ‰€æœ‰é—®é¢˜ï¼ŒåŒæ—¶ä¸ºå®žä¾‹å¸¦æ¥äº†ç±»åž‹ä½†å¯ä»¥æ³¨æ„åˆ°æ¯ä¸ªå®žä¾‹printNameæ–¹æ³•å®žé™…ä¸Šä½œç”¨ä¸€æ ·ï¼Œä½†æ˜¯æ¯ä¸ªå®žä¾‹è¦é‡å¤ä¸€éï¼Œä¸åŒå®žä¾‹çš„æ–¹æ³•å…¶å®žæ˜¯ä¸åŒçš„å‡½æ•°ï¼Œå¤§é‡å¯¹è±¡å­˜åœ¨çš„æ—¶å€™æ˜¯æµªè´¹å†…å­˜ åŽŸåž‹æ¨¡å¼ ä»»ä½•å‡½æ•°ä½¿ç”¨newè¡¨è¾¾å¼å°±æ˜¯æž„é€ å‡½æ•° æ¯ä¸ªå‡½æ•°éƒ½è‡ªåŠ¨æ·»åŠ ä¸€ä¸ªåç§°ä¸ºprototypeå±žæ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ æ¯ä¸ªå®žä¾‹éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨å±žæ€§ [object Object](è§„èŒƒä¸­æ²¡æœ‰æŒ‡å®šè¿™ä¸ªåç§°ï¼Œä½†æ˜¯æµè§ˆå™¨éƒ½è¿™ä¹ˆå®žçŽ°çš„) æŒ‡å‘å…¶ç±»åž‹çš„prototypeå±žæ€§ï¼Œç±»çš„å®žä¾‹ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå…¶[object Object]å±žæ€§æŒ‡å‘â€œç±»â€çš„prototype prototype é€šè¿‡å›¾ç¤ºæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸€äº›ç«¯å€ªï¼Œå®žä¾‹å¯ä»¥é€šè¿‡__prop__è®¿é—®åˆ°å…¶ç±»åž‹çš„prototypeå±žæ€§ï¼Œè¿™å°±æ„å‘³ç€ç±»çš„prototypeå¯¹è±¡å¯ä»¥ä½œä¸ºä¸€ä¸ªå…¬å…±å®¹å™¨ï¼Œä¾›æ‰€æœ‰å®žä¾‹è®¿é—® æŠ½è±¡é‡å¤æˆ‘ä»¬åˆšæ‰çš„é—®é¢˜å¯ä»¥é€šè¿‡è¿™ä¸ªæ‰‹æ®µè§£å†³ æ‰€æœ‰å®žä¾‹éƒ½ä¼šé€šè¿‡åŽŸåž‹é“¾å¼•ç”¨åˆ°ç±»åž‹çš„prototype prototypeç›¸å½“äºŽç‰¹å®šç±»åž‹æ‰€æœ‰å®žä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°çš„ä¸€ä¸ªå…¬å…±å®¹å™¨ é‡å¤çš„ä¸œè¥¿ç§»åŠ¨åˆ°å…¬å…±å®¹å™¨é‡Œæ”¾ä¸€ä»½å°±å¯ä»¥äº† 12345//4.åŽŸåž‹æ¨¡å¼ï¼Œç›´æŽ¥å®šä¹‰prototypeå±žæ€§function Person () &#123;&#125;Person.prototype.name = 'Jack';Person.prototype.age = 18;Person.prototype.sayName = function () &#123; alert(this.name); &#125;; 12345678910//4.åŽŸåž‹æ¨¡å¼ï¼Œå­—é¢é‡å®šä¹‰æ–¹å¼function Person () &#123;&#125;Person.prototype = &#123; name: 'Jack', age: 18, sayName: function () &#123; alert(this.name); &#125;&#125;;var p1 = new Person(); //name='Jack'var p2 = new Person(); //name='Jack' é—®é¢˜ éœ€è¦æ³¨æ„çš„æ˜¯åŽŸåž‹å±žæ€§å’Œæ–¹æ³•çš„å…±äº«ï¼Œå³æ‰€æœ‰å®žä¾‹ä¸­éƒ½åªæ˜¯å¼•ç”¨åŽŸåž‹ä¸­çš„å±žæ€§æ–¹æ³•ï¼Œä»»ä½•ä¸€ä¸ªåœ°æ–¹äº§ç”Ÿçš„æ”¹åŠ¨ä¼šå¼•èµ·å…¶ä»–å®žä¾‹çš„å˜åŒ–ã€‚ æ··åˆæ¨¡å¼ï¼ˆç»„åˆä½¿ç”¨ æž„é€ å‡½æ•° å’Œ åŽŸåž‹ æ¨¡å¼ï¼‰12345678910111213141516//5. åŽŸåž‹æž„é€ ç»„åˆæ¨¡å¼ï¼Œfunction Person (name, age) &#123; this.name = name; this.age = age;&#125;Person.prototype = &#123; hobby: ['running','football']; sayName: function () &#123; alert(this.name); &#125;, sayAge: function () &#123; alert(this.age); &#125;&#125;;var p1 = new Person('Jack', 20);//p1:'Jack',20; __proto__: ['running','football'],sayName,sayAgevar p2 = new Person('Mark', 18);//p1:'Mark',18;__proto__: ['running','football'],sayName,sayAge é—®é¢˜ åšæ³•æ˜¯å°†éœ€è¦ç‹¬ç«‹çš„å±žæ€§æ–¹æ³•æ”¾å…¥æž„é€ å‡½æ•°ä¸­ï¼Œè€Œå¯ä»¥å…±äº«çš„éƒ¨åˆ†åˆ™æ”¾å…¥åŽŸåž‹ä¸­ï¼Œè¿™æ ·åšå¯ä»¥æœ€å¤§é™åº¦èŠ‚çœå†…å­˜è€Œåˆä¿ç•™å¯¹è±¡å®žä¾‹çš„ç‹¬ç«‹æ€§ã€‚ æ˜¯æœ€å¸¸ç”¨çš„æ¨¡å¼ é—®é¢˜1ï¼š OOP æŒ‡ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ç‰¹æ€§Object-oriented programmingçš„ç¼©å†™ï¼Œå³é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼Œå…¶ä¸­ä¸¤ä¸ªæœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»å’Œå¯¹è±¡ã€‚ç±»åªæ˜¯å…·å¤‡äº†æŸäº›åŠŸèƒ½å’Œå±žæ€§çš„æŠ½è±¡æ¨¡åž‹ï¼Œç±»åœ¨å®žä¾‹åŒ–ä¹‹åŽå¾—åˆ°çš„å®žä½“å°±æ˜¯å¯¹è±¡ã€‚ ç‰¹æ€§ï¼š ç»§æ‰¿æ€§ï¼šå­ç±»è‡ªåŠ¨ç»§æ‰¿å…¶çˆ¶çº§ç±»ä¸­çš„å±žæ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯ä»¥æ·»åŠ æ–°çš„å±žæ€§å’Œæ–¹æ³•æˆ–è€…å¯¹éƒ¨åˆ†å±žæ€§å’Œæ–¹æ³•è¿›è¡Œé‡å†™ã€‚ç»§æ‰¿å¢žåŠ äº†ä»£ç çš„å¯é‡ç”¨æ€§ã€‚ å¤šæ€æ€§ï¼šå­ç±»ç»§æ‰¿äº†æ¥è‡ªçˆ¶çº§ç±»ä¸­çš„å±žæ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯¹å…¶ä¸­éƒ¨åˆ†æ–¹æ³•è¿›è¡Œé‡å†™ã€‚ å°è£…æ€§ï¼šå°†ä¸€ä¸ªç±»çš„ä½¿ç”¨å’Œå®žçŽ°åˆ†å¼€ï¼Œåªä¿ç•™éƒ¨åˆ†æŽ¥å£å’Œæ–¹æ³•ä¸Žå¤–éƒ¨è”ç³»ã€‚ é—®é¢˜2ï¼š å¦‚ä½•é€šè¿‡æž„é€ å‡½æ•°çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰å±žæ€§å’Œæ–¹æ³•çš„å¯¹è±¡?123456789function People(name, age)&#123; this.name = name; this.age = age; this.printName: function()&#123; console.log(this.name) &#125;&#125;var p1 = new People('ny', '22') é—®é¢˜3ï¼š prototype æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç‰¹æ€§æ¯åˆ›å»ºä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeï¼ˆåŽŸåž‹ï¼‰å±žæ€§ï¼Œè¿™ä¸ªå±žæ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡çš„ç”¨é€”æ˜¯åŒ…å«å¯ä»¥ç”±ç‰¹å®šç±»åž‹çš„æ‰€æœ‰å®žä¾‹å…±äº«çš„å±žæ€§å’Œæ–¹æ³•ã€‚ æ‰€ä»¥ä¹Ÿå¯ä»¥è¯´prototypeå°±æ˜¯é€šè¿‡è°ƒç”¨æž„é€ å‡½æ•°è€Œåˆ›å»ºçš„é‚£ä¸ªå¯¹è±¡å®žä¾‹çš„åŽŸåž‹å¯¹è±¡ï¼ŒåŽŸåž‹å¯¹è±¡å¯ä»¥è®©æ‰€æœ‰å¯¹è±¡å®žä¾‹å…±äº«å®ƒæ‰€åŒ…å«çš„å±žæ€§å’Œæ–¹æ³• é—®é¢˜4ï¼šç”»å‡ºå¦‚ä¸‹ä»£ç çš„åŽŸåž‹å›¾12345678910111213function People (name)&#123; this.name = name; this.sayName = function()&#123; console.log('my name is:' + this.name); &#125;&#125;People.prototype.walk = function()&#123; console.log(this.name + ' is walking'); &#125;var p1 = new People('é¥¥äººè°·');var p2 = new People('å‰ç«¯'); é—®é¢˜5ï¼š åˆ›å»ºä¸€ä¸ª Car å¯¹è±¡ï¼Œæ‹¥æœ‰å±žæ€§nameã€colorã€statusï¼›æ‹¥æœ‰æ–¹æ³•runï¼Œstopï¼ŒgetStatus1234567891011121314151617181920212223function Car(name, color, status) &#123; this.name = name; this.color = color; this.status = status; &#125; Car.prototype = &#123; run: function () &#123; this.status = 'run'; console.log(this.status) &#125;, stop: function () &#123; this.status = 'stop'; console.log(this.status) &#125;, gerStatus: function () &#123; console.log(this.status) &#125; &#125; var p1 = new Car('ny') p1.run() p1.stop() p1.gerStatus() é—®é¢˜6ï¼š åˆ›å»ºä¸€ä¸ª GoTop å¯¹è±¡ï¼Œå½“ new ä¸€ä¸ª GotTop å¯¹è±¡åˆ™ä¼šåœ¨é¡µé¢ä¸Šåˆ›å»ºä¸€ä¸ªå›žåˆ°é¡¶éƒ¨çš„å…ƒç´ ï¼Œç‚¹å‡»é¡µé¢æ»šåŠ¨åˆ°é¡¶éƒ¨ã€‚æ‹¥æœ‰ä»¥ä¸‹å±žæ€§å’Œæ–¹æ³• ctå±žæ€§ï¼ŒGoTop å¯¹åº”çš„ DOM å…ƒç´ çš„å®¹å™¨ targetå±žæ€§ï¼Œ GoTop å¯¹åº”çš„ DOM å…ƒç´  bindEvent æ–¹æ³•ï¼Œ ç”¨äºŽç»‘å®šäº‹ä»¶ createNode æ–¹æ³•ï¼Œ ç”¨äºŽåœ¨å®¹å™¨å†…åˆ›å»ºèŠ‚ç‚¹ æ•ˆæžœé¢„è§ˆæºç  12345678910111213141516171819function GoTop($ct) &#123; this.ct = $ct; this.target = $('&lt;button class="btn"&gt;Go Top&lt;/button&gt;'); this.target.css(&#123;'padding': '20px'&#125;); this.bindEvent(); this.createNode() &#125; GoTop.prototype = &#123; bindEvent: function () &#123; this.target.on('click',function ()&#123; $('body').animate(&#123; scrollTop: 0 &#125;, 200); &#125;); &#125;, createNode: function () &#123; this.ct.append(this.target); &#125; &#125; var run = new GoTop($('.ct')) é—®é¢˜7ï¼š ä½¿ç”¨æœ¨æ¡¶å¸ƒå±€å®žçŽ°ä¸€ä¸ªå›¾ç‰‡å¢™æ•ˆæžœé¢„è§ˆ]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>new</tag>
        <tag>Object</tag>
        <tag>Prototype</tag>
        <tag>åŽŸåž‹</tag>
        <tag>æ··åˆæ¨¡å¼</tag>
        <tag>å·¥åŽ‚æ¨¡å¼</tag>
        <tag>æœ¨æ¡¶å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5å›¾ç‰‡éªŒè¯ä»¥åŠä¸Šä¼ å®žä¾‹]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FHTML5%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E4%BB%A5%E5%8F%8A%E4%B8%8A%E4%BC%A0%E5%AE%9E%E4%BE%8B%2F</url>
    <content type="text"><![CDATA[HTML5å›¾ç‰‡éªŒè¯åŠä¸Šä¼ å®žä¾‹ï¼šå­¦ä¹ FileReader/Image è½¬è½½åœ°å€:https://blog.csdn.net/Mynewclass/article/details/80254082]]></content>
      <categories>
        <category>JavaScript</category>
        <category>image</category>
      </categories>
      <tags>
        <tag>JavaScirpt</tag>
        <tag>image</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[fetch]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2Ffetch%2F</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨å¼€å‘è¿‡ç¨‹ä¸­,æˆ‘ä»¬å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚,ä¸€èˆ¬ä¼šä½¿ç”¨ä¸‰ç§æ–¹å¼, XMLHttpRequest(XHR)ï¼ŒFetch ï¼ŒjQueryå®žçŽ°çš„AJAXã€‚ å…¶ä¸­, XMLHttpRequest(XHR)å’ŒFetchæ˜¯æµè§ˆå™¨çš„åŽŸç”ŸAPIï¼Œjqueryçš„ajaxå…¶å®žæ˜¯å°è£…äº†XHRã€‚ è®©æˆ‘ä»¬é¦–å…ˆæ¥æ¯”è¾ƒä¸€ä¸‹è¿™ä¸‰è€…çš„ä½¿ç”¨ç¤ºä¾‹ã€‚ XMLHttpRequest12345678910111213141516171819202122232425262728293031323334353637var xhr;if (window.XMLHttpRequest) &#123; // Mozilla, Safari... xhr = new XMLHttpRequest();&#125; else if (window.ActiveXObject) &#123; // IE try &#123; xhr = new ActiveXObject('Msxml2.XMLHTTP'); &#125; catch (e) &#123; try &#123; xhr = new ActiveXObject('Microsoft.XMLHTTP'); &#125; catch (e) &#123;&#125; &#125;&#125;if (xhr) &#123; xhr.onreadystatechange = onReadyStateChange; xhr.open('POST', '/api', true); // è®¾ç½® Content-Type ä¸º application/x-www-form-urlencoded // ä»¥è¡¨å•çš„å½¢å¼ä¼ é€’æ•°æ® xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded'); xhr.send('username=admin&amp;password=root');&#125;// onreadystatechange æ–¹æ³•function onReadyStateChange() &#123; // è¯¥å‡½æ•°ä¼šè¢«è°ƒç”¨å››æ¬¡ console.log(xhr.readyState); if (xhr.readyState === 4) &#123; // everything is good, the response is received if (xhr.status === 200) &#123; console.log(xhr.responseText); &#125; else &#123; console.log('There was a problem with the request.'); &#125; &#125; else &#123; // still not ready console.log('still not ready...'); &#125;&#125; ä»Žä¸Šè¾¹çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼ŒXMLHttpRequest æ˜¯ä¸€ä¸ªéžå¸¸ç²—ç³™çš„APIï¼Œä¸ç¬¦åˆå…³æ³¨åˆ†ç¦»(Separation of Concerns)çš„åŽŸåˆ™ï¼Œé…ç½®å’Œè°ƒç”¨æ–¹å¼éžå¸¸æ··ä¹±ï¼Œå‰ç«¯ç¨‹åºå‘˜ä»¬ä¸ä»…è¦åšå„ä¸ªæµè§ˆå™¨çš„å…¼å®¹æ€§ï¼Œè¿˜é¥±å—å›žè°ƒåœ°ç‹±çš„æŠ˜ç£¨ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚ jQueryå®žçŽ°AJAX12345678$.ajax(&#123; method: 'POST', url: '/api', data: &#123; username: 'admin', password: 'root' &#125;&#125;) .done(function(msg) &#123; alert( 'Data Saved: ' + msg ); &#125;); jQueryä½œä¸ºä¸€ä¸ªä½¿ç”¨äººæ•°æœ€å¤šçš„åº“ï¼Œå…¶AJAXå¾ˆå¥½çš„å°è£…äº†åŽŸç”ŸAJAXçš„ä»£ç ï¼Œåœ¨å…¼å®¹æ€§å’Œæ˜“ç”¨æ€§æ–¹é¢éƒ½åšäº†å¾ˆå¤§çš„æé«˜ï¼Œè€Œä¸”jQueryè¿˜æŠŠjsonpè£…åœ¨äº†AJAXé‡Œé¢ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¼€å¿ƒçš„è·¨åŸŸäº†ï¼ï¼ï¼ï¼å¯¹æ¯”åŽŸç”ŸAJAXçš„å®žçŽ°ï¼Œä½¿ç”¨jQueryå®žçŽ°çš„AJAXå°±å¼‚å¸¸ç®€å•äº†ï¼Ž ä½†æ˜¯ï¼Œç¬”é”‹ä¸€è½¬ï¼Œæˆ‘ä»¬ä»ç„¶é€ƒè„±ä¸äº†ä¸€ä¸ªé—®é¢˜ï¼Œå›žè°ƒåœ°ç‹±ã€‚ã€‚ã€‚ã€‚ Fetch1234fetch(...).then(fun2) .then(fun3) //å„ä¾èµ–æœ‰åºæ‰§è¡Œ ..... .catch(fun) ä»Žä¸Šè¾¹çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œfetchç”¨èµ·æ¥æƒ³jQueryä¸€æ ·ç®€å•ï¼Œè™½ç„¶è¿˜æ˜¯æœ‰Callbackçš„å½±å­ï¼Œä½†æ˜¯çœ‹èµ·æ¥èˆ’æœå¤šäº† è¯¦è§£Fetch APIå…¼å®¹æ€§ æ³¨æ„ï¼šç”±äºŽFetch APIæ˜¯åŸºäºŽPromiseè®¾è®¡ï¼Œæ—§æµè§ˆå™¨ä¸æ”¯æŒPromiseï¼Œéœ€è¦ä½¿ç”¨pollyfill es6-promise Fetchä½¿ç”¨è¯´æ˜Ž 12345fetch(url, options).then(function(response) &#123; // handle HTTP response&#125;, function(error) &#123; // handle network error&#125;) è¯´æ˜Žï¼š a. fetch apiè¿”å›žçš„æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ b.Options: method(String): HTTPè¯·æ±‚æ–¹æ³•ï¼Œé»˜è®¤ä¸ºGET body(String): HTTPçš„è¯·æ±‚å‚æ•° headers(Object): HTTPçš„è¯·æ±‚å¤´ï¼Œé»˜è®¤ä¸º{} credentials(String): é»˜è®¤ä¸ºomit,å¿½ç•¥çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯ä¸å¸¦cookie;è¿˜æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œsame-originï¼Œæ„æ€å°±æ˜¯åŒæºè¯·æ±‚å¸¦cookieï¼›include,è¡¨ç¤ºæ— è®ºè·¨åŸŸè¿˜æ˜¯åŒæºè¯·æ±‚éƒ½ä¼šå¸¦cookie c.ç¬¬ä¸€ä¸ªthenå‡½æ•°é‡Œé¢å¤„ç†çš„æ˜¯responseçš„æ ¼å¼ï¼Œè¿™é‡Œçš„responseå…·ä½“å¦‚ä¸‹ï¼š image.png status(number): HTTPè¿”å›žçš„çŠ¶æ€ç ï¼ŒèŒƒå›´åœ¨100-599ä¹‹é—´ statusText(String): æœåŠ¡å™¨è¿”å›žçš„çŠ¶æ€æ–‡å­—æè¿°ï¼Œä¾‹å¦‚Unauthorized,ä¸Šå›¾ä¸­è¿”å›žçš„æ˜¯Ok ok(Boolean): å¦‚æžœçŠ¶æ€ç æ˜¯ä»¥2å¼€å¤´çš„ï¼Œåˆ™ä¸ºtrue headers: HTTPè¯·æ±‚è¿”å›žå¤´ body: è¿”å›žä½“ï¼Œè¿™é‡Œæœ‰å¤„ç†è¿”å›žä½“çš„ä¸€äº›æ–¹æ³• text(): å°†è¿”å›žä½“å¤„ç†æˆå­—ç¬¦ä¸²ç±»åž‹ json()ï¼š è¿”å›žç»“æžœå’Œ JSON.parse(responseText)ä¸€æ · blob()ï¼š è¿”å›žä¸€ä¸ªBlobï¼ŒBlobå¯¹è±¡æ˜¯ä¸€ä¸ªä¸å¯æ›´æ”¹çš„ç±»æ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ® arrayBuffer() formData() Fetchå¸¸è§å‘ å…¼å®¹æ€§ image.png å¦‚caniuseæ‰€ç¤ºï¼ŒIEæµè§ˆå™¨å®Œå…¨ä¸æ”¯æŒfetchï¼Œç§»åŠ¨ç«¯çš„å¾ˆå¤šæµè§ˆå™¨ä¹Ÿä¸æ”¯æŒ,æ‰€ä»¥ï¼Œå¦‚æžœè¦åœ¨è¿™äº›æµè§ˆå™¨ä¸Šä½¿ç”¨Fetchï¼Œå°±å¿…é¡»ä½¿ç”¨fetch polyfill cookieä¼ é€’å¿…é¡»åœ¨headerå‚æ•°é‡Œé¢åŠ ä¸Šcredentials: &#39;include&#39;ï¼Œæ‰ä¼šå¦‚xhrä¸€æ ·å°†å½“å‰cookieså¸¦åˆ°è¯·æ±‚ä¸­åŽ» fetchå’Œxhrçš„ä¸åŒfetchè™½ç„¶åº•å±‚ï¼Œä½†æ˜¯è¿˜æ˜¯ç¼ºå°‘ä¸€äº›å¸¸ç”¨xhræœ‰çš„æ–¹æ³•ï¼Œæ¯”å¦‚èƒ½å¤Ÿå–æ¶ˆè¯·æ±‚ï¼ˆabortï¼‰æ–¹æ³•fetchåœ¨æœåŠ¡å™¨è¿”å›ž4xxã€5xxæ—¶æ˜¯ä¸ä¼šæŠ›å‡ºé”™è¯¯çš„ï¼Œè¿™é‡Œéœ€è¦æ‰‹åŠ¨é€šè¿‡ï¼Œé€šè¿‡responseä¸­çš„okå­—æ®µå’Œstatuså­—æ®µæ¥åˆ¤æ–­ å®žè·µæ€»ç»“æˆ‘ä»¬åœ¨å®žé™…åº”ç”¨ä¸­è™½ç„¶ä¼šå› ä¸ºå®ƒæ²¡æœ‰interceptorç­‰åŽŸå› è¿˜éœ€è¦å†å°è£…ä¸€å±‚ï¼Œä½†fetch apiä»ç„¶ä¸å¤±ä¸ºä¸€ä¸ªéžå¸¸èµžçš„APIã€‚ã€‚ã€‚ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[ES6æ•°æ®ç±»åž‹è½¬æ¢]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FES6%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[Mapè½¬ä¸ºæ•°ç»„1234const map = new Map();map.set(1,"foo").set(2,"bar").set(3,"baz");const arr = [...map];console.log(arr); æ•°ç»„ è½¬ä¸º Map123const arr = ["foo","bar","baz"];const arrChangeMap = (arr) =&gt; new Map(arr.map( (value,key) =&gt; [key,value]));console.log(arrChangeMap(arr)); Map è½¬ä¸ºå¯¹è±¡12345678910const map = new Map();map.set(1,"foo").set(2,"bar").set(3,"baz");const mapChangeObj = (map) =&gt; &#123; let obj = &#123;&#125;; for(let [k,v] of map) &#123; obj[k] = v; &#125; return obj;&#125;console.log(mapChangeObj(map)); å¯¹è±¡è½¬ä¸º Map12345678910111213const obj = &#123; "1" : "foo", "2": "bar", "3" : "baz",&#125;const objChangeMap = (obj) =&gt; &#123; let map = new Map(); for(let key in obj) &#123; map.set(key,obj[key]); &#125; return map;&#125;console.log(objChangeMap(obj)); Map è½¬ä¸º JSON,å€ŸåŠ©Mapè½¬å¯¹è±¡1234const map = new Map();map.set(1,"foo").set(2,"bar").set(3,"baz");const mapChangeJson = (map) =&gt; JSON.stringify(mapChangeObj(map));console.log(mapChangeJson(map)); JSON è½¬ä¸º Map,å€ŸåŠ©å¯¹è±¡è½¬Map123let json = '&#123;"1":"foo","2":"bar","3":"baz"&#125;';const jsonChangeMap = (json) =&gt; objChangeMap(JSON.parse(json));console.log(jsonChangeMap(json)); éœ€æ±‚ï¼š å¦‚ä½•å°†è¾“å…¥çš„jsonå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªmapå¯¹è±¡ï¼Œä¼ å…¥åˆ°å‘åŽç«¯çš„requestä¸­ ï¼Ÿ å…·ä½“é—®é¢˜æè¿°ï¼š é¡¹ç›®éœ€è¦ä»Žvueå‰ç«¯ä¼ ä¸€ä¸ªJsonå¯¹è±¡åˆ°requestä¸­ï¼Œè€ŒåŽç«¯çš„æŽ¥å£å‚æ•°ç±»åž‹æ˜¯Mapå¯¹è±¡ã€‚æ‰€ä»¥éœ€è¦å…ˆjsonè§£æžè½¬æˆMap,ä½†ajaxçš„åºåˆ—åŒ–åˆä¼šç»™Mapå¯¹è±¡å¤–é¢å¥—ä¸Šä¸€å±‚æ•°ç»„ï¼Œæ‰€ä»¥ä¼šä¸ŽåŽç«¯æŽ¥å£ä¸­çš„å‚æ•°ç±»åž‹ä¸åŒ¹é…ã€‚å…·ä½“è§£å†³æ–¹æ³•å¦‚ä¸‹ã€‚ 1. å…ˆåˆ¤æ–­è¾“å…¥çš„æ˜¯å¦æ˜¯åˆæ³•çš„jsonå­—ç¬¦ä¸²123456789101112131415161718192021222324252627282930 //åˆ¤æ–­æ˜¯å¦æ˜¯åˆæ³•çš„Jsonå­—ç¬¦ä¸² isJSON(str) &#123;if (typeof str == 'string') &#123;try &#123;var obj=JSON.parse(str);if(typeof obj == 'object' &amp;&amp; obj )&#123;return true;&#125;else&#123;return false;&#125;&#125; catch(e) &#123;return false;&#125;&#125;return false;&#125;, 2.æ£€éªŒjsonå­—ç¬¦ä¸²åˆæ³•ä¹‹åŽï¼Œå†è¿›è¡ŒJSON -&gt; Mapè½¬æ¢ï¼š (Jsonè½¬æ¢ä¸ºMapä¸èƒ½ç›´æŽ¥è½¬æ¢ï¼Œjsonè½¬ä¸ºå¯¹è±¡ï¼Œåœ¨è½¬æ¢ä¸ºMapã€‚) 123456789101112131415jsonStrToStrMap(jsonStr)&#123; let jsonObj = JSON.parse(jsonStr); let strMap = new Map(); for (let k of Object.keys(jsonObj)) &#123; strMap.set(k,jsonObj[k]); &#125; return strMap; &#125;, 3.è§£å†³åºåˆ—åŒ–é—®é¢˜è¿™é‡Œå¯ä»¥å°†jsonè§£æžå‡ºæ¥æŒ‰ç…§KVå­˜åœ¨Mapä¸­ï¼Œä½†å¡žè¿›requestä¸­ä¹‹åŽï¼Œä¼ è¾“åˆ°åŽç«¯å°±å˜æˆäº†[MapObj]ï¼Œè¿™æ ·çš„æ•°ç»„å¯¹è±¡ã€‚æ‰€ä»¥æƒ³å®Œç¾Žä¼ é€è¿‡åŽ»ï¼Œå°±å¿…é¡»å¼±åŒ–ç±»åž‹ï¼Œå¦‚ä¸‹ï¼š 123456789101112131415jsonStrToStrMap(jsonStr)&#123; let jsonObj = JSON.parse(jsonStr); let strMap = &#123;&#125;; for(var k in jsonObj )&#123; strMap[k] = jsonObj[k]; &#125; return strMap;&#125;, å¦‚ä¸Šï¼Œä¼ è¿›åŽ»çš„åªæ˜¯Objectç±»åž‹ï¼Œä¸ä¼šè¢«å¼ºåˆ¶ç±»åž‹è½¬æ¢ï¼ŒMapçš„æ•°æ®å’Œç»“æž„å°±å¯ä»¥ä¼ åˆ°åŽç«¯å•¦ã€‚ æ³¨æ„ï¼šä¸Šé¢æ˜¯jsonå­—ç¬¦ä¸²è½¬map,å¦‚æžœæ˜¯jsonå¯¹è±¡ï¼Œé‚£å°±å°† let jsonObj = JSON.parse(jsonStr); è¿™ä¸€å¥åŽ»æŽ‰å°±å¥½ã€‚ 4.è¡¥å……å…¶ä»–ç±»åž‹è½¬æ¢çš„æ–¹æ³•Jsonå’Œå­—ç¬¦ä¸²ä¹‹é—´çš„è½¬æ¢ï¼šJsonè½¬æ¢æˆString: let jstr = JSON.stringify(JsonObj); Stringè½¬æ¢æˆJson: let jsonObj = JSON.parse(jsonStr); Map -&gt;Json :Mapä¸èƒ½ç›´æŽ¥è½¬æ¢ä¸ºJsonï¼ŒMapå…ˆè¦è½¬æ¢ä¸ºObjectï¼Œåœ¨è½¬æ¢ä¸ºjsonã€‚ 123456789101112131415strMapToJson(strMap)&#123; let obj= Object.create(null); for (let[k,v] of strMap) &#123; obj[k] = v; &#125; let JsonStr = JSON.stringify(obj); return JsonStr; &#125; ä¸»è¦ä¼ è¾“çš„å¯¹è±¡å°±æ˜¯Json,Map,Stringæ¯”è¾ƒå¤šã€‚ 5.ä»Žjsonobjectä¸­å–å‡ºæ•´ä¸ªæ•°ç»„çš„å€¼1234JSONObject jsonObject = JSON.parseObject(s);//æ³¨æ„ï¼šarrayä¸­çš„å†…å®¹å¸¦æœ‰ä¸­æ‹¬å·[]ï¼Œæ‰€ä»¥è¦è½¬åŒ–ä¸ºJSONArrayç±»åž‹çš„å¯¹è±¡JSONArray family = jsonObject.getJSONArray("array")]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES5ç»§æ‰¿ä¸ŽES6ç»§æ‰¿]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FES5%E7%BB%A7%E6%89%BF%E4%B8%8EES6%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[ES5 ç»§æ‰¿ ä¸Ž ES6 ç»§æ‰¿çš„åŒºåˆ«ES5 ç»§æ‰¿å‡è®¾åœ¨es5è¦å®žçŽ°ç»§æ‰¿,é¦–å…ˆå®šä¹‰ä¸€ä¸ªçˆ¶ç±»: 12345678//çˆ¶ç±»function sup(name) &#123; this.name = name&#125;//å®šä¹‰çˆ¶ç±»åŽŸåž‹ä¸Šçš„æ–¹æ³•sup.prototype.printName = function ()&#123; console.log(this.name)&#125; çŽ°åœ¨å†å®šä¹‰ä»–supçš„å­ç±»ï¼Œç»§æ‰¿supçš„å±žæ€§å’Œæ–¹æ³•: 1234567891011function sub(name,age)&#123; sup.call(this,name) //è°ƒç”¨callæ–¹æ³•,ç»§æ‰¿supè¶…ç±»å±žæ€§ this.age = age&#125; sub.prototype = new sup //æŠŠå­ç±»subçš„åŽŸåž‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»çš„å®žä¾‹åŒ–å¯¹è±¡ï¼Œè¿™æ ·å³å¯ä»¥ç»§æ‰¿çˆ¶ç±»supåŽŸåž‹å¯¹è±¡ä¸Šçš„å±žæ€§å’Œæ–¹æ³•sub.prototype.constructor = sub //è¿™æ—¶ä¼šæœ‰ä¸ªé—®é¢˜å­ç±»çš„constructorå±žæ€§ä¼šæŒ‡å‘supï¼Œæ‰‹åŠ¨æŠŠconstructorå±žæ€§æŒ‡å‘å­ç±»sub//è¿™æ—¶å°±å¯ä»¥åœ¨çˆ¶ç±»çš„åŸºç¡€ä¸Šæ·»åŠ å±žæ€§å’Œæ–¹æ³•äº†sub.prototype.printAge = function ()&#123; console.log(this.age)&#125; è¿™æ—¶è°ƒç”¨çˆ¶ç±»ç”Ÿæˆä¸€ä¸ªå®žä¾‹åŒ–å¯¹è±¡: 123let jack = new sub('jack',20)jack.printName() //è¾“å‡º : jackjack.printAge() //è¾“å‡º : 20 è¿™å°±æ˜¯es5ä¸­å®žçŽ°ç»§æ‰¿çš„æ–¹æ³•ã€‚ ES6 ç»§æ‰¿è€Œåœ¨es6ä¸­å®žçŽ°ç»§æ‰¿: 12345678910111213141516171819202122232425 class sup &#123; constructor(name) &#123; this.name = name &#125; printName() &#123; console.log(this.name) &#125;&#125;class sub extends sup &#123; constructor(name, age) &#123; super(name) this.age = age &#125; printAge() &#123; console.log(this.age) &#125;&#125;let jack = new sub('jack', 20)jack.printName() //è¾“å‡º : jackjack.printAge() //è¾“å‡º : 20 è°ƒç”¨ super çš„åŽŸå› ï¼šåœ¨ES6ä¸­ï¼Œåœ¨å­ç±»çš„ function Object() { [native code] }ä¸­å¿…é¡»å…ˆè°ƒç”¨ super æ‰èƒ½å¼•ç”¨ this å¯¹æ¯”es5å’Œes6å¯ä»¥å‘çŽ°åœ¨es5å®žçŽ°ç»§æ‰¿: é¦–å…ˆå¾—å…ˆè°ƒç”¨å‡½æ•°çš„callæ–¹æ³•æŠŠçˆ¶ç±»çš„å±žæ€§ç»™ç»§æ‰¿è¿‡æ¥ é€šè¿‡newå…³é”®å­—ç»§æ‰¿çˆ¶ç±»åŽŸåž‹çš„å¯¹è±¡ä¸Šçš„æ–¹æ³•å’Œå±žæ€§ æœ€åŽå†é€šè¿‡æ‰‹åŠ¨æŒ‡å®šconstructorå±žæ€§æŒ‡å‘å­ç±»å¯¹è±¡ è€Œåœ¨es6ä¸­å®žçŽ°ç»§æ‰¿ç›´æŽ¥è°ƒç”¨super(name)ï¼Œå°±å¯ä»¥ç›´æŽ¥ç»§æ‰¿çˆ¶ç±»çš„å±žæ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥superä½œç”¨å°±ç›¸å½“äºŽä¸Šè¿°çš„å®žçŽ°ç»§æ‰¿çš„æ­¥éª¤ï¼Œä¸è¿‡es6æä¾›äº†superè¯­æ³•ç³–ï¼Œç®€å•åŒ–äº†ç»§æ‰¿çš„å®žçŽ° React ä¸­ä½¿ç”¨ç»§æ‰¿super(props) çš„ç›®çš„ï¼šåœ¨ function Object() { [native code] }ä¸­å¯ä»¥ä½¿ç”¨ this.props æœ€åŽï¼ŒReactæ–‡æ¡£ï¼Œé‡Œé¢æœ‰ä¸€æ®µ Class components should always call the base constructor with props.]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>ç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayåŸºç¡€API]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FArray%E5%9F%BA%E7%A1%80API%2F</url>
    <content type="text"><![CDATA[ArrayåŸºæœ¬å¸¸ç”¨API123456789101112131415161718192021var arr = [1, 2, 3, 'ab']var _push = arr.push(4, 5, 6) //length=7 console.log(arr) //[ 1, 2, 3, 'ab', 4, 5, 6 ]var _pop = arr.pop() //6console.log(arr) //[ 1, 2, 3, 'ab', 4, 5 ]var _shift = arr.shift() //1console.log(arr) //[ 2, 3, 'ab', 4, 5 ]var _unshift = arr.unshift('x') //length=6console.log(arr) //[ 'x', 2, 3, 'ab', 4, 5 ]var _join = arr.join('/') //x/2/3/ab/4/5 typeof _join = stringconsole.log(arr) //[ 'x', 2, 3, 'ab', 4, 5 ] ä¸æ”¹å˜åŽŸæ•°ç»„var _slice = arr.slice(1, 2) //[2]console.log(arr) //[ 'x', 2, 3, 'ab', 4, 5 ]var _splice = arr.splice(3, 1, 'hello') //[ 'ab' ] å¦‚æžœåªæœ‰ä¸€ä¸ªæ•°ç»„å°†ä¼šæ‹†åˆ†åŽŸæ•°ç»„ splice(3)===['ab',4,5]console.log(arr) //[ 'x', 2, 3, 'hello', 4, 5 ]var _sort = arr.sort() //[ 2, 3, 4, 5, 'hello', 'x' ] æ”¹å˜åŽŸæ•°ç»„console.log(arr) //[ 2, 3, 4, 5, 'hello', 'x' ] var _reverse = arr.reverse() //[ 'x', 'hello', 5, 4, 3, 2 ]console.log(arr) //[ 'x', 'hello', 5, 4, 3, 2 ]var _concat = arr.concat([7, 8, 9]) //[ 'x', 'hello', 5, 4, 3, 2, 7, 8, 9 ] ä¸æ”¹å˜åŽŸæ•°ç»„console.log(arr) //[ 'x', 'hello', 5, 4, 3, 2 ] è¿™ä¸ªæ–¹æ³•ä¼šæ·±æ‹·è´æ•°ç»„ å¯¹ç±»æ•°ç»„å¯¹è±¡è¿›è¡Œæ•°ç»„æ“ä½œ123456var string = 'hello'var a = Array.prototype.join.call(string,'-')console.log(a) //h-e-l-l-ovar b = Array.prototype.slice.call(&#123;0:'a',1:'b',length:2&#125;) //ç±»æ•°ç»„è½¬åŒ–æ•°ç»„console.log(b) //[ 'a', 'b' ]var person = [&#123;name:'che',age:22 &#125;] Arrayæ·±æ‹·è´.concat([])æ˜¯åˆ©ç”¨æ‹¼æŽ¥ä¸¤ä¸ªæ•°ç»„çš„æ–¹æ³•åŽ»å¯¹æ•°ç»„è¿›è¡Œæ·±æ‹·è´ 1234567var arr3 =[&#123;age:1,name:'che'&#125;,&#123;age:2,name:'cz'&#125;]var arr4 = arr3.concat([])console.log(arr4)[ &#123; age: 1, name: 'che' &#125;, &#123; age: 2, name: 'cz' &#125; ] JSONæ·±æ‹·è´æ–¹æ³•123var obj = &#123;name:'ch',age:2&#125;var newObj = JSON.parse(JSON.stringify(arr5))console.log(obj === newObj) //false å‡½æ•°é€’å½’æ·±æ‹·è´æ–¹æ³•12345678910111213141516171819var obj = &#123;name:'cheche',age:12,like:[1,2,&#123;name:'xiaopei',age:20&#125;]&#125;function deepCopy(obj)&#123; var obj2 = Array.isArray(obj)?[]:&#123;&#125;; if(typeof obj === 'object')&#123; for(var key in obj)&#123; if(typeof obj[key] === 'object')&#123; obj2[key] = deepCopy(obj[key]) &#125;else&#123; obj2[key] = obj[key] &#125; &#125; &#125; return obj2&#125;var x = deepCopy(obj)x.like[2].name = 'zhangteng'console.log(obj) //name: 'xiaopei'console.log(x) //name:'zhangteng'console.log(x === obj) //false æµ…æ‹·è´æµ…æ‹·è´æ— æ³•ä½¿å¾—å¯¹è±¡é‡Œå¼•ç”¨æ•°æ®ç±»åž‹ä¸ç›¸å¹² 12345678910111213var obj = &#123;name:'ccxzc',age:20,c:function()&#123;&#125;&#125;function shallowCopy(obj)&#123; var newObj =&#123;&#125; for(var key in obj)&#123; if(obj.hasOwnProperty(key))&#123; newObj[key] = obj[key] &#125; &#125; return newObj&#125;var sc = shallowCopy(obj)console.log(sc) //&#123; name: 'ccxzc', age: 20, c: [Function: c] &#125;console.log(sc === obj) //false reduceæ–¹æ³•é€ è½®å­123456789101112131415161718192021var arr = [3, 4, 5, 6];function reduce(arr, fn, initValue) &#123; // var arr2 = arr.concat([]) //åˆ©ç”¨æ‹¼æŽ¥åŽŸç† // if(initValue !== undefined)&#123; // arr2.unshift(initValue) // &#125; var arr2 = (initValue !== undefined ? [] : [initValue]); while (arr2.length &gt; 1) &#123; console.log(arr2); arr2.splice(0, 2, fn(arr2[0], arr2[1])); &#125; return arr2[0];&#125;var result = reduce( arr, function(v1, v2) &#123; return v1 + v2; &#125;, 10);console.log(result); å°†æ•°ç»„å¹³é¢åŒ–12345678910111213var arr = [1,2,3,[4,5,6],'dsa',[1,[4,5,[4,1]]]]function flat(arr)&#123; var newArr = [] arr.forEach((element,index) =&gt; &#123; if(Array.isArray(element))&#123; newArr = newArr.concat(flat(element)) &#125;else&#123; newArr.push(element) &#125; &#125;); return newArr&#125;console.log(flat(arr)) å®žçŽ°ä¸€ä¸ªreduceå‡½æ•°12345678910111213141516171819202122232425function reduce(arr, sum, initValue) &#123; var sumArr = (initValue === undefined ? [] : [initValue]).concat(arr); console.log(sumArr) while (sumArr.length &gt; 1) &#123; sumArr.splice(0, 2, sum(sumArr[0], sumArr[1])) console.log(sumArr) &#125; return sumArr[0]; &#125; var x = reduce([1, 2, 3, 4],function(numberA, numberB) &#123; return numberA + numberB; &#125;,10); console.log(x); å®žçŽ° flatten([1, [2], [3, [[4]]]]) =&gt; [1, 2, 3, 4];123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191function flatten(arr)&#123; var newArr = [] arr.forEach(function(e,index)&#123; if(typeof e === 'number')&#123; newArr.push(e) &#125;else if(Array.isArray(e))&#123; newArr = newArr.concat(flatten(e)) &#125; &#125;) return newArr &#125; var x = flatten([1, [2], [3, [[4]]]]) console.log(x) ArrayåŸºæœ¬å¸¸ç”¨APIvar arr = [1, 2, 3, 'ab']var _push = arr.push(4, 5, 6) //length=7 console.log(arr) //[ 1, 2, 3, 'ab', 4, 5, 6 ]var _pop = arr.pop() //6console.log(arr) //[ 1, 2, 3, 'ab', 4, 5 ]var _shift = arr.shift() //1console.log(arr) //[ 2, 3, 'ab', 4, 5 ]var _unshift = arr.unshift('x') //length=6console.log(arr) //[ 'x', 2, 3, 'ab', 4, 5 ]var _join = arr.join('/') //x/2/3/ab/4/5 typeof _join = stringconsole.log(arr) //[ 'x', 2, 3, 'ab', 4, 5 ] ä¸æ”¹å˜åŽŸæ•°ç»„var _slice = arr.slice(1, 2) //[2]console.log(arr) //[ 'x', 2, 3, 'ab', 4, 5 ]var _splice = arr.splice(3, 1, 'hello') //[ 'ab' ] å¦‚æžœåªæœ‰ä¸€ä¸ªæ•°ç»„å°†ä¼šæ‹†åˆ†åŽŸæ•°ç»„ splice(3)===['ab',4,5]console.log(arr) //[ 'x', 2, 3, 'hello', 4, 5 ]var _sort = arr.sort() //[ 2, 3, 4, 5, 'hello', 'x' ] æ”¹å˜åŽŸæ•°ç»„console.log(arr) //[ 2, 3, 4, 5, 'hello', 'x' ] var _reverse = arr.reverse() //[ 'x', 'hello', 5, 4, 3, 2 ]console.log(arr) //[ 'x', 'hello', 5, 4, 3, 2 ]var _concat = arr.concat([7, 8, 9]) //[ 'x', 'hello', 5, 4, 3, 2, 7, 8, 9 ] ä¸æ”¹å˜åŽŸæ•°ç»„console.log(arr) //[ 'x', 'hello', 5, 4, 3, 2 ] è¿™ä¸ªæ–¹æ³•ä¼šæ·±æ‹·è´æ•°ç»„å¯¹ç±»æ•°ç»„å¯¹è±¡è¿›è¡Œæ•°ç»„æ“ä½œvar string = 'hello'var a = Array.prototype.join.call(string,'-')console.log(a) //h-e-l-l-ovar b = Array.prototype.slice.call(&#123;0:'a',1:'b',length:2&#125;) //ç±»æ•°ç»„è½¬åŒ–æ•°ç»„console.log(b) //[ 'a', 'b' ]var person = [&#123;name:'che',age:22 &#125;]Arrayæ·±æ‹·è´.concat([])æ˜¯åˆ©ç”¨æ‹¼æŽ¥ä¸¤ä¸ªæ•°ç»„çš„æ–¹æ³•åŽ»å¯¹æ•°ç»„è¿›è¡Œæ·±æ‹·è´var arr3 =[&#123;age:1,name:'che'&#125;,&#123;age:2,name:'cz'&#125;]var arr4 = arr3.concat([])console.log(arr4)[ &#123; age: 1, name: 'che' &#125;, &#123; age: 2, name: 'cz' &#125; ]JSONæ·±æ‹·è´æ–¹æ³•var obj = &#123;name:'ch',age:2&#125;var newObj = JSON.parse(JSON.stringify(arr5))console.log(obj === newObj) //falseå‡½æ•°é€’å½’æ·±æ‹·è´æ–¹æ³•var obj = &#123;name:'cheche',age:12,like:[1,2,&#123;name:'xiaopei',age:20&#125;]&#125;function deepCopy(obj)&#123; var obj2 = Array.isArray(obj)?[]:&#123;&#125;; if(typeof obj === 'object')&#123; for(var key in obj)&#123; if(typeof obj[key] === 'object')&#123; obj2[key] = deepCopy(obj[key]) &#125;else&#123; obj2[key] = obj[key] &#125; &#125; &#125; return obj2&#125;var x = deepCopy(obj)x.like[2].name = 'zhangteng'console.log(obj) //name: 'xiaopei'console.log(x) //name:'zhangteng'console.log(x === obj) //false æµ…æ‹·è´æµ…æ‹·è´æ— æ³•ä½¿å¾—å¯¹è±¡é‡Œå¼•ç”¨æ•°æ®ç±»åž‹ä¸ç›¸å¹²var obj = &#123;name:'ccxzc',age:20,c:function()&#123;&#125;&#125;function shallowCopy(obj)&#123; var newObj =&#123;&#125; for(var key in obj)&#123; if(obj.hasOwnProperty(key))&#123; newObj[key] = obj[key] &#125; &#125; return newObj&#125;var sc = shallowCopy(obj)console.log(sc) //&#123; name: 'ccxzc', age: 20, c: [Function: c] &#125;console.log(sc === obj) //falsereduceæ–¹æ³•é€ è½®å­var arr = [3, 4, 5, 6];function reduce(arr, fn, initValue) &#123; // var arr2 = arr.concat([]) //åˆ©ç”¨æ‹¼æŽ¥åŽŸç† // if(initValue !== undefined)&#123; // arr2.unshift(initValue) // &#125; var arr2 = (initValue !== undefined ? [] : [initValue]); while (arr2.length &gt; 1) &#123; console.log(arr2); arr2.splice(0, 2, fn(arr2[0], arr2[1])); &#125; return arr2[0];&#125;var result = reduce( arr, function(v1, v2) &#123; return v1 + v2; &#125;, 10);console.log(result);å°†æ•°ç»„å¹³é¢åŒ–var arr = [1,2,3,[4,5,6],'dsa',[1,[4,5,[4,1]]]]function flat(arr)&#123; var newArr = [] arr.forEach((element,index) =&gt; &#123; if(Array.isArray(element))&#123; newArr = newArr.concat(flat(element)) &#125;else&#123; newArr.push(element) &#125; &#125;); return newArr&#125;console.log(flat(arr))å®žçŽ°ä¸€ä¸ªreduceå‡½æ•°function reduce(arr, sum, initValue) &#123; var sumArr = (initValue === undefined ? [] : [initValue]).concat(arr); console.log(sumArr) while (sumArr.length &gt; 1) &#123; sumArr.splice(0, 2, sum(sumArr[0], sumArr[1])) console.log(sumArr) &#125; return sumArr[0]; &#125; var x = reduce([1, 2, 3, 4],function(numberA, numberB) &#123; return numberA + numberB; &#125;,10); console.log(x); å®žçŽ° flatten([1, [2], [3, [[4]]]]) =&gt; [1, 2, 3, 4];function flatten(arr)&#123; var newArr = [] arr.forEach(function(e,index)&#123; if(typeof e === 'number')&#123; newArr.push(e) &#125;else if(Array.isArray(e))&#123; newArr = newArr.concat(flatten(e)) &#125; &#125;) return newArr &#125; var x = flatten([1, [2], [3, [[4]]]]) console.log(x) ä¸€ç¯‡æ›´åŠ è¯¦ç»†çš„åšå®¢]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ajaxå’ŒXMLHttpRequest]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FAjax%E5%92%8CXMLHttpRequest%2F</url>
    <content type="text"><![CDATA[Ajaxå’ŒXMLHttpRequestæˆ‘ä»¬é€šå¸¸å°†Ajaxç­‰åŒäºŽXMLHttpRequestï¼Œä½†ç»†ç©¶èµ·æ¥å®ƒä»¬ä¸¤ä¸ªæ˜¯å±žäºŽä¸åŒç»´åº¦çš„2ä¸ªæ¦‚å¿µã€‚ ä»¥ä¸‹æ˜¯æˆ‘è®¤ä¸ºå¯¹Ajaxè¾ƒä¸ºå‡†ç¡®çš„è§£é‡Šï¼šï¼ˆæ‘˜è‡ªwhat is Ajaxï¼‰AJAX stands for Asynchronous JavaScript and XML. AJAX is a new technique for creating better, faster, and more interactive web applications with the help of XML, HTML, CSS, and Java Script. AJAX is based on the following open standards: Browser-based presentation using HTML and Cascading Style Sheets (CSS). Data is stored in XML format and fetched from the server. Behind-the-scenes data fetches using XMLHttpRequest objects in the browser. JavaScript to make everything happen. ä»Žä¸Šé¢çš„è§£é‡Šä¸­å¯ä»¥çŸ¥é“ï¼šajaxæ˜¯ä¸€ç§æŠ€æœ¯æ–¹æ¡ˆï¼Œä½†å¹¶ä¸æ˜¯ä¸€ç§æ–°æŠ€æœ¯ã€‚å®ƒä¾èµ–çš„æ˜¯çŽ°æœ‰çš„CSS/HTML/Javascriptï¼Œè€Œå…¶ä¸­æœ€æ ¸å¿ƒçš„ä¾èµ–æ˜¯æµè§ˆå™¨æä¾›çš„XMLHttpRequestå¯¹è±¡ï¼Œæ˜¯è¿™ä¸ªå¯¹è±¡ä½¿å¾—æµè§ˆå™¨å¯ä»¥å‘å‡ºHTTPè¯·æ±‚ä¸ŽæŽ¥æ”¶HTTPå“åº”ã€‚ æ‰€ä»¥æˆ‘ç”¨ä¸€å¥è¯æ¥æ€»ç»“ä¸¤è€…çš„å…³ç³»ï¼šæˆ‘ä»¬ä½¿ç”¨XMLHttpRequestå¯¹è±¡æ¥å‘é€ä¸€ä¸ªAjaxè¯·æ±‚ã€‚ XMLHttpRequestçš„å‘å±•åŽ†ç¨‹XMLHttpRequestä¸€å¼€å§‹åªæ˜¯å¾®è½¯æµè§ˆå™¨æä¾›çš„ä¸€ä¸ªæŽ¥å£ï¼ŒåŽæ¥å„å¤§æµè§ˆå™¨çº·çº·æ•ˆä»¿ä¹Ÿæä¾›äº†è¿™ä¸ªæŽ¥å£ï¼Œå†åŽæ¥W3Cå¯¹å®ƒè¿›è¡Œäº†æ ‡å‡†åŒ–ï¼Œæå‡ºäº†XMLHttpRequestæ ‡å‡†ã€‚XMLHttpRequestæ ‡å‡†åˆåˆ†ä¸ºLevel 1å’ŒLevel 2ã€‚XMLHttpRequest Level 1ä¸»è¦å­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œä¸èƒ½å‘é€è·¨åŸŸè¯·æ±‚ï¼› ä¸èƒ½å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰ï¼‰ï¼Œåªèƒ½å‘é€çº¯æ–‡æœ¬æ•°æ®ï¼› åœ¨å‘é€å’ŒèŽ·å–æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œæ— æ³•å®žæ—¶èŽ·å–è¿›åº¦ä¿¡æ¯ï¼Œåªèƒ½åˆ¤æ–­æ˜¯å¦å®Œæˆï¼› é‚£ä¹ˆLevel 2å¯¹Level 1 è¿›è¡Œäº†æ”¹è¿›ï¼ŒXMLHttpRequest Level 2ä¸­æ–°å¢žäº†ä»¥ä¸‹åŠŸèƒ½ï¼š å¯ä»¥å‘é€è·¨åŸŸè¯·æ±‚ï¼Œåœ¨æœåŠ¡ç«¯å…è®¸çš„æƒ…å†µä¸‹ï¼› æ”¯æŒå‘é€å’ŒæŽ¥æ”¶äºŒè¿›åˆ¶æ•°æ®ï¼› æ–°å¢žformDataå¯¹è±¡ï¼Œæ”¯æŒå‘é€è¡¨å•æ•°æ®ï¼› å‘é€å’ŒèŽ·å–æ•°æ®æ—¶ï¼Œå¯ä»¥èŽ·å–è¿›åº¦ä¿¡æ¯ï¼› å¯ä»¥è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼› å½“ç„¶æ›´è¯¦ç»†çš„å¯¹æ¯”ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒé˜®è€å¸ˆçš„è¿™ç¯‡æ–‡ç« ï¼Œæ–‡ç« ä¸­å¯¹æ–°å¢žçš„åŠŸèƒ½éƒ½æœ‰å…·ä½“ä»£ç ç¤ºä¾‹ã€‚ XMLHttpRequestå…¼å®¹æ€§å…³äºŽxhrçš„æµè§ˆå™¨å…¼å®¹æ€§ï¼Œå¤§å®¶å¯ä»¥ç›´æŽ¥æŸ¥çœ‹â€œCan I useâ€è¿™ä¸ªç½‘ç«™æä¾›çš„ç»“æžœXMLHttpRequestå…¼å®¹æ€§ï¼Œä¸‹é¢æä¾›ä¸€ä¸ªæˆªå›¾ã€‚ ä»Žå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼š IE8/IE9ã€Opera Mini å®Œå…¨ä¸æ”¯æŒxhrå¯¹è±¡ IE10/IE11éƒ¨åˆ†æ”¯æŒï¼Œä¸æ”¯æŒ xhr.responseTypeä¸ºjson éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒè®¾ç½®è¯·æ±‚è¶…æ—¶ï¼Œå³æ— æ³•ä½¿ç”¨xhr.timeout éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒxhr.responseTypeä¸ºblob ç»†è¯´XMLHttpRequestå¦‚ä½•ä½¿ç”¨å…ˆæ¥çœ‹ä¸€æ®µä½¿ç”¨XMLHttpRequestå‘é€Ajaxè¯·æ±‚çš„ç®€å•ç¤ºä¾‹ä»£ç ã€‚ 1234567891011121314151617181920212223242526function sendAjax() &#123; //æž„é€ è¡¨å•æ•°æ® var formData = new FormData(); formData.append('username', 'johndoe'); formData.append('id', 123456); //åˆ›å»ºxhrå¯¹è±¡ var xhr = new XMLHttpRequest(); //è®¾ç½®xhrè¯·æ±‚çš„è¶…æ—¶æ—¶é—´ xhr.timeout = 3000; //è®¾ç½®å“åº”è¿”å›žçš„æ•°æ®æ ¼å¼ xhr.responseType = "text"; //åˆ›å»ºä¸€ä¸ª post è¯·æ±‚ï¼Œé‡‡ç”¨å¼‚æ­¥ xhr.open('POST', '/server', true); //æ³¨å†Œç›¸å…³äº‹ä»¶å›žè°ƒå¤„ç†å‡½æ•° xhr.onload = function(e) &#123; if(this.status == 200||this.status == 304)&#123; alert(this.responseText); &#125; &#125;; xhr.ontimeout = function(e) &#123; ... &#125;; xhr.onerror = function(e) &#123; ... &#125;; xhr.upload.onprogress = function(e) &#123; ... &#125;; //å‘é€æ•°æ® xhr.send(formData);&#125; ä¸Šé¢æ˜¯ä¸€ä¸ªä½¿ç”¨xhrå‘é€è¡¨å•æ•°æ®çš„ç¤ºä¾‹ï¼Œæ•´ä¸ªæµç¨‹å¯ä»¥å‚è€ƒæ³¨é‡Šã€‚ æŽ¥ä¸‹æ¥æˆ‘å°†ç«™åœ¨ä½¿ç”¨è€…çš„è§’åº¦ï¼Œä»¥é—®é¢˜çš„å½¢å¼ä»‹ç»xhrçš„åŸºæœ¬ä½¿ç”¨ã€‚æˆ‘å¯¹æ¯ä¸€ä¸ªé—®é¢˜æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹éƒ½ä¼šè¿›è¡Œæ¯”è¾ƒç»†è‡´åœ°ä»‹ç»ï¼Œæœ‰äº›çŸ¥è¯†ç‚¹å¯èƒ½æ˜¯ä½ å¹³æ—¶å¿½ç•¥å…³æ³¨çš„ã€‚ å¦‚ä½•è®¾ç½®request headeråœ¨å‘é€Ajaxè¯·æ±‚ï¼ˆå®žè´¨æ˜¯ä¸€ä¸ªHTTPè¯·æ±‚ï¼‰æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è®¾ç½®ä¸€äº›è¯·æ±‚å¤´éƒ¨ä¿¡æ¯ï¼Œæ¯”å¦‚content-typeã€connectionã€cookieã€accept-xxxç­‰ã€‚xhræä¾›äº†setRequestHeaderæ¥å…è®¸æˆ‘ä»¬ä¿®æ”¹è¯·æ±‚ headerã€‚ void setRequestHeader(DOMString header, DOMString value); æ³¨æ„ç‚¹ï¼š æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•° header å¤§å°å†™ä¸æ•æ„Ÿï¼Œå³å¯ä»¥å†™æˆcontent-typeï¼Œä¹Ÿå¯ä»¥å†™æˆContent-Typeï¼Œç”šè‡³å†™æˆcontent-Type; Content-Typeçš„é»˜è®¤å€¼ä¸Žå…·ä½“å‘é€çš„æ•°æ®ç±»åž‹æœ‰å…³ï¼Œè¯·å‚è€ƒæœ¬æ–‡ã€å¯ä»¥å‘é€ä»€ä¹ˆç±»åž‹çš„æ•°æ®ã€‘ä¸€èŠ‚ï¼› setRequestHeaderå¿…é¡»åœ¨open()æ–¹æ³•ä¹‹åŽï¼Œsend()æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ›é”™ï¼› setRequestHeaderå¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œæœ€ç»ˆçš„å€¼ä¸ä¼šé‡‡ç”¨è¦†ç›–overrideçš„æ–¹å¼ï¼Œè€Œæ˜¯é‡‡ç”¨è¿½åŠ appendçš„æ–¹å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š 123456var client = new XMLHttpRequest();client.open('GET', 'demo.cgi');client.setRequestHeader('X-Test', 'one');client.setRequestHeader('X-Test', 'two');// æœ€ç»ˆrequest headerä¸­"X-Test"ä¸º: one, twoclient.send(); å¦‚ä½•èŽ·å–response headerxhræä¾›äº†2ä¸ªç”¨æ¥èŽ·å–å“åº”å¤´éƒ¨çš„æ–¹æ³•ï¼šgetAllResponseHeaderså’ŒgetResponseHeaderã€‚å‰è€…æ˜¯èŽ·å– response ä¸­çš„æ‰€æœ‰header å­—æ®µï¼ŒåŽè€…åªæ˜¯èŽ·å–æŸä¸ªæŒ‡å®š header å­—æ®µçš„å€¼ã€‚å¦å¤–ï¼ŒgetResponseHeader(header)çš„headerå‚æ•°ä¸åŒºåˆ†å¤§å°å†™ã€‚ DOMString getAllResponseHeaders();DOMString getResponseHeader(DOMString header); è¿™2ä¸ªæ–¹æ³•çœ‹èµ·æ¥ç®€å•ï¼Œä½†å´å¤„å¤„æ˜¯å‘å„¿ã€‚ ä½ æ˜¯å¦é‡åˆ°è¿‡ä¸‹é¢çš„å‘å„¿?â€”â€”åæ­£æˆ‘æ˜¯é‡åˆ°äº†ã€‚ã€‚ã€‚ ä½¿ç”¨getAllResponseHeaders()çœ‹åˆ°çš„æ‰€æœ‰response headerä¸Žå®žé™…åœ¨æŽ§åˆ¶å° Network ä¸­çœ‹åˆ°çš„ response headerä¸ä¸€æ · ä½¿ç”¨getResponseHeader()èŽ·å–æŸä¸ª header çš„å€¼æ—¶ï¼Œæµè§ˆå™¨æŠ›é”™Refused to get unsafe header &quot;XXX&quot; ç»è¿‡ä¸€ç•ªå¯»æ‰¾æœ€ç»ˆåœ¨ Stack Overflowæ‰¾åˆ°äº†ç­”æ¡ˆã€‚ åŽŸå› 1ï¼šW3Cçš„ xhr æ ‡å‡†ä¸­åšäº†é™åˆ¶ï¼Œè§„å®šå®¢æˆ·ç«¯æ— æ³•èŽ·å– response ä¸­çš„ Set-Cookieã€Set-Cookie2è¿™2ä¸ªå­—æ®µï¼Œæ— è®ºæ˜¯åŒåŸŸè¿˜æ˜¯è·¨åŸŸè¯·æ±‚ï¼› åŽŸå› 2ï¼šW3C çš„ cors æ ‡å‡†å¯¹äºŽè·¨åŸŸè¯·æ±‚ä¹Ÿåšäº†é™åˆ¶ï¼Œè§„å®šå¯¹äºŽè·¨åŸŸè¯·æ±‚ï¼Œå®¢æˆ·ç«¯å…è®¸èŽ·å–çš„response headerå­—æ®µåªé™äºŽâ€œsimple response headerâ€å’Œâ€œAccess-Control-Expose-Headersâ€ ï¼ˆä¸¤ä¸ªåè¯çš„è§£é‡Šè§ä¸‹æ–¹ï¼‰ã€‚ â€œsimple response headerâ€œåŒ…æ‹¬çš„ header å­—æ®µæœ‰ï¼šCache-Control,Content-Language,Content-Type,Expires,Last-Modified,Pragma;â€œAccess-Control-Expose-Headersâ€œï¼šé¦–å…ˆå¾—æ³¨æ„æ˜¯â€Access-Control-Expose-Headersâ€œè¿›è¡Œè·¨åŸŸè¯·æ±‚æ—¶å“åº”å¤´éƒ¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œå¯¹äºŽåŒåŸŸè¯·æ±‚ï¼Œå“åº”å¤´éƒ¨æ˜¯æ²¡æœ‰è¿™ä¸ªå­—æ®µçš„ã€‚è¿™ä¸ªå­—æ®µä¸­åˆ—ä¸¾çš„ header å­—æ®µå°±æ˜¯æœåŠ¡å™¨å…è®¸æš´éœ²ç»™å®¢æˆ·ç«¯è®¿é—®çš„å­—æ®µã€‚ æ‰€ä»¥getAllResponseHeaders()åªèƒ½æ‹¿åˆ°é™åˆ¶ä»¥å¤–ï¼ˆå³è¢«è§†ä¸ºsafeï¼‰çš„headerå­—æ®µï¼Œè€Œä¸æ˜¯å…¨éƒ¨å­—æ®µï¼›è€Œè°ƒç”¨getResponseHeader(header)æ–¹æ³•æ—¶ï¼Œheaderå‚æ•°å¿…é¡»æ˜¯é™åˆ¶ä»¥å¤–çš„headerå­—æ®µï¼Œå¦åˆ™è°ƒç”¨å°±ä¼šæŠ¥Refused to get unsafe headerçš„é”™è¯¯ã€‚ å¦‚ä½•æŒ‡å®šxhr.responseçš„æ•°æ®ç±»åž‹æœ‰äº›æ—¶å€™æˆ‘ä»¬å¸Œæœ›xhr.responseè¿”å›žçš„å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ç±»åž‹ã€‚æ¯”å¦‚ï¼šå“åº”è¿”å›žçš„æ•°æ®æ˜¯çº¯JSONå­—ç¬¦ä¸²ï¼Œä½†æˆ‘ä»¬æœŸæœ›æœ€ç»ˆé€šè¿‡xhr.responseæ‹¿åˆ°çš„ç›´æŽ¥å°±æ˜¯ä¸€ä¸ª js å¯¹è±¡ï¼Œæˆ‘ä»¬è¯¥æ€Žä¹ˆå®žçŽ°å‘¢ï¼Ÿæœ‰2ç§æ–¹æ³•å¯ä»¥å®žçŽ°ï¼Œä¸€ä¸ªæ˜¯level 1å°±æä¾›çš„overrideMimeType()æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ˜¯level 2æ‰æä¾›çš„xhr.responseTypeå±žæ€§ã€‚ xhr.overrideMimeType()overrideMimeTypeæ˜¯xhr level 1å°±æœ‰çš„æ–¹æ³•ï¼Œæ‰€ä»¥æµè§ˆå™¨å…¼å®¹æ€§è‰¯å¥½ã€‚è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯ç”¨æ¥é‡å†™responseçš„content-typeï¼Œè¿™æ ·åšæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿæ¯”å¦‚ï¼šserver ç«¯ç»™å®¢æˆ·ç«¯è¿”å›žäº†ä¸€ä»½documentæˆ–è€…æ˜¯ xmlæ–‡æ¡£ï¼Œæˆ‘ä»¬å¸Œæœ›æœ€ç»ˆé€šè¿‡xhr.responseæ‹¿åˆ°çš„å°±æ˜¯ä¸€ä¸ªDOMå¯¹è±¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨xhr.overrideMimeType(&#39;text/xml; charset = utf-8&#39;)æ¥å®žçŽ°ã€‚ å†ä¸¾ä¸€ä¸ªä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“xhr level 1ä¸æ”¯æŒç›´æŽ¥ä¼ è¾“blobäºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£å¦‚æžœçœŸè¦ä¼ è¾“ blob è¯¥æ€Žä¹ˆåŠžå‘¢ï¼Ÿå½“æ—¶å°±æ˜¯åˆ©ç”¨overrideMimeTypeæ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªèŽ·å–å›¾ç‰‡æ–‡ä»¶çš„ä»£ç ç¤ºä¾‹ï¼š 12345678910111213141516171819202122var xhr = new XMLHttpRequest();//å‘ server ç«¯èŽ·å–ä¸€å¼ å›¾ç‰‡xhr.open('GET', '/path/to/image.png', true);// è¿™è¡Œæ˜¯å…³é”®ï¼//å°†å“åº”æ•°æ®æŒ‰ç…§çº¯æ–‡æœ¬æ ¼å¼æ¥è§£æžï¼Œå­—ç¬¦é›†æ›¿æ¢ä¸ºç”¨æˆ·è‡ªå·±å®šä¹‰çš„å­—ç¬¦é›†xhr.overrideMimeType('text/plain; charset=x-user-defined');xhr.onreadystatechange = function(e) &#123; if (this.readyState == 4 &amp;&amp; this.status == 200) &#123; //é€šè¿‡ responseText æ¥èŽ·å–å›¾ç‰‡æ–‡ä»¶å¯¹åº”çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸² var binStr = this.responseText; //ç„¶åŽè‡ªå·±å†æƒ³æ–¹æ³•å°†é€ä¸ªå­—èŠ‚è¿˜åŽŸä¸ºäºŒè¿›åˆ¶æ•°æ® for (var i = 0, len = binStr.length; i &lt; len; ++i) &#123; var c = binStr.charCodeAt(i); //String.fromCharCode(c &amp; 0xff); var byte = c &amp; 0xff; &#125; &#125;&#125;;xhr.send(); ä»£ç ç¤ºä¾‹ä¸­xhrè¯·æ±‚çš„æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œé€šè¿‡å°† response çš„ content-type æ”¹ä¸ºâ€™text/plain; charset=x-user-definedâ€™ï¼Œä½¿å¾— xhr ä»¥çº¯æ–‡æœ¬æ ¼å¼æ¥è§£æžæŽ¥æ”¶åˆ°çš„blob æ•°æ®ï¼Œæœ€ç»ˆç”¨æˆ·é€šè¿‡this.responseTextæ‹¿åˆ°çš„å°±æ˜¯å›¾ç‰‡æ–‡ä»¶å¯¹åº”çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæœ€åŽå†å°†å…¶è½¬æ¢ä¸º blob æ•°æ®ã€‚ xhr.responseTyperesponseTypeæ˜¯xhr level 2æ–°å¢žçš„å±žæ€§ï¼Œç”¨æ¥æŒ‡å®šxhr.responseçš„æ•°æ®ç±»åž‹ï¼Œç›®å‰è¿˜å­˜åœ¨äº›å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒæœ¬æ–‡çš„ã€XMLHttpRequestçš„å…¼å®¹æ€§ã€‘è¿™ä¸€å°èŠ‚ã€‚é‚£ä¹ˆresponseTypeå¯ä»¥è®¾ç½®ä¸ºå“ªäº›æ ¼å¼å‘¢ï¼Œæˆ‘ç®€å•åšäº†ä¸€ä¸ªè¡¨ï¼Œå¦‚ä¸‹ï¼š å€¼ xhr.response æ•°æ®ç±»åž‹ è¯´æ˜Ž &quot;&quot; Stringå­—ç¬¦ä¸² é»˜è®¤å€¼(åœ¨ä¸è®¾ç½®responseTypeæ—¶) &quot;text&quot; Stringå­—ç¬¦ä¸² &quot;document&quot; Documentå¯¹è±¡ å¸Œæœ›è¿”å›ž XML æ ¼å¼æ•°æ®æ—¶ä½¿ç”¨ &quot;json&quot; javascript å¯¹è±¡ å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼ŒIE10/IE11ä¸æ”¯æŒ &quot;blob&quot; Blobå¯¹è±¡ &quot;arrayBuffer&quot; ArrayBufferå¯¹è±¡ ä¸‹é¢æ˜¯åŒæ ·æ˜¯èŽ·å–ä¸€å¼ å›¾ç‰‡çš„ä»£ç ç¤ºä¾‹ï¼Œç›¸æ¯”xhr.overrideMimeType,ç”¨xhr.responseæ¥å®žçŽ°ç®€å•å¾—å¤šã€‚ 1234567891011121314var xhr = new XMLHttpRequest();xhr.open('GET', '/path/to/image.png', true);//å¯ä»¥å°†`xhr.responseType`è®¾ç½®ä¸º`"blob"`ä¹Ÿå¯ä»¥è®¾ç½®ä¸º`" arrayBuffer"`//xhr.responseType = 'arrayBuffer';xhr.responseType = 'blob';xhr.onload = function(e) &#123; if (this.status == 200) &#123; var blob = this.response; ... &#125;&#125;;xhr.send(); å°ç»“è™½ç„¶åœ¨xhr level 2ä¸­ï¼Œ2è€…æ˜¯å…±åŒå­˜åœ¨çš„ã€‚ä½†å…¶å®žä¸éš¾å‘çŽ°ï¼Œxhr.responseTypeå°±æ˜¯ç”¨æ¥å–ä»£xhr.overrideMimeType()çš„ï¼Œxhr.responseTypeåŠŸèƒ½å¼ºå¤§çš„å¤šï¼Œxhr.overrideMimeType()èƒ½åšåˆ°çš„xhr.responseTypeéƒ½èƒ½åšåˆ°ã€‚æ‰€ä»¥æˆ‘ä»¬çŽ°åœ¨å®Œå…¨å¯ä»¥æ‘’å¼ƒä½¿ç”¨xhr.overrideMimeType()äº†ã€‚ å¦‚ä½•èŽ·å–responseæ•°æ®xhræä¾›äº†3ä¸ªå±žæ€§æ¥èŽ·å–è¯·æ±‚è¿”å›žçš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯ï¼šxhr.responseã€xhr.responseTextã€xhr.responseXML xhr.response é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸²&quot;&quot; å½“è¯·æ±‚å®Œæˆæ—¶ï¼Œæ­¤å±žæ€§æ‰æœ‰æ­£ç¡®çš„å€¼ è¯·æ±‚æœªå®Œæˆæ—¶ï¼Œæ­¤å±žæ€§çš„å€¼å¯èƒ½æ˜¯&quot;&quot;æˆ–è€… nullï¼Œå…·ä½“ä¸Ž xhr.responseTypeæœ‰å…³ï¼šå½“responseTypeä¸º&quot;&quot;æˆ–&quot;text&quot;æ—¶ï¼Œå€¼ä¸º&quot;&quot;ï¼›responseTypeä¸ºå…¶ä»–å€¼æ—¶ï¼Œå€¼ä¸º null xhr.responseText é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²&quot;&quot; åªæœ‰å½“ responseType ä¸º&quot;text&quot;ã€&quot;&quot;æ—¶ï¼Œxhrå¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±žæ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨xhr.responseTextï¼Œå¦åˆ™æŠ›é”™ åªæœ‰å½“è¯·æ±‚æˆåŠŸæ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹2ç§æƒ…å†µä¸‹å€¼éƒ½ä¸ºç©ºå­—ç¬¦ä¸²&quot;&quot;ï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥ xhr.responseXML é»˜è®¤å€¼ä¸º null åªæœ‰å½“ responseType ä¸º&quot;text&quot;ã€&quot;&quot;ã€&quot;document&quot;æ—¶ï¼Œxhrå¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±žæ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨xhr.responseXMLï¼Œå¦åˆ™æŠ›é”™ åªæœ‰å½“è¯·æ±‚æˆåŠŸä¸”è¿”å›žæ•°æ®è¢«æ­£ç¡®è§£æžæ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹3ç§æƒ…å†µä¸‹å€¼éƒ½ä¸ºnullï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥ã€è¯·æ±‚æˆåŠŸä½†è¿”å›žæ•°æ®æ— æ³•è¢«æ­£ç¡®è§£æžæ—¶ å¦‚ä½•è¿½è¸ªajaxè¯·æ±‚çš„å½“å‰çŠ¶æ€åœ¨å‘ä¸€ä¸ªajaxè¯·æ±‚åŽï¼Œå¦‚æžœæƒ³è¿½è¸ªè¯·æ±‚å½“å‰å¤„äºŽå“ªç§çŠ¶æ€ï¼Œè¯¥æ€Žä¹ˆåšå‘¢ï¼Ÿ ç”¨xhr.readyStateè¿™ä¸ªå±žæ€§å³å¯è¿½è¸ªåˆ°ã€‚è¿™ä¸ªå±žæ€§æ˜¯åªè¯»å±žæ€§ï¼Œæ€»å…±æœ‰5ç§å¯èƒ½å€¼ï¼Œåˆ†åˆ«å¯¹åº”xhrä¸åŒçš„ä¸åŒé˜¶æ®µã€‚æ¯æ¬¡xhr.readyStateçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè§¦å‘xhr.onreadystatechangeäº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªäº‹ä»¶ä¸­è¿›è¡Œç›¸å…³çŠ¶æ€åˆ¤æ–­ã€‚ 123456789101112131415xhr.onreadystatechange = function () &#123; switch(xhr.readyState)&#123; case 1://OPENED //do something break; case 2://HEADERS_RECEIVED //do something break; case 3://LOADING //do something break; case 4://DONE //do something break; &#125; å€¼ çŠ¶æ€ æè¿° 0 UNSENT (åˆå§‹çŠ¶æ€ï¼Œæœªæ‰“å¼€) æ­¤æ—¶xhrå¯¹è±¡è¢«æˆåŠŸæž„é€ ï¼Œopen()æ–¹æ³•è¿˜æœªè¢«è°ƒç”¨ 1 OPENED (å·²æ‰“å¼€ï¼Œæœªå‘é€) open()æ–¹æ³•å·²è¢«æˆåŠŸè°ƒç”¨ï¼Œsend()æ–¹æ³•è¿˜æœªè¢«è°ƒç”¨ã€‚æ³¨æ„ï¼šåªæœ‰xhrå¤„äºŽOPENEDçŠ¶æ€ï¼Œæ‰èƒ½è°ƒç”¨xhr.setRequestHeader()å’Œxhr.send(),å¦åˆ™ä¼šæŠ¥é”™ 2 HEADERS_RECEIVED(å·²èŽ·å–å“åº”å¤´) send()æ–¹æ³•å·²ç»è¢«è°ƒç”¨, å“åº”å¤´å’Œå“åº”çŠ¶æ€å·²ç»è¿”å›ž 3 LOADING (æ­£åœ¨ä¸‹è½½å“åº”ä½“) å“åº”ä½“(response entity body)æ­£åœ¨ä¸‹è½½ä¸­ï¼Œæ­¤çŠ¶æ€ä¸‹é€šè¿‡xhr.responseå¯èƒ½å·²ç»æœ‰äº†å“åº”æ•°æ® 4 DONE (æ•´ä¸ªæ•°æ®ä¼ è¾“è¿‡ç¨‹ç»“æŸ) æ•´ä¸ªæ•°æ®ä¼ è¾“è¿‡ç¨‹ç»“æŸï¼Œä¸ç®¡æœ¬æ¬¡è¯·æ±‚æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ å¦‚ä½•è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´å¦‚æžœè¯·æ±‚è¿‡äº†å¾ˆä¹…è¿˜æ²¡æœ‰æˆåŠŸï¼Œä¸ºäº†ä¸ä¼šç™½ç™½å ç”¨çš„ç½‘ç»œèµ„æºï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä¸»åŠ¨ç»ˆæ­¢è¯·æ±‚ã€‚XMLHttpRequestæä¾›äº†timeoutå±žæ€§æ¥å…è®¸è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ã€‚ xhr.timeout å•ä½ï¼šmilliseconds æ¯«ç§’é»˜è®¤å€¼ï¼š0ï¼Œå³ä¸è®¾ç½®è¶…æ—¶ å¾ˆå¤šåŒå­¦éƒ½çŸ¥é“ï¼šä»Žè¯·æ±‚å¼€å§‹ ç®—èµ·ï¼Œè‹¥è¶…è¿‡ timeout æ—¶é—´è¯·æ±‚è¿˜æ²¡æœ‰ç»“æŸï¼ˆåŒ…æ‹¬æˆåŠŸ/å¤±è´¥ï¼‰ï¼Œåˆ™ä¼šè§¦å‘ontimeoutäº‹ä»¶ï¼Œä¸»åŠ¨ç»“æŸè¯¥è¯·æ±‚ã€‚ ã€é‚£ä¹ˆåˆ°åº•ä»€ä¹ˆæ—¶å€™æ‰ç®—æ˜¯è¯·æ±‚å¼€å§‹ ï¼Ÿã€‘â€”â€”xhr.onloadstartäº‹ä»¶è§¦å‘çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ä½ è°ƒç”¨xhr.send()æ–¹æ³•çš„æ—¶å€™ã€‚å› ä¸ºxhr.open()åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªè¿žæŽ¥ï¼Œä½†å¹¶æ²¡æœ‰çœŸæ­£å¼€å§‹æ•°æ®çš„ä¼ è¾“ï¼Œè€Œxhr.send()æ‰æ˜¯çœŸæ­£å¼€å§‹äº†æ•°æ®çš„ä¼ è¾“è¿‡ç¨‹ã€‚åªæœ‰è°ƒç”¨äº†xhr.send()ï¼Œæ‰ä¼šè§¦å‘xhr.onloadstart ã€‚ ã€é‚£ä¹ˆä»€ä¹ˆæ—¶å€™æ‰ç®—æ˜¯è¯·æ±‚ç»“æŸ ï¼Ÿã€‘â€”â€” xhr.loadendäº‹ä»¶è§¦å‘çš„æ—¶å€™ã€‚ å¦å¤–ï¼Œè¿˜æœ‰2ä¸ªéœ€è¦æ³¨æ„çš„å‘å„¿ï¼š å¯ä»¥åœ¨ send()ä¹‹åŽå†è®¾ç½®æ­¤xhr.timeoutï¼Œä½†è®¡æ—¶èµ·å§‹ç‚¹ä»ä¸ºè°ƒç”¨xhr.send()æ–¹æ³•çš„æ—¶åˆ»ã€‚ å½“xhrä¸ºä¸€ä¸ªsyncåŒæ­¥è¯·æ±‚æ—¶ï¼Œxhr.timeoutå¿…é¡»ç½®ä¸º0ï¼Œå¦åˆ™ä¼šæŠ›é”™ã€‚åŽŸå› å¯ä»¥å‚è€ƒæœ¬æ–‡çš„ã€å¦‚ä½•å‘ä¸€ä¸ªåŒæ­¥è¯·æ±‚ã€‘ä¸€èŠ‚ã€‚ å¦‚ä½•å‘ä¸€ä¸ªåŒæ­¥è¯·æ±‚xhré»˜è®¤å‘çš„æ˜¯å¼‚æ­¥è¯·æ±‚ï¼Œä½†ä¹Ÿæ”¯æŒå‘åŒæ­¥è¯·æ±‚ï¼ˆå½“ç„¶å®žé™…å¼€å‘ä¸­åº”è¯¥å°½é‡é¿å…ä½¿ç”¨ï¼‰ã€‚åˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥è¯·æ±‚ï¼Œç”±xhr.openï¼ˆï¼‰ä¼ å…¥çš„asyncå‚æ•°å†³å®šã€‚ open(method, url [, async = true [, username = null [, password = null]]]) method: è¯·æ±‚çš„æ–¹å¼ï¼Œå¦‚GET/POST/HEADERç­‰ï¼Œè¿™ä¸ªå‚æ•°ä¸åŒºåˆ†å¤§å°å†™ url: è¯·æ±‚çš„åœ°å€ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹åœ°å€å¦‚example.phpï¼Œè¿™ä¸ªç›¸å¯¹æ˜¯ç›¸å¯¹äºŽå½“å‰ç½‘é¡µçš„urlè·¯å¾„ï¼›ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹åœ°å€å¦‚http://www.example.com/example.php async: é»˜è®¤å€¼ä¸ºtrueï¼Œå³ä¸ºå¼‚æ­¥è¯·æ±‚ï¼Œè‹¥async=falseï¼Œåˆ™ä¸ºåŒæ­¥è¯·æ±‚ åœ¨æˆ‘è®¤çœŸç ”è¯»W3C çš„ xhr æ ‡å‡†å‰ï¼Œæˆ‘æ€»ä»¥ä¸ºåŒæ­¥è¯·æ±‚å’Œå¼‚æ­¥è¯·æ±‚åªæ˜¯é˜»å¡žå’Œéžé˜»å¡žçš„åŒºåˆ«ï¼Œå…¶ä»–ä»€ä¹ˆäº‹ä»¶è§¦å‘ã€å‚æ•°è®¾ç½®åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œäº‹å®žè¯æ˜Žæˆ‘é”™äº†ã€‚ W3C çš„ xhræ ‡å‡†ä¸­å…³äºŽopen()æ–¹æ³•æœ‰è¿™æ ·ä¸€æ®µè¯´æ˜Žï¼š Throws an â€œInvalidAccessErrorâ€ exception if async is false, the JavaScript global environment is a document environment, and either the timeout attribute is not zero, the withCredentials attribute is true, or the responseType attribute is not the empty string. ä»Žä¸Šé¢ä¸€æ®µè¯´æ˜Žå¯ä»¥çŸ¥é“ï¼Œå½“xhrä¸ºåŒæ­¥è¯·æ±‚æ—¶ï¼Œæœ‰å¦‚ä¸‹é™åˆ¶ï¼š xhr.timeoutå¿…é¡»ä¸º0 xhr.withCredentialså¿…é¡»ä¸º false xhr.responseTypeå¿…é¡»ä¸º&quot;&quot;ï¼ˆæ³¨æ„ç½®ä¸º&quot;text&quot;ä¹Ÿä¸å…è®¸ï¼‰ è‹¥ä¸Šé¢ä»»ä½•ä¸€ä¸ªé™åˆ¶ä¸æ»¡è¶³ï¼Œéƒ½ä¼šæŠ›é”™ï¼Œè€Œå¯¹äºŽå¼‚æ­¥è¯·æ±‚ï¼Œåˆ™æ²¡æœ‰è¿™äº›å‚æ•°è®¾ç½®ä¸Šçš„é™åˆ¶ã€‚ ä¹‹å‰è¯´è¿‡é¡µé¢ä¸­åº”è¯¥å°½é‡é¿å…ä½¿ç”¨syncåŒæ­¥è¯·æ±‚ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬æ— æ³•è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆxhr.timeoutä¸º0ï¼Œå³ä¸é™æ—¶ï¼‰ã€‚åœ¨ä¸é™åˆ¶è¶…æ—¶çš„æƒ…å†µä¸‹ï¼Œæœ‰å¯èƒ½åŒæ­¥è¯·æ±‚ä¸€ç›´å¤„äºŽpendingçŠ¶æ€ï¼ŒæœåŠ¡ç«¯è¿Ÿè¿Ÿä¸è¿”å›žå“åº”ï¼Œè¿™æ ·æ•´ä¸ªé¡µé¢å°±ä¼šä¸€ç›´é˜»å¡žï¼Œæ— æ³•å“åº”ç”¨æˆ·çš„å…¶ä»–äº¤äº’ã€‚ å¦å¤–ï¼Œæ ‡å‡†ä¸­å¹¶æ²¡æœ‰æåŠåŒæ­¥è¯·æ±‚æ—¶äº‹ä»¶è§¦å‘çš„é™åˆ¶ï¼Œä½†å®žé™…å¼€å‘ä¸­æˆ‘ç¡®å®žé‡åˆ°è¿‡éƒ¨åˆ†åº”è¯¥è§¦å‘çš„äº‹ä»¶å¹¶æ²¡æœ‰è§¦å‘çš„çŽ°è±¡ã€‚å¦‚åœ¨ chromeä¸­ï¼Œå½“xhrä¸ºåŒæ­¥è¯·æ±‚æ—¶ï¼Œåœ¨xhr.readyStateç”±2å˜æˆ3æ—¶ï¼Œå¹¶ä¸ä¼šè§¦å‘ onreadystatechangeäº‹ä»¶ï¼Œxhr.upload.onprogresså’Œ xhr.onprogressäº‹ä»¶ä¹Ÿä¸ä¼šè§¦å‘ã€‚ å¦‚ä½•èŽ·å–ä¸Šä¼ ã€ä¸‹è½½çš„è¿›åº¦åœ¨ä¸Šä¼ æˆ–è€…ä¸‹è½½æ¯”è¾ƒå¤§çš„æ–‡ä»¶æ—¶ï¼Œå®žæ—¶æ˜¾ç¤ºå½“å‰çš„ä¸Šä¼ ã€ä¸‹è½½è¿›åº¦æ˜¯å¾ˆæ™®éçš„äº§å“éœ€æ±‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡onprogressäº‹ä»¶æ¥å®žæ—¶æ˜¾ç¤ºè¿›åº¦ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªäº‹ä»¶æ¯50msè§¦å‘ä¸€æ¬¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šä¼ è¿‡ç¨‹å’Œä¸‹è½½è¿‡ç¨‹è§¦å‘çš„æ˜¯ä¸åŒå¯¹è±¡çš„onprogressäº‹ä»¶ï¼š ä¸Šä¼ è§¦å‘çš„æ˜¯xhr.uploadå¯¹è±¡çš„ onprogressäº‹ä»¶ ä¸‹è½½è§¦å‘çš„æ˜¯xhrå¯¹è±¡çš„onprogressäº‹ä»¶ 1234567xhr.onprogress = updateProgress;xhr.upload.onprogress = updateProgress;function updateProgress(event) &#123; if (event.lengthComputable) &#123; var completedPercent = event.loaded / event.total; &#125; &#125; å¯ä»¥å‘é€ä»€ä¹ˆç±»åž‹çš„æ•°æ® void send(data); xhr.send(data)çš„å‚æ•°dataå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»åž‹ï¼š ArrayBuffer Blob Document DOMString FormData null å¦‚æžœæ˜¯ GET/HEADè¯·æ±‚ï¼Œsend()æ–¹æ³•ä¸€èˆ¬ä¸ä¼ å‚æˆ–ä¼  nullã€‚ä¸è¿‡å³ä½¿ä½ çœŸä¼ å…¥äº†å‚æ•°ï¼Œå‚æ•°ä¹Ÿæœ€ç»ˆè¢«å¿½ç•¥ï¼Œxhr.send(data)ä¸­çš„dataä¼šè¢«ç½®ä¸º null. xhr.send(data)ä¸­dataå‚æ•°çš„æ•°æ®ç±»åž‹ä¼šå½±å“è¯·æ±‚å¤´éƒ¨content-typeçš„é»˜è®¤å€¼ï¼š å¦‚æžœdataæ˜¯ Document ç±»åž‹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯HTML Documentç±»åž‹ï¼Œåˆ™content-typeé»˜è®¤å€¼ä¸ºtext/html;charset=UTF-8;å¦åˆ™ä¸ºapplication/xml;charset=UTF-8ï¼› å¦‚æžœdataæ˜¯ DOMString ç±»åž‹ï¼Œcontent-typeé»˜è®¤å€¼ä¸ºtext/plain;charset=UTF-8ï¼› å¦‚æžœdataæ˜¯ FormData ç±»åž‹ï¼Œcontent-typeé»˜è®¤å€¼ä¸ºmultipart/form-data; boundary=[xxx] å¦‚æžœdataæ˜¯å…¶ä»–ç±»åž‹ï¼Œåˆ™ä¸ä¼šè®¾ç½®content-typeçš„é»˜è®¤å€¼ å½“ç„¶è¿™äº›åªæ˜¯content-typeçš„é»˜è®¤å€¼ï¼Œä½†å¦‚æžœç”¨xhr.setRequestHeader()æ‰‹åŠ¨è®¾ç½®äº†ä¸­content-typeçš„å€¼ï¼Œä»¥ä¸Šé»˜è®¤å€¼å°±ä¼šè¢«è¦†ç›–ã€‚ å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥åœ¨æ–­ç½‘çŠ¶æ€ä¸‹è°ƒç”¨xhr.send(data)æ–¹æ³•ï¼Œåˆ™ä¼šæŠ›é”™ï¼šUncaught NetworkError: Failed to execute &#39;send&#39; on &#39;XMLHttpRequest&#39;ã€‚ä¸€æ—¦ç¨‹åºæŠ›å‡ºé”™è¯¯ï¼Œå¦‚æžœä¸ catch å°±æ— æ³•ç»§ç»­æ‰§è¡ŒåŽé¢çš„ä»£ç ï¼Œæ‰€ä»¥è°ƒç”¨ xhr.send(data)æ–¹æ³•æ—¶ï¼Œåº”è¯¥ç”¨ try-catchæ•æ‰é”™è¯¯ã€‚ 12345try&#123; xhr.send(data) &#125;catch(e) &#123; //doSomething... &#125;; xhr.withCredentialsä¸Ž CORS ä»€ä¹ˆå…³ç³» æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨å‘åŒåŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå°†cookieè‡ªåŠ¨åŠ åœ¨request headerä¸­ã€‚ä½†å¤§å®¶æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šåœ¨å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œcookieå¹¶æ²¡æœ‰è‡ªåŠ¨åŠ åœ¨request headerä¸­ã€‚ é€ æˆè¿™ä¸ªé—®é¢˜çš„åŽŸå› æ˜¯ï¼šåœ¨CORSæ ‡å‡†ä¸­åšäº†è§„å®šï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨åœ¨å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œä¸èƒ½å‘é€ä»»ä½•è®¤è¯ä¿¡æ¯ï¼ˆcredentialsï¼‰å¦‚â€cookiesâ€œå’Œâ€HTTP authentication schemesâ€œã€‚é™¤éžxhr.withCredentialsä¸ºtrueï¼ˆxhrå¯¹è±¡æœ‰ä¸€ä¸ªå±žæ€§å«withCredentialsï¼Œé»˜è®¤å€¼ä¸ºfalseï¼‰ã€‚ æ‰€ä»¥æ ¹æœ¬åŽŸå› æ˜¯cookiesä¹Ÿæ˜¯ä¸€ç§è®¤è¯ä¿¡æ¯ï¼Œåœ¨è·¨åŸŸè¯·æ±‚ä¸­ï¼Œclientç«¯å¿…é¡»æ‰‹åŠ¨è®¾ç½®xhr.withCredentials=trueï¼Œä¸”serverç«¯ä¹Ÿå¿…é¡»å…è®¸requestèƒ½æºå¸¦è®¤è¯ä¿¡æ¯ï¼ˆå³response headerä¸­åŒ…å«Access-Control-Allow-Credentials:trueï¼‰ï¼Œè¿™æ ·æµè§ˆå™¨æ‰ä¼šè‡ªåŠ¨å°†cookieåŠ åœ¨request headerä¸­ã€‚ å¦å¤–ï¼Œè¦ç‰¹åˆ«æ³¨æ„ä¸€ç‚¹ï¼Œä¸€æ—¦è·¨åŸŸrequestèƒ½å¤Ÿæºå¸¦è®¤è¯ä¿¡æ¯ï¼Œserverç«¯ä¸€å®šä¸èƒ½å°†Access-Control-Allow-Originè®¾ç½®ä¸º*ï¼Œè€Œå¿…é¡»è®¾ç½®ä¸ºè¯·æ±‚é¡µé¢çš„åŸŸåã€‚ xhrç›¸å…³äº‹ä»¶äº‹ä»¶åˆ†ç±»xhrç›¸å…³äº‹ä»¶æœ‰å¾ˆå¤šï¼Œæœ‰æ—¶è®°èµ·æ¥è¿˜æŒºå®¹æ˜“æ··ä¹±ã€‚ä½†å½“æˆ‘äº†è§£äº†å…·ä½“ä»£ç å®žçŽ°åŽï¼Œå°±å®¹æ˜“ç†æ¸…æ¥šäº†ã€‚ä¸‹é¢æ˜¯XMLHttpRequestçš„éƒ¨åˆ†å®žçŽ°ä»£ç ï¼š 1234567891011121314151617181920interface XMLHttpRequestEventTarget : EventTarget &#123; // event handlers attribute EventHandler onloadstart; attribute EventHandler onprogress; attribute EventHandler onabort; attribute EventHandler onerror; attribute EventHandler onload; attribute EventHandler ontimeout; attribute EventHandler onloadend;&#125;;interface XMLHttpRequestUpload : XMLHttpRequestEventTarget &#123;&#125;;interface XMLHttpRequest : XMLHttpRequestEventTarget &#123; // event handler attribute EventHandler onreadystatechange; readonly attribute XMLHttpRequestUpload upload;&#125;; ä»Žä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š XMLHttpRequestEventTargetæŽ¥å£å®šä¹‰äº†7ä¸ªäº‹ä»¶ï¼š onloadstart onprogress onabort ontimeout onerror onload onloadend æ¯ä¸€ä¸ªXMLHttpRequesté‡Œé¢éƒ½æœ‰ä¸€ä¸ªuploadå±žæ€§ï¼Œè€Œuploadæ˜¯ä¸€ä¸ªXMLHttpRequestUploadå¯¹è±¡ XMLHttpRequestå’ŒXMLHttpRequestUploadéƒ½ç»§æ‰¿äº†åŒä¸€ä¸ªXMLHttpRequestEventTargetæŽ¥å£ï¼Œæ‰€ä»¥xhrå’Œxhr.uploadéƒ½æœ‰ç¬¬ä¸€æ¡åˆ—ä¸¾çš„7ä¸ªäº‹ä»¶ onreadystatechangeæ˜¯XMLHttpRequestç‹¬æœ‰çš„äº‹ä»¶ æ‰€ä»¥è¿™ä¹ˆä¸€çœ‹å°±å¾ˆæ¸…æ™°äº†ï¼šxhrä¸€å…±æœ‰8ä¸ªç›¸å…³äº‹ä»¶ï¼š7ä¸ªXMLHttpRequestEventTargetäº‹ä»¶+1ä¸ªç‹¬æœ‰çš„onreadystatechangeäº‹ä»¶ï¼›è€Œxhr.uploadåªæœ‰7ä¸ªXMLHttpRequestEventTargetäº‹ä»¶ã€‚ äº‹ä»¶è§¦å‘æ¡ä»¶ä¸‹é¢æ˜¯æˆ‘è‡ªå·±æ•´ç†çš„ä¸€å¼ xhrç›¸å…³äº‹ä»¶è§¦å‘æ¡ä»¶è¡¨ï¼Œå…¶ä¸­æœ€éœ€è¦æ³¨æ„çš„æ˜¯ onerror äº‹ä»¶çš„è§¦å‘æ¡ä»¶ã€‚ äº‹ä»¶ è§¦å‘æ¡ä»¶ onreadystatechange æ¯å½“xhr.readyStateæ”¹å˜æ—¶è§¦å‘ï¼›ä½†xhr.readyStateç”±éž0å€¼å˜ä¸º0æ—¶ä¸è§¦å‘ã€‚ onloadstart è°ƒç”¨xhr.send()æ–¹æ³•åŽç«‹å³è§¦å‘ï¼Œè‹¥xhr.send()æœªè¢«è°ƒç”¨åˆ™ä¸ä¼šè§¦å‘æ­¤äº‹ä»¶ã€‚ onprogress xhr.upload.onprogressåœ¨ä¸Šä¼ é˜¶æ®µ(å³xhr.send()ä¹‹åŽï¼Œxhr.readystate=2ä¹‹å‰)è§¦å‘ï¼Œæ¯50msè§¦å‘ä¸€æ¬¡ï¼›xhr.onprogressåœ¨ä¸‹è½½é˜¶æ®µï¼ˆå³xhr.readystate=3æ—¶ï¼‰è§¦å‘ï¼Œæ¯50msè§¦å‘ä¸€æ¬¡ã€‚ onload å½“è¯·æ±‚æˆåŠŸå®Œæˆæ—¶è§¦å‘ï¼Œæ­¤æ—¶xhr.readystate=4 onloadend å½“è¯·æ±‚ç»“æŸï¼ˆåŒ…æ‹¬è¯·æ±‚æˆåŠŸå’Œè¯·æ±‚å¤±è´¥ï¼‰æ—¶è§¦å‘ onabort å½“è°ƒç”¨xhr.abort()åŽè§¦å‘ ontimeout xhr.timeoutä¸ç­‰äºŽ0ï¼Œç”±è¯·æ±‚å¼€å§‹å³onloadstartå¼€å§‹ç®—èµ·ï¼Œå½“åˆ°è¾¾xhr.timeoutæ‰€è®¾ç½®æ—¶é—´è¯·æ±‚è¿˜æœªç»“æŸå³onloadendï¼Œåˆ™è§¦å‘æ­¤äº‹ä»¶ã€‚ onerror åœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œè‹¥å‘ç”ŸNetwork erroråˆ™ä¼šè§¦å‘æ­¤äº‹ä»¶ï¼ˆè‹¥å‘ç”ŸNetwork erroræ—¶ï¼Œä¸Šä¼ è¿˜æ²¡æœ‰ç»“æŸï¼Œåˆ™ä¼šå…ˆè§¦å‘xhr.upload.onerrorï¼Œå†è§¦å‘xhr.onerrorï¼›è‹¥å‘ç”ŸNetwork erroræ—¶ï¼Œä¸Šä¼ å·²ç»ç»“æŸï¼Œåˆ™åªä¼šè§¦å‘xhr.onerrorï¼‰ã€‚æ³¨æ„ï¼Œåªæœ‰å‘ç”Ÿäº†ç½‘ç»œå±‚çº§åˆ«çš„å¼‚å¸¸æ‰ä¼šè§¦å‘æ­¤äº‹ä»¶ï¼Œå¯¹äºŽåº”ç”¨å±‚çº§åˆ«çš„å¼‚å¸¸ï¼Œå¦‚å“åº”è¿”å›žçš„xhr.statusCodeæ˜¯4xxæ—¶ï¼Œå¹¶ä¸å±žäºŽNetwork errorï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘onerroräº‹ä»¶ï¼Œè€Œæ˜¯ä¼šè§¦å‘onloadäº‹ä»¶ã€‚ äº‹ä»¶è§¦å‘é¡ºåºå½“è¯·æ±‚ä¸€åˆ‡æ­£å¸¸æ—¶ï¼Œç›¸å…³çš„äº‹ä»¶è§¦å‘é¡ºåºå¦‚ä¸‹ï¼š è§¦å‘xhr.onreadystatechange(ä¹‹åŽæ¯æ¬¡readyStateå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè§¦å‘ä¸€æ¬¡) è§¦å‘xhr.onloadstart//ä¸Šä¼ é˜¶æ®µå¼€å§‹ï¼š è§¦å‘xhr.upload.onloadstart è§¦å‘xhr.upload.onprogress è§¦å‘xhr.upload.onload è§¦å‘xhr.upload.onloadend//ä¸Šä¼ ç»“æŸï¼Œä¸‹è½½é˜¶æ®µå¼€å§‹ï¼š è§¦å‘xhr.onprogress è§¦å‘xhr.onload è§¦å‘xhr.onloadend å‘ç”Ÿabort/timeout/errorå¼‚å¸¸çš„å¤„ç†åœ¨è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½å‘ç”Ÿ abort/timeout/errorè¿™3ç§å¼‚å¸¸ã€‚é‚£ä¹ˆä¸€æ—¦å‘ç”Ÿè¿™äº›å¼‚å¸¸ï¼ŒxhråŽç»­ä¼šè¿›è¡Œå“ªäº›å¤„ç†å‘¢ï¼ŸåŽç»­å¤„ç†å¦‚ä¸‹ï¼š ä¸€æ—¦å‘ç”Ÿabortæˆ–timeoutæˆ–errorå¼‚å¸¸ï¼Œå…ˆç«‹å³ä¸­æ­¢å½“å‰è¯·æ±‚ å°† readystate ç½®ä¸º4ï¼Œå¹¶è§¦å‘ xhr.onreadystatechangeäº‹ä»¶ å¦‚æžœä¸Šä¼ é˜¶æ®µè¿˜æ²¡æœ‰ç»“æŸï¼Œåˆ™ä¾æ¬¡è§¦å‘ä»¥ä¸‹äº‹ä»¶ï¼š xhr.upload.onprogress xhr.upload.[onabortæˆ–ontimeoutæˆ–onerror] xhr.upload.onloadend è§¦å‘ xhr.onprogressäº‹ä»¶ è§¦å‘ xhr.[onabortæˆ–ontimeoutæˆ–onerror]äº‹ä»¶ è§¦å‘xhr.onloadend äº‹ä»¶ åœ¨å“ªä¸ªxhräº‹ä»¶ä¸­æ³¨å†ŒæˆåŠŸå›žè°ƒï¼Ÿä»Žä¸Šé¢ä»‹ç»çš„äº‹ä»¶ä¸­ï¼Œå¯ä»¥çŸ¥é“è‹¥xhrè¯·æ±‚æˆåŠŸï¼Œå°±ä¼šè§¦å‘xhr.onreadystatechangeå’Œxhr.onloadä¸¤ä¸ªäº‹ä»¶ã€‚ é‚£ä¹ˆæˆ‘ä»¬åˆ°åº•è¦å°†æˆåŠŸå›žè°ƒæ³¨å†Œåœ¨å“ªä¸ªäº‹ä»¶ä¸­å‘¢ï¼Ÿæˆ‘å€¾å‘äºŽ xhr.onloadäº‹ä»¶ï¼Œå› ä¸ºxhr.onreadystatechangeæ˜¯æ¯æ¬¡xhr.readyStateå˜åŒ–æ—¶éƒ½ä¼šè§¦å‘ï¼Œè€Œä¸æ˜¯xhr.readyState=4æ—¶æ‰è§¦å‘ã€‚ 123456xhr.onload = function () &#123; //å¦‚æžœè¯·æ±‚æˆåŠŸ if(xhr.status == 200)&#123; //do successCallback &#125; &#125; ä¸Šé¢çš„ç¤ºä¾‹ä»£ç æ˜¯å¾ˆå¸¸è§çš„å†™æ³•ï¼šå…ˆåˆ¤æ–­httpçŠ¶æ€ç æ˜¯å¦æ˜¯200ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è®¤ä¸ºè¯·æ±‚æ˜¯æˆåŠŸçš„ï¼ŒæŽ¥ç€æ‰§è¡ŒæˆåŠŸå›žè°ƒã€‚è¿™æ ·çš„åˆ¤æ–­æ˜¯æœ‰å‘å„¿çš„ï¼Œæ¯”å¦‚å½“è¿”å›žçš„httpçŠ¶æ€ç ä¸æ˜¯200ï¼Œè€Œæ˜¯201æ—¶ï¼Œè¯·æ±‚è™½ç„¶ä¹Ÿæ˜¯æˆåŠŸçš„ï¼Œä½†å¹¶æ²¡æœ‰æ‰§è¡ŒæˆåŠŸå›žè°ƒé€»è¾‘ã€‚æ‰€ä»¥æ›´é è°±çš„åˆ¤æ–­æ–¹æ³•åº”è¯¥æ˜¯ï¼šå½“httpçŠ¶æ€ç ä¸º2xxæˆ–304æ—¶æ‰è®¤ä¸ºæˆåŠŸã€‚ 123456xhr.onload = function () &#123; //å¦‚æžœè¯·æ±‚æˆåŠŸ if((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304)&#123; //do successCallback &#125;&#125; ç»“è¯­ç»ˆäºŽå†™å®Œäº†â€¦â€¦çœ‹å®Œé‚£ä¸€ç¯‡é•¿é•¿çš„W3Cçš„xhr æ ‡å‡†ï¼Œæˆ‘çœ¼ç›éƒ½èŠ±äº†â€¦â€¦å¸Œæœ›è¿™ç¯‡æ€»ç»“èƒ½å¸®åŠ©åˆšå¼€å§‹æŽ¥è§¦XMLHttpRequestçš„ä½ ã€‚ æœ€åŽç»™ç‚¹æ‰©å±•å­¦ä¹ èµ„æ–™ï¼Œå¦‚æžœä½ ï¼š æƒ³çœŸæ­£æžæ‡‚XMLHttpRequestï¼Œæœ€é è°±çš„æ–¹æ³•è¿˜æ˜¯çœ‹ W3Cçš„xhr æ ‡å‡†; æƒ³ç»“åˆä»£ç å­¦ä¹ å¦‚ä½•ç”¨XMLHttpRequestå‘å„ç§ç±»åž‹çš„æ•°æ®ï¼Œå¯ä»¥å‚è€ƒhtml5rocksä¸Šçš„è¿™ç¯‡æ–‡ç«  æƒ³ç²—ç•¥çš„äº†è§£XMLHttpRequestçš„åŸºæœ¬ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒMDNçš„XMLHttpRequestä»‹ç»ï¼› æƒ³äº†è§£XMLHttpRequest çš„å‘å±•åŽ†ç¨‹ï¼Œå¯ä»¥å‚è€ƒé˜®è€å¸ˆçš„æ–‡ç« ï¼› æƒ³äº†è§£Ajaxçš„åŸºæœ¬ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒAJAX Tutorial; æƒ³äº†è§£è·¨åŸŸè¯·æ±‚ï¼Œåˆ™å¯ä»¥å‚è€ƒW3Cçš„ cors æ ‡å‡†; æƒ³äº†è§£httpåè®®ï¼Œåˆ™å¯ä»¥å‚è€ƒHTTP Tutorial;]]></content>
      <categories>
        <category>JavaScript</category>
        <category>HTML</category>
        <category>Ajax</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Ajax</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryåŠ¨ç”»]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FjQuery%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"><![CDATA[jQueryä¸­çš„åŠ¨ç”»å¤§è‡´åˆ†ä¸ºä¸‰ç±»ï¼š åŸºæœ¬åŠ¨ç”»æ–¹æ³•hide()å’Œshow()åˆ°fadeIn()å’ŒfadeOut(),ç„¶åŽåˆ°slideUp()å’ŒslideDown()æ–¹æ³•ã€‚ è‡ªå®šä¹‰åŠ¨ç”»animate() äº¤äº’åŠ¨ç”»æ–¹æ³•toggle()ã€slideToggle()ã€fadeTo()å’ŒfadeToggle()ã€‚ 1ã€show()å’Œhide()æ–¹æ³• hide()æ–¹æ³•ï¼Œä¼šå°†è¯¥å…ƒç´ çš„displayæ ·å¼æ”¹ä¸ºâ€œnoneâ€ã€‚ hide()æ–¹æ³•åœ¨å°†â€å†…å®¹â€œçš„displayå±žæ€§å€¼è®¾ç½®ä¸ºâ€noneâ€ä¹‹å‰ï¼Œä¼šè®°ä½åŽŸå…ˆå¾—displayå±žæ€§å€¼(â€œblockâ€æˆ–â€inlineâ€)ã€‚ show()å’Œhide()æ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªé€Ÿåº¦å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥æ˜¯å…³é”®å­—â€slowâ€œï¼Œâ€fastâ€œï¼Œâ€normalâ€œï¼Œè¿˜å¯ä»¥å…·ä½“çš„ä¸€ä¸ªå•ä½ä¸ºæ¯«ç§’çš„æ•°å­—ã€‚ show()å’Œhide()æ–¹æ³•ä¼šåŒæ—¶æ”¹å˜â€å†…å®¹â€œçš„é«˜åº¦ã€å®½åº¦å’Œä¸é€æ˜Žåº¦ã€‚ 2ã€fadeIn()å’ŒfadeOut()æ–¹æ³• ä¸Žshow()å’Œhide()æ–¹æ³•ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œåªæ”¹å˜å…ƒç´ çš„ä¸é€æ˜Žåº¦ã€‚ 3ã€slideUp()å’ŒslideDown()æ–¹æ³• ä¸Žå‰é¢ä¸¤ç±»ä¸åŒçš„æ˜¯ï¼Œåªæ”¹å˜å…ƒç´ çš„é«˜åº¦ã€‚ 4ã€è‡ªå®šä¹‰åŠ¨ç”»æ–¹å¼animate()1animate(params,speed,callback) (1)paramsï¼šä¸€ä¸ªåŒ…å«æ ·å¼å±žæ€§åŠå€¼å¾—æ˜ å°„ï¼Œæ¯”å¦‚{property1:â€valueâ€}ã€‚(2)speedï¼šé€Ÿåº¦å‚æ•°ï¼Œå¯é€‰ã€‚(3)callbackï¼šåœ¨åŠ¨ç”»å®Œæˆæ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œå¯é€‰ã€‚ ä¸ºäº†è®©å…ƒç´ åŠ¨èµ·æ¥ï¼Œå°±è¦æ›´æ”¹å…ƒç´ çš„â€topâ€,â€leftâ€,â€bottomâ€å’Œâ€rightâ€æ ·å¼å±žæ€§ï¼Œå¿…é¡»å…ˆæŠŠå…ƒç´ çš„positionæ ·å¼è®¾ç½®ä¸ºâ€relativeâ€æˆ–â€absoluteâ€ã€‚ å¯ä»¥å®žçŽ°ç´¯åŠ ã€ç´¯å‡åŠ¨ç”»æ•ˆæžœ 1$(this).animate(&#123;left:&quot;+=200px&quot;&#125;,300); åŠ¨ç”»çš„å›žè°ƒå‡½æ•°é€‚ç”¨äºŽjQueryä¸­æ‰€æœ‰çš„åŠ¨ç”»æ•ˆæžœæ–¹æ³•ï¼Œå¯ä»¥å¯¹éžåŠ¨ç”»æ–¹æ³•ï¼Œä¾‹å¦‚css()ç­‰ï¼Œå®žçŽ°æŽ’é˜Ÿï¼Œä¸ä¼šç«‹å³æ‰§è¡Œã€‚ 5ã€åœæ­¢åŠ¨ç”»å’Œåˆ¤æ–­æ˜¯å¦å¤„äºŽåŠ¨ç”»çŠ¶æ€1stop([clearQueue],[gotoEnd]) å‚æ•°clearQueueå’ŒgotoEndéƒ½æ˜¯å¯é€‰å‚æ•°ï¼Œä¸ºBooleanå€¼ã€‚clearQueueä»£è¡¨æ˜¯å¦æ¸…ç©ºæœªæ‰§è¡Œçš„åŠ¨ç”»é˜Ÿåˆ—ï¼ŒgotoEndä»£è¡¨æ˜¯å¦ç›´æŽ¥å°†æ­£åœ¨æ‰§è¡Œçš„åŠ¨ç”»è·³è½¬åˆ°æœ«çŠ¶æ€ã€‚ å¦‚æžœç›´æŽ¥ä½¿ç”¨stop()æ–¹æ³•ï¼Œåˆ™ä¼šç«‹å³åœæ­¢å½“å‰æ­£åœ¨è¿›è¡Œçš„åŠ¨ç”»ï¼Œå¦‚æžœæŽ¥ä¸‹æ¥è¿˜æœ‰åŠ¨ç”»ç­‰å¾…ç»§ç»­è¿›è¡Œï¼Œåˆ™ä»¥å½“å‰çŠ¶æ€å¼€å§‹æŽ¥ä¸‹æ¥çš„åŠ¨ç”»ã€‚ ç»å¸¸ä¼šé‡åˆ°ä¸€ç§æƒ…å†µï¼Œåœ¨ä¸ºä¸€ä¸ªå…ƒç´ ç»‘å®šhoveräº‹ä»¶ä¹‹åŽï¼Œç”¨æˆ·æŠŠå…‰æ ‡ç§»å…¥å…ƒç´ æ—¶ä¼šè§¦å‘åŠ¨ç”»æ•ˆæžœï¼Œå½“è¿™ä¸ªåŠ¨ç”»æ•ˆæžœè¿˜æ²¡ç»“æŸæ—¶ï¼Œç”¨æˆ·å°±å°†å…‰æ ‡ç§»å‡ºè¿™ä¸ªå…ƒç´ äº†ï¼Œé‚£ä¹ˆå…‰æ ‡ç§»å‡ºçš„åŠ¨ç”»æ•ˆæžœå°†ä¼šæ”¾è¿›é˜Ÿåˆ—ä¹‹ä¸­ï¼Œç­‰å¾…å…‰æ ‡ç§»å…¥çš„åŠ¨ç”»ç»“æŸåŽå†æ‰§è¡Œã€‚å¦‚æžœå…‰æ ‡ç§»å…¥ç§»å‡ºå¾—è¿‡å¿«å°±ä¼šå¯¼è‡´åŠ¨ç”»æ•ˆæžœä¸Žå…‰æ ‡çš„åŠ¨ä½œä¸ä¸€è‡´ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦åœ¨å…‰æ ‡çš„ç§»å…¥ã€ç§»å‡ºåŠ¨ç”»ä¹‹å‰åŠ å…¥stop()æ–¹æ³•ã€å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 1234567$(function()&#123; $(&quot;.panel&quot;).hover(function()&#123; $(this).stop().animate(&#123;height:&quot;150px&quot;,width:&quot;300px&quot;&#125;,200); &#125;,function()&#123; $(this).stop().animate(&#123;height:&quot;22px&quot;,width:&quot;60px&quot;&#125;,300); &#125;) &#125;); æ­¤æ—¶åªç”¨ä¸€ä¸ªä¸å¸¦å‚æ•°çš„stop()æ–¹æ³•å°±æ˜¾å¾—åŠ›ä¸ä»Žå¿ƒäº†ã€‚å› ä¸ºstop()æ–¹æ³•åªä¼šåœæ­¢æ­£åœ¨è¿›è¡Œçš„åŠ¨ç”»ï¼Œå¦‚æžœåŠ¨ç”»æœ‰å‡ ä¸ªé˜¶æ®µï¼Œè¿˜æ˜¯ä¼šå‡ºçŽ°ä¸Šè¿°çš„ä¸ä¸€è‡´é—®é¢˜ï¼Œæ‰€ä»¥å¯ä»¥æŠŠç¬¬ä¸€ä¸ªå‚æ•°(clearQueue)è®¾ç½®ä¸ºtrueï¼Œæ­¤æ—¶ç¨‹åºä¼šæŠŠå½“å‰å…ƒç´ æŽ¥ä¸‹æ¥å°šæœªæ‰§è¡Œå®Œçš„åŠ¨ç”»é˜Ÿåˆ—éƒ½æ¸…ç©ºã€‚ åˆ¤æ–­å…ƒç´ æ˜¯å¦å¤„äºŽåŠ¨ç”»çŠ¶æ€å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„æ–¹æ³•ï¼š 1if($(element).is(&quot;:animated&quot;))&#123;&#125; è¦æƒ³å»¶è¿ŸåŠ¨ç”»çš„æ‰§è¡Œå¯ä»¥ä½¿ç”¨delay()æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªæ—¶é—´å‚æ•°ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–¹æ³•åªèƒ½ç”¨äºŽä½äºŽé˜Ÿåˆ—ä¸­çš„åŠ¨ç”»æ–¹æ³•ã€‚ 6ã€äº¤äº’å¼çš„åŠ¨ç”»æ–¹æ³• toggle()æ–¹æ³•å¯ä»¥åˆ‡æ¢å…ƒç´ çš„å¯è§çŠ¶æ€ã€‚ slideToggle()æ–¹æ³•é€šè¿‡é«˜åº¦å˜åŒ–æ¥åˆ‡æ¢åŒ¹é…å…ƒç´ çš„å¯è§æ€§ã€‚ fadeTo()æ–¹æ³•å¯ä»¥æŠŠå…ƒç´ çš„ä¸é€æ˜Žåº¦ä»¥æ¸è¿›æ–¹å¼è°ƒæ•´åˆ°æŒ‡å®šçš„å€¼ã€‚ fadeToggle()æ–¹æ³•é€šè¿‡ä¸é€æ˜Žåº¦æ”¹å˜æ¥åˆ‡æ¢åŒ¹é…å…ƒç´ çš„å¯è§æ€§ã€‚ æœ¬ç¯‡è½¬è½½åœ°å€]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryäº‹ä»¶]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FjQuery%E4%BA%8B%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[é¼ æ ‡äº‹ä»¶ clickä¸Ždbclickäº‹ä»¶$ele.click()$ele.click(handler(eventObject))$ele.click([eventData],handler(eventObject)) mousedown,mouseover mouseover,mouseout mouseenter,mouseleave hover focusin,focusout è¡¨å•äº‹ä»¶ blur,focus change select submit é”®ç›˜äº‹ä»¶ keydown(),keyup() keypress() å¤šäº‹ä»¶ on() off() event event.type event.pageX,event.pageY event.preventDefault() event.stopPropagation() event.which this,event.target è‡ªå®šä¹‰äº‹ä»¶ trigger triggerHandler jQueryé¼ æ ‡äº‹ä»¶ä¹‹clickä¸Ždbclickäº‹ä»¶ç”¨äº¤äº’æ“ä½œä¸­ï¼Œæœ€ç®€å•ç›´æŽ¥çš„æ“ä½œå°±æ˜¯ç‚¹å‡»æ“ä½œã€‚jQueryæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ä¸€ä¸ªæ˜¯clickæ–¹æ³•ç”¨äºŽç›‘å¬ç”¨æˆ·å•å‡»æ“ä½œï¼Œå¦ä¸€ä¸ªæ–¹æ³•æ˜¯dbclickæ–¹æ³•ç”¨äºŽç›‘å¬ç”¨æˆ·åŒå‡»æ“ä½œã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç”¨æ³•æ˜¯ç±»ä¼¼çš„ï¼Œä¸‹é¢ä»¥click()äº‹ä»¶ä¸ºä¾‹ä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼šæ–¹æ³•ä¸€ï¼š$ele.click() 12345678ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨çš„æ¯”è¾ƒå°‘&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("ele").click(function()&#123; alert('è§¦å‘æŒ‡å®šäº‹ä»¶')&#125;)$("#test").click(function()&#123; $("ele").click() //æ‰‹åŠ¨æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.click( handler(eventObject) )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°ï¼Œè¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº†ï¼Œæ–¹æ³•ä¸­çš„thisæ˜¯æŒ‡å‘äº†ç»‘å®šäº‹ä»¶çš„å…ƒç´  1234&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").click(function() &#123; //thisæŒ‡å‘ divå…ƒç´ &#125;); æ–¹æ³•ä¸‰ï¼š$ele.click( [eventData ], handler(eventObject) )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 12345&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").click(11111,function(e) &#123; //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); dblclick()çš„ç”¨æ³•å’Œclick()çš„ç”¨æ³•æ˜¯ç±»ä¼¼çš„ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸Šclick()çš„ç”¨æ³•ã€‚dbclickä¸Žclickäº‹ä»¶ä¸åŒçš„æ˜¯ï¼šclickäº‹ä»¶è§¦å‘éœ€è¦ä»¥ä¸‹å‡ ç‚¹ï¼šâ€¢ clickäº‹ä»¶å…¶å®žæ˜¯ç”±mousedownä¸Žmouseup 2ä¸ªåŠ¨ä½œæž„æˆï¼Œæ‰€ä»¥ç‚¹å‡»çš„åŠ¨ä½œåªæœ‰åœ¨æ¾æ‰‹åŽæ‰è§¦å‘PS:mousedownå’Œmouseupä¸‹ä¸€èŠ‚ä¼šè®²åˆ°dblclickäº‹ä»¶è§¦å‘éœ€è¦ä»¥ä¸‹å‡ ç‚¹ï¼šdblclickåˆæ˜¯ç”±2ä¸ªclickå åŠ è€Œæ¥çš„ï¼Œæ‰€ä»¥dblclickäº‹ä»¶åªæœ‰åœ¨æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æƒ…å†µä¸‹æ‰èƒ½è¢«è§¦å‘â€¢ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶ç‚¹å‡»ã€‚â€¢ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶é‡Šæ”¾ã€‚â€¢ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶å†æ¬¡ç‚¹å‡»ï¼Œç‚¹å‡»é—´éš”æ—¶é—´ï¼Œæ˜¯ç³»ç»Ÿè€Œå®šã€‚â€¢ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶å†æ¬¡é‡Šæ”¾ã€‚æ³¨æ„ï¼šåœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ç»‘å®š click å’Œ dblclick äº‹ä»¶æ˜¯ä¸å¯å–çš„ã€‚å„ä¸ªæµè§ˆå™¨äº‹ä»¶è§¦å‘çš„é¡ºåºæ˜¯ä¸åŒçš„ï¼Œä¸€äº›æµè§ˆå™¨åœ¨dblclickä¹‹å‰æŽ¥å—ä¸¤ä¸ª click äº‹ä»¶ ï¼Œè€Œä¸€äº›æµè§ˆå™¨åªæŽ¥å—ä¸€ä¸ª click äº‹ä»¶ã€‚ç”¨æˆ·å¾€å¾€å¯é€šè¿‡ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨é…ç½®åŒå‡»çµæ•åº¦ä¾‹å­ï¼š 1234$(â€œbutton:eq(0)â€).click(function()&#123; alert(this)&#125;)ç»“æžœï¼šthisæŒ‡å‘buttonå…ƒç´  12345678[object HTMLButtonElement]$(â€˜pâ€™).click(function(e)&#123; alert(e.target.textContent)&#125;) //å–äº†på…ƒç´ çš„æ–‡å­—éƒ¨åˆ†$(â€œbutton:eq(1)â€).click(function()&#123; $(â€˜pâ€™).click() //æ‰‹åŠ¨æŒ‡å®šè§¦å‘äº‹ä»¶&#125;) 1234567function data(e) &#123; alert(e.data)&#125;function a() &#123; $(â€œbutton:eq(2)â€).click(1111,data)&#125;a(); function a() {} æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªa()æ–¹æ³• , å¦‚æžœåœ¨ä½ ä¸Šä¸‹æ–‡ä¸­ä¸è°ƒç”¨æ˜¯ä¸ä¼šæ‰§è¡Œa()ä¸­æ–¹æ³•çš„ï¼Œ ç»“å°¾å¤„å†™ä¸€ä¸ªå‡½æ•°a()æ˜¯è°ƒç”¨a()æ–¹æ³•ä½“ã€‚ jQueryé¼ æ ‡äº‹ä»¶ä¹‹mousedownä¸Žmouseupäº‹ä»¶ç”¨æˆ·äº¤äº’æ“ä½œä¸­ï¼Œæœ€ç®€å•ç›´æŽ¥çš„æ“ä½œå°±æ˜¯ç‚¹å‡»æ“ä½œï¼Œå› æ­¤jQueryæä¾›äº†ä¸€ä¸ªmousedownçš„å¿«æ·æ–¹æ³•å¯ä»¥ç›‘å¬ç”¨æˆ·é¼ æ ‡æŒ‰ä¸‹çš„æ“ä½œï¼Œä¸Žå…¶å¯¹åº”çš„è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•mouseupå¿«æ·æ–¹æ³•å¯ä»¥ç›‘å¬ç”¨æˆ·é¼ æ ‡å¼¹èµ·çš„æ“ä½œã€‚ä¸¤ç§æ–¹æ³•ç”¨æ³•ç±»ä¼¼ï¼Œä¸‹é¢ä»¥mousedown()ä¸ºä¾‹ä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼šæ–¹æ³•ä¸€ï¼š$ele.mousedown()ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œå¯èƒ½ä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå°‘ 1234567&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("ele").mousedown(function()&#123; alert('è§¦å‘æŒ‡å®šäº‹ä»¶')&#125;)$("#test").mousedown(function()&#123; $("ele").mousedown() //æ‰‹åŠ¨æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.mousedown( handler(eventObject) )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°è¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº† 1234&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").mousedown(function() &#123; //thisæŒ‡å‘ divå…ƒç´ &#125;); æ–¹æ³•ä¸‰ï¼š$ele.mousedown( [eventData ], handler(eventObject) )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 12345&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").mousedown(11111,function(e) &#123; //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); mousedownäº‹ä»¶è§¦å‘éœ€è¦ä»¥ä¸‹å‡ ç‚¹ï¼šâ€¢ mousedownå¼ºè°ƒæ˜¯æŒ‰ä¸‹è§¦å‘â€¢ å¦‚æžœåœ¨ä¸€ä¸ªå…ƒç´ æŒ‰ä½äº†é¼ æ ‡ä¸æ”¾ï¼Œå¹¶ä¸”æ‹–åŠ¨é¼ æ ‡ç¦»å¼€è¿™ä¸ªå…ƒç´ ï¼Œå¹¶é‡Šæ”¾é¼ æ ‡é”®ï¼Œè¿™ä»ç„¶æ˜¯ç®—ä½œmousedownäº‹ä»¶â€¢ ä»»ä½•é¼ æ ‡æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶éƒ½èƒ½è§¦å‘mousedownäº‹ä»¶â€¢ ç”¨event å¯¹è±¡çš„whichåŒºåˆ«æŒ‰é”®ï¼Œæ•²å‡»é¼ æ ‡å·¦é”®whichçš„å€¼æ˜¯1ï¼Œæ•²å‡»é¼ æ ‡ä¸­é”®whichçš„å€¼æ˜¯2ï¼Œæ•²å‡»é¼ æ ‡å³é”®whichçš„å€¼æ˜¯3mouseupäº‹ä»¶è§¦å‘éœ€è¦ä»¥ä¸‹å‡ ç‚¹ï¼šâ€¢ mouseupå¼ºè°ƒæ˜¯æ¾æ‰‹è§¦å‘ï¼Œä¸Žmousedownæ˜¯ç›¸åçš„â€¢ mouseupä¸Žmousedownç»„åˆèµ·æ¥å°±æ˜¯clickäº‹ä»¶â€¢ å¦‚æžœç”¨æˆ·åœ¨ä¸€ä¸ªå…ƒç´ ä¸ŠæŒ‰ä¸‹é¼ æ ‡æŒ‰é”®ï¼Œå¹¶ä¸”æ‹–åŠ¨é¼ æ ‡ç¦»å¼€è¿™ä¸ªå…ƒç´ ï¼Œç„¶åŽé‡Šæ”¾é¼ æ ‡é”®ï¼Œè¿™ä»ç„¶æ˜¯ç®—ä½œmouseupäº‹ä»¶â€¢ ä»»ä½•é¼ æ ‡æŒ‰é’®æ¾æ‰‹æ—¶éƒ½èƒ½è§¦å‘mouseupäº‹ä»¶ç”¨event å¯¹è±¡çš„whichåŒºåˆ«æŒ‰é”®ï¼Œæ•²å‡»é¼ æ ‡å·¦é”®whichçš„å€¼æ˜¯1ï¼Œæ•²å‡»é¼ æ ‡ä¸­é”®whichçš„å€¼æ˜¯2ï¼Œæ•²å‡»é¼ æ ‡å³é”®whichçš„å€¼æ˜¯3 123456&lt;script type="text/javascript"&gt; //thisæŒ‡å‘buttonå…ƒç´  $("button:eq(0)").mousedown(function(e) &#123; alert('e.which: ' + e.which) &#125;) &lt;/script&gt; å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼šclickä¸Žmousedownçš„åŒºåˆ«ï¼šâ€¢ clickäº‹ä»¶å…¶å®žæ˜¯ç”±mousedownäºŽmouseup 2ä¸ªåŠ¨ä½œæž„æˆï¼Œæ‰€ä»¥ç‚¹å‡»çš„åŠ¨ä½œåªæœ‰åœ¨æ¾æ‰‹åŽæ‰è§¦å‘ jQueryé¼ æ ‡äº‹ä»¶ä¹‹mousemoveäº‹ä»¶ç”¨äº¤äº’æ“ä½œä¸­ï¼Œç»å¸¸éœ€è¦çŸ¥é“ç”¨æˆ·æ˜¯å¦æœ‰ç§»åŠ¨çš„æ“ä½œã€‚åŸºäºŽç§»åŠ¨çš„æœºåˆ¶å¯ä»¥åšå‡ºæ‹–åŠ¨ã€æ‹–æ‹½ä¸€ç³»åˆ—çš„æ•ˆæžœå‡ºæ¥ã€‚é’ˆå¯¹ç§»åŠ¨äº‹ä»¶ï¼ŒjQueryæä¾›äº†ä¸€ä¸ªmousemoveçš„å¿«æ·æ–¹æ³•å¯ä»¥ç›‘å¬ç”¨æˆ·ç§»åŠ¨çš„çš„æ“ä½œä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼šæ–¹æ³•ä¸€ï¼š$ele.mousemove()ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨çš„æ¯”è¾ƒå°‘ 1234567&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("ele").mousemove(function()&#123; alert('è§¦å‘æŒ‡å®šäº‹ä»¶')&#125;)$("#test").click(function()&#123; $("ele").mousemove() //æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.mousemove( handler(eventObject) )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°è¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº† 1234&lt;div id="test"&gt;æ»‘åŠ¨è§¦å‘&lt;div&gt;$("#test").mousemove(function() &#123; //thisæŒ‡å‘ divå…ƒç´  &#125;); æ–¹æ³•ä¸‰ï¼š$ele.mousemove( [eventData ], handler(eventObject) )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 12345&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").mousemove(11111,function(e) &#123; //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); mousemoveäº‹ä»¶è§¦å‘éœ€è¦ä»¥ä¸‹å‡ ç‚¹ï¼šâ€¢ mousemoveäº‹ä»¶æ˜¯å½“é¼ æ ‡æŒ‡é’ˆç§»åŠ¨æ—¶è§¦å‘çš„ï¼Œå³ä½¿æ˜¯ä¸€ä¸ªåƒç´ â€¢ å¦‚æžœå¤„ç†å™¨åšä»»ä½•é‡å¤§çš„å¤„ç†ï¼Œæˆ–è€…å¦‚æžœè¯¥äº‹ä»¶å­˜åœ¨å¤šä¸ªå¤„ç†å‡½æ•°ï¼Œè¿™å¯èƒ½é€ æˆæµè§ˆå™¨çš„ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ 1234567891011121314&lt;script type="text/javascript"&gt; //ä¸åŒå‡½æ•°ä¼ é€’æ•°æ® function data(e) &#123; $(this).find('p:last').html('æ•°æ®:' + e.data) &#125; function a() &#123; $(".right").mousemove(1111, data) &#125; a(); $(".aaron3").mousemove(function(e) &#123; $(this).find('p:last').html('æ•° æ®ï¼š' + e.pageX) &#125;) &lt;/script&gt;è¿™é‡Œä¸æ˜¾ç¤º$(â€œ.aaron3â€).mousemoveç»“æžœï¼Œåªæ˜¾ç¤º1111 jQueryé¼ æ ‡äº‹ä»¶ä¹‹mouseoverä¸Žmouseoutäº‹ä»¶åœ¨å­¦JSçš„æ—¶å€™ï¼Œå¤§å®¶è¿˜è®°å¾—æœ‰ä¸¤ä¸ªæ–¹æ³•å«ç§»å…¥ç§»å‡ºäº‹ä»¶å—ï¼Ÿonmouseover()ä¸Žonmouseout()äº‹ä»¶~jQueryå½“ä¸­åŒæ ·æä¾›äº†è¿™æ ·çš„äº‹ä»¶æ¥ç›‘å¬ç”¨æˆ·çš„ç§»å…¥ç§»å‡ºæ“ä½œï¼Œmouseover()ä¸Žmouseout()äº‹ä»¶ï¼Œä¸¤è€…ç”¨æ³•ç±»ä¼¼ï¼Œä¸‹é¢ä¸€mouseoverä¸ºä¾‹ï¼šæ–¹æ³•ä¸€ï¼š$ele.mouseover()ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨çš„æ¯”è¾ƒå°‘ 1234567&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("ele").mouseover(function()&#123; alert('è§¦å‘æŒ‡å®šäº‹ä»¶')&#125;)$("#test").click(function()&#123; $("ele").mouseover() //æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.mouseover( handler(eventObject) )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°è¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº† 1234&lt;div id="test"&gt;æ»‘åŠ¨è§¦å‘&lt;div&gt;$("#test").mouseover(function() &#123; //thisæŒ‡å‘ divå…ƒç´  &#125;); æ–¹æ³•ä¸‰ï¼š$ele.mouseover( [eventData ], handler(eventObject) )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 12345&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").mouseover(11111,function(e) &#123; //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); 12345678910111213&lt;script type="text/javascript"&gt; var n = 0; //ç»‘å®šä¸€ä¸ªmouseoveräº‹ä»¶ $(".aaron1 p:first").mouseover(function(e) &#123; $(".aaron1 a").html('è¿›å…¥å…ƒç´ å†…éƒ¨,mouseoveräº‹ä»¶è§¦å‘æ¬¡æ•°ï¼š' + (++n)) &#125;) /* $ele.mouseover(function(e)&#123; &#125;) */&lt;/script&gt; jQueryé¼ æ ‡äº‹ä»¶ä¹‹mouseenterä¸Žmouseleaveäº‹ä»¶ç”¨äº¤äº’æ“ä½œä¸­ï¼Œç»å¸¸éœ€è¦çŸ¥é“ç”¨æˆ·æ“ä½œé¼ æ ‡æ˜¯å¦æœ‰ç§»åˆ°å…ƒç´ å†…éƒ¨æˆ–æ˜¯å…ƒç´ å¤–éƒ¨ï¼Œå› æ­¤jQueryæä¾›äº†ä¸€ä¸ªmouseenterå’Œmouseleaveçš„å¿«æ·æ–¹æ³•å¯ä»¥ç›‘å¬ç”¨æˆ·ç§»åŠ¨åˆ°å†…éƒ¨çš„æ“ä½œä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼Œä¸‰ç§å‚æ•°ä¼ é€’æ–¹å¼ä¸Žmouseoverå’Œmouseoutæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¿™é‡Œä¸å†é‡å¤ï¼Œä¸»è¦è®²è®²åŒºåˆ«ï¼Œä¸‹é¢ä»¥mouseenterä¸ºä¾‹ï¼šmouseenter JavaScriptäº‹ä»¶æ˜¯Internet Explorerä¸“æœ‰çš„ã€‚ç”±äºŽè¯¥äº‹ä»¶åœ¨å¹³æ—¶å¾ˆæœ‰ç”¨ï¼ŒjQueryçš„æ¨¡æ‹Ÿè¿™ä¸€äº‹ä»¶ï¼Œä»¥ä¾¿å®ƒå¯ç”¨äºŽæ‰€æœ‰æµè§ˆå™¨ã€‚è¯¥äº‹ä»¶åœ¨é¼ æ ‡ç§»å…¥åˆ°å…ƒç´ ä¸Šæ—¶è¢«è§¦å‘ã€‚ä»»ä½•HTMLå…ƒç´ éƒ½å¯ä»¥æŽ¥å—æ­¤äº‹ä»¶ã€‚mouseenteräº‹ä»¶å’Œmouseoverçš„åŒºåˆ«å…³é”®ç‚¹å°±æ˜¯ï¼šå†’æ³¡çš„æ–¹å¼å¤„ç†é—®é¢˜ç®€å•çš„ä¾‹å­ï¼š 1234mouseoverä¸ºä¾‹ï¼š&lt;div class="aaron2"&gt; &lt;p&gt;é¼ æ ‡ç¦»å¼€æ­¤åŒºåŸŸè§¦å‘mouseleaveäº‹ä»¶&lt;/p&gt;&lt;/div&gt; å¦‚æžœåœ¨på…ƒç´ ä¸Ždivå…ƒç´ éƒ½ç»‘å®šmouseoveräº‹ä»¶ï¼Œé¼ æ ‡åœ¨ç¦»å¼€på…ƒç´ ï¼Œä½†æ˜¯æ²¡æœ‰ç¦»å¼€divå…ƒç´ çš„æ—¶å€™ï¼Œè§¦å‘çš„ç»“æžœ: på…ƒç´ å“åº”äº‹ä»¶ divå…ƒç´ å“åº”äº‹ä»¶è¿™é‡Œçš„é—®é¢˜æ˜¯divä¸ºä»€ä¹ˆä¼šè¢«è§¦å‘ï¼Ÿ åŽŸå› å°±æ˜¯äº‹ä»¶å†’æ³¡çš„é—®é¢˜ï¼Œpå…ƒç´ è§¦å‘äº†mouseoverï¼Œä»–ä¼šä¸€ç›´å¾€ä¸Šæ‰¾çˆ¶å…ƒç´ ä¸Šçš„mouseoveräº‹ä»¶ï¼Œå¦‚æžœçˆ¶å…ƒç´ æœ‰mouseoveräº‹ä»¶å°±ä¼šè¢«è§¦å‘æ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹é¢ï¼ŒjQueryæŽ¨èæˆ‘ä»¬ä½¿ç”¨ mouseenteräº‹ä»¶mouseenteräº‹ä»¶åªä¼šåœ¨ç»‘å®šå®ƒçš„å…ƒç´ ä¸Šè¢«è°ƒç”¨ï¼Œè€Œä¸ä¼šåœ¨åŽä»£èŠ‚ç‚¹ä¸Šè¢«è§¦å‘ jQueryé¼ æ ‡äº‹ä»¶ä¹‹hoveräº‹ä»¶å­¦äº†mouseoverã€mouseoutã€mouseenterã€mouseleaveäº‹ä»¶ï¼Œä¹Ÿç†è§£äº†å››ä¸ªäº‹ä»¶çš„ç›¸åŒç‚¹ä¸Žä¸åŒç‚¹ï¼ŒçŽ°åœ¨å¯ä»¥ç”¨æ¥ç»™å…ƒç´ åšä¸€ä¸ªç®€å•çš„åˆ‡æ¢æ•ˆæžœåœ¨å…ƒç´ ä¸Šç§»è¿›ç§»å‡ºåˆ‡æ¢å…¶æ¢è‰²ï¼Œä¸€èˆ¬é€šè¿‡2ä¸ªäº‹ä»¶é…åˆå°±å¯ä»¥è¾¾åˆ°ï¼Œè¿™é‡Œç”¨mouseenterä¸Žmouseleaveï¼Œè¿™æ ·å¯ä»¥é¿å…å†’æ³¡é—®é¢˜ 123456$(ele).mouseenter(function()&#123; $(this).css("background", '#bbffaa'); &#125;)$(ele).mouseleave(function()&#123; $(this).css("background", 'red');&#125;) è¿™æ ·ç›®çš„æ˜¯è¾¾åˆ°äº†ï¼Œä»£ç ç¨å¾®æœ‰ç‚¹å¤šï¼Œå¯¹äºŽè¿™æ ·çš„ç®€å•é€»è¾‘jQueryç›´æŽ¥æä¾›äº†ä¸€ä¸ªhoveræ–¹æ³•ï¼Œå¯ä»¥ä¾¿æ·å¤„ç†åªéœ€è¦åœ¨hoveræ–¹æ³•ä¸­ä¼ é€’2ä¸ªå›žè°ƒå‡½æ•°å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æ˜¾ç¤ºçš„ç»‘å®š2ä¸ªäº‹ä»¶$(selector).hover(handlerIn, handlerOut)â€¢ handlerIn(eventObject)ï¼šå½“é¼ æ ‡æŒ‡é’ˆè¿›å…¥å…ƒç´ æ—¶è§¦å‘æ‰§è¡Œçš„äº‹ä»¶å‡½æ•°â€¢ handlerOut(eventObject)ï¼šå½“é¼ æ ‡æŒ‡é’ˆç¦»å¼€å…ƒç´ æ—¶è§¦å‘æ‰§è¡Œçš„äº‹ä»¶å‡½æ•° jQueryé¼ æ ‡äº‹ä»¶ä¹‹focusinäº‹ä»¶å½“ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…å…¶å†…éƒ¨ä»»ä½•ä¸€ä¸ªå…ƒç´ èŽ·å¾—ç„¦ç‚¹çš„æ—¶å€™ï¼Œä¾‹å¦‚ï¼šinputå…ƒç´ ï¼Œç”¨æˆ·åœ¨ç‚¹å‡»èšç„¦çš„æ—¶å€™ï¼Œå¦‚æžœå¼€å‘è€…éœ€è¦æ•èŽ·è¿™ä¸ªåŠ¨ä½œçš„æ—¶å€™ï¼ŒjQueryæä¾›äº†ä¸€ä¸ªfocusinäº‹ä»¶ä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼šæ–¹æ³•ä¸€ï¼š$ele.focusin()ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå°‘ 1234567&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("ele").focusin(function()&#123; alert('è§¦å‘æŒ‡å®šäº‹ä»¶')&#125;)$("#test").mouseup(function()&#123; $("ele").focusin() //æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.focusin( handler )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°è¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº† 1234&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").focusin(function() &#123; //thisæŒ‡å‘ divå…ƒç´ &#125;); æ–¹æ³•ä¸‰ï¼š$ele.focusin( [eventData ], handler )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 12345&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").focusin(11111,function(e) &#123; //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); jQueryé¼ æ ‡äº‹ä»¶ä¹‹focusoutäº‹ä»¶å½“ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…å…¶å†…éƒ¨ä»»ä½•ä¸€ä¸ªå…ƒç´ å¤±åŽ»ç„¦ç‚¹çš„æ—¶å€™ï¼Œæ¯”å¦‚inputå…ƒç´ ï¼Œç”¨æˆ·åœ¨ç‚¹å‡»å¤±åŽ»ç„¦çš„æ—¶å€™ï¼Œå¦‚æžœå¼€å‘è€…éœ€è¦æ•èŽ·è¿™ä¸ªåŠ¨ä½œï¼ŒjQueryæä¾›äº†ä¸€ä¸ªfocusoutäº‹ä»¶ä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼šæ–¹æ³•ä¸€ï¼š$ele.focusout()ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œå¯èƒ½ä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå°‘ 1234567&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("ele").focusout(function()&#123; alert('è§¦å‘æŒ‡å®šäº‹ä»¶')&#125;)$("#test").mouseup(function()&#123; $("ele").focusout() //æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.focusout( handler )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°è¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº† 1234&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").focusout(function() &#123; //thisæŒ‡å‘ divå…ƒç´ &#125;); æ–¹æ³•ä¸‰ï¼š$ele.focusout( [eventData ], handler )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 12345&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("#test").focusout(11111,function(e) &#123; //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); 1234567891011121314151617181920 &lt;script type="text/javascript"&gt; function fn(e)&#123; $(this).val(e.data) &#125; function a() &#123; $("input:last").focusout("llll",fn) &#125; a();&lt;/script&gt; &lt;script type="text/javascript"&gt; //inputå¤±åŽ»ç„¦ç‚¹ //ç»™inputå…ƒç´ å¢žåŠ ä¸€ä¸ªè¾¹æ¡† $("input:first").focusout(function() &#123; $(this).css('border','2px solid red') &#125;) &lt;/script&gt; jQueryè¡¨å•äº‹ä»¶ä¹‹blurä¸Žfocusäº‹ä»¶åœ¨ä¹‹å‰2.8ä¸Ž2.9èŠ‚æˆ‘ä»¬å­¦è¿‡äº†è¡¨å•å¤„ç†äº‹ä»¶focusinäº‹ä»¶ä¸Žfocusoutäº‹ä»¶ï¼ŒåŒæ ·ç”¨äºŽå¤„ç†è¡¨å•ç„¦ç‚¹çš„äº‹ä»¶è¿˜æœ‰blurä¸Žfocusäº‹ä»¶å®ƒä»¬ä¹‹é—´çš„æœ¬è´¨åŒºåˆ«:æ˜¯å¦æ”¯æŒå†’æ³¡å¤„ç†ä¸¾ä¸ªç®€å•çš„ä¾‹å­ 123&lt;div&gt; &lt;input type="text" /&gt;&lt;/div&gt; å…¶ä¸­inputå…ƒç´ å¯ä»¥è§¦å‘focus()äº‹ä»¶divæ˜¯inputçš„çˆ¶å…ƒç´ ï¼Œå½“å®ƒåŒ…å«çš„å…ƒç´ inputè§¦å‘äº†focusäº‹ä»¶æ—¶ï¼Œå®ƒå°±äº§ç”Ÿäº†focusin()äº‹ä»¶ã€‚focus()åœ¨å…ƒç´ æœ¬èº«äº§ç”Ÿï¼Œfocusin()åœ¨å…ƒç´ åŒ…å«çš„å…ƒç´ ä¸­äº§ç”Ÿblurä¸Žfocusoutä¹Ÿäº¦æ˜¯å¦‚æ­¤ focusin ä¼šå½±å“åˆ°çˆ¶å…ƒç´ ï¼Œfocusä¸ä¼šï¼Œfocusåªå®šä½åˆ°æœ¬èº« jQueryè¡¨å•äº‹ä»¶ä¹‹changeäº‹ä»¶å…ƒç´ ï¼Œå’Œå…ƒç´ çš„å€¼éƒ½æ˜¯å¯ä»¥å‘ç”Ÿæ”¹å˜çš„ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡changeäº‹ä»¶åŽ»ç›‘å¬è¿™äº›æ”¹å˜çš„åŠ¨ä½œ inputå…ƒç´  ç›‘å¬valueå€¼çš„å˜åŒ–ï¼Œå½“æœ‰æ”¹å˜æ—¶ï¼Œå¤±åŽ»ç„¦ç‚¹åŽè§¦å‘changeäº‹ä»¶ã€‚å¯¹äºŽå•é€‰æŒ‰é’®å’Œå¤é€‰æ¡†ï¼Œå½“ç”¨æˆ·ç”¨é¼ æ ‡åšå‡ºé€‰æ‹©æ—¶ï¼Œè¯¥äº‹ä»¶ç«‹å³è§¦å‘ã€‚ selectå…ƒç´  å¯¹äºŽä¸‹æ‹‰é€‰æ‹©æ¡†ï¼Œå½“ç”¨æˆ·ç”¨é¼ æ ‡ä½œå‡ºé€‰æ‹©æ—¶ï¼Œè¯¥äº‹ä»¶ç«‹å³è§¦å‘ textareaå…ƒç´  å¤šè¡Œæ–‡æœ¬è¾“å…¥æ¡†ï¼Œå½“æœ‰æ”¹å˜æ—¶ï¼Œå¤±åŽ»ç„¦ç‚¹åŽè§¦å‘changeäº‹ä»¶ $(â€˜.target1â€™).change(function(e) { $(â€œ#resultâ€).html(e.target.value) }); //resultæ˜¯è¦è¾“å‡ºçš„å€¼ jQueryè¡¨å•äº‹ä»¶ä¹‹selectäº‹ä»¶ å½“ textarea æˆ–æ–‡æœ¬ç±»åž‹çš„ input å…ƒç´ ä¸­çš„æ–‡æœ¬è¢«é€‰æ‹©æ—¶ï¼Œä¼šå‘ç”Ÿ select äº‹ä»¶ã€‚ è¿™ä¸ªå‡½æ•°ä¼šè°ƒç”¨æ‰§è¡Œç»‘å®šåˆ°selectäº‹ä»¶çš„æ‰€æœ‰å‡½æ•°ï¼ŒåŒ…æ‹¬æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºã€‚å¯ä»¥é€šè¿‡åœ¨æŸä¸ªç»‘å®šçš„å‡½æ•°ä¸­è¿”å›žfalseæ¥é˜²æ­¢è§¦å‘æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºã€‚ selectäº‹ä»¶åªèƒ½ç”¨äºŽå…ƒç´ ä¸Žå…ƒç´ ä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼šæ–¹æ³•ä¸€ï¼š.select()è§¦å‘å…ƒç´ çš„selectäº‹ä»¶:$(â€œinputâ€).select(); æ–¹æ³•äºŒï¼š$ele.select( handler(eventObject) )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°è¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº† 1234&lt;input id="test" value="æ–‡å­—é€‰ä¸­"&gt;&lt;/input&gt;$("#test").select(function() &#123; //å“åº”æ–‡å­—é€‰ä¸­å›žè°ƒ //thisæŒ‡å‘ inputå…ƒç´  &#125;); æ–¹æ³•ä¸‰ï¼š$ele.select( [eventData ], handler(eventObject) )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 123456789&lt;input id="test" value="æ–‡å­—é€‰ä¸­"&gt;&lt;/input&gt;$("#test").select(11111,function(e) &#123;//å“åº”æ–‡å­—é€‰ä¸­å›žè°ƒ //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); $("input").select(function(e)&#123; alert(e.target.value) &#125;) //é€‰ä¸­inputæ¡†ä¸­æ–‡å­—æ—¶å¼¹å‡º 123456789$('#bt1').click(function() &#123; $("input").select();&#125;)//å•å‡»æŒ‰é’®æ—¶å¼¹å‡º//ç›‘å¬textareaå…ƒç´ ä¸­valueçš„é€‰ä¸­$('textarea').select(function(e) &#123; alert(e.target.value);&#125;); jQueryè¡¨å•äº‹ä»¶ä¹‹submitäº‹ä»¶æäº¤è¡¨å•æ˜¯ä¸€ä¸ªæœ€å¸¸è§çš„ä¸šåŠ¡éœ€æ±‚ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†Œï¼Œä¸€äº›ä¿¡æ¯çš„è¾“å…¥éƒ½æ˜¯éœ€è¦è¡¨å•çš„æäº¤ã€‚åŒæ ·çš„æœ‰æ—¶å€™å¼€å‘è€…éœ€è¦åœ¨è¡¨å•æäº¤çš„æ—¶å€™è¿‡æ»¤ä¸€äº›çš„æ•°æ®ã€åšä¸€äº›å¿…è¦çš„æ“ä½œï¼ˆä¾‹å¦‚ï¼šéªŒè¯è¡¨å•è¾“å…¥çš„æ­£ç¡®æ€§ï¼Œå¦‚æžœé”™è¯¯å°±é˜»æ­¢æäº¤ï¼Œä»Žæ–°è¾“å…¥ï¼‰æ­¤æ—¶å¯ä»¥é€šè¿‡submitäº‹ä»¶ï¼Œç›‘å¬ä¸‹æäº¤è¡¨å•çš„è¿™ä¸ªåŠ¨ä½œä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼Œä¸ŽåŸºæœ¬äº‹ä»¶å‚æ•°å¤„ç†ä¿æŒä¸€è‡´æ–¹æ³•ä¸€ï¼š$ele.submit()ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨çš„æ¯”è¾ƒå°‘ 1234567&lt;div id="test"&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$("ele").submit(function()&#123; alert('è§¦å‘æŒ‡å®šäº‹ä»¶')&#125;)$("#text").click(function()&#123; $("ele").submit() //æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.submit( handler(eventObject) )ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°è¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº† 123456&lt;form id="target" action="destination.html"&gt; &lt;input type="submit" value="Go" /&gt;&lt;/form&gt;$("#target").submit(function() &#123; //ç»‘å®šæäº¤è¡¨å•è§¦å‘ //thisæŒ‡å‘ fromå…ƒç´  &#125;); æ–¹æ³•ä¸‰ï¼š$ele.submit( [eventData ], handler(eventObject) )ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 123456&lt;form id="target" action="destination.html"&gt; &lt;input type="submit" value="Go" /&gt;&lt;/form&gt;$("#target").submit(11111,function(data) &#123; //ç»‘å®šæäº¤è¡¨å•è§¦å‘ //data =&gt; 1111 //ä¼ é€’çš„dataæ•°æ®&#125;); é€šè¿‡åœ¨ å…ƒç´ ä¸Šç»‘å®šsubmitäº‹ä»¶ï¼Œå¼€å‘è€…å¯ä»¥ç›‘å¬åˆ°ç”¨æˆ·çš„æäº¤è¡¨å•çš„çš„è¡Œä¸º å…·ä½“èƒ½è§¦å‘submitäº‹ä»¶çš„è¡Œä¸ºï¼š å½“æŸäº›è¡¨å•å…ƒç´ èŽ·å–ç„¦ç‚¹æ—¶ï¼Œæ•²å‡»Enterï¼ˆå›žè½¦é”®ï¼‰ ä¸Šè¿°è¿™äº›æ“ä½œä¸‹ï¼Œéƒ½å¯ä»¥æˆªèŽ·submitäº‹ä»¶ã€‚ è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š formå…ƒç´ æ˜¯æœ‰é»˜è®¤æäº¤è¡¨å•çš„è¡Œä¸ºï¼Œå¦‚æžœé€šè¿‡submitå¤„ç†çš„è¯ï¼Œéœ€è¦ç¦æ­¢æµè§ˆå™¨çš„è¿™ä¸ªé»˜è®¤è¡Œä¸º ä¼ ç»Ÿçš„æ–¹å¼æ˜¯è°ƒç”¨äº‹ä»¶å¯¹è±¡ e.preventDefault() æ¥å¤„ç†ï¼Œ jQueryä¸­å¯ä»¥ç›´æŽ¥åœ¨å‡½æ•°ä¸­æœ€åŽç»“å°¾return falseå³å¯ jQueryå¤„ç†å¦‚ä¸‹ï¼š 123$("#target").submit(function(data) &#123; return false; //é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œæäº¤è¡¨å•&#125;); 1234567891011&lt;script type="text/javascript"&gt; //å›žè½¦é”®æˆ–è€…ç‚¹å‡»æäº¤è¡¨å• $('#target1').submit(function(e) &#123; alert('æ•èŽ·æäº¤è¡¨è¾¾åŠ¨ä½œ,ä¸é˜»æ­¢é¡µé¢è·³è½¬') &#125;); //å›žè½¦é”®æˆ–è€…ç‚¹å‡»æäº¤è¡¨å•,ç¦æ­¢æµè§ˆå™¨é»˜è®¤è·³è½¬ï¼š $('#target2').submit(function() &#123; alert('æ•èŽ·æäº¤è¡¨è¾¾åŠ¨ä½œ,é˜»æ­¢é¡µé¢è·³è½¬') return false; &#125;); &lt;/script&gt; jQueryé”®ç›˜äº‹ä»¶ä¹‹keydown()ä¸Žkeyup()äº‹ä»¶é¼ æ ‡æœ‰mousedown,mouseupä¹‹ç±»çš„äº‹ä»¶ï¼Œè¿™æ˜¯æ ¹æ®äººçš„æ‰‹åŠ¿åŠ¨ä½œåˆ†è§£çš„2ä¸ªè§¦å‘è¡Œä¸ºã€‚ç›¸å¯¹åº”çš„é”®ç›˜ä¹Ÿæœ‰è¿™ç±»äº‹ä»¶ï¼Œå°†ç”¨æˆ·è¡Œä¸ºåˆ†è§£æˆ2ä¸ªåŠ¨ä½œï¼Œé”®ç›˜æŒ‰ä¸‹ä¸Žæ¾æ‰‹ï¼Œé’ˆå¯¹è¿™æ ·çš„2ç§åŠ¨ä½œï¼ŒjQueryåˆ†åˆ«æä¾›äº†å¯¹åº”keydownä¸Žkeyupæ–¹æ³•æ¥ç›‘å¬keydownäº‹ä»¶ï¼šå½“ç”¨æˆ·åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šç¬¬ä¸€æ¬¡æŒ‰ä¸‹é”®ç›˜ä¸Šå­—æ¯é”®çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘å®ƒã€‚ä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼Œä¸ŽåŸºæœ¬äº‹ä»¶å‚æ•°å¤„ç†ä¿æŒä¸€è‡´ï¼Œè¿™é‡Œä½¿ç”¨ä¸åœ¨é‡å¤äº†ï¼Œåˆ—å‡ºä½¿ç”¨çš„æ–¹æ³• 123456//ç›´æŽ¥ç»‘å®šäº‹ä»¶$elem.keydown( handler(eventObject) )//ä¼ é€’å‚æ•°$elem.keydown( [eventData ], handler(eventObject) )//æ‰‹åŠ¨è§¦å‘å·²ç»‘å®šçš„äº‹ä»¶$elem.keydown() keyupäº‹ä»¶ï¼šå½“ç”¨æˆ·åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šç¬¬ä¸€æ¬¡æ¾æ‰‹é”®ç›˜ä¸Šçš„é”®çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘å®ƒã€‚ä½¿ç”¨æ–¹æ³•ä¸Žkeydownæ˜¯ä¸€è‡´çš„åªæ˜¯è§¦å‘çš„æ¡ä»¶æ˜¯æ–¹æ³•çš„ æ³¨æ„ï¼šâ€¢ keydownæ˜¯åœ¨é”®ç›˜æŒ‰ä¸‹å°±ä¼šè§¦å‘â€¢ keyupæ˜¯åœ¨é”®ç›˜æ¾æ‰‹å°±ä¼šè§¦å‘â€¢ ç†è®ºä¸Šå®ƒå¯ä»¥ç»‘å®šåˆ°ä»»ä½•å…ƒç´ ï¼Œä½†keydown/keyupäº‹ä»¶åªæ˜¯å‘é€åˆ°å…·æœ‰ç„¦ç‚¹çš„å…ƒç´ ä¸Šï¼Œä¸åŒçš„æµè§ˆå™¨ä¸­ï¼Œå¯èŽ·å¾—ç„¦ç‚¹çš„å…ƒç´ ç•¥æœ‰ä¸åŒï¼Œä½†æ˜¯è¡¨å•å…ƒç´ æ€»æ˜¯èƒ½èŽ·å–ç„¦ç‚¹ï¼Œæ‰€ä»¥å¯¹äºŽæ­¤äº‹ä»¶ç±»åž‹è¡¨å•å…ƒç´ æ˜¯æœ€åˆé€‚çš„ã€‚ jQueryé”®ç›˜äº‹ä»¶ä¹‹keypress()äº‹ä»¶åœ¨inputå…ƒç´ ä¸Šç»‘å®škeydownäº‹ä»¶ä¼šå‘çŽ°ä¸€ä¸ªé—®é¢˜ï¼šæ¯æ¬¡èŽ·å–çš„å†…å®¹éƒ½æ˜¯ä¹‹å‰è¾“å…¥çš„ï¼Œå½“å‰è¾“å…¥çš„èŽ·å–ä¸åˆ°keydownäº‹ä»¶è§¦å‘åœ¨æ–‡å­—è¿˜æ²¡æ•²è¿›æ–‡æœ¬æ¡†ï¼Œè¿™æ—¶å¦‚æžœåœ¨keydownäº‹ä»¶ä¸­è¾“å‡ºæ–‡æœ¬æ¡†ä¸­çš„æ–‡æœ¬ï¼Œå¾—åˆ°çš„æ˜¯è§¦å‘é”®ç›˜äº‹ä»¶å‰çš„æ–‡æœ¬ï¼Œè€Œkeyupäº‹ä»¶è§¦å‘æ—¶æ•´ä¸ªé”®ç›˜äº‹ä»¶çš„æ“ä½œå·²ç»å®Œæˆï¼ŒèŽ·å¾—çš„æ˜¯è§¦å‘é”®ç›˜äº‹ä»¶åŽçš„æ–‡æœ¬å½“æµè§ˆå™¨æ•èŽ·é”®ç›˜è¾“å…¥æ—¶ï¼Œè¿˜æä¾›äº†ä¸€ä¸ªkeypressçš„å“åº”ï¼Œè¿™ä¸ªè·Ÿkeydownæ˜¯éžå¸¸ç›¸ä¼¼ï¼Œè¿™é‡Œä½¿ç”¨è¯·å‚è€ƒkeydownè¿™ä¸€èŠ‚ï¼Œå…·ä½“è¯´è¯´ä¸åŒç‚¹keypressäº‹ä»¶ä¸Žkeydownå’Œkeyupçš„ä¸»è¦åŒºåˆ«â€¢ åªèƒ½æ•èŽ·å•ä¸ªå­—ç¬¦ï¼Œä¸èƒ½æ•èŽ·ç»„åˆé”®â€¢ æ— æ³•å“åº”ç³»ç»ŸåŠŸèƒ½é”®ï¼ˆå¦‚deleteï¼Œbackspaceï¼‰â€¢ ä¸åŒºåˆ†å°é”®ç›˜å’Œä¸»é”®ç›˜çš„æ•°å­—å­—ç¬¦æ€»è€Œè¨€ä¹‹ï¼ŒKeyPressä¸»è¦ç”¨æ¥æŽ¥æ”¶å­—æ¯ã€æ•°å­—ç­‰ANSIå­—ç¬¦ï¼Œè€Œ KeyDown å’Œ KeyUP äº‹ä»¶è¿‡ç¨‹å¯ä»¥å¤„ç†ä»»ä½•ä¸è¢« KeyPress è¯†åˆ«çš„å‡»é”®ã€‚è¯¸å¦‚ï¼šåŠŸèƒ½é”®ï¼ˆF1-F12ï¼‰ã€ç¼–è¾‘é”®ã€å®šä½é”®ä»¥åŠä»»ä½•è¿™äº›é”®å’Œé”®ç›˜æ¢æ¡£é”®çš„ç»„åˆç­‰ã€‚ on()çš„å¤šäº‹ä»¶ç»‘å®šä¹‹å‰å­¦çš„é¼ æ ‡äº‹ä»¶ï¼Œè¡¨å•äº‹ä»¶ä¸Žé”®ç›˜äº‹ä»¶éƒ½æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯ç›´æŽ¥ç»™å…ƒç´ ç»‘å®šä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œæ‰€æœ‰è¿™ç±»äº‹ä»¶éƒ½æ˜¯å±žäºŽå¿«æ·å¤„ç†ã€‚ç¿»å¼€æºç å…¶å®žå¯ä»¥çœ‹åˆ°ï¼Œæ‰€æœ‰çš„å¿«æ·äº‹ä»¶åœ¨åº•å±‚çš„å¤„ç†éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªâ€onâ€æ–¹æ³•æ¥å®žçŽ°çš„ã€‚jQuery on()æ–¹æ³•æ˜¯å®˜æ–¹æŽ¨èçš„ç»‘å®šäº‹ä»¶çš„ä¸€ä¸ªæ–¹æ³•ã€‚åŸºæœ¬ç”¨æ³•ï¼š.on( events ,[ selector ] ,[ data ] )æœ€å¸¸è§çš„ç»™å…ƒç´ ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œå¯¹æ¯”ä¸€ä¸‹å¿«æ·æ–¹å¼ä¸Žonæ–¹å¼çš„ä¸åŒ$(â€œ#elemâ€).click(function(){}) //å¿«æ·æ–¹å¼$(â€œ#elemâ€).on(â€˜clickâ€™,function(){}) //onæ–¹å¼æœ€å¤§çš„ä¸åŒç‚¹å°±æ˜¯onæ˜¯å¯ä»¥è‡ªå®šä¹‰äº‹ä»¶åï¼Œå½“ç„¶ä¸ä»…ä»…åªæ˜¯å¦‚ä½•ï¼Œç»§ç»­å¾€ä¸‹çœ‹å¤šä¸ªäº‹ä»¶ç»‘å®šåŒä¸€ä¸ªå‡½æ•°$(â€œ#elemâ€).on(â€œmouseover mouseoutâ€,function(){ });é€šè¿‡ç©ºæ ¼åˆ†ç¦»ï¼Œä¼ é€’ä¸åŒçš„äº‹ä»¶åï¼Œå¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ªäº‹ä»¶å¤šä¸ªäº‹ä»¶ç»‘å®šä¸åŒå‡½æ•°$(â€œ#elemâ€).on({mouseover:function(){},mouseout:function(){}});é€šè¿‡ç©ºæ ¼åˆ†ç¦»ï¼Œä¼ é€’ä¸åŒçš„äº‹ä»¶åï¼Œå¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ªäº‹ä»¶ï¼Œæ¯ä¸€ä¸ªäº‹ä»¶æ‰§è¡Œè‡ªå·±çš„å›žè°ƒæ–¹æ³•å°†æ•°æ®ä¼ é€’åˆ°å¤„ç†ç¨‹åºfunction greet( event ) {alert( â€œHello â€œ + event.data.name ); //Hello æ…•è¯¾ç½‘}$( â€œbuttonâ€ ).on( â€œclickâ€, {name: â€œæ…•è¯¾ç½‘â€}, greet );å¯ä»¥é€šè¿‡ç¬¬äºŒå‚æ•°ï¼ˆå¯¹è±¡ï¼‰ï¼Œå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œè¦ä¼ é€’ç»™äº‹ä»¶å¤„ç†å‡½æ•°çš„ on()çš„é«˜çº§ç”¨æ³•é’ˆå¯¹è‡ªå·±å¤„ç†æœºåˆ¶ä¸­ï¼Œä¸ä»…æœ‰onæ–¹æ³•ï¼Œè¿˜æœ‰æ ¹æ®onæ¼”å˜å‡ºæ¥çš„liveæ–¹æ³•(1.7åŽåŽ»æŽ‰äº†)ï¼Œdelegateæ–¹æ³•ç­‰ç­‰ã€‚è¿™äº›æ–¹æ³•çš„åº•å±‚å®žçŽ°éƒ¨åˆ† è¿˜æ˜¯onæ–¹æ³•ï¼Œè¿™æ˜¯åˆ©ç”¨äº†onçš„å¦ä¸€ä¸ªäº‹ä»¶æœºåˆ¶å§”æ‰˜çš„æœºåˆ¶è¡å˜è€Œæ¥çš„å§”æ‰˜æœºåˆ¶.on( events ,[ selector ] ,[ data ], handler(eventObject) )åœ¨onçš„ç¬¬äºŒå‚æ•°ä¸­æä¾›äº†ä¸€ä¸ªselectoré€‰æ‹©å™¨ï¼Œç®€å•çš„æ¥æè¿°ä¸‹å‚è€ƒä¸‹é¢3å±‚ç»“æž„ 12345678&lt;div class="left"&gt; &lt;p class="aaron"&gt; &lt;a&gt;ç›®æ ‡èŠ‚ç‚¹&lt;/a&gt; //ç‚¹å‡»åœ¨è¿™ä¸ªå…ƒç´ ä¸Š &lt;/p&gt;&lt;/div&gt;ç»™å‡ºå¦‚ä¸‹ä»£ç ï¼š$("div").on("click","p",fn) äº‹ä»¶ç»‘å®šåœ¨æœ€ä¸Šå±‚divå…ƒç´ ä¸Šï¼Œå½“ç”¨æˆ·è§¦å‘åœ¨aå…ƒç´ ä¸Šï¼Œäº‹ä»¶å°†å¾€ä¸Šå†’æ³¡ï¼Œä¸€ç›´ä¼šå†’æ³¡åœ¨divå…ƒç´ ä¸Šã€‚å¦‚æžœæä¾›äº†ç¬¬äºŒå‚æ•°ï¼Œé‚£ä¹ˆäº‹ä»¶åœ¨å¾€ä¸Šå†’æ³¡çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†é€‰æ‹©å™¨åŒ¹é…çš„å…ƒç´ ï¼Œå°†ä¼šè§¦å‘äº‹ä»¶å›žè°ƒå‡½æ•° 1234567891011121314151617&lt;body&gt; &lt;h2&gt;onäº‹ä»¶å§”æ‰˜&lt;/h2&gt; &lt;div class="left"&gt; &lt;div class="aaron"&gt; &lt;a&gt;ç‚¹å‡»è¿™é‡Œ&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;script type="text/javascript"&gt; //ç»™bodyç»‘å®šä¸€ä¸ªclickäº‹ä»¶ //æ²¡æœ‰ç›´æŽ¥aå…ƒç´ ç»‘å®šç‚¹å‡»äº‹ä»¶ //é€šè¿‡å§”æ‰˜æœºåˆ¶ï¼Œç‚¹å‡»aå…ƒç´ çš„æ—¶å€™ï¼Œäº‹ä»¶è§¦å‘ $('body').on('click', 'a', function(e) &#123; alert(e.target.textContent) &#125;) &lt;/script&gt;&lt;/body&gt;ç»“æžœï¼šå¼¹å‡ºâ€œç‚¹å‡»è¿™é‡Œâ€å¯¹è¯æ¡† å¸è½½äº‹ä»¶off()æ–¹æ³•â€¢ é€šè¿‡.on()ç»‘å®šçš„äº‹ä»¶å¤„ç†ç¨‹åºâ€¢ é€šè¿‡off() æ–¹æ³•ç§»é™¤è¯¥ç»‘å®šæ ¹æ®onç»‘å®šäº‹ä»¶çš„ä¸€äº›ç‰¹æ€§ï¼Œoffæ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡ç›¸åº”çš„ä¼ é€’ç»„åˆçš„äº‹ä»¶åï¼Œåå­—ç©ºé—´ï¼Œé€‰æ‹©å™¨æˆ–å¤„ç†å‡½æ•°æ¥ç§»é™¤ç»‘å®šåœ¨å…ƒç´ ä¸ŠæŒ‡å®šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚å½“æœ‰å¤šä¸ªè¿‡æ»¤å‚æ•°æ—¶ï¼Œåªæœ‰ä¸Žè¿™äº›å‚æ•°å®Œå…¨åŒ¹é…çš„äº‹ä»¶å¤„ç†å‡½æ•°æ‰ä¼šè¢«ç§»é™¤ 12345678ç»‘å®š2ä¸ªäº‹ä»¶$("elem").on("mousedown mouseup",fn)åˆ é™¤ä¸€ä¸ªäº‹ä»¶$("elem").off("mousedown")åˆ é™¤æ‰€æœ‰äº‹ä»¶$("elem").off("mousedown mouseup")å¿«æ·æ–¹å¼åˆ é™¤æ‰€æœ‰äº‹ä»¶ï¼Œè¿™é‡Œä¸éœ€è¦ä¼ é€’äº‹ä»¶åäº†ï¼ŒèŠ‚ç‚¹ä¸Šç»‘å®šçš„æ‰€æœ‰äº‹ä»¶è®²å…¨éƒ¨é”€æ¯$("elem").off() jQueryäº‹ä»¶å¯¹è±¡çš„ä½œç”¨äº‹ä»¶ä¸­çš„Eventå¯¹è±¡å®¹æ˜“è¢«åˆå­¦è€…å¿½ç•¥æŽ‰ï¼Œå¯èƒ½å¤§å¤šæ—¶å€™åˆå­¦è€…ä¸çŸ¥é“æ€Žä¹ˆåŽ»ç”¨å®ƒï¼Œä½†æœ‰äº›æ—¶å€™å®ƒè¿˜æ˜¯éžå¸¸æœ‰ç”¨çš„ä¸€ä¸ªæ ‡å‡†çš„â€clickâ€ç‚¹å‡»äº‹ä»¶ 123$(elem).on("click",function(event)&#123; event //äº‹ä»¶å¯¹è±¡&#125;) åœ¨ä¸åŒæµè§ˆå™¨ä¹‹é—´äº‹ä»¶å¯¹è±¡çš„èŽ·å–, ä»¥åŠäº‹ä»¶å¯¹è±¡çš„å±žæ€§éƒ½æœ‰å·®å¼‚ã€‚jQueryæ ¹æ® W3C æ ‡å‡†è§„èŒƒäº†äº‹ä»¶å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨jQueryäº‹ä»¶å›žè°ƒæ–¹æ³•ä¸­èŽ·å–åˆ°çš„äº‹ä»¶å¯¹è±¡æ˜¯ç»è¿‡å…¼å®¹åŽå¤„ç†è¿‡çš„ä¸€ä¸ªæ ‡å‡†çš„è·¨æµè§ˆå™¨å¯¹è±¡è¿™é‡Œä¸åœ¨åƒç¯‡ä¸€å¾‹çš„è¯´æ–¹æ³•çš„ä½¿ç”¨ï¼Œé€šè¿‡å®žé™…çš„ä¸€ä¸ªå°æ¡ˆä¾‹ï¼Œä»Žè€Œæ¥äº†è§£äº‹ä»¶å¯¹è±¡çš„ä½œç”¨ 123456&lt;ul&gt; &lt;li class="even1"&gt;&lt;/li&gt; &lt;li class="even2"&gt;&lt;/li&gt; &lt;li class="even2"&gt;&lt;/li&gt; .........&lt;/ul&gt; ulæœ‰Nä¸ªå­å…ƒç´ li(è¿™é‡Œåªå†™äº†3ä¸ª)ï¼Œå¦‚æžœæˆ‘è¦å“åº”æ¯ä¸€ä¸ªliçš„äº‹ä»¶ï¼Œé‚£ä¹ˆå¸¸è§„çš„æ–¹æ³•å°±æ˜¯éœ€è¦ç»™æ‰€æœ‰çš„liéƒ½å•ç‹¬ç»‘å®šä¸€ä¸ªäº‹ä»¶ç›‘å¬ï¼Œè¿™æ ·å†™æ³•å¾ˆç¬¦åˆé€»è¾‘ï¼Œä½†æ˜¯åŒæ—¶æœ‰æ˜¾å¾—ç¹çå› ä¸ºliéƒ½æœ‰ä¸€ä¸ªå…±åŒçš„çˆ¶å…ƒç´ ï¼Œè€Œä¸”æ‰€æœ‰çš„äº‹ä»¶éƒ½æ˜¯ä¸€è‡´çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¦ä¸€ä¸ªæŠ€å·§æ¥å¤„ç†ï¼Œä¹Ÿæ˜¯å¸¸è¯´çš„â€äº‹ä»¶å§”æ‰˜â€äº‹ä»¶æ²¡ç›´æŽ¥å’Œliå…ƒç´ å‘ç”Ÿå…³ç³»ï¼Œè€Œä¸”ç»‘å®šçˆ¶å…ƒç´ äº†ã€‚ç”±äºŽæµè§ˆå™¨æœ‰äº‹ä»¶å†’æ³¡çš„è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è§¦å‘liçš„æ—¶å€™æŠŠè¿™ä¸ªäº‹ä»¶å¾€ä¸Šå†’æ³¡åˆ°ulä¸Šï¼Œå› ä¸ºulä¸Šç»‘å®šäº‹ä»¶å“åº”æ‰€ä»¥å°±èƒ½å¤Ÿè§¦å‘è¿™ä¸ªåŠ¨ä½œäº†ã€‚å”¯ä¸€çš„é—®é¢˜æ€Žä¹ˆæ‰çŸ¥é“è§¦å‘çš„liå…ƒç´ æ˜¯å“ªä¸ªä¸€ä¸ªï¼Ÿè¿™é‡Œå°±å¼•å‡ºäº†äº‹ä»¶å¯¹è±¡äº†äº‹ä»¶å¯¹è±¡æ˜¯ç”¨æ¥è®°å½•ä¸€äº›äº‹ä»¶å‘ç”Ÿæ—¶çš„ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ã€‚äº‹ä»¶å¯¹è±¡åªæœ‰äº‹ä»¶å‘ç”Ÿæ—¶æ‰ä¼šäº§ç”Ÿï¼Œå¹¶ä¸”åªèƒ½æ˜¯äº‹ä»¶å¤„ç†å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œåœ¨æ‰€æœ‰äº‹ä»¶å¤„ç†å‡½æ•°è¿è¡Œç»“æŸåŽï¼Œäº‹ä»¶å¯¹è±¡å°±è¢«é”€æ¯å›žåˆ°ä¸Šé¢çš„é—®é¢˜ï¼Œæ—¢ç„¶äº‹ä»¶å¯¹è±¡æ˜¯è·Ÿå½“å‰è§¦å‘å…ƒç´ æ¯æ¯ç›¸å…³çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±èƒ½ä»Žé‡Œé¢ç›¸å…³çš„ä¿¡æ¯ï¼Œä»Žäº‹ä»¶å¯¹è±¡ä¸­æ‰¾åˆ° event.targetevent.targettarget å±žæ€§å¯ä»¥æ˜¯æ³¨å†Œäº‹ä»¶æ—¶çš„å…ƒç´ ï¼Œæˆ–è€…å®ƒçš„å­å…ƒç´ ã€‚é€šå¸¸ç”¨äºŽæ¯”è¾ƒ event.target å’Œ this æ¥ç¡®å®šäº‹ä»¶æ˜¯ä¸æ˜¯ç”±äºŽå†’æ³¡è€Œè§¦å‘çš„ã€‚ç»å¸¸ç”¨äºŽäº‹ä»¶å†’æ³¡æ—¶å¤„ç†äº‹ä»¶å§”æ‰˜ç®€å•æ¥è¯´ï¼ševent.targetä»£è¡¨å½“å‰è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼Œå¯ä»¥é€šè¿‡å½“å‰å…ƒç´ å¯¹è±¡çš„ä¸€ç³»åˆ—å±žæ€§æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„å…ƒç´ ç»è¿‡ç®€å•çš„å®žéªŒï¼Œè§‰å¾—eventæ˜¯å®žé™…çš„è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼Œè€Œthisæ˜¯ç»™å“ªä¸ªå…ƒç´ ç»‘å®šäº†äº‹ä»¶ jQueryäº‹ä»¶å¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•äº‹ä»¶å¯¹è±¡çš„å±žäºŽä¸Žæ–¹æ³•æœ‰å¾ˆå¤šï¼Œä½†æ˜¯æˆ‘ä»¬ç»å¸¸ç”¨çš„åªæœ‰é‚£ä¹ˆå‡ ä¸ªï¼Œè¿™é‡Œæˆ‘ä¸»è¦è¯´ä¸‹ä½œç”¨ä¸ŽåŒºåˆ« event.typeï¼šèŽ·å–äº‹ä»¶çš„ç±»åž‹è§¦å‘å…ƒç´ çš„äº‹ä»¶ç±»åž‹ 123$("a").click(function(event) &#123; alert(event.type); // "click"äº‹ä»¶&#125;); event.pageX å’Œ event.pageYï¼šèŽ·å–é¼ æ ‡å½“å‰ç›¸å¯¹äºŽé¡µé¢çš„åæ ‡é€šè¿‡è¿™2ä¸ªå±žæ€§ï¼Œå¯ä»¥ç¡®å®šå…ƒç´ åœ¨å½“å‰é¡µé¢çš„åæ ‡å€¼ï¼Œé¼ æ ‡ç›¸å¯¹äºŽæ–‡æ¡£çš„å·¦è¾¹ç¼˜çš„ä½ç½®ï¼ˆå·¦è¾¹ï¼‰ä¸Ž ï¼ˆé¡¶è¾¹ï¼‰çš„è·ç¦»ï¼Œç®€å•æ¥è¯´æ˜¯ä»Žé¡µé¢å·¦ä¸Šè§’å¼€å§‹,å³æ˜¯ä»¥é¡µé¢ä¸ºå‚è€ƒç‚¹,ä¸éšæ»‘åŠ¨æ¡ç§»åŠ¨è€Œå˜åŒ– event.preventDefault() æ–¹æ³•ï¼šé˜»æ­¢é»˜è®¤è¡Œä¸ºè¿™ä¸ªç”¨çš„ç‰¹åˆ«å¤šï¼Œåœ¨æ‰§è¡Œè¿™ä¸ªæ–¹æ³•åŽï¼Œå¦‚æžœç‚¹å‡»ä¸€ä¸ªé“¾æŽ¥ï¼ˆaæ ‡ç­¾ï¼‰ï¼Œæµè§ˆå™¨ä¸ä¼šè·³è½¬åˆ°æ–°çš„ URL åŽ»äº†ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ ######event.isDefaultPrevented() æ¥ç¡®å®šè¿™ä¸ªæ–¹æ³•æ˜¯å¦(åœ¨é‚£ä¸ªäº‹ä»¶å¯¹è±¡ä¸Š)è¢«è°ƒç”¨è¿‡äº† event.stopPropagation() æ–¹æ³•ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡äº‹ä»¶æ˜¯å¯ä»¥å†’æ³¡çš„ï¼Œä¸ºé˜²æ­¢äº‹ä»¶å†’æ³¡åˆ°DOMæ ‘ä¸Šï¼Œä¹Ÿå°±æ˜¯ä¸è§¦å‘çš„ä»»ä½•å‰è¾ˆå…ƒç´ ä¸Šçš„äº‹ä»¶å¤„ç†å‡½æ•° event.whichï¼šèŽ·å–åœ¨é¼ æ ‡å•å‡»æ—¶ï¼Œå•å‡»çš„æ˜¯é¼ æ ‡çš„å“ªä¸ªé”®event.which å°† event.keyCode å’Œ event.charCode æ ‡å‡†åŒ–äº†ã€‚event.whichä¹Ÿå°†æ­£å¸¸åŒ–çš„æŒ‰é’®æŒ‰ä¸‹(mousedown å’Œ mouseupevents)ï¼Œå·¦é”®æŠ¥å‘Š1ï¼Œä¸­é—´é”®æŠ¥å‘Š2ï¼Œå³é”®æŠ¥å‘Š3event.currentTarget : åœ¨äº‹ä»¶å†’æ³¡è¿‡ç¨‹ä¸­çš„å½“å‰DOMå…ƒç´ å†’æ³¡å‰çš„å½“å‰è§¦å‘äº‹ä»¶çš„DOMå¯¹è±¡, ç­‰åŒäºŽthis. thiså’Œevent.targetçš„åŒºåˆ«ï¼šjsä¸­äº‹ä»¶æ˜¯ä¼šå†’æ³¡çš„ï¼Œæ‰€ä»¥thisæ˜¯å¯ä»¥å˜åŒ–çš„ï¼Œä½†event.targetä¸ä¼šå˜åŒ–ï¼Œå®ƒæ°¸è¿œæ˜¯ç›´æŽ¥æŽ¥å—äº‹ä»¶çš„ç›®æ ‡DOMå…ƒç´ ï¼›.thiså’Œevent.targetéƒ½æ˜¯domå¯¹è±¡å¦‚æžœè¦ä½¿ç”¨jqueyä¸­çš„æ–¹æ³•å¯ä»¥å°†ä»–ä»¬è½¬æ¢ä¸ºjqueryå¯¹è±¡ã€‚æ¯”å¦‚thiså’Œ$(this)çš„ä½¿ç”¨ã€event.targetå’Œ$(event.target)çš„ä½¿ç”¨ï¼› jQueryè‡ªå®šä¹‰äº‹ä»¶ä¹‹triggeräº‹ä»¶ä¼—æ‰€å‘¨çŸ¥ç±»ä¼¼äºŽmousedownã€clickã€keydownç­‰ç­‰è¿™ç±»åž‹çš„äº‹ä»¶éƒ½æ˜¯æµè§ˆå™¨æä¾›çš„ï¼Œé€šä¿—å«åŽŸç”Ÿäº‹ä»¶ï¼Œè¿™ç±»åž‹çš„äº‹ä»¶æ˜¯éœ€è¦æœ‰äº¤äº’è¡Œä¸ºæ‰èƒ½è¢«è§¦å‘ã€‚åœ¨jQueryé€šè¿‡onæ–¹æ³•ç»‘å®šä¸€ä¸ªåŽŸç”Ÿäº‹ä»¶ 123$('#elem').on('click', function() &#123; alert("è§¦å‘ç³»ç»Ÿäº‹ä»¶") &#125;); alertéœ€è¦æ‰§è¡Œçš„æ¡ä»¶ï¼šå¿…é¡»æœ‰ç”¨æˆ·ç‚¹å‡»æ‰å¯ä»¥ã€‚å¦‚æžœä¸åŒç”¨æˆ·äº¤äº’æ˜¯å¦èƒ½åœ¨æŸä¸€æ—¶åˆ»è‡ªåŠ¨è§¦å‘è¯¥äº‹ä»¶å‘¢ï¼Ÿ æ­£å¸¸æ¥è¯´æ˜¯ä¸å¯ä»¥çš„ï¼Œä½†æ˜¯jQueryè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œæä¾›äº†ä¸€ä¸ªtriggeræ–¹æ³•æ¥è§¦å‘æµè§ˆå™¨äº‹ä»¶æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š$(â€˜#elemâ€™).trigger(â€˜clickâ€™);åœ¨ç»‘å®šonçš„äº‹ä»¶å…ƒç´ ä¸Šï¼Œé€šè¿‡triggeræ–¹æ³•å°±å¯ä»¥è°ƒç”¨åˆ°alertäº†ï¼ŒæŒºç®€å•ï¼å†æ¥çœ‹çœ‹.triggeræ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è®²å°±æ˜¯ï¼šæ ¹æ®ç»‘å®šåˆ°åŒ¹é…å…ƒç´ çš„ç»™å®šçš„äº‹ä»¶ç±»åž‹æ‰§è¡Œæ‰€æœ‰çš„å¤„ç†ç¨‹åºå’Œè¡Œä¸ºtriggeré™¤äº†èƒ½å¤Ÿè§¦å‘æµè§ˆå™¨äº‹ä»¶ï¼ŒåŒæ—¶è¿˜æ”¯æŒè‡ªå®šä¹‰äº‹ä»¶ï¼Œå¹¶ä¸”è‡ªå®šä¹‰æ—¶é—´è¿˜æ”¯æŒä¼ é€’å‚æ•° 1234$('#elem').on('Aaron', function(event,arg1,arg2) &#123; alert("è‡ªè§¦è‡ªå®šä¹‰æ—¶é—´") &#125;);$('#elem').trigger('Aaron',['å‚æ•°1','å‚æ•°2']) triggerè§¦å‘æµè§ˆå™¨äº‹ä»¶ä¸Žè‡ªå®šä¹‰äº‹ä»¶åŒºåˆ«ï¼Ÿâ€¢ è‡ªå®šä¹‰äº‹ä»¶å¯¹è±¡ï¼Œæ˜¯jQueryæ¨¡æ‹ŸåŽŸç”Ÿå®žçŽ°çš„â€¢ è‡ªå®šä¹‰äº‹ä»¶å¯ä»¥ä¼ é€’å‚æ•° jQueryè‡ªå®šä¹‰äº‹ä»¶ä¹‹triggerHandleräº‹ä»¶triggeräº‹ä»¶è¿˜æœ‰ä¸€ä¸ªç‰¹æ€§ï¼šä¼šåœ¨DOMæ ‘ä¸Šå†’æ³¡ï¼Œæ‰€ä»¥å¦‚æžœè¦é˜»æ­¢å†’æ³¡å°±éœ€è¦åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è¿”å›žfalseæˆ–è°ƒç”¨äº‹ä»¶å¯¹è±¡ä¸­çš„.stopPropagation() æ–¹æ³•å¯ä»¥ä½¿äº‹ä»¶åœæ­¢å†’æ³¡triggeräº‹ä»¶æ˜¯å…·æœ‰è§¦å‘åŽŸç”Ÿä¸Žè‡ªå®šä¹‰èƒ½åŠ›çš„ï¼Œä½†æ˜¯å­˜åœ¨ä¸€ä¸ªä¸å¯é¿å…çš„é—®é¢˜ï¼š äº‹ä»¶å¯¹è±¡eventæ— æ³•å®Œç¾Žçš„å®žçŽ°ï¼Œæ¯•ç«Ÿä¸€ä¸ªæ˜¯æµè§ˆå™¨ç»™çš„ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±æ¨¡æ‹Ÿçš„ã€‚å°½ç®¡ .trigger() æ¨¡æ‹Ÿäº‹ä»¶å¯¹è±¡ï¼Œä½†æ˜¯å®ƒå¹¶æ²¡æœ‰å®Œç¾Žçš„å¤åˆ¶è‡ªç„¶å‘ç”Ÿçš„äº‹ä»¶ï¼Œè‹¥è¦è§¦å‘é€šè¿‡ jQuery ç»‘å®šçš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œä¸è§¦å‘åŽŸç”Ÿçš„äº‹ä»¶ï¼Œä½¿ç”¨.triggerHandler() æ¥ä»£æ›¿triggerHandlerä¸Žtriggerçš„ç”¨æ³•æ˜¯ä¸€æ ·çš„ï¼Œé‡ç‚¹çœ‹ä¸åŒä¹‹å¤„ï¼šâ€¢ triggerHandlerä¸ä¼šè§¦å‘æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºï¼Œ.triggerHandler( â€œsubmitâ€ )å°†ä¸ä¼šè°ƒç”¨è¡¨å•ä¸Šçš„.submit()â€¢ .trigger() ä¼šå½±å“æ‰€æœ‰ä¸Ž jQuery å¯¹è±¡ç›¸åŒ¹é…çš„å…ƒç´ ï¼Œè€Œ .triggerHandler() ä»…å½±å“ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„å…ƒç´ â€¢ ä½¿ç”¨ .triggerHandler() è§¦å‘çš„äº‹ä»¶ï¼Œå¹¶ä¸ä¼šåœ¨ DOM æ ‘ä¸­å‘ä¸Šå†’æ³¡ã€‚ å¦‚æžœå®ƒä»¬ä¸æ˜¯ç”±ç›®æ ‡å…ƒç´ ç›´æŽ¥è§¦å‘çš„ï¼Œé‚£ä¹ˆå®ƒå°±ä¸ä¼šè¿›è¡Œä»»ä½•å¤„ç†â€¢ ä¸Žæ™®é€šçš„æ–¹æ³•è¿”å›ž jQuery å¯¹è±¡(è¿™æ ·å°±èƒ½å¤Ÿä½¿ç”¨é“¾å¼ç”¨æ³•)ç›¸åï¼Œ.triggerHandler() è¿”å›žæœ€åŽä¸€ä¸ªå¤„ç†çš„äº‹ä»¶çš„è¿”å›žå€¼ã€‚å¦‚æžœæ²¡æœ‰è§¦å‘ä»»ä½•äº‹ä»¶ï¼Œä¼šè¿”å›ž undefined]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[http]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2Fhttp%2F</url>
    <content type="text"><![CDATA[httpå…¨è¿‡ç¨‹è¾“å…¥åŸŸå(url)â€“&gt;DNSæ˜ å°„ä¸ºIPâ€“&gt;TCPä¸‰æ¬¡æ¡æ‰‹â€“&gt;HTTPè¯·æ±‚â€“&gt;HTTPå“åº”â€“&gt;(æµè§ˆå™¨è·Ÿè¸ªé‡å®šå‘åœ°å€)â€“&gt;æœåŠ¡å™¨å¤„ç†è¯·æ±‚â€“&gt;æœåŠ¡å™¨è¿”å›žä¸€ä¸ªhtmlå“åº”â€“&gt;(è§†æƒ…å†µå†³å®šé‡Šæ”¾TCPè¿žæŽ¥)â€“&gt;å®¢æˆ·ç«¯è§£æžHTMLâ€“&gt;èŽ·å–åµŒå…¥åœ¨HTMLä¸­çš„å¯¹è±¡é‡æ–°å‘èµ·httpè¯·æ±‚ è¾“å…¥åŸŸå(url)åœ¨åŸŸåè¿™é‡Œæœ‰å¾ˆå¤šå¯ä»¥èŠçš„ï¼šåŸŸåçº§æ•°åˆ¤åˆ«åŸŸåæœåŠ¡å™¨åŠåŸŸåè¿™é‡Œæœ‰è¯¦ç»†è§£é‡Šï¼Œå³â€œè®¡ç®—æœºç½‘ç»œæŠ€æœ¯â€çš„ç¬¬ä¹ç« Domain Name Systemä¸€ä¸ªç‚¹åˆ†éš”ä¸€çº§ï¼ˆåŸŸåç”±åˆ†é‡ç»„æˆï¼Œä¸€çº§ä¸ºä¸€ä¸ªåˆ†é‡ï¼‰ï¼Œé€šä¿—æ˜“æ‡‚å¦‚ä¸‹ï¼š 1234...ä¸‰çº§åŸŸå.äºŒçº§åŸŸå.é¡¶çº§åŸŸåWWW.baidu.com comä¸ºé¡¶çº§åŸŸå(é€šå¸¸ä¾æ®ç»„ç»‡å’Œåœ°ç†åˆ†ä¸ºä¸¤ç±»)ï¼Œbaiduä¸ºäºŒçº§åŸŸåï¼ŒWWWç½‘ç«™www.pic.baidu.com picä¸ºä¸‰çº§åŸŸåæ‰€è°“é™åŸŸï¼Œå¦‚pic.baidu.com/a.txt baidu.com/b.txtä¸­aå’Œbåœ¨ä¸åŒçš„åŸŸä¸‹é¢ï¼Œéƒ½é™åŸŸä¸ºbaidu.com..å¦‚ä¸‹è¯¦ç»†è§£é‡Š åŒæºç­–ç•¥åŒæºéœ€æ»¡è¶³çš„æ¡ä»¶ï¼š åè®®ç›¸åŒ åŸŸåç›¸åŒ:a.b.c.com a.b.d.comåŸŸåç›¸åŒå— ç«¯å£ç›¸åŒ éžåŒæºå—é™åˆ¶çš„è¡Œä¸ºï¼š cookie localStorage indexDBæ— æ³•èŽ·å– DOMæ— æ³•èŽ·å¾— ajaxè¯·æ±‚ä¸èƒ½å‘é€è·¨åŸŸæ–¹æ³•ï¼š åŒå‘è·¨åŸŸ1.é™åŸŸ(äºŒçº§å’Œä»¥ä¸Šæœ‰å…±åŒéƒ¨åˆ†) 1234æ‰€è°“é™åŸŸå°±æ˜¯å¯»æ‰¾åˆ°æœ€åŽé¢çš„åŸŸåç›¸åŒçš„éƒ¨åˆ†ç•™ä¸‹a.b.c.comd.b.c.comé™åŸŸåŽç»Ÿç»Ÿæ”¹ä¸ºb.c.comæˆ–è€…c.com å­˜åœ¨çš„é—®é¢˜ï¼š å®‰å…¨æ€§ï¼Œå½“ä¸€ä¸ªç«™ç‚¹è¢«æ”»å‡»ï¼Œç›¸åŒåŸŸåçš„ç«™ç‚¹ä¹Ÿä¼šè¢«æ”»å‡» é‡å¤æ€§ï¼Œæ‰€æœ‰éœ€è¦è·¨åŸŸçš„éƒ½è¦ä¿®æ”¹document.domain=â€â€ ajaxä¸å—é™åŸŸå½±å“ï¼Œè¿˜æ˜¯éœ€è¦iframeåœ¨ä¸€ä¸ªé¡µé¢å¼•å…¥å¦ä¸€é¡µé¢çš„å½¢å¼ ä¸å¯æ›´æ”¹æ€§ï¼Œä¸€æ—¦é™åŸŸå°±æ— æ³•å›žåŽ» 2.location.hash(FIMâ€”fragment itentitier messaging) 1234aå‘bä¼ é€æ•°æ® baidu.com/a.htmlä¸­çš„iframeçš„src=&quot;google.com/b.html#paco&quot;,b.htmlç›‘å¬åˆ° urlå‘ç”Ÿå˜åŒ–è§¦å‘ç›¸åº”æ“ä½œbå‘aä¼ é€æ•°æ® google.com/b.htmlä¸­éšè—ä¸€ä¸ªiframe,è®¾ç½®src=&quot;baidu.com/proxy.html#data&quot; dataä¸ºè¦ä¼ è¾“çš„æ•°æ®,proxy.htmlæ˜¯å’Œa.htmlåŒåŸŸåä¸‹çš„ï¼Œæ˜¯a bä¹‹é—´çš„ä»£ç†ï¼Œè´Ÿè´£ç›‘å¬utlå˜åŒ–å°±ä¿®æ”¹açš„urlï¼Œaç›‘å¬åˆ°urlå˜åŒ–äº†å°±åšå‡ºç›¸åº”æ“ä½œ b.html: 123456789try &#123; parent.location.hash = &apos;data&apos;; &#125; catch (e) &#123; // ieã€chromeçš„å®‰å…¨æœºåˆ¶æ— æ³•ä¿®æ”¹parent.location.hashï¼Œ var ifrproxy = document.createElement(&apos;iframe&apos;); ifrproxy.style.display = &apos;none&apos;; ifrproxy.src = &quot;http://www.baidu.com/proxy.html#data&quot;; document.body.appendChild(ifrproxy); &#125; proxy.html: 123//å› ä¸ºparent.parentï¼ˆå³baidu.com/a.htmlï¼‰å’Œbaidu.com/proxy.htmlå±žäºŽåŒä¸€ä¸ªåŸŸï¼Œæ‰€ä»¥å¯ä»¥æ”¹å˜å…¶location.hashçš„å€¼ parent.parent.location.hash = self.location.hash.substring(1); é—®é¢˜ï¼šæ•°æ®æš´éœ²åœ¨URLä¸­ï¼Œæ•°æ®å¤§å°æ ¼å¼å—é™ 3.HTML5çš„postMessageæ–¹æ³• 1aå‘bå‘é€æ•°æ® baidu.com/a.html 12345window.onload = function() &#123; var ifr = document.getElementById(&apos;ifr&apos;); var targetOrigin = &quot;http://www.google.com&quot;; ifr.contentWindow.postMessage(&apos;hello world!&apos;, targetOrigin); &#125;; google.com/b.html 123456789101112131415var onmessage = function (event) &#123; var data = event.data;//æ¶ˆæ¯ var origin = event.origin;//æ¶ˆæ¯æ¥æºåœ°å€ var source = event.source;//æºWindowå¯¹è±¡ if(origin==&quot;http://www.baidu.com&quot;)&#123; console.log(data);//hello world! &#125; &#125;; if (typeof window.addEventListener != &apos;undefined&apos;) &#123; window.addEventListener(&apos;message&apos;, onmessage, false); &#125; else if (typeof window.attachEvent != &apos;undefined&apos;) &#123; //for ie window.attachEvent(&apos;onmessage&apos;, onmessage); &#125; åŒç†å¯ä»¥bå‘a postMessage å•å‘è·¨åŸŸ 1.jsonp 1234567891011å…ˆçœ‹ä¸¤ç§ç”¨æ³•&lt;script&gt; function foo(data)&#123; console.log(data); &#125;&lt;/script&gt;&lt;script type=&quot;http://www.google.com/getUsers.js?callback=foo&quot;&gt;&lt;/script&gt;å›žè°ƒå‡½æ•°&lt;script src=&quot;http://www.google.com/getUsers.php?flag=do&amp;time=1&quot;&gt;&lt;/script&gt;å‚æ•°é—®é¢˜ï¼šåªæ”¯æŒgetè¯·æ±‚ 2.æœåŠ¡å™¨ä»£ç† 12æœåŠ¡å™¨æ²¡æœ‰åŒæºç­–ç•¥ï¼Œåœ¨æ•°æ®æä¾›æ–¹æ²¡æœ‰jsonp,window.nameåè®®çš„æ”¯æŒä¸‹ï¼Œä½¿ç”¨æœåŠ¡å™¨ä»£ç†ã€‚åœ¨baidu.comä¸‹é…ç½®ä¸€ä¸ªä»£ç†proxyå³baidu.com/proxy/å°†ajaxç»‘å®šåˆ°ä»£ç†ä¸‹å‘é€httpè¯·æ±‚ï¼Œæ­¤æ—¶httpè¯·æ±‚æ˜¯åœ¨æœåŠ¡ç«¯è¿›è¡Œçš„ï¼Œæ— åŒæºé™åˆ¶ 3.CORS 12345678910var url = &apos;http://api.alice.com/cors&apos;; var xhr = createCORSRequest(&apos;GET&apos;, url); xhr.send();//éžç®€å•è¯·æ±‚var url = &apos;http://api.alice.com/cors&apos;; var xhr = createCORSRequest(&apos;PUT&apos;, url); xhr.setRequestHeader( &apos;X-Custom-Header&apos;, &apos;value&apos;);xhr.send(); å¦å¤–ï¼šå¯¹äºŽCORSçš„æ”¯æŒéœ€è¦æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„åè°ƒ 4.window.name 5.webSocket 1éœ€è¦æœåŠ¡å™¨çš„æ”¯æŒï¼Œæºåœ¨ç™½åå• 6.Access-Controll-Allow-Origin httpå’Œhttpsåè®®æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œé‡ç‚¹è§£é‡Šhttps 1http+åŠ å¯†+è®¤è¯+å®Œæ•´æ€§ä¿æŠ¤=https http:åº”ç”¨å±‚çš„æ— çŠ¶æ€ï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚ç«¯å£ä¸º80 HTTPSï¼šåªæ˜¯httpé€šä¿¡æŽ¥å£éƒ¨åˆ†ç”¨SSLå’ŒTLSåè®®æ›¿ä»£ã€‚httpç›´æŽ¥å’ŒTCPé€šä¿¡ï¼Œè€ŒHTTPSä½¿ç”¨SSLæ‰€ä»¥æ˜¯å…ˆå’ŒSSLé€šä¿¡ï¼Œå†ç”±SSLå’ŒTCPé€šä¿¡ã€‚ç«¯å£ä¸º443 cookie sessionStorage localStorageæœ‰ä»€ä¹ˆä¸åŒ cookieå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¯ä»¥å‘é€ç»™æœåŠ¡å™¨ï¼Œæ•°æ®å¤§å°é™åˆ¶ä¸º4K sessionStorage,localStorageå­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸å¯ä»¥å‘é€ç»™æœåŠ¡å™¨ï¼Œæ•°æ®å¤§å°ä¸º5M localStorageåªèƒ½æ‰‹åŠ¨æ¸…é™¤æ•°æ® sessionStorageå…³é—­ä¼šè¯çª—ï¼Œæ•°æ®å°±è¢«æ¸…é™¤äº† HTML5æœ¬åœ°å­˜å‚¨åˆ†ä¸º webStorage(localStorage,sessionStorage) indexDB DNSè§£æžåŸŸåä¸ºIP æµè§ˆå™¨ç¼“å­˜ä¸­æ‰¾ ç³»ç»Ÿç¼“å­˜ä¸­æ‰¾ è·¯ç”±å™¨ç¼“å­˜ä¸­æ‰¾ ISP DNSç¼“å­˜ä¸­æ‰¾ TCPä¸‰æ¬¡æ¡æ‰‹ clientâ€”â€“&gt;server:SYN(å‘èµ·ä¸€ä¸ªTCPè¿žæŽ¥ï¼ŒåŒæ­¥æŠ¥æ–‡) serverâ€”â€“&gt;client:SYN+ACK(åº”ç­”æŠ¥æ–‡ï¼Œè¡¨ç¤ºå·²åˆ›å»ºè¿žæŽ¥) clientâ€”â€“&gt;server:ACK(åº”ç­”æŠ¥æ–‡ï¼Œè¡¨ç¤ºæ”¶åˆ°å·²è¿žæŽ¥) 123456789å››æ¬¡æŒ¥æ‰‹ï¼š ç”±å®¢æˆ·ç«¯å‘èµ·çš„å…³é—­è¿žæŽ¥ * client-----&gt;server:FIN(è¯·æ±‚å…³é—­è¿žæŽ¥) * server-----&gt;client:ACK(æ”¶åˆ°äº†è¿žæŽ¥ï¼Œä½†ä¸ä¼šç«‹å³å…³é—­ï¼Œç­‰åˆ°æŠ¥æ–‡éƒ½å‘é€å®Œå†å›žå¤ä¸€ä¸ªFIN) * server-----&gt;client:FIN * client-----&gt;server:ACK(æ”¶åˆ°å…³é—­) ç”±æœåŠ¡ç«¯å‘èµ·çš„å…³é—­è¿žæŽ¥ * å½“httpè®¾ç½®äº†keepaliveå®šæ—¶å…³é—­ï¼ŒæœåŠ¡ç«¯ä¼šåœ¨ç»“æŸæ•°æ®ä¼ é€åŽå…³é—­TCPè¿žæŽ¥ httpè¯·æ±‚ è¯·æ±‚è¡Œ è¯·æ±‚å¤´ ç©ºè¡Œ è¯·æ±‚åŒ…ä½“(åªæœ‰POSTè¯·æ±‚æœ‰åŒ…ä½“) get/poståŒºåˆ« è¯·æ±‚å‚æ•°ï¼šgetå‚æ•°é™„åœ¨URLåŽé¢?éš”å¼€ï¼ŒPOSTå‚æ•°æ”¾åœ¨åŒ…ä½“ä¸­ å¤§å°é™åˆ¶ï¼šGETé™åˆ¶ä¸º2048å­—ç¬¦ï¼Œpostæ— é™åˆ¶ å®‰å…¨é—®é¢˜ï¼šGETå‚æ•°æš´éœ²åœ¨URLä¸­ï¼Œä¸å¦‚POSTå®‰å…¨ æµè§ˆå™¨åŽ†å²è®°å½•ï¼šGETå¯ä»¥è®°å½•ï¼ŒPOSTæ— è®°å½• ç¼“å­˜ï¼šGETå¯è¢«ç¼“å­˜ï¼Œpostæ—  ä¹¦ç­¾ï¼šGETå¯è¢«æ”¶è—ä¸ºä¹¦ç­¾ï¼Œpostä¸å¯ æ•°æ®ç±»åž‹ï¼šGETåªèƒ½ASCIIç ï¼Œpostæ— é™åˆ¶ httpå“åº” çŠ¶æ€è¡Œ å“åº”å¤´ å“åº”åŒ…ä½“ httpçŠ¶æ€ç 1XXï¼šè¡¨ç¤ºå¯ç»­å‘è¯·æ±‚2XXï¼šè¡¨ç¤ºæˆåŠŸ 123* 202æˆåŠŸ* 204æˆåŠŸ ä¸è¿”å›žå®žä½“ä¸»ä½“* 206æˆåŠŸ æ‰§è¡Œäº†ä¸€ä¸ªèŒƒå›´è¯·æ±‚ 3XXï¼šè¡¨ç¤ºé‡å®šå‘ 12345* 301æ°¸ä¹…é‡å®šå‘ï¼Œå¢žåŠ SEOæŽ’å* 302ä¸´æ—¶é‡å®šå‘ ç¦æ­¢POSTå˜ä¸ºGET* 303å¦å¤–ä¸€ä¸ªURI* 304åˆ¤æ–­æ˜¯å¦è¦æ›´æ–°ç¼“å­˜ è¯·æ±‚å¤´éƒ¨æºå¸¦if-modified-sinceè‡ªä»Žä¸Šæ¬¡æ›´æ–°è·è¿™æ¬¡å¤šä¹…* 307ä¸´æ—¶é‡å®šå‘ 4XXï¼šè¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯ 1234* 400å®¢æˆ·ç«¯è¯­æ³•é”™è¯¯* 401è¯·æ±‚æœªç»æŽˆæƒ* 403æœåŠ¡å™¨æ‹’ç»æœåŠ¡* 404è¯·æ±‚èµ„æºä¸å­˜åœ¨ 5XXï¼šæœåŠ¡ç«¯é”™è¯¯ 12* 500ä¸å¯é¢„æœŸçš„é”™è¯¯* 503æ­¤æ—¶ä¸èƒ½æä¾›æœåŠ¡ ç¨åŽæ¢å¤æ­£å¸¸ é‡Šæ”¾TCPè¿žæŽ¥ headerä¸­çš„connecton:close 1æœåŠ¡å™¨ä¸»åŠ¨å…³é—­TCPè¿žæŽ¥ï¼Œå®¢æˆ·ç«¯è¢«åŠ¨å…³é—­è¿žæŽ¥ headerä¸­çš„connecton:keepalive 1è¿žæŽ¥ä¿æŒä¸€æ®µæ—¶é—´ï¼Œå¯ä»¥è¿žç»­å‘é€httpè¯·æ±‚ å®¢æˆ·ç«¯è§£æžHTMLonload readyåŒºåˆ«ï¼š readyè¡¨ç¤ºæ–‡æ¡£åŠ è½½å®Œæ¯•ï¼Œä¸åŒ…æ‹¬å›¾ç‰‡ onloadè¡¨ç¤ºéƒ½åŠ è½½å®Œæ¯•]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§å‘½å]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E5%B8%B8%E8%A7%81%E5%91%BD%E5%90%8D%2F</url>
    <content type="text"><![CDATA[å¸¸è§å‘½å1 .wrapæˆ–.wrapper â€“ ç”¨äºŽå¤–ä¾§åŒ…è£¹ .containeræˆ– .ct â€“ åŒ…è£¹å®¹å™¨ .header â€“ ç”¨äºŽå¤´éƒ¨ .body â€“ é¡µé¢ body .footer â€“ é¡µé¢å°¾éƒ¨ asideã€sidebar â€“ ç”¨äºŽä¾§è¾¹æ  .content â€“ å’Œheader footer å¯¹åº”ï¼Œç”¨äºŽä¸»è¦å†…å®¹ .navigation â€“ å¯¼èˆªå…ƒç´  .pagination â€“ åˆ†é¡µ å¸¸è§å‘½å2 .tabs &gt; .tab â€“ tab åˆ‡æ¢ .breadcrumbs â€“ å¯¼èˆªåˆ—è¡¨ã€é¢åŒ…å±‘ .dropdown â€“ ä¸‹æ‹‰èœå• .article â€“ æ–‡ç«  .main â€“ ç”¨äºŽä¸»ä½“ .thumbnail â€“ å¤´åƒï¼Œå°å›¾åƒ .media â€“ åª’ä½“èµ„æº .panel â€“ é¢æ¿ .tooltip â€“ é¼ æ ‡æ”¾ç½®ä¸ŠåŽ»çš„æç¤º .popup â€“ é¼ æ ‡ç‚¹å‡»å¼¹å‡ºçš„æç¤º å¸¸è§å‘½å3 .buttonã€.btn â€“ æŒ‰é’® .ad â€“ å¹¿å‘Š .subnav â€“ äºŒçº§å¯¼èˆª .menu â€“ èœå• .tag â€“ æ ‡ç­¾ .messageæˆ–è€….notice â€“ æç¤ºæ¶ˆæ¯ .summary â€“ æ‘˜è¦ .logo â€“ logo .search â€“ æœç´¢æ¡† .login â€“ ç™»å½• å¸¸è§å‘½å4 .register â€“ æ³¨å†Œ .username â€“ ç”¨æˆ·å .password â€“ å¯†ç  .banner â€“ å¹¿å‘Šæ¡ .copyright â€“ ç‰ˆæƒ .modalæˆ–è€… .dialog â€“ å¼¹çª— è½®æ’­å‘½å carousel â€“è½®æ’­ pre-arrow â€“åŽé€€ç®­å¤´ next -arrow â€“ å‰è¿›ç®­å¤´ bullet â€“å¼¹å‡ºå¯¼èˆªæ¡ å¸¸è§å‘½å61234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980var åå­— = &#123; çŠ¶æ€: [ 'inverse', 'toggled', 'switched', 'original', 'initial', 'identified', 'disabled', 'loading', 'pending', 'syncing', 'default' ], ä¿®é¥°: [ 'dark', 'light', 'shaded', 'flat', 'ghost', 'maroon', 'pale', 'intense', 'twisted', 'narrow', 'wide', 'smooth', 'separate', 'clean', 'sharp', 'aligned' ], å…ƒç´ : [ 'pagination', 'modal', 'popup', 'article', 'story', 'flash', 'status', 'state', 'media', 'block', 'card', 'teaser', 'badge', 'label', 'sheet', 'poster', 'notice', 'record', 'entry', 'item', 'figure', 'square', 'module', 'bar', 'button', 'action', 'knob' ], å¸ƒå±€: [ 'navigation', 'wrapper', 'inner', 'header', 'footer', 'aside', 'section', 'divider', 'content', 'container', 'panel', 'pane', 'construct', 'composition', 'spacing', 'frame' ]&#125;]]></content>
      <categories>
        <category>HTML</category>
        <category>CSS</category>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>HTML</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»€ä¹ˆæ˜¯BOM]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2F%E4%BB%80%E4%B9%88%E6%98%AFBOM%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯BOMBOM:Browser Object Model æµè§ˆå™¨å¯¹è±¡æ¨¡åž‹BOMæ˜¯JavaScriptç»„æˆä¹‹ä¸€ï¼Œå®ƒæ˜¯æµè§ˆå™¨çª—å£çš„APIï¼›BOMçš„æ ¸å¿ƒå¯¹è±¡æ˜¯windowï¼Œæ‰€ä»¥BOMæ˜¯å…¨å±€å¯¹è±¡ï¼Œwindowæ˜¯æµè§ˆå™¨æä¾›ç»™JSçš„APIã€‚ BOMçš„å¸¸ç”¨APIwindow.name = xxx ä¼šå°†å½“å‰ç½‘é¡µçš„åå­—å£°æ˜Žä¸ºâ€˜xxxâ€™å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨JSä¸­ä¸è¦å£°æ˜Žnameï¼Œå› ä¸ºvar name = trueç­‰åŒäºŽwindow.name = trueé‚£ä¹ˆname === &#39;true&#39;;typeof name === &#39;string&#39;ä¸èƒ½å…¨å±€å˜é‡çš„å­—ç¬¦ä¸²æœ‰å“ªäº›å¯ä»¥åœ¨æŽ§åˆ¶å°è¾“å…¥windowå›žè½¦æŸ¥çœ‹ã€‚ window.openè¯­å¥ï¼š let windowObjectReference = window.open(strUrl, strWindowName, [strWindowFeatures]); ç¤ºä¾‹ï¼šwindow.open(&#39;http://www.baidu.com&#39;,&#39;_blank&#39;,&#39;left=100,top=100,width=100,height=100&#39;//æ‰“å¼€ç½‘é¡µwindow.close() //å…³é—­ç½‘é¡µwindow.opener.close() //è¢«æ‰“å¼€çš„ç½‘é¡µå…³é—­window.history.back() || window.history.forward() || window.history.go(-1||2) //åŽé€€ å‰è¿› è·³è½¬window.location.reload(false/true) //é‡æ–°åŠ è½½å½“å‰é¡µé¢window.location = â€˜xxxâ€™ === window.location.href = â€˜xxxâ€™//ä¼šåœ¨å½“å‰è·¯å¾„ä¸‹çš„â€™xxxâ€™è·¯å¾„window.location.protocol //èŽ·å–ç½‘é¡µåè®®window.location.host //èŽ·å–åŸŸåwindow.location.port //èŽ·å–ç«¯å£window.location.pathname //èŽ·å–è·¯å¾„window.location.search //èŽ·å–æŸ¥è¯¢å­—ç¬¦ä¸²window.location.hash //èŽ·å–é”šç‚¹window.navigator.(language è¯­è¨€||userAgent å½“å‰æ˜¯ä»€ä¹ˆæµè§ˆå™¨) //èŽ·å–æµè§ˆå™¨çš„ç›¸å…³ä¿¡æ¯window.pageX/YOffset //ç½‘é¡µæ»šåŠ¨ä½ç½®window.confirm(â€˜xxxâ€™) //å¼¹å‡ºç¡®è®¤å’Œå–æ¶ˆwindow.scrollTo(500,500) //ç½‘é¡µæ»šåŠ¨åˆ°ï¼ˆ500ï¼Œ50ï¼‰window.outerWidth/outerHeight //èŽ·å–å®Œæ•´çª—å£å¤§å°innerWidth/innerHeight //èŽ·å–æ–‡æ¡£æ˜¾ç¤ºåŒºå¤§å°resizeTo(width,height) //æ–°çª—å£å¤§å°location.replace(â€œurlâ€) //å½“å‰é¡µé¢æ‰“å¼€ä¸å¯åŽé€€clearInterval(timer);time=null //å®šæ—¶å™¨ä¸€æ¬¡æ€§cleartimeout(timer);time=null //å®šæ—¶å™¨å‘¨æœŸæ€§clearInterval(timer); timer=null //åœæ­¢å®šæ—¶å™¨å‘¨æœŸæ€§clearTimeout(timer); timer=null //åœæ­¢å®šæ—¶å™¨ä¸€æ¬¡æ€§btn.addEventListener(â€œäº‹ä»¶åâ€ï¼Œå‡½æ•°å¯¹è±¡) //æ·»åŠ äº‹ä»¶ç›‘å¬btn.remove //åˆ é™¤äº‹ä»¶ç›‘å¬EventListener(â€œäº‹ä»¶åâ€ï¼Œå‡½æ•°å¯¹è±¡) e.stopPropagation() //é˜»æ­¢å†’æ³¡e.preventDefault //å–æ¶ˆäº‹ä»¶ï¼ˆé˜»æ­¢é»˜è®¤è¡Œä¸ºï¼‰ BOMæ¦‚è¿°BOMæ˜¯browser object modelçš„ç¼©å†™ï¼Œç®€ç§°æµè§ˆå™¨å¯¹è±¡æ¨¡åž‹ BOMæä¾›äº†ç‹¬ç«‹äºŽå†…å®¹è€Œä¸Žæµè§ˆå™¨çª—å£è¿›è¡Œäº¤äº’çš„å¯¹è±¡ï¼Œä¸»è¦å¤„ç†æµè§ˆå™¨çª—å£å’Œæ¡†æž¶ï¼Œä¸è¿‡é€šå¸¸æµè§ˆå™¨ç‰¹å®šçš„ JavaScript æ‰©å±•éƒ½è¢«çœ‹åš BOM çš„ä¸€éƒ¨åˆ†ã€‚è¿™äº›æ‰©å±•åŒ…æ‹¬ï¼š 1.å¼¹å‡ºæ–°çš„æµè§ˆå™¨çª—å£ 2.ç§»åŠ¨ã€å…³é—­æµè§ˆå™¨çª—å£ä»¥åŠè°ƒæ•´çª—å£å¤§å° 3.æä¾› Web æµè§ˆå™¨è¯¦ç»†ä¿¡æ¯çš„å®šä½å¯¹è±¡ 4.æä¾›ç”¨æˆ·å±å¹•åˆ†è¾¨çŽ‡è¯¦ç»†ä¿¡æ¯çš„å±å¹•å¯¹è±¡ 5.å¯¹ cookie çš„æ”¯æŒ 6.IE æ‰©å±•äº†BOMï¼ŒåŠ å…¥äº†ActiveXObject ç±»ï¼Œå¯ä»¥é€šè¿‡ JavaScript å®žä¾‹åŒ– ActiveX å¯¹è±¡ ç”±äºŽBOMä¸»è¦ç”¨äºŽç®¡ç†çª—å£ä¸Žçª—å£ä¹‹é—´çš„é€šè®¯ï¼Œå› æ­¤å…¶æ ¸å¿ƒå¯¹è±¡æ˜¯window BOMç”±ä¸€ç³»åˆ—ç›¸å…³çš„å¯¹è±¡æž„æˆï¼Œå¹¶ä¸”æ¯ä¸ªå¯¹è±¡éƒ½æä¾›äº†å¾ˆå¤šæ–¹æ³•ä¸Žå±žæ€§ BOMç¼ºä¹æ ‡å‡†, æ˜¯å„ä¸ªæµè§ˆå™¨åŽ‚å•†æ ¹æ®DOMåœ¨å„è‡ªæµè§ˆå™¨ä¸Šçš„å®žçŽ°ï¼ˆè¡¨çŽ°ä¸ºä¸åŒæµè§ˆå™¨å®šä¹‰æœ‰å·®åˆ«,å®žçŽ°æ–¹å¼ä¸åŒï¼‰ï¼›JavaScriptè¯­æ³•çš„æ ‡å‡†åŒ–ç»„ç»‡æ˜¯ECMAï¼ŒDOMçš„æ ‡å‡†åŒ–ç»„ç»‡æ˜¯W3C BOMæœ€åˆæ˜¯Netscapeæµè§ˆå™¨æ ‡å‡†çš„ä¸€éƒ¨åˆ† windowå¯¹è±¡æ˜¯BOMçš„é¡¶å±‚(æ ¸å¿ƒ)å¯¹è±¡ï¼Œä¸æ˜¯JSå¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯é€šè¿‡å®ƒå»¶ä¼¸å‡ºæ¥çš„ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºwindowçš„å­å¯¹è±¡ã€‚JavaScriptæ˜¯é€šè¿‡è®¿é—®BOMï¼ˆBrowser Object Modelï¼‰å¯¹è±¡æ¥è®¿é—®ã€æŽ§åˆ¶ã€ä¿®æ”¹å®¢æˆ·ç«¯(æµè§ˆå™¨)ï¼Œç”±äºŽBOMçš„windowåŒ…å«äº†documentï¼Œwindowå¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•æ˜¯ç›´æŽ¥å¯ä»¥ä½¿ç”¨è€Œä¸”è¢«æ„ŸçŸ¥çš„ï¼Œå› æ­¤å¯ä»¥ç›´æŽ¥ä½¿ç”¨windowå¯¹è±¡çš„documentå±žæ€§ï¼Œé€šè¿‡documentå±žæ€§å°±å¯ä»¥è®¿é—®ã€æ£€ç´¢ã€ä¿®æ”¹XHTMLæ–‡æ¡£å†…å®¹ä¸Žç»“æž„ã€‚å› ä¸ºdocumentå¯¹è±¡åˆæ˜¯DOMï¼ˆDocument Object Modelï¼‰æ¨¡åž‹çš„æ ¹èŠ‚ç‚¹ã€‚å¯ä»¥è¯´ï¼ŒBOMåŒ…å«äº†DOM(æ–‡æ¡£å¯¹è±¡æ¨¡åž‹)ï¼Œæµè§ˆå™¨æä¾›å‡ºæ¥ç»™äºˆè®¿é—®çš„æ˜¯BOMå¯¹è±¡ï¼Œä»ŽBOMå¯¹è±¡å†è®¿é—®åˆ°DOMå¯¹è±¡ï¼Œä»Žè€Œjså¯ä»¥æ“ä½œæµè§ˆå™¨ä»¥åŠæµè§ˆå™¨è¯»å–åˆ°çš„æ–‡æ¡£ã€‚ BOMçš„ç»„æˆä¸€ã€windowå¯¹è±¡windowå¯¹è±¡æ˜¯BOMçš„æ ¸å¿ƒã€‚å®ƒå…·æœ‰åŒé‡è§’è‰²ï¼Œæ—¢æ˜¯é€šè¿‡jsè®¿é—®æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæŽ¥å£ï¼Œåˆæ˜¯ä¸€ä¸ªGlobalï¼ˆå…¨å±€ï¼‰å¯¹è±¡ã€‚è¿™æ„å‘³ç€åœ¨ç½‘é¡µä¸­å®šä¹‰çš„ä»»ä½•å¯¹è±¡ï¼Œå˜é‡å’Œå‡½æ•°ï¼Œéƒ½ä»¥windowä½œä¸ºå…¶globalå¯¹è±¡ã€‚ å…¨å±€çš„windowå¯¹è±¡ JavaScriptä¸­çš„ä»»ä½•ä¸€ä¸ªå…¨å±€å‡½æ•°æˆ–å˜é‡éƒ½æ˜¯windowçš„å±žæ€§ windowä¸Žselfå¯¹è±¡ selfå¯¹è±¡ä¸Žwindowå¯¹è±¡å®Œå…¨ç›¸åŒï¼Œselfé€šå¸¸ç”¨äºŽç¡®è®¤å°±æ˜¯åœ¨å½“å‰çš„çª—ä½“å†… windowçš„å­å¯¹è±¡ 1.document å¯¹è±¡ 2.frames å¯¹è±¡ 3.history å¯¹è±¡ 4.location å¯¹è±¡ 5.navigator å¯¹è±¡ 6.screen å¯¹è±¡ windowå¯¹è±¡çš„å‡½æ•°å’Œå±žæ€§ç´¢å¼• çª—ä½“æŽ§åˆ¶moveBy() å‡½æ•°å¯ç›¸å¯¹çª—å£çš„å½“å‰åæ ‡æŠŠå®ƒç§»åŠ¨æŒ‡å®šçš„åƒç´  moveTo() å‡½æ•°å¯æŠŠçª—å£çš„å·¦ä¸Šè§’ç§»åŠ¨åˆ°ä¸€ä¸ªæŒ‡å®šçš„åæ ‡ resizeBy() å‡½æ•°ç”¨äºŽæ ¹æ®æŒ‡å®šçš„åƒç´ æ¥è°ƒæ•´çª—å£çš„å¤§å° resizeTo() å‡½æ•°ç”¨äºŽæŠŠçª—å£å¤§å°è°ƒæ•´ä¸ºæŒ‡å®šçš„å®½åº¦å’Œé«˜åº¦ screenLeft å’Œ screenTopå±žæ€§è¿”å›žçª—å£ç›¸å¯¹äºŽå±å¹•çš„Xå’ŒYåæ ‡ screenX å’Œ screenY å±žæ€§è¿”å›žçª—å£ç›¸å¯¹äºŽå±å¹•çš„Xå’ŒYåæ ‡ pageXOffset å’Œ pageYOffset å±žæ€§è®¾ç½®æˆ–è¿”å›žå½“å‰é¡µé¢ç›¸å¯¹äºŽçª—å£æ˜¾ç¤ºåŒºå·¦ä¸Šè§’çš„ X ä½ç½®ã€‚pageYOffset è®¾ç½®æˆ–è¿”å›žå½“å‰é¡µé¢ç›¸å¯¹äºŽçª—å£æ˜¾ç¤ºåŒºå·¦ä¸Šè§’çš„ Y ä½ç½® outerWidth å’Œ outerHeight å±žæ€§è®¾ç½®æˆ–è¿”å›žä¸€ä¸ªçª—å£çš„å¤–éƒ¨å®½åº¦(é«˜åº¦)ï¼ŒåŒ…æ‹¬æ‰€æœ‰ç•Œé¢å…ƒç´ ï¼ˆå¦‚å·¥å…·æ /æ»šåŠ¨æ¡ï¼‰ çª—ä½“æ»šåŠ¨è½´æŽ§åˆ¶scrollBy() å‡½æ•°å¯æŠŠå†…å®¹æ»šåŠ¨æŒ‡å®šçš„åƒç´ æ•° scrollTo() å‡½æ•°å¯æŠŠå†…å®¹æ»šåŠ¨åˆ°æŒ‡å®šçš„åæ ‡ æç¤ºï¼šä¸Šé¢å‡ ä¸ªå‡½æ•°çš„åå­—æœ€åŽéƒ½å¸¦æœ‰Toæˆ–Byï¼Œtoæ˜¯ç»å¯¹çš„æ„æ€(ä»Žæ•´ä½“è€Œè¨€)ï¼Œbyæ˜¯ç›¸å¯¹çš„æ„æ€(ä»ŽåŽŸå…ˆçš„ä½ç½®è€Œè¨€) çª—ä½“ç„¦ç‚¹æŽ§åˆ¶focus() å‡½æ•°å¯æŠŠé”®ç›˜ç„¦ç‚¹ç»™äºˆä¸€ä¸ªçª—å£ blur() å‡½æ•°å¯æŠŠé”®ç›˜ç„¦ç‚¹ä»Žé¡¶å±‚çª—å£ç§»å¼€ æ–°å»ºçª—ä½“open() å‡½æ•°ç”¨äºŽæ‰“å¼€ä¸€ä¸ªæ–°çš„æµè§ˆå™¨çª—å£æˆ–æŸ¥æ‰¾ä¸€ä¸ªå·²å‘½åçš„çª—å£ close() å‡½æ•°ç”¨äºŽå…³é—­æµè§ˆå™¨çª—å£ createPopup() å‡½æ•°ç”¨æ¥åˆ›å»ºä¸€ä¸ªå¼¹å‡ºçª—å£ opener å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å±žæ€§ï¼Œå¯è¿”å›žå¯¹åˆ›å»ºè¯¥çª—å£çš„ Window å¯¹è±¡çš„å¼•ç”¨ closed å±žæ€§å¯è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¯¥å€¼å£°æ˜Žäº†çª—å£æ˜¯å¦å·²ç»å…³é—­ å¯¹è¯æ¡†alert() å‡½æ•°ç”¨äºŽæ˜¾ç¤ºå¸¦æœ‰ä¸€æ¡æŒ‡å®šæ¶ˆæ¯å’Œä¸€ä¸ª ç¡®è®¤ æŒ‰é’®çš„è­¦å‘Šæ¡† confirm() å‡½æ•°ç”¨äºŽæ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰æŒ‡å®šæ¶ˆæ¯å’Œç¡®è®¤åŠå–æ¶ˆæŒ‰é’®çš„å¯¹è¯æ¡† prompt() å‡½æ•°ç”¨äºŽæ˜¾ç¤ºå¯æç¤ºç”¨æˆ·è¿›è¡Œè¾“å…¥çš„å¯¹è¯æ¡† çŠ¶æ€æ window.defaultStatus å±žæ€§å¯è®¾ç½®æˆ–è¿”å›žçª—å£çŠ¶æ€æ ä¸­çš„é»˜è®¤æ–‡æœ¬ã€‚è¯¥å±žæ€§å¯è¯»å¯å†™ window.status å±žæ€§å¯è®¾ç½®æˆ–è¿”å›žçª—å£çŠ¶æ€æ ä¸­çš„æ–‡æœ¬ print() å‡½æ•°ç”¨äºŽæ‰“å°å½“å‰çª—å£çš„å†…å®¹ æ—¶é—´ç­‰å¾…ä¸Žé—´éš”setTimeout() å‡½æ•°ç”¨äºŽåœ¨æŒ‡å®šçš„æ¯«ç§’æ•°åŽè°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ clearTimeout() å‡½æ•°å¯å–æ¶ˆç”± setTimeout() æ–¹æ³•è®¾ç½®çš„ timeout setInterval() å‡½æ•°å¯æŒ‰ç…§æŒ‡å®šçš„å‘¨æœŸï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ clearInterval() å‡½æ•°å¯å–æ¶ˆç”± setInterval() è®¾ç½®çš„ timeout äºŒã€documentå¯¹è±¡documentå¯¹è±¡ç”¨äºŽè¡¨çŽ°HTMLé¡µé¢å½“å‰çª—ä½“çš„å†…å®¹ï¼Œæ˜¯windowå¯¹è±¡çš„å±žæ€§ï¼ŒåŒ…å«äº†ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ï¼ˆè¯¥å¯¹è±¡åŒ…å«æ¯ä¸ªå•ç‹¬é¡µé¢çš„æ‰€æœ‰HTMLå…ƒç´ ï¼Œè¿™å°±æ˜¯W3Cçš„DOMå¯¹è±¡ï¼Œç”±äºŽdocumentå¯¹è±¡å†…å®¹æ¯”è¾ƒæˆ‘ï¼Œæˆ‘ä»¬å°†åœ¨åŽé¢ä¸“é—¨æ’°å†™æ–‡ç« è¿›è¡Œè®²è§£ï¼‰ã€‚ ä¸‰ã€frameså¯¹è±¡frameså¯¹è±¡ç”¨äºŽè¡¨çŽ°HTMLé¡µé¢å½“å‰çª—ä½“çš„ä¸­çš„æ¡†æž¶é›†åˆï¼Œæ˜¯windowå¯¹è±¡çš„å±žæ€§ã€‚å¦‚æžœé¡µé¢ä½¿ç”¨æ¡†æž¶ï¼Œå°†äº§ç”Ÿä¸€ä¸ªæ¡†æž¶é›†åˆframesï¼Œåœ¨é›†åˆä¸­å¯ç”¨æ•°å­—(ä»Ž0å¼€å§‹ï¼Œä»Žå·¦åˆ°å³ï¼Œé€è¡Œç´¢å¼•)æˆ–åå­—ç´¢å¼•æ¡†æž¶ã€‚ windowï¼šå½“å‰æ¡†æž¶ self å±žæ€§å¯è¿”å›žå¯¹çª—å£è‡ªèº«çš„åªè¯»å¼•ç”¨ Top å±žæ€§è¿”å›žå½“å‰çª—å£çš„æœ€é¡¶å±‚æµè§ˆå™¨çª—å£ parent å±žæ€§è¿”å›žå½“å‰çª—å£çš„çˆ¶çª—å£ å››ã€historyå¯¹è±¡historyå¯¹è±¡ç”¨äºŽçª—ä½“ä¸­çš„å¯¼èˆªï¼Œæ˜¯windowå¯¹è±¡çš„å±žæ€§ï¼Œæµè§ˆè€…é€šå¸¸å¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›ä¸ŽåŽé€€æŒ‰é’®è®¿é—®æ›¾ç»æµè§ˆè¿‡çš„é¡µé¢ã€‚JavaScriptçš„historyå¯¹è±¡è®°å½•äº†ç”¨æˆ·æ›¾ç»æµè§ˆè¿‡çš„é¡µé¢ï¼Œå¹¶å¯ä»¥å®žçŽ°æµè§ˆå™¨å‰è¿›ä¸ŽåŽé€€ç›¸ä¼¼çš„å¯¼èˆªåŠŸèƒ½ï¼›å¯ä»¥é€šè¿‡backå‡½æ•°åŽé€€ä¸€ä¸ªé¡µé¢ï¼Œforwardå‡½æ•°å‰è¿›ä¸€ä¸ªé¡µé¢ï¼Œæˆ–è€…ä½¿ç”¨goå‡½æ•°ä»»æ„åŽé€€æˆ–å‰è¿›é¡µé¢ï¼Œè¿˜å¯ä»¥é€šè¿‡lengthå±žæ€§æŸ¥çœ‹historyå¯¹è±¡ä¸­å­˜å‚¨çš„é¡µé¢æ•°ã€‚ go() å‡½æ•°å¯åŠ è½½åŽ†å²åˆ—è¡¨ä¸­çš„æŸä¸ªå…·ä½“çš„é¡µé¢ back() å‡½æ•°å¯åŠ è½½åŽ†å²åˆ—è¡¨ä¸­çš„å‰ä¸€ä¸ª URLï¼ˆå¦‚æžœå­˜åœ¨ï¼‰ forward() å‡½æ•°å¯åŠ è½½åŽ†å²åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ª URL length å±žæ€§å£°æ˜Žäº†æµè§ˆå™¨åŽ†å²åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°é‡ äº”ã€location**å¯¹è±¡**locationå¯¹è±¡ç”¨äºŽèŽ·å–æˆ–è®¾ç½®çª—ä½“çš„URLå¹¶å¯ä»¥ç”¨äºŽè§£æžURLã€‚å®ƒæ—¢æ˜¯windowå¯¹è±¡çš„å±žæ€§åˆæ˜¯documentå¯¹è±¡çš„å±žæ€§ï¼ŒåŒ…å«8ä¸ªå±žæ€§ï¼Œå…¶ä¸­7ä¸ªéƒ½æ˜¯å½“å‰çª—ä½“çš„URLçš„ä¸€éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ä¸ªæ˜¯hrefå±žæ€§ï¼Œä»£è¡¨å½“å‰çª—ä½“çš„URLã€‚8ä¸ªå±žæ€§éƒ½æ˜¯å¯è¯»å†™çš„ï¼Œä½†æ˜¯åªæœ‰hrefä¸Žhashçš„å†™æ‰æœ‰æ„ä¹‰ã€‚ assign() å‡½æ•°åŠ è½½ä¸€ä¸ªæ–°çš„æ–‡æ¡£ replace() å‡½æ•°å¯ç”¨ä¸€ä¸ªæ–°æ–‡æ¡£å–ä»£å½“å‰æ–‡æ¡£ reload() å‡½æ•°ç”¨äºŽåˆ·æ–°å½“å‰æ–‡æ¡£ hash å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æ˜¯ URL çš„é”šéƒ¨åˆ†ï¼ˆä»Ž # å·å¼€å§‹çš„éƒ¨åˆ†ï¼‰ host å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›žå½“å‰ URL çš„ä¸»æœºåç§°å’Œç«¯å£å· hostname å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›žå½“å‰ URL çš„ä¸»æœºå href å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›žå½“å‰æ˜¾ç¤ºçš„æ–‡æ¡£çš„å®Œæ•´ URL pathname å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›žå½“å‰ URL çš„è·¯å¾„éƒ¨åˆ† port å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›žå½“å‰ URL çš„ç«¯å£éƒ¨åˆ† protocol å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›žå½“å‰ URL çš„åè®® search å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œå¯è®¾ç½®æˆ–è¿”å›žå½“å‰ URL çš„æŸ¥è¯¢éƒ¨åˆ†ï¼ˆé—®å· ? ä¹‹åŽçš„éƒ¨åˆ†ï¼‰ navigatorå¯¹è±¡navigatorå¯¹è±¡é€šå¸¸ç”¨äºŽæ£€æµ‹æµè§ˆå™¨ä¸Žæ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ï¼Œæ˜¯windowå¯¹è±¡çš„å±žæ€§ã€‚ç”±äºŽnavigatoræ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œå› æ­¤å„ä¸ªæµè§ˆå™¨éƒ½æœ‰è‡ªå·±ä¸åŒçš„navigatorç‰ˆæœ¬ã€‚å¸¸ç”¨çš„navigatorå‡½æ•°å’Œå±žæ€§æœ‰ï¼š taintEnabled() å‡½æ•°å¯è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¯¥å€¼å£°æ˜Žäº†å½“å‰æµè§ˆå™¨æ˜¯å¦å¯ç”¨äº† data tainting appCodeName å±žæ€§æ˜¯ä¸€ä¸ªåªè¯»å­—ç¬¦ä¸²ï¼Œå£°æ˜Žäº†æµè§ˆå™¨çš„ä»£ç å appName å±žæ€§å¯è¿”å›žæµè§ˆå™¨çš„åç§° appVersion å±žæ€§å¯è¿”å›žæµè§ˆå™¨çš„å¹³å°å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚è¯¥å±žæ€§æ˜¯ä¸€ä¸ªåªè¯»çš„å­—ç¬¦ä¸² cookieEnabled å±žæ€§å¯è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æžœæµè§ˆå™¨å¯ç”¨äº† cookieï¼Œè¯¥å±žæ€§å€¼ä¸º trueã€‚å¦‚æžœç¦ç”¨äº† cookieï¼Œåˆ™å€¼ä¸º false platform å±žæ€§æ˜¯ä¸€ä¸ªåªè¯»çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜Žäº†è¿è¡Œæµè§ˆå™¨çš„æ“ä½œç³»ç»Ÿå’Œï¼ˆæˆ–ï¼‰ç¡¬ä»¶å¹³å° userAgent å±žæ€§æ˜¯ä¸€ä¸ªåªè¯»çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜Žäº†æµè§ˆå™¨ç”¨äºŽ HTTP è¯·æ±‚çš„ç”¨æˆ·ä»£ç†å¤´çš„å€¼ javaEnabled() å‡½æ•°å¯è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¯¥å€¼æŒ‡ç¤ºæµè§ˆå™¨æ˜¯å¦æ”¯æŒå¹¶å¯ç”¨äº† Javaã€‚å¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueï¼Œå¦åˆ™è¿”å›ž false screenå¯¹è±¡screenå¯¹è±¡ç”¨äºŽèŽ·å–ç”¨æˆ·çš„å±å¹•ä¿¡æ¯ï¼Œæ˜¯windowå¯¹è±¡çš„å±žæ€§ã€‚ width å±žæ€§å£°æ˜Žäº†æ˜¾ç¤ºæµè§ˆå™¨çš„å±å¹•çš„å®½åº¦ï¼Œä»¥åƒç´ è®¡ height å±žæ€§å£°æ˜Žäº†æ˜¾ç¤ºæµè§ˆå™¨çš„å±å¹•çš„é«˜åº¦ï¼Œä»¥åƒç´ è®¡ availWidth å±žæ€§å£°æ˜Žäº†æ˜¾ç¤ºæµè§ˆå™¨çš„å±å¹•çš„å¯ç”¨å®½åº¦ï¼Œä»¥åƒç´ è®¡ã€‚åœ¨ Windows è¿™æ ·çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå¯ç”¨é«˜åº¦ä¸åŒ…æ‹¬åˆ†é…ç»™åŠæ°¸ä¹…ç‰¹æ€§ï¼ˆå¦‚å±å¹•åº•éƒ¨çš„ä»»åŠ¡æ ï¼‰çš„åž‚ç›´ç©ºé—´ availHeight å±žæ€§å£°æ˜Žäº†æ˜¾ç¤ºæµè§ˆå™¨çš„å±å¹•çš„å¯ç”¨é«˜åº¦ï¼Œä»¥åƒç´ è®¡ã€‚åœ¨ Windows è¿™æ ·çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå¯ç”¨é«˜åº¦ä¸åŒ…æ‹¬åˆ†é…ç»™åŠæ°¸ä¹…ç‰¹æ€§ï¼ˆå¦‚å±å¹•åº•éƒ¨çš„ä»»åŠ¡æ ï¼‰çš„åž‚ç›´ç©ºé—´ colorDepth å±žæ€§è¿”å›žç›®æ ‡è®¾å¤‡æˆ–ç¼“å†²å™¨ä¸Šçš„è°ƒè‰²æ¿çš„æ¯”ç‰¹æ·±åº¦ pixelDepth å±žæ€§è¿”å›žæ˜¾ç¤ºå±å¹•çš„é¢œè‰²åˆ†è¾¨çŽ‡ï¼ˆæ¯”ç‰¹æ¯åƒç´ ï¼‰]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>BOM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTMLåŸºç¡€çŸ¥è¯†]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FHTML%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[HTMLã€XMLã€XHTML æœ‰ä»€ä¹ˆåŒºåˆ«è¿™ä¸‰è€…éƒ½æ˜¯æ ‡è®°è¯­è¨€ï¼ˆMarkup Languageï¼‰ï¼ŒåŒºåˆ«åœ¨äºŽï¼š HTMLï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæ¯”è¾ƒæ¾æ•£ä¸ä¸¥æ ¼çš„Webè¯­è¨€ï¼Œå…¶æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ã€‚ XMLï¼šå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼Œå­˜å‚¨æ•°æ®ï¼Œç»“æž„å‚è€ƒï¼Œæ ‡ç­¾å¯ä»¥è‡ªå®šä¹‰ã€å¯æ‰©å±•ã€åŒºåˆ†å¤§å°å†™ã€‚ XTHML: å¯æ‰©å±•è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ŒåŸºäºŽXMLï¼Œä½†è¾ƒäºŽHMTLæ›´ä¸¥æ ¼çš„è¯­æ³•ï¼Œæ›´å¥½çš„è·¨å¹³å°èƒ½åŠ›ï¼Œæ ‡ç­¾å¿…é¡»ä½¿ç”¨å°å†™å­—æ¯ã€è¢«æ­£ç¡®åœ°åµŒå¥—ã€æ­£ç¡®åœ°è¢«å…³é—­ï¼Œæ–‡æ¡£å¿…é¡»æ‹¥æœ‰æ ¹å…ƒç´ ã€‚ æ€Žæ ·ç†è§£ HTML è¯­ä¹‰åŒ– ä½¿ç”¨H5æ–°å¢žçš„å…·æœ‰è¯­ä¹‰åŒ–çš„æ ‡ç­¾ï¼Œä¾¿äºŽæž„å»ºæ›´åŠ åˆç†çš„ç»“æž„ï¼Œåˆ©äºŽå¼€å‘è€…é˜…è¯»ä»£ç ï¼Œå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œå‡å°‘å·®å¼‚åŒ– ä¸ºäº†åœ¨æ²¡æœ‰CSSçš„æƒ…å†µä¸‹ï¼Œé¡µé¢ä¹Ÿèƒ½å‘ˆçŽ°å‡ºå¾ˆå¥½åœ°å†…å®¹ç»“æž„ã€ä»£ç ç»“æž„ï¼› ç”¨æˆ·ä½“éªŒï¼šä¾‹å¦‚titleã€altç”¨äºŽè§£é‡Šåè¯æˆ–è§£é‡Šå›¾ç‰‡ä¿¡æ¯ã€labelæ ‡ç­¾çš„æ´»ç”¨ï¼› æœ‰åˆ©äºŽSEOï¼šå’Œæœç´¢å¼•æ“Žå»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºŽçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼šçˆ¬è™«ä¾èµ–äºŽæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼› æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æžï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡ï¼‰ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µï¼› ä¾¿äºŽå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·å¯è¯»æ€§ï¼Œå‡å°‘å·®å¼‚åŒ–ã€‚ æ€Žæ ·ç†è§£å†…å®¹ä¸Žæ ·å¼åˆ†ç¦»çš„åŽŸåˆ™ å†…å®¹ï¼ˆHTMLï¼‰ä¸Žæ ·å¼ï¼ˆCSSï¼‰åˆ†ç¦»å¯ä»¥ä¾¿äºŽä¿®æ”¹æŽ§åˆ¶ä¸åŒçš„æ ·å¼ï¼Œè®©åŽæœŸç»´æŠ¤å˜å¾—ç®€å•ã€‚HTMLä¸“æ³¨äºŽå†…å®¹ç»“æž„ï¼ŒCSSæŽ§åˆ¶ä¸åŒçš„æ ·å¼ï¼Œè®©å…¶å„å¸å…¶èŒï¼Œäº’ä¸å¹²æ‰°ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯HTMLæ–‡æ¡£å’Œcssæ ·å¼ä¸è¦æ··ç€å†™åœ¨ä¸€èµ·ï¼Œå°½é‡ä¸è¦å†™è¡Œå†…æ ·å¼,ä¸åˆ©äºŽä¿®æ”¹å’Œé˜…è¯»ï¼Œè¦ä»Žå¤–éƒ¨å¼•å…¥CSSæ–‡ä»¶ã€‚ æœ‰å“ªäº›å¸¸è§çš„metaæ ‡ç­¾ meta charset=â€UTF-8â€ ä¸‡å›½ç  meta http-equiv=â€keywordsâ€ content=â€â€å…³é”®å­—ï¼Œæœæ‰€å¼•æ“ŽSEO meta http-equiv=â€descriptionâ€ content=â€å†…å®¹â€ ç½‘é¡µæè¿° meta http-equiv=â€X-UA-Compatibleâ€ content=â€IE=Edge,chrome=1â€ å¦‚æžœå®‰è£…äº†GCFï¼Œåˆ™ä½¿ç”¨GCFæ¥æ¸²æŸ“é¡µé¢ï¼Œå¦‚æžœæ²¡æœ‰å®‰è£…GCFï¼Œåˆ™ä½¿ç”¨æœ€é«˜ç‰ˆæœ¬çš„IEå†…æ ¸è¿›è¡Œæ¸²æŸ“ã€‚ meta name=â€viewportâ€ content=â€width=device-width,initial-scale=1.0â€&gt; é€‚åº”æ‰‹æœºå±å¹•å¤§å° meta http-equiv=â€Pragmaâ€ content=â€no-cacheâ€&gt;ç¦æ­¢æµè§ˆå™¨ä»Žæœ¬åœ°è®¡ç®—æœºçš„ç¼“å­˜ä¸­è®¿é—®é¡µé¢å†…å®¹ meta name=â€authorâ€ content=â€å§“åâ€&gt;å®šä¹‰ç½‘é¡µä½œè€… meta content=â€telephone=noâ€ name=â€format-detectionâ€ å¿½ç•¥æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯å·ç  meta name=â€rendererâ€ content=â€webkit|ie-comp|ie-standâ€æµè§ˆå™¨å†…æ ¸æŽ§åˆ¶ï¼Œä¸€èˆ¬æµè§ˆå™¨ä¸ºåŒæ ¸ï¼Œæ·»åŠ metaæ ‡ç­¾çš„ç½‘ç«™å¯ä»¥æŽ§åˆ¶æµè§ˆå™¨é€‰æ‹©ä½•ç§å†…æ ¸æ¸²æŸ“ã€‚ meta http-equiv=â€Cache-Controlâ€ content=â€no-siteappâ€ /&gt; è½¬ç ç”³æ˜Ž æ–‡æ¡£å£°æ˜Žçš„ä½œç”¨?ä¸¥æ ¼æ¨¡å¼å’Œæ··æ‚æ¨¡å¼æŒ‡ä»€ä¹ˆ?&lt;!doctype html&gt; çš„ä½œç”¨? æ–‡æ¡£å£°æ˜Žçš„ä½œç”¨?æ–‡æ¡£å£°æ˜Žæ˜¯ä¸ºäº†å‘Šè¯‰æµè§ˆå™¨ï¼Œä½ çš„ HTML æ–‡æ¡£æ˜¯ç”¨çš„ä»€ä¹ˆç‰ˆæœ¬çš„ HTML æ¥å†™çš„ï¼Œè¿™æ ·æµè§ˆå™¨æ‰èƒ½æŒ‰ç…§ä½ å£°æ˜Žçš„ç‰ˆæœ¬æ¥æ­£ç¡®çš„è§£æžä½ çš„ HTML æ–‡æ¡£ã€‚ ä¸¥æ ¼æ¨¡å¼å’Œæ··æ‚æ¨¡å¼æŒ‡ä»€ä¹ˆ? ä¸¥æ ¼æ¨¡å¼ï¼ˆæŽ¨èï¼‰çŽ°åœ¨ä¹Ÿç§°ä¸ºæ ‡å‡†æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæµè§ˆå™¨ä¼šä¸¥æ ¼æŒ‰ç…§ HTML å’Œ CSS æ ‡å‡†æ¥è§£æžã€æ¸²æŸ“ä½ çš„æ–‡æ¡£ã€‚ æ··æ‚æ¨¡å¼ï¼ˆä¸æŽ¨èï¼‰çš„ç”±æ¥æ˜¯ä¸€ä¸ªåŽ†å²é—®é¢˜ã€‚åœ¨äº’è”ç½‘æ—©æœŸï¼Œç½‘é¡µä¸€èˆ¬å†™æˆä¸¤ä¸ªç‰ˆæœ¬ï¼šä¸€ä¸ªå†™ç»™ç½‘æ™¯å…¬å¸çš„ Navigatoræµè§ˆå™¨ï¼Œä¸€ä¸ªå†™ç»™å¾®è½¯å…¬å¸çš„IEæµè§ˆå™¨ã€‚å½“W3Cåˆ¶å®šäº† Web æ ‡å‡†åŽï¼Œè¿™ä¸¤ä¸ªæµè§ˆå™¨ä¸èƒ½é©¬ä¸Šå¼€å§‹æŒ‰æ ‡å‡†æ¥è§£æžæ¸²æŸ“é¡µé¢ï¼Œå› ä¸ºè¿™æ ·ä¼šç ´åå½“æ—¶å¤§éƒ¨åˆ†é¡µé¢çš„æ˜¾ç¤ºæ•ˆæžœã€‚æ‰€ä»¥å„æµè§ˆå™¨å°±å¼•å…¥äº†æ··æ‚æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæµè§ˆå™¨ä¼šæ¨¡æ‹ŸNavigator 4å’ŒIE5çš„éžæ ‡å‡†è¡Œä¸ºæ¥è§£æžæ¸²æŸ“é¡µé¢ï¼Œè¿™æ ·åšå°±æ˜¯ä¸ºäº†å…¼å®¹åœ¨W3Cæ ‡å‡†å‡ºçŽ°ä¹‹å‰å°±å­˜åœ¨çš„é‚£äº›â€œä¸æ ‡å‡†â€çš„é¡µé¢ã€‚ &lt;!doctype html&gt; çš„ä½œç”¨?&lt;!doctype html&gt; çš„ä½œç”¨å°±æ˜¯è®©æµè§ˆå™¨è¿›å…¥æ ‡å‡†æ¨¡å¼ï¼Œä½¿ç”¨æœ€æ–°çš„ HTML5æ ‡å‡†æ¥è§£æžæ¸²æŸ“é¡µé¢ï¼›å¦‚æžœä¸å†™ï¼Œæµè§ˆå™¨å°±ä¼šè¿›å…¥æ··æ‚æ¨¡å¼ï¼Œè€Œè¿™æ˜¯æˆ‘ä»¬è¦é¿å…çš„ã€‚ æµè§ˆå™¨ä¹±ç çš„åŽŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³ ä¹±ç äº§ç”Ÿçš„æ ¹æºå°±åœ¨æˆ‘ä»¬ä¿å­˜æ–‡ä»¶æ—¶ä¼šæŠŠæˆ‘ä»¬å†™å…¥çš„æ–‡å­—ä½¿ç”¨ç¼–è¾‘å™¨é»˜è®¤çš„ç¼–ç æ–¹å¼è¿›è¡Œä¿å­˜ï¼Œè€Œæµè§ˆå™¨è§£æžæ—¶å¹¶æ²¡æœ‰æŒ‰ç…§æˆ‘ä»¬ä¿å­˜çš„ç¼–ç æ ¼å¼è¿›è¡Œè§£æžï¼Œå¯¼è‡´ç¼–ç æ ¼å¼ä¸åŒ¹é…ï¼Œä»Žè€Œäº§ç”Ÿä¹±ç ã€‚ä¸€èˆ¬åªå¯¹äºŽé™¤è‹±æ–‡å¤–çš„è¯­è¨€ä¼šäº§ç”Ÿä¹±ç ï¼Œå› ä¸ºå¤§éƒ¨åˆ†ç¼–ç æ ¼å¼ ä¾‹å¦‚utf-8ã€gbkå¯¹è‹±æ–‡éƒ½æ˜¯é‡‡ç”¨1ä¸ªå­—èŠ‚çš„ç¼–ç æ–¹å¼ï¼Œå¹¶ä¸”ä½¿ç”¨äº†ç›¸åŒçš„ç å­—ï¼Œå±•çŽ°ä¹Ÿå°±ä¸€æ ·äº†ã€‚ é¦–é¡µï¼Œåœ¨æ–‡ä»¶ä¿å­˜çš„æ—¶å€™è¦æ¸…æ¥šæ˜¯ç”¨å“ªç§ç¼–ç æ–¹å¼ä¿å­˜çš„ã€‚å¦‚æžœä½ çš„æ–‡ä»¶æ˜¯ä¿å­˜ä¸ºutf-8æ ¼å¼ï¼Œé‚£ä¹ˆä¸€å®šè¦åœ¨HTML çš„ &lt;head&gt;é‡Œæ·»åŠ &lt;meta charset=&quot;utf-8&quot;&gt;ï¼Œè¿™å¥è¯çš„æ„æ€æ˜¯å‘Šè¯‰æµè§ˆå™¨åœ¨æ‰“å¼€è¿™ä¸ªé¡µé¢çš„æ—¶å€™ä¸è¦åŽ»çŒœäº†ï¼Œè€Œæ˜¯ç›´æŽ¥é€‰ç”¨utf-8åŽ»è§£ç ã€‚ åŒç†ï¼Œå¦‚æžœä½ çš„æ–‡ä»¶ä¿å­˜ä¸ºgbkæ ¼å¼ï¼Œä¸€å®šåœ¨æ–‡ä»¶é‡Œæ·»åŠ &lt;meta charset=&quot;gbk&quot;&gt;ã€‚ å¸¸è§çš„æµè§ˆå™¨æœ‰å“ªäº›ï¼Œä»€ä¹ˆå†…æ ¸ å¸¸è§æµè§ˆå™¨ å†…æ ¸ Internet Explorer IEå†…æ ¸ Firefox Gecko Opear Presto Safari Webkit Chrome Blink å¸¸è§çš„æ ‡ç­¾&lt;html&gt;&lt;/html&gt;æ ¹æ ‡ç­¾ï¼Œæ‰€æœ‰çš„ç½‘é¡µæ ‡ç­¾éƒ½åœ¨ä¸­ã€‚ &lt;head&gt;&lt;/head&gt;æ ‡ç­¾ç”¨äºŽå®šä¹‰æ–‡æ¡£çš„å¤´éƒ¨ï¼Œå®ƒæ˜¯æ‰€æœ‰å¤´éƒ¨å…ƒç´ çš„å®¹å™¨ã€‚ &lt;body&gt;å’Œ&lt;/body&gt;æ ‡ç­¾ä¹‹é—´çš„å†…å®¹æ˜¯ç½‘é¡µçš„ä¸»è¦å†…å®¹ &lt;h1&gt;&lt;/h1&gt;~&lt;h6&gt;&lt;/h6&gt;ä¸€çº§æ ‡é¢˜åˆ°å…­çº§æ ‡é¢˜ &lt;p&gt;ç”¨äºŽæ–‡å­—çš„æ®µè½ï¼Œå ä¸€è¡Œ &lt;span&gt;&lt;/span&gt;æ ‡ç­¾æ˜¯æ²¡æœ‰è¯­ä¹‰çš„ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ä¸ºäº†æ–‡å­—è®¾ç½®å•ç‹¬çš„æ ·å¼ç”¨çš„ã€‚ &lt;br&gt;æ¢è¡Œæ ‡ç­¾ï¼Œè‡ªé—­åˆæ ‡ç­¾ &lt;em&gt;&lt;/em&gt;æ ‡ç­¾å†…çš„æ–‡å­—ä¼šå˜æˆæ–œä½“ 1234&lt;ul&gt; &lt;li&gt; &lt;li&gt;&lt;/ul&gt; æ— åºåˆ—è¡¨ 1234&lt;ol&gt; &lt;li&gt; &lt;li&gt;&lt;/ol&gt; æœ‰åºåˆ—è¡¨ &lt;div&gt;&lt;/div&gt;æ ‡ç­¾æ˜¯æ²¡æœ‰è¯­ä¹‰çš„ï¼Œå°†å…ƒç´ åŒ…è£¹çš„ä¸€ä¸ªå®¹å™¨ï¼Œå¸¸ç”¨äºŽå¯¹ä¸€ä¸ªæ¨¡å—è®¾ç½®æ ·å¼ç”¨ã€‚ &lt;table&gt;&lt;/table&gt;è¡¨æ ¼æ ‡ç­¾ï¼Œç”¨äºŽåˆ¶ä½œè¡¨æ ¼ &lt;form&gt;&lt;/form&gt;ç”¨äºŽæ‰“åŒ…formå†…çš„è¡¨å•æ•°æ®ã€‚ &lt;img&gt;ç”¨äºŽæ’å…¥å›¾ç‰‡ï¼Œè‡ªé—­åˆæ ‡ç­¾ã€‚ &lt;a&gt;è¶…é“¾æŽ¥æ ‡ç­¾ï¼Œç”¨äºŽè·³è½¬ç½‘é¡µï¼Œè‡ªé—­åˆæ ‡ç­¾]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>XML</tag>
        <tag>XHTML</tag>
        <tag>è¯­ä¹‰åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTMLè¡¨å•(form)]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FHTML%E8%A1%A8%E5%8D%95%2F</url>
    <content type="text"><![CDATA[formè¡¨å•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿæœ‰å“ªäº›å¸¸ç”¨çš„input æ ‡ç­¾ï¼Œåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿè¡¨å•åœ¨ç½‘é¡µä¸­ä¸»è¦è´Ÿè´£æ•°æ®é‡‡é›†åŠŸèƒ½ã€‚HTML &lt;form&gt;å…ƒç´  è¡¨ç¤ºäº†æ–‡æ¡£ä¸­çš„ä¸€ä¸ªåŒºåŸŸï¼Œè¿™ä¸ªåŒºåŸŸåŒ…å«æœ‰äº¤äº’æŽ§åˆ¶å…ƒä»¶ï¼Œç”¨æ¥å‘webæœåŠ¡å™¨æäº¤ä¿¡æ¯ï¼Œæ‹¥æœ‰ä»¥ä¸‹å±žæ€§ã€‚ action ä¸€ä¸ªå¤„ç†è¿™ä¸ªformä¿¡æ¯çš„ç¨‹åºæ‰€åœ¨çš„URLã€‚ autocomplete ç”¨äºŽæŒ‡ç¤º input å…ƒç´ æ˜¯å¦èƒ½å¤Ÿæ‹¥æœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¿™ä¸ªé»˜è®¤å€¼æ˜¯ç”±æµè§ˆå™¨è‡ªåŠ¨è¡¥å…¨çš„ã€‚ enctype å½“ method å±žæ€§å€¼ä¸º post æ—¶, enctype æ˜¯æäº¤formç»™æœåŠ¡å™¨çš„å†…å®¹çš„ MIME ç±»åž‹ï¼Œå¯èƒ½çš„å–å€¼æœ‰ä¸‰ä¸ªï¼Œapplication/x-www-form-urlencoded: å¦‚æžœå±žæ€§æœªæŒ‡å®šæ—¶çš„é»˜è®¤å€¼ã€‚multipart/form-data: è¿™ä¸ªå€¼ç”¨äºŽä¸€ä¸ª type å±žæ€§è®¾ç½®ä¸º â€œfileâ€ çš„&lt;input&gt; å…ƒç´ ã€‚text/plain (HTML5)ã€‚ method æµè§ˆå™¨ä½¿ç”¨è¿™ç§ HTTP æ–¹å¼æ¥æäº¤ formã€‚ å¯èƒ½çš„å€¼æœ‰getå’Œpostã€‚ target ä¸€ä¸ªåå­—æˆ–è€…è¯´å…³é”®å­—ï¼Œç”¨æ¥æŒ‡ç¤ºåœ¨æäº¤è¡¨å•ä¹‹åŽï¼Œåœ¨å“ªé‡Œæ˜¾ç¤ºæ”¶åˆ°çš„å›žå¤. å¸¸è§çš„inputæ ‡ç­¾ä¸»è¦ç”±typeå±žæ€§æŽ§åˆ¶ã€‚(inputä¸ºè‡ªé—­åˆæ ‡ç­¾) type: æŽ§ä»¶ç±»åž‹çš„æ˜¾ç¤ºã€‚å¦‚æžœè¿™ä¸ªå±žæ€§æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤çš„ç±»åž‹æ˜¯ textã€‚ typeå¯ç”¨çš„å€¼åŒ…æ‹¬ï¼š buttonï¼šæ— ç¼ºçœè¡Œä¸ºæŒ‰é’®ã€‚ checkboxï¼š å¤é€‰æ¡†ã€‚å¿…é¡»ä½¿ç”¨ value å±žæ€§å®šä¹‰æ­¤æŽ§ä»¶è¢«æäº¤æ—¶çš„å€¼ã€‚ä½¿ç”¨ checked å±žæ€§æŒ‡ç¤ºæŽ§ä»¶æ˜¯å¦è¢«é€‰æ‹©ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ indeterminate æŒ‡ç¤ºå¤é€‰æ¡†åœ¨ä¸€ç§ä¸ç¡®å®šçŠ¶æ€ï¼ˆå¤§å¤šæ•°å¹³å°ä¸Šï¼Œæ˜¾ç¤ºä¸ºä¸€æ¡ç©¿è¿‡å¤é€‰æ¡†çš„æ°´å¹³çº¿ï¼‰ã€‚ colorï¼šHTML5 ç”¨äºŽæŒ‡å®šé¢œè‰²çš„æŽ§ä»¶ã€‚ dateï¼šHTML5 ç”¨äºŽè¾“å…¥æ—¥æœŸçš„æŽ§ä»¶ï¼ˆå¹´ï¼Œæœˆï¼Œæ—¥ï¼Œä¸åŒ…æ‹¬æ—¶é—´ï¼‰ã€‚ datetimeï¼šHTML5 åŸºäºŽ UTC æ—¶åŒºçš„æ—¥æœŸæ—¶é—´è¾“å…¥æŽ§ä»¶ï¼ˆæ—¶ï¼Œåˆ†ï¼Œç§’åŠå‡ åˆ†ä¹‹ä¸€ç§’ï¼‰ã€‚ datetime-localï¼šHTML5 ç”¨äºŽè¾“å…¥æ—¥æœŸæ—¶é—´æŽ§ä»¶ï¼Œä¸åŒ…å«æ—¶åŒºã€‚ emailï¼šHTML5 ç”¨äºŽç¼–è¾‘ e-mail çš„å­—æ®µã€‚ åˆé€‚çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ :valid å’Œ :invalid CSS ä¼ªç±»ã€‚ fileï¼šæ­¤æŽ§ä»¶å¯ä»¥è®©ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ã€‚ä½¿ç”¨ accept å±žæ€§å¯ä»¥å®šä¹‰æŽ§ä»¶å¯ä»¥é€‰æ‹©çš„æ–‡ä»¶ç±»åž‹ã€‚ hiddenï¼šä¸æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šçš„æŽ§ä»¶ï¼Œä½†å®ƒçš„å€¼ä¼šè¢«æäº¤åˆ°æœåŠ¡å™¨ã€‚ imageï¼šå›¾ç‰‡æäº¤æŒ‰é’®ã€‚å¿…é¡»ä½¿ç”¨ src å±žæ€§å®šä¹‰å›¾ç‰‡çš„æ¥æºåŠä½¿ç”¨ alt å®šä¹‰æ›¿ä»£æ–‡æœ¬ã€‚è¿˜å¯ä»¥ä½¿ç”¨ height å’Œ width å±žæ€§ä»¥åƒç´ ä¸ºå•ä½å®šä¹‰å›¾ç‰‡çš„å¤§å°ã€‚ monthï¼šHTML5 ç”¨äºŽè¾“å…¥å¹´æœˆçš„æŽ§ä»¶ï¼Œä¸å¸¦æ—¶åŒºã€‚ number: HTML5 ç”¨äºŽè¾“å…¥æµ®ç‚¹æ•°çš„æŽ§ä»¶ã€‚ passwordï¼šä¸€ä¸ªå€¼è¢«é®ç›–çš„å•è¡Œæ–‡æœ¬å­—æ®µã€‚ä½¿ç”¨ maxlength æŒ‡å®šå¯ä»¥è¾“å…¥çš„å€¼çš„æœ€å¤§é•¿åº¦ ã€‚ radioï¼šå•é€‰æŒ‰é’®ã€‚å¿…é¡»ä½¿ç”¨ value å±žæ€§å®šä¹‰æ­¤æŽ§ä»¶è¢«æäº¤æ—¶çš„å€¼ã€‚ä½¿ç”¨checked å¿…é¡»æŒ‡ç¤ºæŽ§ä»¶æ˜¯å¦ç¼ºçœè¢«é€‰æ‹©ã€‚åœ¨åŒä¸€ä¸ªâ€å•é€‰æŒ‰é’®ç»„â€œä¸­ï¼Œæ‰€æœ‰å•é€‰æŒ‰é’®çš„ name å±žæ€§ä½¿ç”¨åŒä¸€ä¸ªå€¼ï¼› ä¸€ä¸ªå•é€‰æŒ‰é’®ç»„ä¸­æ˜¯ï¼ŒåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªå•é€‰æŒ‰é’®å¯ä»¥è¢«é€‰æ‹©ã€‚ rangeï¼šHTML5 ç”¨äºŽè¾“å…¥ä¸ç²¾ç¡®å€¼æŽ§ä»¶ã€‚ resetï¼šç”¨äºŽå°†è¡¨å•æ‰€å†…å®¹è®¾ç½®ä¸ºç¼ºçœå€¼çš„æŒ‰é’®ã€‚ searchï¼šHTML5ç”¨äºŽè¾“å…¥æœç´¢å­—ç¬¦ä¸²çš„å•è¡Œæ–‡æœ¬å­—æ®µã€‚æ¢è¡Œä¼šè¢«ä»Žè¾“å…¥çš„å€¼ä¸­è‡ªåŠ¨ç§»é™¤ã€‚ submitï¼šç”¨äºŽæäº¤è¡¨å•çš„æŒ‰é’®ã€‚ telï¼šHTML5 ç”¨äºŽè¾“å…¥ç”µè¯å·ç çš„æŽ§ä»¶ï¼›æ¢è¡Œä¼šè¢«è‡ªåŠ¨ä»Žè¾“å…¥çš„å€¼ä¸­ç§»é™¤A,ï¼Œbut no other syntax is enforcedã€‚å¯ä»¥ä½¿ç”¨å±žæ€§ï¼Œæ¯”å¦‚ pattern å’Œ maxlength æ¥çº¦æŸæŽ§ä»¶è¾“å…¥çš„å€¼ã€‚æ°å½“çš„æ—¶å€™ï¼Œå¯ä»¥åº”ç”¨ :valid å’Œ :invalid CSS ä¼ªç±»ã€‚ textï¼šå•è¡Œå­—æ®µï¼›æ¢è¡Œä¼šå°†è‡ªåŠ¨ä»Žè¾“å…¥çš„å€¼ä¸­ç§»é™¤ã€‚ timeï¼šHTML5 ç”¨äºŽè¾“å…¥ä¸å«æ—¶åŒºçš„æ—¶é—´æŽ§ä»¶ã€‚ urlï¼šHTML5 ç”¨äºŽç¼–è¾‘URLçš„å­—æ®µã€‚ The user may enter a blank or invalid address. æ¢è¡Œä¼šè¢«è‡ªåŠ¨ä»Žè¾“å…¥å€¼ä¸­ç§»é˜Ÿã€‚å¯ä»¥ä½¿ç”¨å¦‚ï¼špattern å’Œ maxlength æ ·çš„å±žæ€§æ¥çº¦æŸè¾“å…¥çš„å€¼ã€‚ æ°å½“çš„æ—¶å€™ä½¿å¯ä»¥åº”ç”¨ :valid å’Œ :invalid CSS ä¼ªç±»ã€‚ weekï¼šHTML5 ç”¨äºŽè¾“å…¥ä¸€ä¸ªç”±æ˜ŸæœŸ-å¹´ç»„æˆçš„æ—¥æœŸï¼Œæ—¥æœŸä¸åŒ…æ‹¬æ—¶åŒºã€‚ ä¸€äº›ä¸ç”¨&lt;input type=&quot;&quot;&gt;å±žæ€§åˆ›å»ºçš„è¡¨å•æ ‡ç­¾ labelï¼šä¸ºinputå…ƒç´ å®šä¹‰æ ‡æ³¨ï¼ˆlabel å…ƒç´ ä¸ä¼šå‘ç”¨æˆ·å‘ˆçŽ°ä»»ä½•ç‰¹æ®Šæ•ˆæžœã€‚ä¸è¿‡ï¼Œå®ƒä¸ºé¼ æ ‡ç”¨æˆ·æ”¹è¿›äº†å¯ç”¨æ€§ã€‚å¦‚æžœæ‚¨åœ¨ label å…ƒç´ å†…ç‚¹å‡»æ–‡æœ¬ï¼Œå°±ä¼šè§¦å‘æ­¤æŽ§ä»¶ã€‚å°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·é€‰æ‹©è¯¥æ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šè‡ªåŠ¨å°†ç„¦ç‚¹è½¬åˆ°å’Œæ ‡ç­¾ç›¸å…³çš„è¡¨å•æŽ§ä»¶ä¸Šã€‚æ ‡ç­¾çš„ for å±žæ€§åº”å½“ä¸Žç›¸å…³inputå…ƒç´ çš„ id å±žæ€§ç›¸åŒï¼‰ textareaï¼šåˆ›å»ºä¸€ä¸ªæ–‡æœ¬åŸŸï¼ˆå¤šè¡Œæ–‡æœ¬è¾“å…¥æŽ§åˆ¶ï¼‰ã€‚ç”¨æˆ·å¯ä»¥åœ¨æ–‡æœ¬åŸŸä¸­å†™å…¥æ–‡æœ¬ã€‚åœ¨æ–‡æœ¬åŸŸä¸­ï¼Œå¯å†™å…¥çš„å­—ç¬¦å­—æ•°ä¸å—é™åˆ¶ã€‚ hiddenï¼šéšè—åŸŸï¼Œæš‚å­˜ä¸€äº›å€¼ï¼›å’ŒåŽå°äº¤äº’çš„æ—¶å€™ç¡®è®¤èº«ä»½çš„ä½œç”¨ï¼Œé˜²æ­¢xssæ”»å‡»ï¼›é€šå¸¸æ˜¯éœ€è¦æäº¤åˆ°åŽå°åˆä¸æƒ³åœ¨é¡µé¢ä¸Šå±•çŽ°çš„æ•°æ®ã€‚ å…¶ä¸­buttonï¼Œformï¼Œselectï¼Œtextareaï¼Œlabelä¸ºé—­åˆæ ‡ç­¾ã€‚ä¸ç”¨inputæ¥å†™ å±žæ€§ name ï¼Œvalueå¯¹åº”çš„æ˜¯Keyâ€”â€”å€¼ è¡¨å•ä¸­readonlyå’Œdisabledå±žæ€§çš„åŒºåˆ«è®¾ç½®äº†readonlyçš„input[text]åœ¨æäº¤è¡¨å•çš„æ—¶å€™è¿˜æ˜¯ä¼šæäº¤inputä¸Šå£°æ˜Žçš„æ•°æ®ã€‚è®¾ç½®äº†disabledçš„åˆ™ä¸ä¼šæäº¤inputä¸Šå£°æ˜Žçš„æ•°æ®ã€‚ è¡¨å•æäº¤æ–‡ä»¶çš„æ­£ç¡®æ–¹å¼ æ·»åŠ input[type=file]çš„inputæ ‡ç­¾ è®¾ç½®è¡¨å•çš„methodä¸ºpost è®¾ç½®è¡¨å•çš„enctypeä¸ºmultipart/form-data å¦‚ä½•æ— åˆ·æ–°æäº¤è¡¨å•åœ¨é¡µé¢è®¾ç½®ä¸€ä¸ªiframeï¼Œè®¾ç½®å¥½å®ƒçš„nameå±žæ€§å€¼ï¼Œç”¨cssæŽ§åˆ¶ä»–æ˜¯â€™æ¶ˆå¤±â€™çš„ã€‚è®¾ç½®formçš„targetå±žæ€§ä¸ºiframeçš„nameå±žæ€§å³å¯ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œformä¸­çš„buttonæŒ‰é’®ä¸å£°æ˜Žtypeå±žæ€§ï¼Œåˆ™ä¸€å¾‹è§†ä¸ºsubmitã€‚ è¡¨å•ä¸­readonlyå’Œdisabledå±žæ€§çš„åŒºåˆ«è®¾ç½®äº†readonlyçš„input[text]åœ¨æäº¤è¡¨å•çš„æ—¶å€™è¿˜æ˜¯ä¼šæäº¤inputä¸Šå£°æ˜Žçš„æ•°æ®ã€‚è®¾ç½®äº†disabledçš„åˆ™ä¸ä¼šæäº¤inputä¸Šå£°æ˜Žçš„æ•°æ®ã€‚ è¡¨å•æäº¤æ–‡ä»¶çš„æ­£ç¡®æ–¹å¼ æ·»åŠ input[type=file]çš„inputæ ‡ç­¾ è®¾ç½®è¡¨å•çš„methodä¸ºpost è®¾ç½®è¡¨å•çš„enctypeä¸ºmultipart/form-data å¦‚ä½•æ— åˆ·æ–°æäº¤è¡¨å•åœ¨é¡µé¢è®¾ç½®ä¸€ä¸ªiframeï¼Œè®¾ç½®å¥½å®ƒçš„nameå±žæ€§å€¼ï¼Œç”¨cssæŽ§åˆ¶ä»–æ˜¯â€™æ¶ˆå¤±â€™çš„ã€‚è®¾ç½®formçš„targetå±žæ€§ä¸ºiframeçš„nameå±žæ€§å³å¯ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œformä¸­çš„buttonæŒ‰é’®ä¸å£°æ˜Žtypeå±žæ€§ï¼Œåˆ™ä¸€å¾‹è§†ä¸ºsubmitã€‚ post å’Œ get æ–¹å¼çš„åŒºåˆ«ï¼Ÿ GETåŽé€€æŒ‰é’®/åˆ·æ–°æ— å®³ï¼ŒPOSTæ•°æ®ä¼šè¢«é‡æ–°æäº¤ï¼ˆæµè§ˆå™¨åº”è¯¥å‘ŠçŸ¥ç”¨æˆ·æ•°æ®ä¼šè¢«é‡æ–°æäº¤ï¼‰ã€‚ GETä¹¦ç­¾å¯æ”¶è—ï¼ŒPOSTä¸ºä¹¦ç­¾ä¸å¯æ”¶è—ã€‚ GETèƒ½è¢«ç¼“å­˜ï¼ŒPOSTä¸èƒ½ç¼“å­˜ ã€‚ GETç¼–ç ç±»åž‹application/x-www-form-urlï¼ŒPOSTç¼–ç ç±»åž‹application/x-www-form-urlencoded æˆ– multipart/form-dataã€‚ä¸ºäºŒè¿›åˆ¶æ•°æ®ä½¿ç”¨å¤šé‡ç¼–ç ã€‚ GETåŽ†å²å‚æ•°ä¿ç•™åœ¨æµè§ˆå™¨åŽ†å²ä¸­ã€‚POSTå‚æ•°ä¸ä¼šä¿å­˜åœ¨æµè§ˆå™¨åŽ†å²ä¸­ã€‚ GETå¯¹æ•°æ®é•¿åº¦æœ‰é™åˆ¶ï¼Œå½“å‘é€æ•°æ®æ—¶ï¼ŒGET æ–¹æ³•å‘ URL æ·»åŠ æ•°æ®ï¼›URL çš„é•¿åº¦æ˜¯å—é™åˆ¶çš„ï¼ˆURL çš„æœ€å¤§é•¿åº¦æ˜¯ 2048 ä¸ªå­—ç¬¦ï¼‰ã€‚POSTæ— é™åˆ¶ã€‚ GETåªå…è®¸ ASCII å­—ç¬¦ã€‚POSTæ²¡æœ‰é™åˆ¶ã€‚ä¹Ÿå…è®¸äºŒè¿›åˆ¶æ•°æ®ã€‚ ä¸Ž POST ç›¸æ¯”ï¼ŒGET çš„å®‰å…¨æ€§è¾ƒå·®ï¼Œå› ä¸ºæ‰€å‘é€çš„æ•°æ®æ˜¯ URL çš„ä¸€éƒ¨åˆ†ã€‚åœ¨å‘é€å¯†ç æˆ–å…¶ä»–æ•æ„Ÿä¿¡æ¯æ—¶ç»ä¸è¦ä½¿ç”¨ GET ï¼POST æ¯” GET æ›´å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ä¸ä¼šè¢«ä¿å­˜åœ¨æµè§ˆå™¨åŽ†å²æˆ– web æœåŠ¡å™¨æ—¥å¿—ä¸­ã€‚GETçš„æ•°æ®åœ¨ URL ä¸­å¯¹æ‰€æœ‰äººéƒ½æ˜¯å¯è§çš„ã€‚POSTçš„æ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨ URL ä¸­ã€‚ GETè¯·æ±‚çš„æ•°æ®ä¼šé™„åœ¨URLä¹‹åŽ(å°±æ˜¯æŠŠæ•°æ®æ”¾ç½®åœ¨HTTPåè®®å¤´ä¸­)ï¼Œä»¥?åˆ†å‰²URLå’Œä¼ è¾“æ•°æ®ï¼Œå‚æ•°ä¹‹é—´ä»¥&amp;ç›¸è¿žã€‚å¦‚æžœæ•°æ®æ˜¯è‹±æ–‡å­—æ¯/æ•°å­—ï¼ŒåŽŸæ ·å‘é€ï¼Œå¦‚æžœæ˜¯ç©ºæ ¼ï¼Œè½¬æ¢ä¸º+ï¼Œå¦‚æžœæ˜¯ä¸­æ–‡å…¶ä»–å­—ç¬¦ï¼Œåˆ™ç›´æŽ¥æŠŠå­—ç¬¦ä¸²ç”¨BASE64åŠ å¯†ï¼Œå¾—å‡ºå¦‚ï¼š%E4%BD%A0%E5%A5%BDï¼Œå…¶ä¸­%XXä¸­çš„XXä¸ºè¯¥ç¬¦å·ä»¥16è¿›åˆ¶è¡¨ç¤ºçš„ASCIIã€‚POSTæŠŠæäº¤çš„æ•°æ®åˆ™æ”¾ç½®åœ¨æ˜¯HTTPåŒ…çš„åŒ…ä½“ä¸­ã€‚Getä¸€èˆ¬ç”¨äºŽæäº¤å°‘é‡æ•°æ®ï¼ŒPostç”¨äºŽæäº¤å¤§é‡æ•°æ®Getæœ€å¤šæäº¤1kæ•°æ®ï¼Œæµè§ˆå™¨çš„é™åˆ¶ã€‚Postç†è®ºä¸Šæ— é™åˆ¶ï¼Œå—æœåŠ¡å™¨é™åˆ¶Getæäº¤çš„æ•°æ®åœ¨æµè§ˆå™¨åŽ†å²è®°å½•ä¸­ï¼Œå®‰å…¨æ€§ä¸å¥½è¿™é‡Œæ‰€è¯´çš„å®‰å…¨æ€§å’Œä¸Šé¢GETæåˆ°çš„â€œå®‰å…¨â€ä¸æ˜¯åŒä¸ªæ¦‚å¿µã€‚ä¸Šé¢â€œå®‰å…¨â€çš„å«ä¹‰ä»…ä»…æ˜¯ä¸ä½œæ•°æ®ä¿®æ”¹ï¼Œè€Œè¿™é‡Œå®‰å…¨çš„å«ä¹‰æ˜¯çœŸæ­£çš„Securityçš„å«ä¹‰ï¼Œæ¯”å¦‚ï¼šé€šè¿‡GETæäº¤æ•°æ®ï¼Œç”¨æˆ·åå’Œå¯†ç å°†æ˜Žæ–‡å‡ºçŽ°åœ¨URLä¸Šï¼Œå› ä¸º(1)ç™»å½•é¡µé¢æœ‰å¯èƒ½è¢«æµè§ˆå™¨ç¼“å­˜ï¼Œ(2)å…¶ä»–äººæŸ¥çœ‹æµè§ˆå™¨çš„åŽ†å²çºªå½•ï¼Œé‚£ä¹ˆåˆ«äººå°±å¯ä»¥æ‹¿åˆ°ä½ çš„è´¦å·å’Œå¯†ç ã€‚ åœ¨inputé‡Œï¼Œname æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ ä½œä¸ºå¯ä¸ŽæœåŠ¡å™¨äº¤äº’æ•°æ®çš„HTMLå…ƒç´ çš„æœåŠ¡å™¨ç«¯çš„æ ‡ç¤ºï¼Œæ¯”å¦‚inputã€selectã€textareaã€å’Œbuttonç­‰ã€‚ ç”±äºŽè¡¨å•æäº¤çš„æ•°æ®ä¸€èˆ¬éƒ½æ˜¯ä»¥key:valueçš„æ–¹å¼æäº¤ï¼Œæ‰€ä»¥inputä¸­çš„nameå±žæ€§ä¸»è¦ç”¨æ¥æ ‡è¯†æäº¤çš„æ•°æ®çš„keyå€¼ï¼Œå¥½è®©æœåŠ¡å™¨å¤„ç†ç¨‹åºåˆ†è¾¨ã€‚ä¾‹å¦‚ï¼š 12&lt;input name=name value=adam&gt;&lt;input name=age value=18&gt; åˆ™æœåŠ¡å™¨åœ¨åŽå°æ”¶åˆ°çš„æ•°æ®æ ¼å¼å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š 1234&#123; name:adam, age:18&#125; radio å¦‚ä½• åˆ†ç»„? æ ¹æ®nameå€¼è¿›è¡Œåˆ†ç»„ï¼Œç›¸åŒçš„é‚£ä¹ˆå€¼ä¸ºä¸€ç»„å•é€‰æŒ‰é’®ï¼› placeholder å±žæ€§æœ‰ä»€ä¹ˆä½œç”¨? placeholderå±žæ€§ä¸€èˆ¬ä¼šåœ¨è¾“å…¥æ¡†æœ‰ä¸€ä¸ªæç¤ºï¼Œè¯¥æç¤ºä¼šåœ¨è¾“å…¥å­—æ®µä¸ºç©ºæ—¶æ˜¾ç¤ºï¼Œå¹¶ä¼šåœ¨å­—æ®µèŽ·å¾—ç„¦ç‚¹æ—¶æ¶ˆå¤±ã€‚ æ³¨æ„ï¼š placeholder å±žæ€§é€‚ç”¨äºŽä»¥ä¸‹çš„ &lt;input&gt;ç±»åž‹ï¼štext, search, url, telephone, email ä»¥åŠ passwordã€‚placeholderä¸ºHTML5çš„æ–°å±žæ€§ type=hiddenéšè—åŸŸæœ‰ä»€ä¹ˆä½œç”¨? ä¸¾ä¾‹è¯´æ˜Ž typeå±žæ€§å€¼å®šä¹‰ä¸ºhiddenå¯å®šä¹‰éšè—å­—æ®µã€‚éšè—å­—æ®µå¯¹äºŽç”¨æˆ·æ˜¯ä¸å¯è§çš„ã€‚éšè—å­—æ®µé€šå¸¸ä¼šå­˜å‚¨ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå®ƒä»¬çš„å€¼ä¹Ÿå¯ä»¥ç”± JavaScript è¿›è¡Œä¿®æ”¹ã€‚ æœ‰äº›æ—¶å€™æˆ‘ä»¬è¦ç»™ç”¨æˆ·ä¸€ä¿¡æ¯ï¼Œè®©ä»–åœ¨æäº¤è¡¨å•æ—¶æäº¤ä¸Šæ¥ä»¥ç¡®å®šç”¨æˆ·èº«ä»½ï¼Œå¦‚sessionkeyç­‰ã€‚å½“ç„¶è¿™äº›ä¸œè¥¿ä¹Ÿèƒ½ç”¨cookieå®žçŽ°ï¼Œä½†ä½¿ç”¨éšè—åŸŸå°±ç®€å•çš„å¤šäº†ï¼Žè€Œä¸”ä¸ä¼šæœ‰æµè§ˆå™¨ä¸æ”¯æŒï¼Œç”¨æˆ·ç¦ç”¨cookieçš„çƒ¦æ¼ã€‚ æœ‰äº›æ—¶å€™ä¸€ä¸ªformé‡Œæœ‰å¤šä¸ªæäº¤æŒ‰é’®ï¼Œæ€Žæ ·ä½¿ç¨‹åºèƒ½å¤Ÿåˆ†æ¸…æ¥šåˆ°åº•ç”¨æˆ·æ˜¯æŒ‰é‚£ä¸€ä¸ªæŒ‰é’®æäº¤ä¸Šæ¥çš„å‘¢ï¼Ÿæˆ‘ä»¬å°±å¯ä»¥å†™ä¸€ä¸ªéšè—åŸŸï¼Œç„¶åŽåœ¨æ¯ä¸€ä¸ªæŒ‰é’®å¤„åŠ ä¸Šonclick=â€document.form.command.value=â€xxâ€â€ç„¶åŽæˆ‘ä»¬æŽ¥åˆ°æ•°æ®åŽå…ˆæ£€æŸ¥commandçš„å€¼å°±ä¼šçŸ¥é“ç”¨æˆ·æ˜¯æŒ‰çš„é‚£ä¸ªæŒ‰é’®æäº¤ä¸Šæ¥çš„ã€‚ æœ‰æ—¶å€™ä¸€ä¸ªç½‘é¡µä¸­æœ‰å¤šä¸ªformï¼Œæˆ‘ä»¬çŸ¥é“å¤šä¸ªformæ˜¯ä¸èƒ½åŒæ—¶æäº¤çš„ï¼Œä½†æœ‰æ—¶è¿™äº›formç¡®å®žç›¸äº’ä½œç”¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨formä¸­æ·»åŠ éšè—åŸŸæ¥ä½¿å®ƒä»¬è”ç³»èµ·æ¥ã€‚ JavaScriptä¸æ”¯æŒå…¨å±€å˜é‡ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å¿…é¡»ç”¨å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå€¼å…ˆå­˜åœ¨éšè—åŸŸé‡Œï¼Œå®ƒçš„å€¼å°±ä¸ä¼šä¸¢å¤±äº†ã€‚ è¿˜æœ‰ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æŒ‰ä¸€ä¸ªæŒ‰é’®å¼¹å‡ºå››ä¸ªå°çª—å£ï¼Œå½“ç‚¹å‡»å…¶ä¸­çš„ä¸€ä¸ªå°çª—å£æ—¶å…¶ä»–ä¸‰ä¸ªè‡ªåŠ¨å…³é—­ï¼Žå¯æ˜¯IEä¸æ”¯æŒå°çª—å£ç›¸äº’è°ƒç”¨ï¼Œæ‰€ä»¥åªæœ‰åœ¨çˆ¶çª—å£å†™ä¸ªéšè—åŸŸï¼Œå½“å°çª—å£çœ‹åˆ°é‚£ä¸ªéšè—åŸŸçš„å€¼æ˜¯closeæ—¶å°±è‡ªå·±å…³æŽ‰ã€‚ ä¸€æ–¹é¢éšè—æ•°æ®å¯ä»¥æš‚å­˜æ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·ä¸éœ€è¦è§åˆ°ï¼Œä½†æ“ä½œç½‘é¡µæ—¶å¯èƒ½ç”¨åˆ°çš„æ•°æ®ï¼›å¦ä¸€æ–¹é¢å¯ä»¥æé«˜å®‰å…¨æ€§ï¼Œä¾‹å¦‚ï¼Œé¡µé¢æäº¤è¡¨å•æ—¶å¯é€šè¿‡type=hiddenè®¾ç½®ä¸€æ®µéšè—çš„æŒ‰ç…§é¢„å…ˆç®—æ³•çº¦å®šå¥½çš„éšæœºå­—æ®µï¼ŒæœåŠ¡å™¨åœ¨å—åˆ°è¡¨å•æ•°æ®æ—¶å¯¹è¿™ä¸ªéšè—å­—æ®µè¿›è¡Œæ ¡éªŒï¼Œæ¥è¯†åˆ«è¯¥è¡¨å•æ•°æ®æ¥æºæ˜¯å¦å¯é ï¼Œä»Žè€Œé¿å…æœåŠ¡å™¨æ•°æ®è¢«å‡é¡µé¢æäº¤çš„æ•°æ®æ”»å‡»ç¯¡æ”¹ã€‚ 123è´¦å·:&lt;input type="text"&gt;å¯†ç :&lt;input type="password"&gt;&lt;input type="hidden" value="fa89f12819"&gt; CSRF è¯¦è§£ä¸Žæ”»é˜²å®žæˆ˜ å¸¸ç”¨æ–¹æ³•formçš„å±žæ€§actionï¼šæŒ‡å®šè¡¨å•æ•°æ®æäº¤åˆ°å“ªä¸ªåœ°å€è¿›è¡Œå¤„ç†methodï¼šæŒ‡æ˜Žæäº¤è¡¨å•çš„HTTPæ–¹æ³•ï¼Œå–å€¼ä¸ºgetæˆ–posttargetï¼šåœ¨ä½•å¤„æ‰“å¼€actionï¼Œä¸Žæ ‡ç­¾çš„targetå±žæ€§ç”¨æ³•ç±»ä¼¼ã€‚enctypeï¼ˆç¼–ç æ–¹å¼ï¼‰ï¼šapplication/x-www-form-urlencodedï¼šåœ¨å‘é€å‰ç¼–ç æ‰€æœ‰å­—ç¬¦ï¼ˆé»˜è®¤ï¼‰text/plainï¼šç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ åŠ å·ï¼Œä½†ä¸å¯¹ç‰¹æ®Šå­—ç¬¦ç¼–ç multipart/form-dataï¼šä½¿ç”¨åŒ…å«æ–‡ä»¶ä¸Šä¼ æŽ§ä»¶çš„è¡¨å•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¯¥å€¼ å¸¸ç”¨æ ‡ç­¾inputæ ‡ç­¾ ä½œç”¨æ–‡æœ¬è¾“å…¥æ¡†ï¼Œå•è¡Œï¼Œé»˜è®¤å®½åº¦ä¸º20ä¸ªå­—ç¬¦å¯†ç è¾“å…¥æ¡†ï¼Œè¾“å…¥å†…å®¹è‡ªåŠ¨è½¬å˜æˆåœ†ç‚¹å•é€‰æ¡†ï¼Œç”¨nameåˆ†ç»„è¦ä¸€è‡´ï¼Œä¸€å®šè¦åŠ valueå€¼å¤é€‰æ¡†ï¼Œç”¨nameåˆ†ç»„è¦ä¸€è‡´ï¼Œä¸€å®šè¦åŠ valueå€¼æ–‡ä»¶ä¸Šä¼ ï¼Œacceptå±žæ€§å€¼å¯é™åˆ¶ä¸Šä¼ æ–‡ä»¶ç±»åž‹éšè—å­—æ®µï¼ŒåŽå°å¯æ ¹æ®nameã€valueå€¼åˆ¤æ–­ç”¨æˆ·æäº¤çš„è¡¨å•æ•°æ®æ˜¯å¦å®‰å…¨å®šä¹‰æŒ‰é’®å®šä¹‰æäº¤è¡¨å•æ•°æ®è‡³è¡¨å•å¤„ç†ç¨‹åºçš„æŒ‰é’®å®šä¹‰é‡ç½®æŒ‰é’®å®šä¹‰å›¾åƒå½¢å¼çš„æäº¤æŒ‰é’®]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>form</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTMLä¸­å¸¸ç”¨çš„metaå…ƒç´ ]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F15%2FHTML%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84meta%E5%85%83%E7%B4%A0%2F</url>
    <content type="text"><![CDATA[metaæ ‡ç­¾æä¾›äº† HTML æ–‡æ¡£çš„å…ƒæ•°æ®ã€‚å…ƒæ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨å®¢æˆ·ç«¯ï¼Œä½†æ˜¯ä¼šè¢«æµè§ˆå™¨è§£æžã€‚METAå…ƒç´ é€šå¸¸ç”¨äºŽæŒ‡å®šç½‘é¡µçš„æè¿°ï¼Œå…³é”®è¯ï¼Œæ–‡ä»¶çš„æœ€åŽä¿®æ”¹æ—¶é—´ï¼Œä½œè€…åŠå…¶ä»–å…ƒæ•°æ®ã€‚å…ƒæ•°æ®å¯ä»¥è¢«ä½¿ç”¨æµè§ˆå™¨ï¼ˆå¦‚ä½•æ˜¾ç¤ºå†…å®¹æˆ–é‡æ–°åŠ è½½é¡µé¢ï¼‰ï¼Œæœç´¢å¼•æ“Žï¼ˆå…³é”®è¯ï¼‰ï¼Œæˆ–å…¶ä»– Web æœåŠ¡è°ƒç”¨ã€‚ meta çš„å±žæ€§æœ‰ï¼šnameå±žæ€§ã€http-equivå±žæ€§ ã€contentå±žæ€§å’Œcharsetå±žæ€§ ã€‚ nameå±žæ€§ï¼šname å±žæ€§è§„å®šå…ƒæ•°æ®çš„åç§°ã€‚ name å±žæ€§è§„å®šcontentå±žæ€§çš„ä¿¡æ¯/å€¼çš„åç§°ã€‚ æ³¨æ„ï¼šå¦‚æžœè®¾ç½®äº† http-equiv å±žæ€§ï¼Œåˆ™ä¸åº”è¯¥è®¾ç½® name å±žæ€§ã€‚ è¯­æ³•1&lt;meta name="value"&gt; å±žæ€§å€¼application-name è§„å®šé¡µé¢æ‰€ä»£è¡¨çš„ Web åº”ç”¨ç¨‹åºçš„åç§°ã€‚ author è§„å®šæ–‡æ¡£çš„ä½œè€…çš„åå­—ã€‚ 1&lt;meta name = "author" content = "ä½œè€…çš„å§“å"&gt; description è§„å®šé¡µé¢çš„æè¿°ã€‚æœç´¢å¼•æ“Žä¼šæŠŠè¿™ä¸ªæè¿°æ˜¾ç¤ºåœ¨æœç´¢ç»“æžœä¸­ã€‚ 1&lt;meta name = "description" content = "å¯¹é¡µé¢çš„æè¿°è¯­è¨€â€&gt; generator è§„å®šç”¨äºŽç”Ÿæˆæ–‡æ¡£çš„ä¸€ä¸ªè½¯ä»¶åŒ…ï¼ˆä¸ç”¨äºŽæ‰‹å†™é¡µé¢ï¼‰ã€‚ 1&lt;meta name = "generator" content = "ç¼–è¾‘è½¯ä»¶çš„åç§°"&gt; keywords è§„å®šä¸€ä¸ªé€—å·åˆ†éš”çš„å…³é”®è¯åˆ—è¡¨ - ç›¸å…³çš„ç½‘é¡µï¼ˆå‘Šè¯‰æœç´¢å¼•æ“Žé¡µé¢æ˜¯ä¸Žä»€ä¹ˆç›¸å…³çš„ï¼‰ã€‚ æç¤ºï¼šæ€»æ˜¯è§„å®šå…³é”®è¯ï¼ˆå¯¹äºŽæœç´¢å¼•æ“Žè¿›è¡Œé¡µé¢åˆ†ç±»æ˜¯å¿…è¦çš„ï¼‰ã€‚ 1&lt;meta name = "keywords" content = "å…·ä½“çš„å…³é”®å­—"&gt; referrer æŽ§åˆ¶æ‰€è¿°HTTPçš„å†…å®¹Refereré™„åŠ åˆ°ä»Žæœ¬æ–‡ä»¶å‘é€çš„ä»»ä½•è¯·æ±‚çš„HTTPæ ‡å¤´ã€‚ 1&lt;meta name="referrer"&gt; no-referrer ä¸è¦å‘é€ä¸€ä¸ªHTTP Refereræ ‡å¤´ã€‚ origin å‘é€èµ·æºçš„æ–‡ä»¶ã€‚ no-referrer-when-downgrade å‘é€åŽŸç‚¹ä½œä¸ºå¼•èå…ˆéªŒçš„ï¼Œå¤šçš„å®‰å…¨ç›®çš„åœ°ï¼ˆhttps-&gt; HTTPSï¼‰ï¼Œä½†ä¸å‘é€å¼•èä¸€ä¸ªä¸å¤ªå®‰å…¨çš„ç›®çš„åœ°ï¼ˆhttps-&gt; HTTPï¼‰ã€‚è¿™æ˜¯é»˜è®¤çš„è¡Œä¸ºã€‚ origin-when-crossorigin æ‰§è¡Œç›¸åŒæ¥æºçš„è¯·æ±‚æ—¶ï¼Œå‘é€ä¸€ä¸ªå®Œæ•´çš„URLï¼ˆä»Žå‚æ•°å‰¥ç¦»ï¼‰ï¼Œä½†åªé€èµ·æºçš„å…¶ä»–æƒ…å†µä¸‹çš„æ–‡ä»¶ã€‚ unsafe-URL perfomingæ¥æºç›¸åŒçš„è¯·æ±‚æ—¶ï¼Œå‘é€ä¸€ä¸ªå®Œæ•´çš„URLï¼ˆä»Žå‚æ•°å‰¥ç¦»ï¼‰ã€‚ creator é™å®šï¼Œåœ¨è‡ªç”±æ ¼å¼ä¸­ï¼Œæ–‡ä»¶çš„åˆ›å»ºè€…çš„åç§°ã€‚è¯·æ³¨æ„ï¼Œå®ƒå¯ä»¥æ˜¯æœºæž„çš„åç§°ã€‚å¦‚æžœæœ‰ä¸æ­¢ä¸€ä¸ªï¼Œæœ‰å‡ ä¸ªè¦ç´ éƒ½åº”è¯¥ä½¿ç”¨ã€‚ googlebot è¿™æ˜¯ä¸€ä¸ªä»£åè¯robotsï¼Œä½†åªæœ‰å…¶æ˜¯googlebotï¼Œç´¢å¼•çˆ¬è™«å¯¹è°·æ­Œæœç´¢ã€‚ publisher åœ¨ä¸€ä¸ªè‡ªç”±çš„æ ¼å¼ï¼Œæ–‡ä»¶çš„å‘å¸ƒè€…çš„åç§°ã€‚è¯·æ³¨æ„ï¼Œå®ƒå¯ä»¥æ˜¯è¯¥æœºæž„çš„åç§°ã€‚ robotsï¼ˆå®šä¹‰æœç´¢ å¼•æ“Žçˆ¬è™«çš„ç´¢å¼•æ–¹å¼ï¼‰ï¼šcontentçš„å‚æ•°æœ‰allï¼ˆé»˜è®¤ ï¼‰,none,index,follow,nofollowã€‚ 1&lt;meta name="robots" content="none"&gt; slurp è¿™æ˜¯ä¸€ä¸ªä»£åè¯robotsï¼Œä½†åªæœ‰å…¶æ˜¯slurpï¼Œç´¢å¼•çˆ¬è™«å¯¹é›…è™Žæœç´¢ã€‚ viewport è¿™ç»™å‡ºäº†å…³äºŽçš„åˆå§‹å¤§å°çš„å¤§å°æç¤ºè§†å£ã€‚ 1&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; å€¼ å¯èƒ½å€¼ æè¿° width ä¸€ä¸ªæ­£æ•´æ•°æˆ–è€…å­—ç¬¦ä¸² device-width é™å®šäº†å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼Œè§†å£çš„ height ä¸€ä¸ªæ­£æ•´æ•°æˆ–è€…å­—ç¬¦ä¸² device-height å®šä¹‰äº†é«˜åº¦ï¼Œä»¥åƒç´ ï¼Œè§†å£çš„ initial-scale ä¸€ä¸ª0.0 åˆ°10.0ä¹‹é—´çš„æ­£æ•° å®šä¹‰è®¾å¤‡å®½åº¦ï¼ˆä¹‹é—´çš„æ¯”çŽ‡device-widthä»¥çºµå‘æ¨¡å¼æˆ–device-heightæ¨ªå‘æ¨¡å¼ï¼‰å’Œè§†å£çš„å¤§å°ã€‚ maximum-scale ä¸€ä¸ª0.0 åˆ°10.0ä¹‹é—´çš„æ­£æ•° å®šä¹‰äº†å˜ç„¦çš„æœ€å¤§å€¼; å®ƒå¿…é¡»å¤§äºŽæˆ–ç­‰äºŽminimum-scaleæˆ–è¡Œä¸ºæ˜¯ä¸ç¡®å®šçš„ã€‚ minimum-scale ä¸€ä¸ª0.0 åˆ°10.0ä¹‹é—´çš„æ­£æ•° å®šä¹‰äº†å˜ç„¦çš„æœ€ä½Žå€¼; å®ƒå¿…é¡»å°äºŽæˆ–ç­‰äºŽmaximum-scaleæˆ–è¡Œä¸ºæ˜¯ä¸ç¡®å®šçš„ã€‚ user-scalable ä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆyes æˆ–è€…noï¼‰ å¦‚æžœè®¾ç½®ä¸ºnoï¼Œç”¨æˆ·æ— æ³•åœ¨ç½‘é¡µä¸­æ”¾å¤§ã€‚é»˜è®¤å€¼æ˜¯yesã€‚ scheme è¯¥å±žæ€§å®šä¹‰äº†æè¿°å…ƒæ•°æ®çš„æ–¹æ¡ˆã€‚schemeæ˜¯ä¸€ç§ä¸Šä¸‹æ–‡ï¼Œå®ƒå¯ä»¥å¯¹å†…å®¹å€¼è¿›è¡Œæ­£ç¡®çš„è§£é‡Šï¼Œå°±åƒä¸€ç§æ ¼å¼ã€‚ http-equivå±žæ€§ï¼šhttp-equiv å±žæ€§æä¾›äº†contentå±žæ€§çš„ä¿¡æ¯/å€¼çš„ HTTP å¤´ã€‚ http-equiv å±žæ€§å¯ç”¨äºŽæ¨¡æ‹Ÿä¸€ä¸ª HTTP å“åº”å¤´ã€‚ è¯­æ³•1&lt;meta http-equiv="content-type|default-style|refresh"&gt; å±žæ€§å€¼content-type è§„å®šæ–‡æ¡£çš„å­—ç¬¦ç¼–ç ã€‚ 1&lt;meta http-equiv="content-type" content="text/html; charset=utf-8"&gt; default-style è§„å®šè¦ä½¿ç”¨çš„é¢„å®šä¹‰çš„æ ·å¼è¡¨ã€‚ 1&lt;meta http-equiv="default-style" content="the document's preferred stylesheet"&gt; æ³¨é‡Šï¼šä¸Šé¢ content å±žæ€§çš„å€¼å¿…é¡»åŒ¹é…åŒä¸€æ–‡æ¡£ä¸­çš„ä¸€ä¸ª link å…ƒç´ ä¸Šçš„ title å±žæ€§çš„å€¼ï¼Œæˆ–è€…å¿…é¡»åŒ¹é…åŒä¸€æ–‡æ¡£ä¸­çš„ä¸€ä¸ª style å…ƒç´ ä¸Šçš„ title å±žæ€§çš„å€¼ã€‚ refresh å®šä¹‰æ–‡æ¡£è‡ªåŠ¨åˆ·æ–°çš„æ—¶é—´é—´éš”ã€‚ 1&lt;meta http-equiv="refresh" content="300"&gt; set-cookie è®¾ç½®cookieï¼Œå¦‚æžœç½‘é¡µè¿‡æœŸï¼Œé‚£ä¹ˆæ—§cookieå°†è¢«åˆ é™¤ã€‚ 1&lt;meta http-equiv="set-cookie" content="cookievalue=xxx;expires=Monday,12 Jan 2020 20:20:20 GMT;path=/"&gt; content å±žæ€§:å®šä¹‰ä¸Ž http-equiv æˆ– name å±žæ€§ç›¸å…³çš„å…ƒä¿¡æ¯ã€‚ content å±žæ€§ç»™å‡ºäº†ä¸Ž http-equiv æˆ– name å±žæ€§ç›¸å…³çš„å€¼ã€‚ è¯­æ³•1&lt;meta content="text"&gt; å±žæ€§å€¼text ï¼šmeta ä¿¡æ¯çš„å†…å®¹ã€‚ charsetå±žæ€§ï¼šcharset å±žæ€§è§„å®š HTML æ–‡æ¡£çš„å­—ç¬¦ç¼–ç ã€‚ æç¤ºï¼šcharset å±žæ€§å¯ä»¥é€šè¿‡ä»»æ„å…ƒç´ ä¸Šçš„ lang å±žæ€§æ¥é‡å†™ã€‚ è¯­æ³•1&lt;meta charset="character_set"&gt; å±žæ€§å€¼character_set ï¼šè§„å®š HTML æ–‡æ¡£çš„å­—ç¬¦ç¼–ç ã€‚ å¸¸ç”¨çš„å€¼ï¼š UTF-8 - Unicode å­—ç¬¦ç¼–ç  ISO-8859-1 - æ‹‰ä¸å­—æ¯è¡¨çš„å­—ç¬¦ç¼–ç  1&lt;meta charset ="UTF-8"&gt; åœ¨ç†è®ºä¸Šï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•å­—ç¬¦ç¼–ç ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½èƒ½å¤Ÿç†è§£å®ƒä»¬ã€‚æŸç§å­—ç¬¦ç¼–ç ä½¿ç”¨çš„èŒƒå›´è¶Šå¹¿ï¼Œæµè§ˆå™¨å°±è¶Šæœ‰å¯èƒ½ç†è§£å®ƒã€‚ æœ¬ç¯‡åšå®¢è½¬è½½åœ°å€]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>meta</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‡ç­¾æ¨¡ç‰ˆè¿‡æ»¤é˜²æ­¢æ¶æ„ä»£ç åµŒå…¥]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2F%E6%A0%87%E7%AD%BE%E6%A8%A1%E7%89%88%E8%BF%87%E6%BB%A4%E9%98%B2%E6%AD%A2%E6%81%B6%E6%84%8F%E4%BB%A3%E7%A0%81%E5%B5%8C%E5%85%A5%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920function SaferHTML(templateData) &#123; let s = templateData[0]; for (let i = 1; i &lt; arguments.length; i++) &#123; let arg = String(arguments[i]); // Escape special characters in the substitution. s += arg.replace(/&amp;/g, "&amp;amp;") .replace(/&lt;/g, "&amp;lt;") .replace(/&gt;/g, "&amp;gt;"); // Don't escape special characters in the template. s += templateData[i]; &#125; return s;&#125;let sender = '&lt;script&gt;alert("abc")&lt;/script&gt;'; // æ¶æ„ä»£ç let message = SaferHTML`&lt;p&gt;$&#123;sender&#125; has sent you a message.&lt;/p&gt;`;message"&lt;p&gt;&amp;lt;script&amp;gt;alert("abc")&amp;lt;/script&amp;gt; has sent you a message.&lt;/p&gt;"]]></content>
      <categories>
        <category>JavaScript</category>
        <category>å®‰å…¨</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[letå’Œconstå‘½ä»¤]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2Flet%E5%92%8Cconst%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[ECMAScript 6.0ECMAScript 6.0ï¼ˆä»¥ä¸‹ç®€ç§° ES6ï¼‰æ˜¯ JavaScriptè¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œå·²ç»åœ¨2015å¹´6æœˆæ­£å¼å‘å¸ƒäº†ã€‚å®ƒçš„ç›®æ ‡ï¼Œæ˜¯ä½¿å¾— JavaScript è¯­è¨€å¯ä»¥ç”¨æ¥ç¼–å†™å¤æ‚çš„å¤§åž‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ã€‚ ECMAScript å’Œ JavaScript çš„å…³ç³»ECMAScript å’Œ JavaScript çš„å…³ç³»æ˜¯ï¼Œå‰è€…æ˜¯åŽè€…çš„è§„æ ¼ï¼ŒåŽè€…æ˜¯å‰è€…çš„ä¸€ç§å®žçŽ°ï¼ˆå¦å¤–çš„ ECMAScript æ–¹è¨€è¿˜æœ‰ Jscript å’Œ ActionScriptï¼‰ã€‚æ—¥å¸¸åœºåˆï¼Œè¿™ä¸¤ä¸ªè¯æ˜¯å¯ä»¥äº’æ¢çš„ã€‚ ES6 æ—¢æ˜¯ä¸€ä¸ªåŽ†å²åè¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯5.1ç‰ˆä»¥åŽçš„ JavaScript çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº†ES2015ã€ES2016ã€ES2017ç­‰ç­‰ï¼Œè€ŒES2015 åˆ™æ˜¯æ­£å¼åç§°ï¼Œç‰¹æŒ‡è¯¥å¹´å‘å¸ƒçš„æ­£å¼ç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡†ã€‚ä»¥ä¸‹æåˆ°çš„ ES6 ä¸€èˆ¬æ˜¯æŒ‡ ES2015 æ ‡å‡†ï¼Œä½†æœ‰æ—¶ä¹Ÿæ˜¯æ³›æŒ‡â€œä¸‹ä¸€ä»£ JavaScript è¯­è¨€â€ã€‚ ä¸€ã€let å’Œ const å‘½ä»¤1. letES6 æ–°å¢žäº†letå‘½ä»¤ï¼Œç”¨æ¥å£°æ˜Žå˜é‡ã€‚å®ƒçš„ç”¨æ³•ç±»ä¼¼äºŽvarï¼Œä½†æ˜¯æ‰€å£°æ˜Žçš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚ å¦å¤–ï¼Œforå¾ªçŽ¯è¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«ä¹‹å¤„ï¼Œå°±æ˜¯è®¾ç½®å¾ªçŽ¯å˜é‡çš„é‚£éƒ¨åˆ†æ˜¯ä¸€ä¸ªçˆ¶ä½œç”¨åŸŸï¼Œè€Œå¾ªçŽ¯ä½“å†…éƒ¨æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­ä½œç”¨åŸŸã€‚ ä¸å­˜åœ¨å˜é‡æå‡è¯·å‚é˜… #73varå‘½ä»¤ä¼šå‘ç”Ÿâ€å˜é‡æå‡â€œçŽ°è±¡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜Žä¹‹å‰ä½¿ç”¨ï¼Œå€¼ä¸ºundefinedã€‚è¿™ç§çŽ°è±¡å¤šå¤šå°‘å°‘æ˜¯æœ‰äº›å¥‡æ€ªçš„ï¼ŒæŒ‰ç…§ä¸€èˆ¬çš„é€»è¾‘ï¼Œå˜é‡åº”è¯¥åœ¨å£°æ˜Žè¯­å¥ä¹‹åŽæ‰å¯ä»¥ä½¿ç”¨ã€‚ ä¸ºäº†çº æ­£è¿™ç§çŽ°è±¡ï¼Œletå‘½ä»¤æ”¹å˜äº†è¯­æ³•è¡Œä¸ºï¼Œå®ƒæ‰€å£°æ˜Žçš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜ŽåŽä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™ã€‚ æš‚æ—¶æ€§æ­»åŒºåªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨letå‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜Žçš„å˜é‡å°±â€œç»‘å®šâ€ï¼ˆbindingï¼‰è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ã€‚ES6æ˜Žç¡®è§„å®šï¼Œå¦‚æžœåŒºå—ä¸­å­˜åœ¨letå’Œconstå‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜Žçš„å˜é‡ï¼Œä»Žä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜Žä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚ â€œæš‚æ—¶æ€§æ­»åŒºâ€ä¹Ÿæ„å‘³ç€typeofä¸å†æ˜¯ä¸€ä¸ªç™¾åˆ†ä¹‹ç™¾å®‰å…¨çš„æ“ä½œã€‚ ES6 è§„å®šæš‚æ—¶æ€§æ­»åŒºå’Œletã€constè¯­å¥ä¸å‡ºçŽ°å˜é‡æå‡ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡å°‘è¿è¡Œæ—¶é”™è¯¯ï¼Œé˜²æ­¢åœ¨å˜é‡å£°æ˜Žå‰å°±ä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œä»Žè€Œå¯¼è‡´æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚è¿™æ ·çš„é”™è¯¯åœ¨ ES5 æ˜¯å¾ˆå¸¸è§çš„ï¼ŒçŽ°åœ¨æœ‰äº†è¿™ç§è§„å®šï¼Œé¿å…æ­¤ç±»é”™è¯¯å°±å¾ˆå®¹æ˜“äº†ã€‚ æ€»ä¹‹ï¼Œæš‚æ—¶æ€§æ­»åŒºçš„æœ¬è´¨å°±æ˜¯ï¼Œåªè¦ä¸€è¿›å…¥å½“å‰ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯èŽ·å–ï¼Œåªæœ‰ç­‰åˆ°å£°æ˜Žå˜é‡çš„é‚£ä¸€è¡Œä»£ç å‡ºçŽ°ï¼Œæ‰å¯ä»¥èŽ·å–å’Œä½¿ç”¨è¯¥å˜é‡ã€‚ ä¸å…è®¸é‡å¤å£°æ˜Žletä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜ŽåŒä¸€ä¸ªå˜é‡ã€‚ ES6 çš„å—çº§ä½œç”¨åŸŸletå®žé™…ä¸Šä¸º JavaScript æ–°å¢žäº†å—çº§ä½œç”¨åŸŸã€‚(ES5 åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œè¿™å¸¦æ¥å¾ˆå¤šä¸åˆç†çš„åœºæ™¯ã€‚ç¬¬ä¸€ç§åœºæ™¯ï¼Œå†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡ã€‚ç¬¬äºŒç§åœºæ™¯ï¼Œç”¨æ¥è®¡æ•°çš„å¾ªçŽ¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡ã€‚) å—çº§ä½œç”¨åŸŸä¸Žå‡½æ•°å£°æ˜Žé‰´äºŽå†…éƒ¨å„ç§å¤æ‚çš„æœºåˆ¶ï¼Œè€ƒè™‘åˆ°çŽ¯å¢ƒå¯¼è‡´çš„è¡Œä¸ºå·®å¼‚å¤ªå¤§ï¼Œåº”è¯¥é¿å…åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜Žå‡½æ•°ã€‚å¦‚æžœç¡®å®žéœ€è¦ï¼Œä¹Ÿåº”è¯¥å†™æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜Žè¯­å¥ã€‚ do è¡¨è¾¾å¼æœ¬è´¨ä¸Šï¼Œå—çº§ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªè¯­å¥ï¼Œå°†å¤šä¸ªæ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œæ²¡æœ‰è¿”å›žå€¼ã€‚çŽ°åœ¨æœ‰ä¸€ä¸ªææ¡ˆï¼Œä½¿å¾—å—çº§ä½œç”¨åŸŸå¯ä»¥å˜ä¸ºè¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥è¿”å›žå€¼ï¼ŒåŠžæ³•å°±æ˜¯åœ¨å—çº§ä½œç”¨åŸŸä¹‹å‰åŠ ä¸Šdoï¼Œä½¿å®ƒå˜ä¸ºdoè¡¨è¾¾å¼ã€‚ 1234let x = do &#123; let t = f(); t * t + 1;&#125;; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡xä¼šå¾—åˆ°æ•´ä¸ªå—çº§ä½œç”¨åŸŸçš„è¿”å›žå€¼ã€‚ 2. constconstå£°æ˜Žä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜Žï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚ constå£°æ˜Žçš„å˜é‡ä¸å¾—æ”¹å˜å€¼ï¼Œè¿™æ„å‘³ç€ï¼Œconstä¸€æ—¦å£°æ˜Žå˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åŽèµ‹å€¼ã€‚ï¼ˆåªå£°æ˜Žä¸èµ‹å€¼ï¼Œå°±ä¼šæŠ¥é”™ï¼‰ constçš„ä½œç”¨åŸŸä¸Žletå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜Žæ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚constå‘½ä»¤å£°æ˜Žçš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜Žçš„ä½ç½®åŽé¢ä½¿ç”¨ã€‚constå£°æ˜Žçš„å¸¸é‡ï¼Œä¹Ÿä¸Žletä¸€æ ·ä¸å¯é‡å¤å£°æ˜Žã€‚ æœ¬è´¨constå®žé™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ å¯¹äºŽç®€å•ç±»åž‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºŽå¸¸é‡ã€‚ä½†å¯¹äºŽå¤åˆç±»åž‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºŽå®ƒæŒ‡å‘çš„æ•°æ®ç»“æž„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æŽ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜Žä¸ºå¸¸é‡å¿…é¡»éžå¸¸å°å¿ƒã€‚ å¦‚æžœçœŸçš„æƒ³å°†å¯¹è±¡å†»ç»“ï¼Œåº”è¯¥ä½¿ç”¨Object.freezeæ–¹æ³•ã€‚ ES6 å£°æ˜Žå˜é‡çš„å…­ç§æ–¹æ³•ES5 åªæœ‰ä¸¤ç§å£°æ˜Žå˜é‡çš„æ–¹æ³•ï¼švarå‘½ä»¤å’Œfunctionå‘½ä»¤ã€‚ES6 é™¤äº†æ·»åŠ letå’Œconstå‘½ä»¤ï¼ŒåŽé¢ç« èŠ‚è¿˜ä¼šæåˆ°ã€‚å¦å¤–ä¸¤ç§å£°æ˜Žå˜é‡çš„æ–¹æ³•ï¼šimportå‘½ä»¤å’Œclasså‘½ä»¤ã€‚æ‰€ä»¥ï¼ŒES6 ä¸€å…±æœ‰6ç§å£°æ˜Žå˜é‡çš„æ–¹æ³•ã€‚ 3. é¡¶å±‚å¯¹è±¡çš„å±žæ€§é¡¶å±‚å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨çŽ¯å¢ƒæŒ‡çš„æ˜¯windowå¯¹è±¡ï¼Œåœ¨NodeæŒ‡çš„æ˜¯globalå¯¹è±¡ã€‚ES5ä¹‹ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±žæ€§ä¸Žå…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ã€‚ è¿™æ ·çš„è®¾è®¡å¸¦æ¥äº†å¾ˆå¤§çš„é—®é¢˜ã€‚ ES6ä¸ºäº†æ”¹å˜è¿™ä¸€ç‚¹ï¼Œä¸€æ–¹é¢è§„å®šï¼Œä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜Žçš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±žæ€§ï¼›å¦ä¸€æ–¹é¢è§„å®šï¼Œletå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜Žçš„å…¨å±€å˜é‡ï¼Œä¸å±žäºŽé¡¶å±‚å¯¹è±¡çš„å±žæ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»ŽES6å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸Žé¡¶å±‚å¯¹è±¡çš„å±žæ€§è„±é’©ã€‚ ï¼ˆES5 çš„é¡¶å±‚å¯¹è±¡ï¼Œæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒåœ¨å„ç§å®žçŽ°é‡Œé¢æ˜¯ä¸ç»Ÿä¸€çš„ã€‚ï¼‰ äºŒã€å˜é‡çš„è§£æž„èµ‹å€¼ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»Žæ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æž„ï¼ˆDestructuringï¼‰ã€‚ 1. æ•°ç»„çš„è§£æž„èµ‹å€¼æ›¾ç»ï¼Œä¸ºå˜é‡èµ‹å€¼ï¼Œåªèƒ½ç›´æŽ¥æŒ‡å®šå€¼ã€‚ 123let a = 1;let b = 2;let c = 3; ES6 å…è®¸å†™æˆä¸‹é¢è¿™æ ·ã€‚ 1let [a, b, c] = [1, 2, 3]; ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¯ä»¥ä»Žæ•°ç»„ä¸­æå–å€¼ï¼ŒæŒ‰ç…§å¯¹åº”ä½ç½®ï¼Œå¯¹å˜é‡èµ‹å€¼ã€‚ æœ¬è´¨ä¸Šï¼Œè¿™ç§å†™æ³•å±žäºŽâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ã€‚ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨åµŒå¥—æ•°ç»„è¿›è¡Œè§£æž„çš„ä¾‹å­ã€‚ è§£æž„ä¸æˆåŠŸï¼Œfooçš„å€¼éƒ½ä¼šç­‰äºŽundefinedã€‚ 12345678let [x, y] = [1, 2, 3];x // 1y // 2let [a, [b], d] = [1, [2, 3], 4];a // 1b // 2d // 4 ä¸Šé¢å±žäºŽä¸å®Œå…¨è§£æž„ï¼Œä½†æ˜¯å¯ä»¥æˆåŠŸã€‚ äº‹å®žä¸Šï¼Œåªè¦æŸç§æ•°æ®ç»“æž„å…·æœ‰ Iterator æŽ¥å£ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„å½¢å¼çš„è§£æž„èµ‹å€¼ã€‚ é»˜è®¤å€¼è§£æž„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼ã€‚ 12345let [foo = true] = [];foo // truelet [x, y = 'b'] = ['a']; // x='a', y='b'let [x, y = 'b'] = ['a', undefined]; // x='a', y='b' æ³¨æ„ï¼ŒES6 å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œåˆ¤æ–­ä¸€ä¸ªä½ç½®æ˜¯å¦æœ‰å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æžœä¸€ä¸ªæ•°ç»„æˆå‘˜ä¸ä¸¥æ ¼ç­‰äºŽundefinedï¼Œé»˜è®¤å€¼æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚å¦‚æžœä¸€ä¸ªæ•°ç»„æˆå‘˜æ˜¯nullï¼Œé»˜è®¤å€¼å°±ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºnullä¸ä¸¥æ ¼ç­‰äºŽundefinedã€‚ é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æž„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜Žã€‚ 2. å¯¹è±¡çš„è§£æž„èµ‹å€¼è§£æž„ä¸ä»…å¯ä»¥ç”¨äºŽæ•°ç»„ï¼Œè¿˜å¯ä»¥ç”¨äºŽå¯¹è±¡ã€‚ 123let &#123; foo, bar &#125; = &#123; foo: "aaa", bar: "bbb" &#125;;foo // "aaa"bar // "bbb" å¯¹è±¡çš„è§£æž„ä¸Žæ•°ç»„æœ‰ä¸€ä¸ªé‡è¦çš„ä¸åŒã€‚ æ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæŽ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®šï¼›è€Œå¯¹è±¡çš„å±žæ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸Žå±žæ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼ã€‚ ç­‰å·å·¦è¾¹ä¸¤ä¸ªå˜é‡çš„æ¬¡åºï¼Œä¸Žç­‰å·å³è¾¹ä¸¤ä¸ªåŒåå±žæ€§çš„æ¬¡åºä¸ä¸€è‡´ï¼Œå¯¹å–å€¼å®Œå…¨æ²¡æœ‰å½±å“ å¦‚æžœå˜é‡æ²¡æœ‰å¯¹åº”çš„åŒåå±žæ€§ï¼Œå¯¼è‡´å–ä¸åˆ°å€¼ï¼Œæœ€åŽç­‰äºŽundefinedã€‚ å¦‚æžœå˜é‡åä¸Žå±žæ€§åä¸ä¸€è‡´ï¼Œå¿…é¡»å†™æˆä¸‹é¢è¿™æ ·ã€‚ 1234567var &#123; foo: baz &#125; = &#123; foo: 'aaa', bar: 'bbb' &#125;;baz // "aaa"let obj = &#123; first: 'hello', last: 'world' &#125;;let &#123; first: f, last: l &#125; = obj;f // 'hello'l // 'world' è¿™å®žé™…ä¸Šè¯´æ˜Žï¼Œå¯¹è±¡çš„è§£æž„èµ‹å€¼æ˜¯ä¸‹é¢å½¢å¼çš„ç®€å†™ï¼ˆå‚è§ã€Šå¯¹è±¡çš„æ‰©å±•ã€‹ä¸€ç« ï¼‰ã€‚ 1let &#123; foo: foo, bar: bar &#125; = &#123; foo: "aaa", bar: "bbb" &#125;; ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„è§£æž„èµ‹å€¼çš„å†…éƒ¨æœºåˆ¶ï¼Œæ˜¯å…ˆæ‰¾åˆ°åŒåå±žæ€§ï¼Œç„¶åŽå†èµ‹ç»™å¯¹åº”çš„å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯åŽè€…ï¼Œè€Œä¸æ˜¯å‰è€…ã€‚ 123let &#123; foo: baz &#125; = &#123; foo: "aaa", bar: "bbb" &#125;;baz // "aaa"foo // error: foo is not defined ä¸Šé¢ä»£ç ä¸­ï¼Œfooæ˜¯åŒ¹é…çš„æ¨¡å¼ï¼Œbazæ‰æ˜¯å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯å˜é‡bazï¼Œè€Œä¸æ˜¯æ¨¡å¼fooã€‚ ä¸Žæ•°ç»„ä¸€æ ·ï¼Œè§£æž„ä¹Ÿå¯ä»¥ç”¨äºŽåµŒå¥—ç»“æž„çš„å¯¹è±¡ã€‚ 12345678910let obj = &#123; p: [ 'Hello', &#123; y: 'World' &#125; ]&#125;;let &#123; p: [x, &#123; y &#125;] &#125; = obj;x // "Hello"y // "World" æ³¨æ„ï¼Œè¿™æ—¶pæ˜¯æ¨¡å¼ï¼Œä¸æ˜¯å˜é‡ï¼Œå› æ­¤ä¸ä¼šè¢«èµ‹å€¼ã€‚å¦‚æžœpä¹Ÿè¦ä½œä¸ºå˜é‡èµ‹å€¼ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚ 1234567891011let obj = &#123; p: [ 'Hello', &#123; y: 'World' &#125; ]&#125;;let &#123; p, p: [x, &#123; y &#125;] &#125; = obj;x // "Hello"y // "World"p // ["Hello", &#123;y: "World"&#125;] å¯¹è±¡çš„è§£æž„ä¹Ÿå¯ä»¥æŒ‡å®šé»˜è®¤å€¼ã€‚å¦‚æžœè§£æž„æ¨¡å¼æ˜¯åµŒå¥—çš„å¯¹è±¡ï¼Œè€Œä¸”å­å¯¹è±¡æ‰€åœ¨çš„çˆ¶å±žæ€§ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°†ä¼šæŠ¥é”™ã€‚ å¯¹è±¡çš„è§£æž„èµ‹å€¼ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†çŽ°æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œèµ‹å€¼åˆ°æŸä¸ªå˜é‡ã€‚ 1let &#123; log, sin, cos &#125; = Math; ä¸Šé¢ä»£ç å°†Mathå¯¹è±¡çš„å¯¹æ•°ã€æ­£å¼¦ã€ä½™å¼¦ä¸‰ä¸ªæ–¹æ³•ï¼Œèµ‹å€¼åˆ°å¯¹åº”çš„å˜é‡ä¸Šï¼Œä½¿ç”¨èµ·æ¥å°±ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚ ç”±äºŽæ•°ç»„æœ¬è´¨æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡å±žæ€§çš„è§£æž„ã€‚ 1234let arr = [1, 2, 3];let &#123;0 : first, [arr.length - 1] : last&#125; = arr;first // 1last // 3 ä¸Šé¢ä»£ç å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡è§£æž„ã€‚æ•°ç»„arrçš„0é”®å¯¹åº”çš„å€¼æ˜¯1ï¼Œ[arr.length - 1]å°±æ˜¯2é”®ï¼Œå¯¹åº”çš„å€¼æ˜¯3ã€‚æ–¹æ‹¬å·è¿™ç§å†™æ³•ï¼Œå±žäºŽâ€œå±žæ€§åè¡¨è¾¾å¼â€ï¼Œå‚è§ã€Šå¯¹è±¡çš„æ‰©å±•ã€‹ 3. å­—ç¬¦ä¸²çš„è§£æž„èµ‹å€¼å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æž„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚ 123456const [a, b, c, d, e] = 'hello';a // "h"b // "e"c // "l"d // "l"e // "o" ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªlengthå±žæ€§ï¼Œå› æ­¤è¿˜å¯ä»¥å¯¹è¿™ä¸ªå±žæ€§è§£æž„èµ‹å€¼ã€‚ 12let &#123;length : len&#125; = 'hello';len // 5 4. æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æž„èµ‹å€¼è§£æž„èµ‹å€¼æ—¶ï¼Œå¦‚æžœç­‰å·å³è¾¹æ˜¯æ•°å€¼å’Œå¸ƒå°”å€¼ï¼Œåˆ™ä¼šå…ˆè½¬ä¸ºå¯¹è±¡ã€‚ 12345let &#123;toString: s&#125; = 123;s === Number.prototype.toString // truelet &#123;toString: s&#125; = true;s === Boolean.prototype.toString // true ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°å€¼å’Œå¸ƒå°”å€¼çš„åŒ…è£…å¯¹è±¡éƒ½æœ‰toStringå±žæ€§ï¼Œå› æ­¤å˜é‡séƒ½èƒ½å–åˆ°å€¼ã€‚ è§£æž„èµ‹å€¼çš„è§„åˆ™æ˜¯ï¼Œåªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼Œå°±å…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚ç”±äºŽundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¯¹å®ƒä»¬è¿›è¡Œè§£æž„èµ‹å€¼ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚ 12let &#123; prop: x &#125; = undefined; // TypeErrorlet &#123; prop: y &#125; = null; // TypeError 5. å‡½æ•°å‚æ•°çš„è§£æž„èµ‹å€¼å‡½æ•°çš„å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ã€‚ 12345function add([x, y])&#123; return x + y;&#125;add([1, 2]); // 3 ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°addçš„å‚æ•°è¡¨é¢ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†åœ¨ä¼ å…¥å‚æ•°çš„é‚£ä¸€åˆ»ï¼Œæ•°ç»„å‚æ•°å°±è¢«è§£æž„æˆå˜é‡xå’Œyã€‚å¯¹äºŽå‡½æ•°å†…éƒ¨çš„ä»£ç æ¥è¯´ï¼Œå®ƒä»¬èƒ½æ„Ÿå—åˆ°çš„å‚æ•°å°±æ˜¯xå’Œyã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚ 12[[1, 2], [3, 4]].map(([a, b]) =&gt; a + b);// [ 3, 7 ] å‡½æ•°å‚æ•°çš„è§£æž„ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ã€‚ 12345678function move(&#123;x = 0, y = 0&#125; = &#123;&#125;) &#123; return [x, y];&#125;move(&#123;x: 3, y: 8&#125;); // [3, 8]move(&#123;x: 3&#125;); // [3, 0]move(&#123;&#125;); // [0, 0]move(); // [0, 0] ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°moveçš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œè§£æž„ï¼Œå¾—åˆ°å˜é‡xå’Œyçš„å€¼ã€‚å¦‚æžœè§£æž„å¤±è´¥ï¼Œxå’Œyç­‰äºŽé»˜è®¤å€¼ æ³¨æ„ï¼Œä¸‹é¢çš„å†™æ³•ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æžœã€‚ 12345678function move(&#123;x, y&#125; = &#123; x: 0, y: 0 &#125;) &#123; return [x, y];&#125;move(&#123;x: 3, y: 8&#125;); // [3, 8]move(&#123;x: 3&#125;); // [3, undefined]move(&#123;&#125;); // [undefined, undefined]move(); // [0, 0] ä¸Šé¢ä»£ç æ˜¯ä¸ºå‡½æ•°moveçš„å‚æ•°æŒ‡å®šé»˜è®¤å€¼ï¼Œè€Œä¸æ˜¯ä¸ºå˜é‡xå’ŒyæŒ‡å®šé»˜è®¤å€¼ï¼Œæ‰€ä»¥ä¼šå¾—åˆ°ä¸Žå‰ä¸€ç§å†™æ³•ä¸åŒçš„ç»“æžœã€‚ å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µå¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µåªæœ‰ä¸€ç§ï¼šèµ‹å€¼è¯­å¥çš„éžæ¨¡å¼éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨åœ†æ‹¬å·ã€‚ 123[(b)] = [3]; // æ­£ç¡®(&#123; p: (d) &#125; = &#123;&#125;); // æ­£ç¡®[(parseInt.prop)] = [3]; // æ­£ç¡® ä¸Šé¢ä¸‰è¡Œè¯­å¥éƒ½å¯ä»¥æ­£ç¡®æ‰§è¡Œï¼Œå› ä¸ºé¦–å…ˆå®ƒä»¬éƒ½æ˜¯èµ‹å€¼è¯­å¥ï¼Œè€Œä¸æ˜¯å£°æ˜Žè¯­å¥ï¼›å…¶æ¬¡å®ƒä»¬çš„åœ†æ‹¬å·éƒ½ä¸å±žäºŽæ¨¡å¼çš„ä¸€éƒ¨åˆ†ã€‚ç¬¬ä¸€è¡Œè¯­å¥ä¸­ï¼Œæ¨¡å¼æ˜¯å–æ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ï¼Œè·Ÿåœ†æ‹¬å·æ— å…³ï¼›ç¬¬äºŒè¡Œè¯­å¥ä¸­ï¼Œæ¨¡å¼æ˜¯pï¼Œè€Œä¸æ˜¯dï¼›ç¬¬ä¸‰è¡Œè¯­å¥ä¸Žç¬¬ä¸€è¡Œè¯­å¥çš„æ€§è´¨ä¸€è‡´ã€‚ ç”¨é€”å˜é‡çš„è§£æž„èµ‹å€¼ç”¨é€”å¾ˆå¤šã€‚ ï¼ˆ1ï¼‰äº¤æ¢å˜é‡çš„å€¼1234let x = 1;let y = 2;[x, y] = [y, x]; ä¸Šé¢ä»£ç äº¤æ¢å˜é‡xå’Œyçš„å€¼ï¼Œè¿™æ ·çš„å†™æ³•ä¸ä»…ç®€æ´ï¼Œè€Œä¸”æ˜“è¯»ï¼Œè¯­ä¹‰éžå¸¸æ¸…æ™°ã€‚ ï¼ˆ2ï¼‰ä»Žå‡½æ•°è¿”å›žå¤šä¸ªå€¼å‡½æ•°åªèƒ½è¿”å›žä¸€ä¸ªå€¼ï¼Œå¦‚æžœè¦è¿”å›žå¤šä¸ªå€¼ï¼Œåªèƒ½å°†å®ƒä»¬æ”¾åœ¨æ•°ç»„æˆ–å¯¹è±¡é‡Œè¿”å›žã€‚æœ‰äº†è§£æž„èµ‹å€¼ï¼Œå–å‡ºè¿™äº›å€¼å°±éžå¸¸æ–¹ä¾¿ã€‚ 12345678910111213141516// è¿”å›žä¸€ä¸ªæ•°ç»„function example() &#123; return [1, 2, 3];&#125;let [a, b, c] = example();// è¿”å›žä¸€ä¸ªå¯¹è±¡function example() &#123; return &#123; foo: 1, bar: 2 &#125;;&#125;let &#123; foo, bar &#125; = example(); ï¼ˆ3ï¼‰å‡½æ•°å‚æ•°çš„å®šä¹‰è§£æž„èµ‹å€¼å¯ä»¥æ–¹ä¾¿åœ°å°†ä¸€ç»„å‚æ•°ä¸Žå˜é‡åå¯¹åº”èµ·æ¥ã€‚ 1234567// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼function f([x, y, z]) &#123; ... &#125;f([1, 2, 3]);// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼function f(&#123;x, y, z&#125;) &#123; ... &#125;f(&#123;z: 3, y: 2, x: 1&#125;); ï¼ˆ4ï¼‰æå–JSONæ•°æ®è§£æž„èµ‹å€¼å¯¹æå–JSONå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œå°¤å…¶æœ‰ç”¨ã€‚ 12345678910let jsonData = &#123; id: 42, status: "OK", data: [867, 5309]&#125;;let &#123; id, status, data: number &#125; = jsonData;console.log(id, status, number);// 42, "OK", [867, 5309] ï¼ˆ5ï¼‰å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼1234567891011jQuery.ajax = function (url, &#123; async = true, beforeSend = function () &#123;&#125;, cache = true, complete = function () &#123;&#125;, crossDomain = false, global = true, // ... more config&#125;) &#123; // ... do stuff&#125;; æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±é¿å…äº†åœ¨å‡½æ•°ä½“å†…éƒ¨å†å†™var foo = config.foo || &#39;default foo&#39;;è¿™æ ·çš„è¯­å¥ã€‚ ï¼ˆ6ï¼‰éåŽ†Mapç»“æž„ä»»ä½•éƒ¨ç½²äº†IteratoræŽ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨for...ofå¾ªçŽ¯éåŽ†ã€‚Mapç»“æž„åŽŸç”Ÿæ”¯æŒIteratoræŽ¥å£ï¼Œé…åˆå˜é‡çš„è§£æž„èµ‹å€¼ï¼ŒèŽ·å–é”®åå’Œé”®å€¼å°±éžå¸¸æ–¹ä¾¿ã€‚ 1234567891011121314151617181920var map = new Map();map.set('first', 'hello');map.set('second', 'world');for (let [key, value] of map) &#123; console.log(key + " is " + value);&#125;// first is hello// second is worldå¦‚æžœåªæƒ³èŽ·å–é”®åï¼Œæˆ–è€…åªæƒ³èŽ·å–é”®å€¼ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚// èŽ·å–é”®åfor (let [key] of map) &#123; // ...&#125;// èŽ·å–é”®å€¼for (let [,value] of map) &#123; // ...&#125; ï¼ˆ7ï¼‰è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•åŠ è½½æ¨¡å—æ—¶ï¼Œå¾€å¾€éœ€è¦æŒ‡å®šè¾“å…¥å“ªäº›æ–¹æ³•ã€‚è§£æž„èµ‹å€¼ä½¿å¾—è¾“å…¥è¯­å¥éžå¸¸æ¸…æ™°ã€‚ 1const &#123; SourceMapConsumer, SourceNode &#125; = require("source-map");]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>let</tag>
        <tag>const</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6ä¸­å¯¹JSçš„æ‰©å±•]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6%E4%B8%AD%E5%AF%B9JS%E7%9A%84%E6%89%A9%E5%B1%95%2F</url>
    <content type="text"><![CDATA[ç›®å½•ï¼š å­—ç¬¦ä¸²çš„æ‰©å±• æ­£åˆ™çš„æ‰©å±• æ•°å€¼çš„æ‰©å±• å‡½æ•°çš„æ‰©å±• æ•°ç»„çš„æ‰©å±• å¯¹è±¡çš„æ‰©å±• å­—ç¬¦ä¸²çš„æ‰©å±•ES6 åŠ å¼ºäº†å¯¹ Unicode çš„æ”¯æŒï¼Œå¹¶ä¸”æ‰©å±•äº†å­—ç¬¦ä¸²å¯¹è±¡ã€‚ ç›®å½•ï¼š å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³• codePointAt() String.fromCodePoint() å­—ç¬¦ä¸²çš„éåŽ†å™¨æŽ¥å£ at() normalize() includes(), startsWith(), endsWith() repeat() padStart()ï¼ŒpadEnd() æ¨¡æ¿å­—ç¬¦ä¸² å®žä¾‹ï¼šæ¨¡æ¿ç¼–è¯‘ æ ‡ç­¾æ¨¡æ¿ String.raw() æ¨¡æ¿å­—ç¬¦ä¸²çš„é™åˆ¶ å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³•JavaScript å…è®¸é‡‡ç”¨\uxxxxå½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­xxxxè¡¨ç¤ºå­—ç¬¦çš„ Unicode ç ç‚¹ã€‚ 12"\u0061"// "a" ä½†æ˜¯ï¼Œè¿™ç§è¡¨ç¤ºæ³•åªé™äºŽç ç‚¹åœ¨\u0000~\uFFFFä¹‹é—´çš„å­—ç¬¦ã€‚è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å­—ç¬¦ï¼Œå¿…é¡»ç”¨ä¸¤ä¸ªåŒå­—èŠ‚çš„å½¢å¼è¡¨ç¤ºã€‚ 12345"\uD842\uDFB7"// "ð ®·""\u20BB7"// " 7" ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æžœç›´æŽ¥åœ¨\uåŽé¢è·Ÿä¸Šè¶…è¿‡0xFFFFçš„æ•°å€¼ï¼ˆæ¯”å¦‚\u20BB7ï¼‰ï¼ŒJavaScriptä¼šç†è§£æˆ\u20BB+7ã€‚ç”±äºŽ\u20BBæ˜¯ä¸€ä¸ªä¸å¯æ‰“å°å­—ç¬¦ï¼Œæ‰€ä»¥åªä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼ï¼ŒåŽé¢è·Ÿç€ä¸€ä¸ª7ã€‚ ES6 å¯¹è¿™ä¸€ç‚¹åšå‡ºäº†æ”¹è¿›ï¼Œåªè¦å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦ã€‚ 1234567891011"\u&#123;20BB7&#125;"// "ð ®·""\u&#123;41&#125;\u&#123;42&#125;\u&#123;43&#125;"// "ABC"let hello = 123;hell\u&#123;6F&#125; // 123'\u&#123;1F680&#125;' === '\uD83D\uDE80'// true ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€åŽä¸€ä¸ªä¾‹å­è¡¨æ˜Žï¼Œå¤§æ‹¬å·è¡¨ç¤ºæ³•ä¸Žå››å­—èŠ‚çš„ UTF-16 ç¼–ç æ˜¯ç­‰ä»·çš„ã€‚ æœ‰äº†è¿™ç§è¡¨ç¤ºæ³•ä¹‹åŽï¼ŒJavaScript å…±æœ‰6ç§æ–¹æ³•å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚ 12345'\z' === 'z' // true'\172' === 'z' // true'\x7A' === 'z' // true'\u007A' === 'z' // true'\u&#123;7A&#125;' === 'z' // true codePointAt()JavaScriptå†…éƒ¨ï¼Œå­—ç¬¦ä»¥UTF-16çš„æ ¼å¼å‚¨å­˜ï¼Œæ¯ä¸ªå­—ç¬¦å›ºå®šä¸º2ä¸ªå­—èŠ‚ã€‚å¯¹äºŽé‚£äº›éœ€è¦4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼ˆUnicodeç ç‚¹å¤§äºŽ0xFFFFçš„å­—ç¬¦ï¼‰ï¼ŒJavaScriptä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚ 1234567var s = "ð ®·";s.length // 2s.charAt(0) // ''s.charAt(1) // ''s.charCodeAt(0) // 55362s.charCodeAt(1) // 57271 ä¸Šé¢ä»£ç ä¸­ï¼Œæ±‰å­—â€œð ®·â€ï¼ˆæ³¨æ„ï¼Œè¿™ä¸ªå­—ä¸æ˜¯â€œå‰ç¥¥â€çš„â€œå‰â€ï¼‰çš„ç ç‚¹æ˜¯0x20BB7ï¼ŒUTF-16ç¼–ç ä¸º0xD842 0xDFB7ï¼ˆåè¿›åˆ¶ä¸º55362 57271ï¼‰ï¼Œéœ€è¦4ä¸ªå­—èŠ‚å‚¨å­˜ã€‚å¯¹äºŽè¿™ç§4ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼ŒJavaScriptä¸èƒ½æ­£ç¡®å¤„ç†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¼šè¯¯åˆ¤ä¸º2ï¼Œè€Œä¸”charAtæ–¹æ³•æ— æ³•è¯»å–æ•´ä¸ªå­—ç¬¦ï¼ŒcharCodeAtæ–¹æ³•åªèƒ½åˆ†åˆ«è¿”å›žå‰ä¸¤ä¸ªå­—èŠ‚å’ŒåŽä¸¤ä¸ªå­—èŠ‚çš„å€¼ã€‚ ES6æä¾›äº†codePointAtæ–¹æ³•ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç†4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼Œè¿”å›žä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹ã€‚ 123456var s = 'ð ®·a';s.codePointAt(0) // 134071s.codePointAt(1) // 57271s.codePointAt(2) // 97 codePointAtæ–¹æ³•çš„å‚æ•°ï¼Œæ˜¯å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼ˆä»Ž0å¼€å§‹ï¼‰ã€‚ä¸Šé¢ä»£ç ä¸­ï¼ŒJavaScriptå°†â€œð ®·aâ€è§†ä¸ºä¸‰ä¸ªå­—ç¬¦ï¼ŒcodePointAtæ–¹æ³•åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œæ­£ç¡®åœ°è¯†åˆ«äº†â€œð ®·â€ï¼Œè¿”å›žäº†å®ƒçš„åè¿›åˆ¶ç ç‚¹134071ï¼ˆå³åå…­è¿›åˆ¶çš„20BB7ï¼‰ã€‚åœ¨ç¬¬äºŒä¸ªå­—ç¬¦ï¼ˆå³â€œð ®·â€çš„åŽä¸¤ä¸ªå­—èŠ‚ï¼‰å’Œç¬¬ä¸‰ä¸ªå­—ç¬¦â€œaâ€ä¸Šï¼ŒcodePointAtæ–¹æ³•çš„ç»“æžœä¸ŽcharCodeAtæ–¹æ³•ç›¸åŒã€‚ æ€»ä¹‹ï¼ŒcodePointAtæ–¹æ³•ä¼šæ­£ç¡®è¿”å›ž32ä½çš„UTF-16å­—ç¬¦çš„ç ç‚¹ã€‚å¯¹äºŽé‚£äº›ä¸¤ä¸ªå­—èŠ‚å‚¨å­˜çš„å¸¸è§„å­—ç¬¦ï¼Œå®ƒçš„è¿”å›žç»“æžœä¸ŽcharCodeAtæ–¹æ³•ç›¸åŒã€‚ codePointAtæ–¹æ³•è¿”å›žçš„æ˜¯ç ç‚¹çš„åè¿›åˆ¶å€¼ï¼Œå¦‚æžœæƒ³è¦åå…­è¿›åˆ¶çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨toStringæ–¹æ³•è½¬æ¢ä¸€ä¸‹ã€‚ 1234var s = 'ð ®·a';s.codePointAt(0).toString(16) // "20bb7"s.codePointAt(2).toString(16) // "61" ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼ŒcodePointAtæ–¹æ³•çš„å‚æ•°ï¼Œä»ç„¶æ˜¯ä¸æ­£ç¡®çš„ã€‚æ¯”å¦‚ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦aåœ¨å­—ç¬¦ä¸²sçš„æ­£ç¡®ä½ç½®åºå·åº”è¯¥æ˜¯1ï¼Œä½†æ˜¯å¿…é¡»å‘codePointAtæ–¹æ³•ä¼ å…¥2ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªåŠžæ³•æ˜¯ä½¿ç”¨forâ€¦ofå¾ªçŽ¯ï¼Œå› ä¸ºå®ƒä¼šæ­£ç¡®è¯†åˆ«32ä½çš„UTF-16å­—ç¬¦ã€‚ 123456var s = 'ð ®·a';for (let ch of s) &#123; console.log(ch.codePointAt(0).toString(16));&#125;// 20bb7// 61 codePointAtæ–¹æ³•æ˜¯æµ‹è¯•ä¸€ä¸ªå­—ç¬¦ç”±ä¸¤ä¸ªå­—èŠ‚è¿˜æ˜¯ç”±å››ä¸ªå­—èŠ‚ç»„æˆçš„æœ€ç®€å•æ–¹æ³•ã€‚ 123456function is32Bit(c) &#123; return c.codePointAt(0) &gt; 0xFFFF;&#125;is32Bit("ð ®·") // trueis32Bit("a") // false String.fromCodePoint()ES5æä¾›String.fromCharCodeæ–¹æ³•ï¼Œç”¨äºŽä»Žç ç‚¹è¿”å›žå¯¹åº”å­—ç¬¦ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸èƒ½è¯†åˆ«32ä½çš„UTF-16å­—ç¬¦ï¼ˆUnicodeç¼–å·å¤§äºŽ0xFFFFï¼‰ã€‚ 12String.fromCharCode(0x20BB7)// "à®·" ä¸Šé¢ä»£ç ä¸­ï¼ŒString.fromCharCodeä¸èƒ½è¯†åˆ«å¤§äºŽ0xFFFFçš„ç ç‚¹ï¼Œæ‰€ä»¥0x20BB7å°±å‘ç”Ÿäº†æº¢å‡ºï¼Œæœ€é«˜ä½2è¢«èˆå¼ƒäº†ï¼Œæœ€åŽè¿”å›žç ç‚¹U+0BB7å¯¹åº”çš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯ç ç‚¹U+20BB7å¯¹åº”çš„å­—ç¬¦ã€‚ ES6æä¾›äº†String.fromCodePointæ–¹æ³•ï¼Œå¯ä»¥è¯†åˆ«å¤§äºŽ0xFFFFçš„å­—ç¬¦ï¼Œå¼¥è¡¥äº†String.fromCharCodeæ–¹æ³•çš„ä¸è¶³ã€‚åœ¨ä½œç”¨ä¸Šï¼Œæ­£å¥½ä¸ŽcodePointAtæ–¹æ³•ç›¸åã€‚ 1234String.fromCodePoint(0x20BB7)// "ð ®·"String.fromCodePoint(0x78, 0x1f680, 0x79) === 'x\uD83D\uDE80y'// true ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœString.fromCodePointæ–¹æ³•æœ‰å¤šä¸ªå‚æ•°ï¼Œåˆ™å®ƒä»¬ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›žã€‚ æ³¨æ„ï¼ŒfromCodePointæ–¹æ³•å®šä¹‰åœ¨Stringå¯¹è±¡ä¸Šï¼Œè€ŒcodePointAtæ–¹æ³•å®šä¹‰åœ¨å­—ç¬¦ä¸²çš„å®žä¾‹å¯¹è±¡ä¸Šã€‚ å­—ç¬¦ä¸²çš„éåŽ†å™¨æŽ¥å£ES6ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éåŽ†å™¨æŽ¥å£ï¼ˆè¯¦è§ã€ŠIteratorã€‹ä¸€ç« ï¼‰ï¼Œä½¿å¾—å­—ç¬¦ä¸²å¯ä»¥è¢«forâ€¦ofå¾ªçŽ¯éåŽ†ã€‚ 123456for (let codePoint of 'foo') &#123; console.log(codePoint)&#125;// "f"// "o"// "o" é™¤äº†éåŽ†å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªéåŽ†å™¨æœ€å¤§çš„ä¼˜ç‚¹æ˜¯å¯ä»¥è¯†åˆ«å¤§äºŽ0xFFFFçš„ç ç‚¹ï¼Œä¼ ç»Ÿçš„forå¾ªçŽ¯æ— æ³•è¯†åˆ«è¿™æ ·çš„ç ç‚¹ã€‚ at()ES5 å¯¹å­—ç¬¦ä¸²å¯¹è±¡æä¾›charAtæ–¹æ³•ï¼Œè¿”å›žå­—ç¬¦ä¸²ç»™å®šä½ç½®çš„å­—ç¬¦ã€‚è¯¥æ–¹æ³•ä¸èƒ½è¯†åˆ«ç ç‚¹å¤§äºŽ0xFFFFçš„å­—ç¬¦ã€‚ ç›®å‰ï¼Œæœ‰ä¸€ä¸ªææ¡ˆï¼Œæå‡ºå­—ç¬¦ä¸²å®žä¾‹çš„atæ–¹æ³•ï¼Œå¯ä»¥è¯†åˆ« Unicode ç¼–å·å¤§äºŽ0xFFFFçš„å­—ç¬¦ï¼Œè¿”å›žæ­£ç¡®çš„å­—ç¬¦ã€‚ 12'abc'.at(0) // "a"'ð ®·'.at(0) // "ð ®·" è¿™ä¸ªæ–¹æ³•å¯ä»¥é€šè¿‡åž«ç‰‡åº“å®žçŽ°ã€‚ normalize()ES6 æä¾›å­—ç¬¦ä¸²å®žä¾‹çš„normalize()æ–¹æ³•ï¼Œç”¨æ¥å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ï¼Œè¿™ç§°ä¸º Unicode æ­£è§„åŒ–ã€‚ includes(), startsWith(), endsWith()ä¼ ç»Ÿä¸Šï¼ŒJavaScriptåªæœ‰indexOfæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ES6åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ã€‚ includes()ï¼šè¿”å›žå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚ startsWith()ï¼šè¿”å›žå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŽŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚ endsWith()ï¼šè¿”å›žå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŽŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ 12345678910111213var s = 'Hello world!';s.startsWith('Hello') // trues.endsWith('!') // trues.includes('o') // true// è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚s.startsWith('world', 6) // trues.endsWith('Hello', 5) // trues.includes('Hello', 6) // false// ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°næ—¶ï¼ŒendsWithçš„è¡Œä¸ºä¸Žå…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰nä¸ªå­—ç¬¦ï¼Œ// è€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»Žç¬¬nä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚ repeat()repeatæ–¹æ³•è¿”å›žä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŽŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚ å‚æ•°å¦‚æžœæ˜¯å°æ•°ï¼Œä¼šè¢«å–æ•´ã€‚ 1'na'.repeat(2.9) // "nana" å¦‚æžœrepeatçš„å‚æ•°æ˜¯è´Ÿæ•°æˆ–è€…Infinityï¼Œä¼šæŠ¥é”™ã€‚ 1234'na'.repeat(Infinity)// RangeError'na'.repeat(-1)// RangeError ä½†æ˜¯ï¼Œå¦‚æžœå‚æ•°æ˜¯0åˆ°-1ä¹‹é—´çš„å°æ•°ï¼Œåˆ™ç­‰åŒäºŽ0ï¼Œè¿™æ˜¯å› ä¸ºä¼šå…ˆè¿›è¡Œå–æ•´è¿ç®—ã€‚0åˆ°-1ä¹‹é—´çš„å°æ•°ï¼Œå–æ•´ä»¥åŽç­‰äºŽ-0ï¼Œrepeatè§†åŒä¸º0ã€‚ 1'na'.repeat(-0.9) // "" å‚æ•°NaNç­‰åŒäºŽ0ã€‚ 1'na'.repeat(NaN) // "" å¦‚æžœrepeatçš„å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå…ˆè½¬æ¢æˆæ•°å­—ã€‚ 12'na'.repeat('na') // ""'na'.repeat('3') // "nanana" padStart()ï¼ŒpadEnd()ES2017 å¼•å…¥äº†å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦çš„åŠŸèƒ½ã€‚å¦‚æžœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚padStart()ç”¨äºŽå¤´éƒ¨è¡¥å…¨ï¼ŒpadEnd()ç”¨äºŽå°¾éƒ¨è¡¥å…¨ã€‚ 12345'x'.padStart(5, 'ab') // 'ababx''x'.padStart(4, 'ab') // 'abax''x'.padEnd(5, 'ab') // 'xabab''x'.padEnd(4, 'ab') // 'xaba' ä¸Šé¢ä»£ç ä¸­ï¼ŒpadStartå’ŒpadEndä¸€å…±æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç”¨æ¥æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚ å¦‚æžœåŽŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç­‰äºŽæˆ–å¤§äºŽæŒ‡å®šçš„æœ€å°é•¿åº¦ï¼Œåˆ™è¿”å›žåŽŸå­—ç¬¦ä¸²ã€‚ å¦‚æžœç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ä¸ŽåŽŸå­—ç¬¦ä¸²ï¼Œä¸¤è€…çš„é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æŒ‡å®šçš„æœ€å°é•¿åº¦ï¼Œåˆ™ä¼šæˆªåŽ»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚ å¦‚æžœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦ã€‚ padStartçš„å¸¸è§ç”¨é€”æ˜¯ä¸ºæ•°å€¼è¡¥å…¨æŒ‡å®šä½æ•°ã€‚ä¸‹é¢ä»£ç ç”Ÿæˆ10ä½çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚ 123'1'.padStart(10, '0') // "0000000001"'12'.padStart(10, '0') // "0000000012"'123456'.padStart(10, '0') // "0000123456" å¦ä¸€ä¸ªç”¨é€”æ˜¯æç¤ºå­—ç¬¦ä¸²æ ¼å¼ã€‚ 12'12'.padStart(10, 'YYYY-MM-DD') // "YYYY-MM-12"'09-12'.padStart(10, 'YYYY-MM-DD') // "YYYY-09-12" æ¨¡æ¿å­—ç¬¦ä¸²ES6 ä¸­å¼•è¿›çš„ä¸€ç§æ–°åž‹çš„å­—ç¬¦ä¸²å­—é¢é‡è¯­æ³• æ¨¡æ¿å­—ç¬¦ä¸²(Template String)æ˜¯å¢žå¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·(`)æ ‡è¯†ï¼Œå®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚ 12345678910// æ™®é€šå­—ç¬¦ä¸²`In JavaScript '\n' is a line-feed.`// å¤šè¡Œå­—ç¬¦ä¸²`In JavaScript this isnot legal.`// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡var name = "Bob", time = "today";`Hello $&#123;name&#125;, how are you $&#123;time&#125;?` // Hello Bob, how are you today? å¦‚æžœä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œåˆ™æ‰€æœ‰çš„ç©ºæ ¼ã€ç¼©è¿›å’Œæ¢è¡Œéƒ½ä¼šè¢«ä¿ç•™åœ¨è¾“å‡ºä¸­ã€‚ 123456$('#list').html(`&lt;ul&gt; &lt;li&gt;first&lt;/li&gt; &lt;li&gt;second&lt;/li&gt;&lt;/ul&gt;`); ä¸Šé¢ä»£ç ä¸­ï¼Œæ‰€æœ‰æ¨¡æ¿å­—ç¬¦ä¸²çš„ç©ºæ ¼å’Œæ¢è¡Œéƒ½æ˜¯è¢«ä¿ç•™çš„ï¼Œæ¯”å¦‚&lt;ul&gt;æ ‡ç­¾å‰é¢ä¼šæœ‰ä¸€ä¸ªæ¢è¡Œã€‚å¦‚æžœæƒ³æŠŠè¡Œé¦–å’Œè¡Œå°¾çš„æ¢è¡Œã€ç©ºæ ¼ç­‰åŽ»æŽ‰ï¼Œåˆ™ä½¿ç”¨trimæ–¹æ³•å³å¯ã€‚ 123456$('#list').html(`&lt;ul&gt; &lt;li&gt;first&lt;/li&gt; &lt;li&gt;second&lt;/li&gt;&lt;/ul&gt;`.trim()); æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ï¼Œè¦å°†å˜é‡åå†™åœ¨${}ä¹‹ä¸­ã€‚å¤§æ‹¬å·å†…å¯ä»¥æ”¾å…¥ä»»æ„çš„JavaScriptè¡¨è¾¾å¼ï¼Œå¯ä»¥è¿›è¡Œè¿ç®—ï¼Œä»¥åŠå¼•å…¥å¯¹è±¡å±žæ€§ã€‚ æ¨¡æ¿å­—ç¬¦ä¸²ä¹‹ä¸­è¿˜å¯ä»¥è°ƒç”¨å‡½æ•°ã€‚ å¦‚æžœå¤§æ‹¬å·ä¸­çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å°†æŒ‰ç…§ä¸€èˆ¬çš„è§„åˆ™è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚ï¼Œè‹¥å¤§æ‹¬å·ä¸­æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å°†é»˜è®¤è°ƒç”¨å¯¹è±¡çš„toStringæ–¹æ³•ï¼ŒæŠŠå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ å¦‚æžœæ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ²¡æœ‰å£°æ˜Žï¼Œåˆ™ä¼šæŠ¥é”™ã€‚ æ¨¡æ¿å­—ç¬¦ä¸²ä¹‹é—´è¿˜å¯ä»¥è¿›è¡ŒåµŒå¥—ã€‚ è€Œå•çº¯çš„æ¨¡æ¿å­—ç¬¦ä¸²è¿˜å­˜åœ¨ç€å¾ˆå¤šçš„å±€é™æ€§ã€‚å¦‚ï¼š ä¸èƒ½è‡ªåŠ¨è½¬ä¹‰ç‰¹æ®Šçš„å­—ç¬¦ä¸²ã€‚ï¼ˆè¿™æ ·å¾ˆå®¹æ˜“å¼•èµ·æ³¨å…¥æ”»å‡»ï¼‰ ä¸èƒ½å¾ˆå¥½çš„å’Œå›½é™…åŒ–åº“é…åˆï¼ˆå³ä¸ä¼šæ ¼å¼åŒ–ç‰¹å®šè¯­è¨€çš„æ•°å­—ï¼Œæ—¥æœŸï¼Œæ–‡å­—ç­‰ï¼‰ æ²¡æœ‰å†…å»ºå¾ªçŽ¯è¯­æ³•ï¼Œï¼ˆç”šè‡³è¿žæ¡ä»¶è¯­å¥éƒ½ä¸æ”¯æŒï¼Œ åªå¯ä»¥ä½¿ç”¨æ¨¡æ¿å¥—æž„çš„æ–¹æ³•ï¼‰ å®žä¾‹ï¼šæ¨¡æ¿ç¼–è¯‘ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé€šè¿‡æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œç”Ÿæˆæ­£å¼æ¨¡æ¿çš„å®žä¾‹ã€‚ 1234567var template = `&lt;ul&gt; &lt;% for(var i=0; i &lt; data.supplies.length; i++) &#123; %&gt; &lt;li&gt;&lt;%= data.supplies[i] %&gt;&lt;/li&gt; &lt;% &#125; %&gt;&lt;/ul&gt;`; ä¸Šé¢ä»£ç åœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¹‹ä¸­ï¼Œæ”¾ç½®äº†ä¸€ä¸ªå¸¸è§„æ¨¡æ¿ã€‚è¯¥æ¨¡æ¿ä½¿ç”¨&lt;%â€¦%&gt;æ”¾ç½®JavaScriptä»£ç ï¼Œä½¿ç”¨&lt;%= â€¦ %&gt;è¾“å‡ºJavaScriptè¡¨è¾¾å¼ã€‚ æ€Žä¹ˆç¼–è¯‘è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²å‘¢ï¼Ÿ ä¸€ç§æ€è·¯æ˜¯å°†å…¶è½¬æ¢ä¸ºJavaScriptè¡¨è¾¾å¼å­—ç¬¦ä¸²ã€‚ 1234567echo('&lt;ul&gt;');for(var i=0; i &lt; data.supplies.length; i++) &#123; echo('&lt;li&gt;'); echo(data.supplies[i]); echo('&lt;/li&gt;');&#125;;echo('&lt;/ul&gt;'); è¿™ä¸ªè½¬æ¢ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å°±è¡Œäº†ã€‚ 12345678var evalExpr = /&lt;%=(.+?)%&gt;/g;var expr = /&lt;%([\s\S]+?)%&gt;/g;template = template .replace(evalExpr, '`); \n echo( $1 ); \n echo(`') .replace(expr, '`); \n $1 \n echo(`');template = 'echo(`' + template + '`);'; ç„¶åŽï¼Œå°†templateå°è£…åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢è¿”å›žï¼Œå°±å¯ä»¥äº†ã€‚ 1234567891011121314var script =`(function parse(data)&#123; var output = ""; function echo(html)&#123; output += html; &#125; $&#123; template &#125; return output;&#125;)`;return script; å°†ä¸Šé¢çš„å†…å®¹æ‹¼è£…æˆä¸€ä¸ªæ¨¡æ¿ç¼–è¯‘å‡½æ•°compileã€‚ 12345678910111213141516171819202122232425function compile(template)&#123; var evalExpr = /&lt;%=(.+?)%&gt;/g; var expr = /&lt;%([\s\S]+?)%&gt;/g; template = template .replace(evalExpr, '`); \n echo( $1 ); \n echo(`') .replace(expr, '`); \n $1 \n echo(`'); template = 'echo(`' + template + '`);'; var script = `(function parse(data)&#123; var output = ""; function echo(html)&#123; output += html; &#125; $&#123; template &#125; return output; &#125;)`; return script;&#125; compileå‡½æ•°çš„ç”¨æ³•å¦‚ä¸‹ã€‚ 1234567var parse = eval(compile(template));div.innerHTML = parse(&#123; supplies: [ "broom", "mop", "cleaner" ] &#125;);// &lt;ul&gt;// &lt;li&gt;broom&lt;/li&gt;// &lt;li&gt;mop&lt;/li&gt;// &lt;li&gt;cleaner&lt;/li&gt;// &lt;/ul&gt; æ ‡ç­¾æ¨¡æ¿(tagged template)ä¸ºæ­¤ï¼Œå¼•å‡ºäº†æ ‡ç­¾æ¨¡æ¿çš„æ¦‚å¿µã€‚æ ‡ç­¾æ¨¡æ¿åˆ™æ˜¯åœ¨åå¼•å·å‰é¢å¼•å…¥ä¸€ä¸ªæ ‡ç­¾ï¼ˆtagï¼‰ã€‚è¯¥æ ‡ç­¾æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºŽå¤„äºŽå®šåˆ¶åŒ–æ¨¡æ¿å­—ç¬¦ä¸²åŽè¿”å›žå€¼ã€‚å°±æ‹¿ä¸Šé¢å¯¹ç‰¹æ®Šå­—ç¬¦ä¸²ä¸¾ä¾‹ã€‚ æ¨¡æ¿å­—ç¬¦ä¸²çš„åŠŸèƒ½ï¼Œä¸ä»…ä»…æ˜¯ä¸Šé¢è¿™äº›ã€‚å®ƒå¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååŽé¢ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚è¿™è¢«ç§°ä¸ºâ€œæ ‡ç­¾æ¨¡æ¿â€åŠŸèƒ½ï¼ˆtagged templateï¼‰ã€‚ 123alert`123`// ç­‰åŒäºŽalert(123) æ ‡ç­¾æ¨¡æ¿å…¶å®žä¸æ˜¯æ¨¡æ¿ï¼Œè€Œæ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚â€œæ ‡ç­¾â€æŒ‡çš„å°±æ˜¯å‡½æ•°ï¼Œç´§è·Ÿåœ¨åŽé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚ä½†æ˜¯ï¼Œå¦‚æžœæ¨¡æ¿å­—ç¬¦é‡Œé¢æœ‰å˜é‡ï¼Œå°±ä¸æ˜¯ç®€å•çš„è°ƒç”¨äº†ï¼Œè€Œæ˜¯ä¼šå°†æ¨¡æ¿å­—ç¬¦ä¸²å…ˆå¤„ç†æˆå¤šä¸ªå‚æ•°ï¼Œå†è°ƒç”¨å‡½æ•°ã€‚ 1234567var a = 5;var b = 10;tag`Hello $&#123; a + b &#125; world $&#123; a * b &#125;`;// ç­‰åŒäºŽtag(['Hello ', ' world ', ''], 15, 50); ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å‰é¢æœ‰ä¸€ä¸ªæ ‡è¯†åtagï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚æ•´ä¸ªè¡¨è¾¾å¼çš„è¿”å›žå€¼ï¼Œå°±æ˜¯tagå‡½æ•°å¤„ç†æ¨¡æ¿å­—ç¬¦ä¸²åŽçš„è¿”å›žå€¼ã€‚ å‡½æ•°tagä¾æ¬¡ä¼šæŽ¥æ”¶åˆ°å¤šä¸ªå‚æ•°ã€‚ 123456789function tag(stringArr, value1, value2)&#123; // ...&#125;// ç­‰åŒäºŽfunction tag(stringArr, ...values)&#123; // ...&#125; tagå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„æˆå‘˜æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­é‚£äº›æ²¡æœ‰å˜é‡æ›¿æ¢çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡æ›¿æ¢åªå‘ç”Ÿåœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ä¸Žç¬¬äºŒä¸ªæˆå‘˜ä¹‹é—´ã€ç¬¬äºŒä¸ªæˆå‘˜ä¸Žç¬¬ä¸‰ä¸ªæˆå‘˜ä¹‹é—´ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚ tagå‡½æ•°çš„å…¶ä»–å‚æ•°ï¼Œéƒ½æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²å„ä¸ªå˜é‡è¢«æ›¿æ¢åŽçš„å€¼ã€‚ç”±äºŽæœ¬ä¾‹ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å«æœ‰ä¸¤ä¸ªå˜é‡ï¼Œå› æ­¤tagä¼šæŽ¥å—åˆ°value1å’Œvalue2ä¸¤ä¸ªå‚æ•°ã€‚ tagå‡½æ•°æ‰€æœ‰å‚æ•°çš„å®žé™…å€¼å¦‚ä¸‹ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°ï¼š[â€˜Hello â€˜, â€˜ world â€˜, â€˜â€™] ç¬¬äºŒä¸ªå‚æ•°: 15 ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š50 ä¹Ÿå°±æ˜¯è¯´ï¼Œtagå‡½æ•°å®žé™…ä¸Šä»¥ä¸‹é¢çš„å½¢å¼è°ƒç”¨ã€‚ 1tag(['Hello ', ' world ', ''], 15, 50) passthruå‡½æ•°é‡‡ç”¨restå‚æ•°çš„å†™æ³•å¦‚ä¸‹ã€‚è¿™ä¸ªä¾‹å­å±•ç¤ºäº†ï¼Œå¦‚ä½•å°†å„ä¸ªå‚æ•°æŒ‰ç…§åŽŸæ¥çš„ä½ç½®æ‹¼åˆå›žåŽ»ã€‚ 123456789101112131415function passthru(literals, ...values) &#123; var output = ""; for (var index = 0; index &lt; values.length; index++) &#123; output += literals[index] + values[index]; &#125; output += literals[index] return output;&#125;var total = 30;var msg = passthru`The total is $&#123;total&#125; ($&#123;total*1.05&#125; with tax)`;msg// "The total is 30 (31.5 with tax)" â€œæ ‡ç­¾æ¨¡æ¿â€çš„ä¸€ä¸ªé‡è¦åº”ç”¨ï¼Œå°±æ˜¯è¿‡æ»¤HTMLå­—ç¬¦ä¸²ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹ã€‚123456789101112131415161718var message = SaferHTML`&lt;p&gt;$&#123;sender&#125; has sent you a message.&lt;/p&gt;`;function SaferHTML(templateData) &#123; var s = templateData[0]; for (var i = 1; i &lt; arguments.length; i++) &#123; var arg = String(arguments[i]); // Escape special characters in the substitution. s += arg.replace(/&amp;/g, "&amp;amp;") .replace(/&lt;/g, "&amp;lt;") .replace(/&gt;/g, "&amp;gt;"); // Don't escape special characters in the template. s += templateData[i]; &#125; return s;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œsenderå˜é‡å¾€å¾€æ˜¯ç”¨æˆ·æä¾›çš„ï¼Œç»è¿‡SaferHTMLå‡½æ•°å¤„ç†ï¼Œé‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦éƒ½ä¼šè¢«è½¬ä¹‰ã€‚ 12345var sender = '&lt;script&gt;alert("abc")&lt;/script&gt;'; // æ¶æ„ä»£ç var message = SaferHTML`&lt;p&gt;$&#123;sender&#125; has sent you a message.&lt;/p&gt;`;message// &lt;p&gt;&amp;lt;script&amp;gt;alert("abc")&amp;lt;/script&amp;gt; has sent you a message.&lt;/p&gt; String.raw()ES6è¿˜ä¸ºåŽŸç”Ÿçš„Stringå¯¹è±¡ï¼Œæä¾›äº†ä¸€ä¸ªrawæ–¹æ³•ã€‚ String.rawæ–¹æ³•ï¼Œå¾€å¾€ç”¨æ¥å……å½“æ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†å‡½æ•°ï¼Œè¿”å›žä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰ï¼ˆå³æ–œæ å‰é¢å†åŠ ä¸€ä¸ªæ–œæ ï¼‰çš„å­—ç¬¦ä¸²ï¼Œå¯¹åº”äºŽæ›¿æ¢å˜é‡åŽçš„æ¨¡æ¿å­—ç¬¦ä¸²ã€‚ 12345String.raw`Hi\n$&#123;2+3&#125;!`;// "Hi\\n5!"String.raw`Hi\u000A!`;// 'Hi\\u000A!' å¦‚æžœåŽŸå­—ç¬¦ä¸²çš„æ–œæ å·²ç»è½¬ä¹‰ï¼Œé‚£ä¹ˆString.rawä¸ä¼šåšä»»ä½•å¤„ç†ã€‚ 12String.raw`Hi\\n`// "Hi\\n" String.rawæ–¹æ³•å¯ä»¥ä½œä¸ºå¤„ç†æ¨¡æ¿å­—ç¬¦ä¸²çš„åŸºæœ¬æ–¹æ³•ï¼Œå®ƒä¼šå°†æ‰€æœ‰å˜é‡æ›¿æ¢ï¼Œè€Œä¸”å¯¹æ–œæ è¿›è¡Œè½¬ä¹‰ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ­¥ä½œä¸ºå­—ç¬¦ä¸²æ¥ä½¿ç”¨ã€‚ String.rawæ–¹æ³•ä¹Ÿå¯ä»¥ä½œä¸ºæ­£å¸¸çš„å‡½æ•°ä½¿ç”¨ã€‚è¿™æ—¶ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªå…·æœ‰rawå±žæ€§çš„å¯¹è±¡ï¼Œä¸”rawå±žæ€§çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ 12345String.raw(&#123; raw: 'test' &#125;, 0, 1, 2);// 't0e1s2t'// ç­‰åŒäºŽString.raw(&#123; raw: ['t','e','s','t'] &#125;, 0, 1, 2); æ¨¡æ¿å­—ç¬¦ä¸²çš„é™åˆ¶å‰é¢æåˆ°æ ‡ç­¾æ¨¡æ¿é‡Œé¢ï¼Œå¯ä»¥å†…åµŒå…¶ä»–è¯­è¨€ã€‚ä½†æ˜¯ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²é»˜è®¤ä¼šå°†å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œå¯¼è‡´æ— æ³•åµŒå…¥å…¶ä»–è¯­è¨€ã€‚ æ­£åˆ™çš„æ‰©å±• RegExp æž„é€ å‡½æ•° å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³• u ä¿®é¥°ç¬¦ y ä¿®é¥°ç¬¦ sticky å±žæ€§ flags å±žæ€§ s ä¿®é¥°ç¬¦ï¼šdotAll æ¨¡å¼ åŽè¡Œæ–­è¨€ Unicode å±žæ€§ç±» å…·åç»„åŒ¹é… RegExp æž„é€ å‡½æ•°åœ¨ ES5 ä¸­ï¼ŒRegExpæž„é€ å‡½æ•°çš„å‚æ•°æœ‰ä¸¤ç§æƒ…å†µã€‚ ç¬¬ä¸€ç§æƒ…å†µæ˜¯ï¼Œå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ—¶ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ï¼ˆflagï¼‰ã€‚ ç¬¬äºŒç§æƒ…å†µæ˜¯ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨ç¤ºå¼ï¼Œè¿™æ—¶ä¼šè¿”å›žä¸€ä¸ªåŽŸæœ‰æ­£åˆ™è¡¨è¾¾å¼çš„æ‹·è´ã€‚ ä½† å½“ç¬¬äºŒç§æƒ…å†µï¼Œå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼ŒES5 ä¸å…è®¸æ­¤æ—¶ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°æ·»åŠ ä¿®é¥°ç¬¦ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 12var regex = new RegExp(/xyz/, 'i');// Uncaught TypeError: Cannot supply flags when constructing one RegExp from another ES6 æ”¹å˜äº†è¿™ç§è¡Œä¸ºã€‚å¦‚æžœRegExpæž„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¿®é¥°ç¬¦ã€‚è€Œä¸”ï¼Œè¿”å›žçš„æ­£åˆ™è¡¨è¾¾å¼ä¼šå¿½ç•¥åŽŸæœ‰çš„æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ï¼Œåªä½¿ç”¨æ–°æŒ‡å®šçš„ä¿®é¥°ç¬¦ã€‚ 12new RegExp(/abc/ig, 'i').flags// "i" å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•å­—ç¬¦ä¸²å¯¹è±¡å…±æœ‰4ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šmatch()ã€replace()ã€search()å’Œsplit()ã€‚ ES6 å°†è¿™4ä¸ªæ–¹æ³•ï¼Œåœ¨è¯­è¨€å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®žä¾‹æ–¹æ³•ï¼Œä»Žè€Œåšåˆ°æ‰€æœ‰ä¸Žæ­£åˆ™ç›¸å…³çš„æ–¹æ³•ï¼Œå…¨éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Šã€‚ String.prototype.match è°ƒç”¨ RegExp.prototype[Symbol.match] String.prototype.replace è°ƒç”¨ RegExp.prototype[Symbol.replace] String.prototype.search è°ƒç”¨ RegExp.prototype[Symbol.search] String.prototype.split è°ƒç”¨ RegExp.prototype[Symbol.split] u ä¿®é¥°ç¬¦ES6 å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†uä¿®é¥°ç¬¦ï¼Œå«ä¹‰ä¸ºâ€œUnicodeæ¨¡å¼â€ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äºŽ\uFFFFçš„ Unicode å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šæ­£ç¡®å¤„ç†å››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ã€‚ 12/^\uD83D/u.test('\uD83D\uDC2A') // false/^\uD83D/.test('\uD83D\uDC2A') // true ä¸€æ—¦åŠ ä¸Šuä¿®é¥°ç¬¦å·ï¼Œå°±ä¼šä¿®æ”¹ä¸‹é¢è¿™äº›æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œä¸ºã€‚1. ç‚¹å­—ç¬¦ç‚¹ï¼ˆ.ï¼‰å­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå«ä¹‰æ˜¯é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦ã€‚å¯¹äºŽç ç‚¹å¤§äºŽ0xFFFFçš„ Unicode å­—ç¬¦ï¼Œç‚¹å­—ç¬¦ä¸èƒ½è¯†åˆ«ï¼Œå¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚ 1234var s = 'ð ®·';/^.$/.test(s) // false/^.$/u.test(s) // true ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æžœä¸æ·»åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±ä¼šè®¤ä¸ºå­—ç¬¦ä¸²ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œä»Žè€ŒåŒ¹é…å¤±è´¥ã€‚ 2. Unicode å­—ç¬¦è¡¨ç¤ºæ³•ES6 æ–°å¢žäº†ä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤º Unicode å­—ç¬¦ï¼Œè¿™ç§è¡¨ç¤ºæ³•åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ï¼Œæ‰èƒ½è¯†åˆ«å½“ä¸­çš„å¤§æ‹¬å·ï¼Œå¦åˆ™ä¼šè¢«è§£è¯»ä¸ºé‡è¯ã€‚ 12/\u&#123;61&#125;/.test('a') // false/\u&#123;61&#125;/u.test('a') // true ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æžœä¸åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ— æ³•è¯†åˆ«\u{61}è¿™ç§è¡¨ç¤ºæ³•ï¼Œåªä¼šè®¤ä¸ºè¿™åŒ¹é…61ä¸ªè¿žç»­çš„uã€‚ 3. é‡è¯ä½¿ç”¨uä¿®é¥°ç¬¦åŽï¼Œæ‰€æœ‰é‡è¯éƒ½ä¼šæ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äºŽ0xFFFFçš„ Unicode å­—ç¬¦ã€‚ 12/ð ®·&#123;2&#125;/.test('ð ®·ð ®·') // false/ð ®·&#123;2&#125;/u.test('ð ®·ð ®·') // true 4. é¢„å®šä¹‰æ¨¡å¼uä¿®é¥°ç¬¦ä¹Ÿå½±å“åˆ°é¢„å®šä¹‰æ¨¡å¼ï¼Œèƒ½å¦æ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äºŽ0xFFFFçš„ Unicode å­—ç¬¦ã€‚ 12/^\S$/.test('ð ®·') // false/^\S$/u.test('ð ®·') // true ä¸Šé¢ä»£ç çš„\Sæ˜¯é¢„å®šä¹‰æ¨¡å¼ï¼ŒåŒ¹é…æ‰€æœ‰ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ã€‚åªæœ‰åŠ äº†uä¿®é¥°ç¬¦ï¼Œå®ƒæ‰èƒ½æ­£ç¡®åŒ¹é…ç ç‚¹å¤§äºŽ0xFFFFçš„ Unicode å­—ç¬¦ã€‚ 5. i ä¿®é¥°ç¬¦æœ‰äº› Unicode å­—ç¬¦çš„ç¼–ç ä¸åŒï¼Œä½†æ˜¯å­—åž‹å¾ˆç›¸è¿‘ï¼Œæ¯”å¦‚ï¼Œ\u004Bä¸Ž\u212Aéƒ½æ˜¯å¤§å†™çš„Kã€‚ 12/[a-z]/i.test('\u212A') // false/[a-z]/iu.test('\u212A') // true ä¸Šé¢ä»£ç ä¸­ï¼Œä¸åŠ uä¿®é¥°ç¬¦ï¼Œå°±æ— æ³•è¯†åˆ«éžè§„èŒƒçš„Kå­—ç¬¦ y ä¿®é¥°ç¬¦é™¤äº†uä¿®é¥°ç¬¦ï¼ŒES6 è¿˜ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†yä¿®é¥°ç¬¦ï¼Œå«åšâ€œç²˜è¿žâ€ï¼ˆstickyï¼‰ä¿®é¥°ç¬¦ã€‚ yä¿®é¥°ç¬¦çš„ä½œç”¨ä¸Žgä¿®é¥°ç¬¦ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å…¨å±€åŒ¹é…ï¼ŒåŽä¸€æ¬¡åŒ¹é…éƒ½ä»Žä¸Šä¸€æ¬¡åŒ¹é…æˆåŠŸçš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹ã€‚ ä¸åŒä¹‹å¤„åœ¨äºŽï¼Œgä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å°±å¯ï¼Œ è€Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»Žå‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œè¿™ä¹Ÿå°±æ˜¯â€œç²˜è¿žâ€çš„æ¶µä¹‰ã€‚ï¼ˆç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯å¿…é¡»ä»Žç¬¬ä¸€ä¸ªä½ç½®åŒ¹é…ï¼‰ 123456789var s = 'aaa_aa_a';var r1 = /a+/g;var r2 = /a+/y;r1.exec(s) // ["aaa"]r2.exec(s) // ["aaa"]r1.exec(s) // ["aa"]r2.exec(s) // null lastIndexå±žæ€§æŒ‡å®šæ¯æ¬¡æœç´¢çš„å¼€å§‹ä½ç½® gä¿®é¥°ç¬¦ä»Žè¿™ä¸ªä½ç½®å¼€å§‹å‘åŽæœç´¢ï¼Œç›´åˆ°å‘çŽ°åŒ¹é…ä¸ºæ­¢ã€‚ yä¿®é¥°ç¬¦åŒæ ·éµå®ˆlastIndexå±žæ€§ï¼Œä½†æ˜¯è¦æ±‚å¿…é¡»åœ¨lastIndexæŒ‡å®šçš„ä½ç½®å‘çŽ°åŒ¹é…ã€‚ sticky å±žæ€§ä¸Žyä¿®é¥°ç¬¦ç›¸åŒ¹é…ï¼ŒES6 çš„æ­£åˆ™å¯¹è±¡å¤šäº†stickyå±žæ€§ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦ã€‚ 12var r = /hello\d/y;r.sticky // true flags å±žæ€§ES6 ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ–°å¢žäº†flagså±žæ€§ï¼Œä¼šè¿”å›žæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ã€‚ 123456789// ES5 çš„ source å±žæ€§// è¿”å›žæ­£åˆ™è¡¨è¾¾å¼çš„æ­£æ–‡/abc/ig.source// "abc"// ES6 çš„ flags å±žæ€§// è¿”å›žæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦/abc/ig.flags// 'gi' s ä¿®é¥°ç¬¦ï¼šdotAll æ¨¡å¼æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç‚¹ï¼ˆ.ï¼‰æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œä»£è¡¨ä»»æ„çš„å•ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯è¡Œç»ˆæ­¢ç¬¦ï¼ˆline terminator characterï¼‰é™¤å¤–ã€‚ ä»¥ä¸‹å››ä¸ªå­—ç¬¦å±žäºŽâ€è¡Œç»ˆæ­¢ç¬¦â€œã€‚ U+000A æ¢è¡Œç¬¦ï¼ˆ\nï¼‰ U+000D å›žè½¦ç¬¦ï¼ˆ\rï¼‰ U+2028 è¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰ U+2029 æ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰ ä½†æ˜¯ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ› ã€‚åŒ¹é…çš„æ˜¯ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œè¿™æ—¶æœ‰ä¸€ç§å˜é€šçš„å†™æ³•ã€‚ 12/foo[^]bar/.test('foo\nbar')// true è¿™ç§è§£å†³æ–¹æ¡ˆæ¯•ç«Ÿä¸å¤ªç¬¦åˆç›´è§‰ï¼Œæ‰€ä»¥çŽ°åœ¨æœ‰ä¸€ä¸ªææ¡ˆï¼Œå¼•å…¥/sä¿®é¥°ç¬¦ï¼Œä½¿å¾—.å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚ 1/foo.bar/s.test('foo\nbar') // true è¿™è¢«ç§°ä¸ºdotAllæ¨¡å¼ï¼Œå³ç‚¹ï¼ˆdotï¼‰ä»£è¡¨ä¸€åˆ‡å­—ç¬¦ã€‚æ‰€ä»¥ï¼Œæ­£åˆ™è¡¨è¾¾å¼è¿˜å¼•å…¥äº†ä¸€ä¸ªdotAllå±žæ€§ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¤„åœ¨dotAllæ¨¡å¼ã€‚ åŽè¡Œæ–­è¨€JavaScript è¯­è¨€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œåªæ”¯æŒå…ˆè¡Œæ–­è¨€ï¼ˆlookaheadï¼‰å’Œå…ˆè¡Œå¦å®šæ–­è¨€ï¼ˆnegative lookaheadï¼‰ï¼Œä¸æ”¯æŒåŽè¡Œæ–­è¨€ï¼ˆlookbehindï¼‰å’ŒåŽè¡Œå¦å®šæ–­è¨€ï¼ˆnegative lookbehindï¼‰ã€‚ç›®å‰ï¼Œæœ‰ä¸€ä¸ªææ¡ˆï¼Œå¼•å…¥åŽè¡Œæ–­è¨€ï¼ŒV8 å¼•æ“Ž4.9ç‰ˆå·²ç»æ”¯æŒã€‚ â€å…ˆè¡Œæ–­è¨€â€œæŒ‡çš„æ˜¯ï¼Œxåªæœ‰åœ¨yå‰é¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/x(?=y)/ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—ï¼Œè¦å†™æˆ/\d+(?=%)/ã€‚â€å…ˆè¡Œå¦å®šæ–­è¨€â€œæŒ‡çš„æ˜¯ï¼Œxåªæœ‰ä¸åœ¨yå‰é¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/x(?!y)/ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ä¸åœ¨ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—ï¼Œè¦å†™æˆ/\d+(?!%)/ã€‚ 12/\d+(?=%)/.exec('100% of US presidents have been male') // ["100"]/\d+(?!%)/.exec('thatâ€™s all 44 of them') // ["44"] ä¸Šé¢ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æžœäº’æ¢æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°±ä¸ä¼šå¾—åˆ°ç›¸åŒç»“æžœã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥çœ‹åˆ°ï¼Œâ€å…ˆè¡Œæ–­è¨€â€œæ‹¬å·ä¹‹ä¸­çš„éƒ¨åˆ†ï¼ˆ(?=%)ï¼‰ï¼Œæ˜¯ä¸è®¡å…¥è¿”å›žç»“æžœçš„ã€‚ â€œåŽè¡Œæ–­è¨€â€æ­£å¥½ä¸Žâ€œå…ˆè¡Œæ–­è¨€â€ç›¸åï¼Œxåªæœ‰åœ¨yåŽé¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/(?&lt;=y)x/ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ç¾Žå…ƒç¬¦å·ä¹‹åŽçš„æ•°å­—ï¼Œè¦å†™æˆ/(?&lt;=$)\d+/ã€‚â€åŽè¡Œå¦å®šæ–­è¨€â€œåˆ™ä¸Žâ€å…ˆè¡Œå¦å®šæ–­è¨€â€œç›¸åï¼Œxåªæœ‰ä¸åœ¨yåŽé¢æ‰åŒ¹é…ï¼Œå¿…é¡»å†™æˆ/(?&lt;!y)x/ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ä¸åœ¨ç¾Žå…ƒç¬¦å·åŽé¢çš„æ•°å­—ï¼Œè¦å†™æˆ/(?&lt;!$)\d+/ã€‚ 12/(?&lt;=\$)\d+/.exec('Benjamin Franklin is on the $100 bill') // ["100"]/(?&lt;!\$)\d+/.exec('itâ€™s is worth about â‚¬90') // ["90"] ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œâ€œåŽè¡Œæ–­è¨€â€çš„æ‹¬å·ä¹‹ä¸­çš„éƒ¨åˆ†ï¼ˆ(?&lt;=$)ï¼‰ï¼Œä¹Ÿæ˜¯ä¸è®¡å…¥è¿”å›žç»“æžœã€‚ Unicode å±žæ€§ç±»ç›®å‰ï¼Œæœ‰ä¸€ä¸ªææ¡ˆï¼Œå¼•å…¥äº†ä¸€ç§æ–°çš„ç±»çš„å†™æ³•\p{â€¦}å’Œ\P{â€¦}ï¼Œå…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆ Unicode æŸç§å±žæ€§çš„æ‰€æœ‰å­—ç¬¦ã€‚ 12const regexGreekSymbol = /\p&#123;Script=Greek&#125;/u;regexGreekSymbol.test('Ï€') // true ä¸Šé¢ä»£ç ä¸­ï¼Œ\p{Script=Greek}æŒ‡å®šåŒ¹é…ä¸€ä¸ªå¸Œè…Šæ–‡å­—æ¯ï¼Œæ‰€ä»¥åŒ¹é…Ï€æˆåŠŸã€‚ Unicode å±žæ€§ç±»è¦æŒ‡å®šå±žæ€§åå’Œå±žæ€§å€¼ã€‚ 1\p&#123;UnicodePropertyName=UnicodePropertyValue&#125; å¯¹äºŽæŸäº›å±žæ€§ï¼Œå¯ä»¥åªå†™å±žæ€§åã€‚ 1\p&#123;UnicodePropertyName&#125; \P{â€¦}æ˜¯\p{â€¦}çš„åå‘åŒ¹é…ï¼Œå³åŒ¹é…ä¸æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ã€‚ æ³¨æ„ï¼Œè¿™ä¸¤ç§ç±»åªå¯¹ Unicode æœ‰æ•ˆï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚å¦‚æžœä¸åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨\på’Œ\Pä¼šæŠ¥é”™ï¼ŒECMAScript é¢„ç•™äº†è¿™ä¸¤ä¸ªç±»ã€‚ å…·åç»„åŒ¹é…ç®€ä»‹æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨åœ†æ‹¬å·è¿›è¡Œç»„åŒ¹é…ã€‚ 1const RE_DATE = /(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/; ä¸Šé¢ä»£ç ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æœ‰ä¸‰ç»„åœ†æ‹¬å·ã€‚ä½¿ç”¨execæ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿™ä¸‰ç»„åŒ¹é…ç»“æžœæå–å‡ºæ¥ã€‚ 1234const matchObj = RE_DATE.exec('1999-12-31');const year = matchObj[1]; // 1999const month = matchObj[2]; // 12const day = matchObj[3]; // 31 ç»„åŒ¹é…çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¯ä¸€ç»„çš„åŒ¹é…å«ä¹‰ä¸å®¹æ˜“çœ‹å‡ºæ¥ï¼Œè€Œä¸”åªèƒ½ç”¨æ•°å­—åºå·å¼•ç”¨ï¼Œè¦æ˜¯ç»„çš„é¡ºåºå˜äº†ï¼Œå¼•ç”¨çš„æ—¶å€™å°±å¿…é¡»ä¿®æ”¹åºå·ã€‚ çŽ°åœ¨æœ‰ä¸€ä¸ªâ€œå…·åç»„åŒ¹é…â€ï¼ˆNamed Capture Groupsï¼‰çš„ææ¡ˆï¼Œå…è®¸ä¸ºæ¯ä¸€ä¸ªç»„åŒ¹é…æŒ‡å®šä¸€ä¸ªåå­—ï¼Œæ—¢ä¾¿äºŽé˜…è¯»ä»£ç ï¼Œåˆä¾¿äºŽå¼•ç”¨ã€‚ 123456const RE_DATE = /(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/;const matchObj = RE_DATE.exec('1999-12-31');const year = matchObj.groups.year; // 1999const month = matchObj.groups.month; // 12const day = matchObj.groups.day; // 31 ä¸Šé¢ä»£ç ä¸­ï¼Œâ€œå…·åç»„åŒ¹é…â€åœ¨åœ†æ‹¬å·å†…éƒ¨ï¼Œæ¨¡å¼çš„å¤´éƒ¨æ·»åŠ â€œé—®å· + å°–æ‹¬å· + ç»„åâ€ï¼ˆ?&lt;year&gt;ï¼‰ï¼Œç„¶åŽå°±å¯ä»¥åœ¨execæ–¹æ³•è¿”å›žç»“æžœçš„groupså±žæ€§ä¸Šå¼•ç”¨è¯¥ç»„åã€‚åŒæ—¶ï¼Œæ•°å­—åºå·ï¼ˆmatchObj[1]ï¼‰ä¾ç„¶æœ‰æ•ˆã€‚ å…·åç»„åŒ¹é…ç­‰äºŽä¸ºæ¯ä¸€ç»„åŒ¹é…åŠ ä¸Šäº† IDï¼Œä¾¿äºŽæè¿°åŒ¹é…çš„ç›®çš„ã€‚å¦‚æžœç»„çš„é¡ºåºå˜äº†ï¼Œä¹Ÿä¸ç”¨æ”¹å˜åŒ¹é…åŽçš„å¤„ç†ä»£ç ã€‚ å¦‚æžœå…·åç»„æ²¡æœ‰åŒ¹é…ï¼Œé‚£ä¹ˆå¯¹åº”çš„groupså¯¹è±¡å±žæ€§ä¼šæ˜¯undefinedã€‚ 12345const RE_OPT_A = /^(?&lt;as&gt;a+)?$/;const matchObj = RE_OPT_A.exec('');matchObj.groups.as // undefined'as' in matchObj.groups // true ä¸Šé¢ä»£ç ä¸­ï¼Œå…·åç»„asæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œé‚£ä¹ˆmatchObj.groups.aså±žæ€§å€¼å°±æ˜¯undefinedï¼Œå¹¶ä¸”asè¿™ä¸ªé”®ååœ¨groupsæ˜¯å§‹ç»ˆå­˜åœ¨çš„ã€‚ è§£æž„èµ‹å€¼å’Œæ›¿æ¢æœ‰äº†å…·åç»„åŒ¹é…ä»¥åŽï¼Œå¯ä»¥ä½¿ç”¨è§£æž„èµ‹å€¼ç›´æŽ¥ä»ŽåŒ¹é…ç»“æžœä¸Šä¸ºå˜é‡èµ‹å€¼ã€‚ 123let &#123;groups: &#123;one, two&#125;&#125; = /^(?&lt;one&gt;.*):(?&lt;two&gt;.*)$/u.exec('foo:bar');one // footwo // bar å­—ç¬¦ä¸²æ›¿æ¢æ—¶ï¼Œä½¿ç”¨$&lt;ç»„å&gt;å¼•ç”¨å…·åç»„ã€‚ 1234let re = /(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/u;'2015-01-02'.replace(re, '$&lt;day&gt;/$&lt;month&gt;/$&lt;year&gt;')// '02/01/2015' ä¸Šé¢ä»£ç ä¸­ï¼Œreplaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°åºåˆ—å¦‚ä¸‹ã€‚ 123456789101112'2015-01-02'.replace(re, ( matched, // æ•´ä¸ªåŒ¹é…ç»“æžœ 2015-01-02 capture1, // ç¬¬ä¸€ä¸ªç»„åŒ¹é… 2015 capture2, // ç¬¬äºŒä¸ªç»„åŒ¹é… 01 capture3, // ç¬¬ä¸‰ä¸ªç»„åŒ¹é… 02 position, // åŒ¹é…å¼€å§‹çš„ä½ç½® 0 S, // åŽŸå­—ç¬¦ä¸² 2015-01-02 groups // å…·åç»„æž„æˆçš„ä¸€ä¸ªå¯¹è±¡ &#123;year, month, day&#125; ) =&gt; &#123; let &#123;day, month, year&#125; = args[args.length - 1]; return `$&#123;day&#125;/$&#123;month&#125;/$&#123;year&#125;`;&#125;); å…·åç»„åŒ¹é…åœ¨åŽŸæ¥çš„åŸºç¡€ä¸Šï¼Œæ–°å¢žäº†æœ€åŽä¸€ä¸ªå‡½æ•°å‚æ•°ï¼šå…·åç»„æž„æˆçš„ä¸€ä¸ªå¯¹è±¡ã€‚å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æŽ¥å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œè§£æž„èµ‹å€¼ã€‚ å¼•ç”¨å¦‚æžœè¦åœ¨æ­£åˆ™è¡¨è¾¾å¼å†…éƒ¨å¼•ç”¨æŸä¸ªâ€œå…·åç»„åŒ¹é…â€ï¼Œå¯ä»¥ä½¿ç”¨\k&lt;ç»„å&gt;çš„å†™æ³•ã€‚ 123const RE_TWICE = /^(?&lt;word&gt;[a-z]+)!\k&lt;word&gt;$/;RE_TWICE.test('abc!abc') // trueRE_TWICE.test('abc!ab') // false æ•°å­—å¼•ç”¨ï¼ˆ\1ï¼‰ä¾ç„¶æœ‰æ•ˆã€‚ 123const RE_TWICE = /^(?&lt;word&gt;[a-z]+)!\1$/;RE_TWICE.test('abc!abc') // trueRE_TWICE.test('abc!ab') // false è¿™ä¸¤ç§å¼•ç”¨è¯­æ³•è¿˜å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚ 123const RE_TWICE = /^(?&lt;word&gt;[a-z]+)!\k&lt;word&gt;!\1$/;RE_TWICE.test('abc!abc!abc') // trueRE_TWICE.test('abc!abc!ab') // false æ•°å€¼çš„æ‰©å±• äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³• Number.isFinite(), Number.isNaN() Number.parseInt(), Number.parseFloat() Number.isInteger() Number.EPSILON å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger() Mathå¯¹è±¡çš„æ‰©å±• Math.signbit() æŒ‡æ•°è¿ç®—ç¬¦ Integer æ•°æ®ç±»åž‹ äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³•ES6 æä¾›äº†äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶æ•°å€¼çš„æ–°çš„å†™æ³•ï¼Œåˆ†åˆ«ç”¨å‰ç¼€0bï¼ˆæˆ–0Bï¼‰å’Œ0oï¼ˆæˆ–0Oï¼‰è¡¨ç¤ºã€‚ 120b111110111 === 503 // true0o767 === 503 // true ä»Ž ES5 å¼€å§‹ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¹‹ä¸­ï¼Œå…«è¿›åˆ¶å°±ä¸å†å…è®¸ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºï¼ŒES6 è¿›ä¸€æ­¥æ˜Žç¡®ï¼Œè¦ä½¿ç”¨å‰ç¼€0oè¡¨ç¤ºã€‚ å¦‚æžœè¦å°†0bå’Œ0oå‰ç¼€çš„å­—ç¬¦ä¸²æ•°å€¼è½¬ä¸ºåè¿›åˆ¶ï¼Œè¦ä½¿ç”¨Numberæ–¹æ³•ã€‚ 12Number('0b111') // 7Number('0o10') // 8 Number.isFinite(), Number.isNaN()ES6 åœ¨Numberå¯¹è±¡ä¸Šï¼Œæ–°æä¾›äº†Number.isFinite()å’ŒNumber.isNaN()ä¸¤ä¸ªæ–¹æ³•ã€‚ Number.isFinite()ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰ 12Number.isFinite(15); // trueNumber.isFinite(0.8); // true ES5 å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œéƒ¨ç½²Number.isFiniteæ–¹æ³•ã€‚(åŽŸåœ¨globalå¯¹è±¡ä¸Š) 123456789101112(function (global) &#123; var global_isFinite = global.isFinite; Object.defineProperty(Number, 'isFinite', &#123; value: function isFinite(value) &#123; return typeof value === 'number' &amp;&amp; global_isFinite(value); &#125;, configurable: true, enumerable: false, writable: true &#125;);&#125;)(this); Number.isNaN()ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNaNã€‚ 12Number.isNaN(NaN) // trueNumber.isNaN(15) // false ES5 é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œéƒ¨ç½²Number.isNaN()ã€‚(ä¹ŸåŽŸåœ¨å…¨å±€å¯¹è±¡ä¸Š) 123456789101112(function (global) &#123; var global_isNaN = global.isNaN; Object.defineProperty(Number, 'isNaN', &#123; value: function isNaN(value) &#123; return typeof value === 'number' &amp;&amp; global_isNaN(value); &#125;, configurable: true, enumerable: false, writable: true &#125;);&#125;)(this); ES6è¿™ä¸¤ä¸ªæ–°æ–¹æ³• ä¸Ž ä¼ ç»Ÿçš„å…¨å±€æ–¹æ³• isFinite()å’ŒisNaN()çš„åŒºåˆ«åœ¨äºŽï¼Œä¼ ç»Ÿæ–¹æ³•å…ˆè°ƒç”¨Number()å°†éžæ•°å€¼çš„å€¼è½¬ä¸ºæ•°å€¼ï¼Œå†è¿›è¡Œåˆ¤æ–­ï¼Œè€Œè¿™ä¸¤ä¸ªæ–°æ–¹æ³•åªå¯¹æ•°å€¼æœ‰æ•ˆï¼ŒNumber.isFinite()å¯¹äºŽéžæ•°å€¼ä¸€å¾‹è¿”å›žfalse, Number.isNaN()åªæœ‰å¯¹äºŽNaNæ‰è¿”å›žtrueï¼ŒéžNaNä¸€å¾‹è¿”å›žfalseã€‚ 12345678910isFinite(25) // trueisFinite("25") // trueNumber.isFinite(25) // trueNumber.isFinite("25") // falseisNaN(NaN) // trueisNaN("NaN") // trueNumber.isNaN(NaN) // trueNumber.isNaN("NaN") // falseNumber.isNaN(1) // false Number.parseInt(), Number.parseFloat()ES6 å°†å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ï¼Œç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šé¢ï¼Œè¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚ 1234567// ES5çš„å†™æ³•parseInt('12.34') // 12parseFloat('123.45#') // 123.45// ES6çš„å†™æ³•Number.parseInt('12.34') // 12Number.parseFloat('123.45#') // 123.45 è¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯é€æ­¥å‡å°‘å…¨å±€æ€§æ–¹æ³•ï¼Œä½¿å¾—è¯­è¨€é€æ­¥æ¨¡å—åŒ–ã€‚ 12Number.parseInt === parseInt // trueNumber.parseFloat === parseFloat // true Number.isInteger()Number.isInteger()ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ JavaScript å†…éƒ¨ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°æ˜¯åŒæ ·çš„å‚¨å­˜æ–¹æ³•ï¼Œæ‰€ä»¥3å’Œ3.0è¢«è§†ä¸ºåŒä¸€ä¸ªå€¼ã€‚ 12345Number.isInteger(25) // trueNumber.isInteger(25.0) // trueNumber.isInteger(25.1) // falseNumber.isInteger("15") // falseNumber.isInteger(true) // false ES5 å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œéƒ¨ç½²Number.isInteger()ã€‚ 123456789101112131415(function (global) &#123; var floor = Math.floor, isFinite = global.isFinite; Object.defineProperty(Number, 'isInteger', &#123; value: function isInteger(value) &#123; return typeof value === 'number' &amp;&amp; isFinite(value) &amp;&amp; floor(value) === value; &#125;, configurable: true, enumerable: false, writable: true &#125;);&#125;)(this); Number.EPSILONES6åœ¨Numberå¯¹è±¡ä¸Šé¢ï¼Œæ–°å¢žä¸€ä¸ªæžå°çš„å¸¸é‡Number.EPSILONã€‚ 1234Number.EPSILON// 2.220446049250313e-16Number.EPSILON.toFixed(20)// '0.00000000000000022204' å¼•å…¥ä¸€ä¸ªè¿™ä¹ˆå°çš„é‡çš„ç›®çš„ï¼Œåœ¨äºŽä¸ºæµ®ç‚¹æ•°è®¡ç®—ï¼Œè®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´ã€‚æˆ‘ä»¬çŸ¥é“æµ®ç‚¹æ•°è®¡ç®—æ˜¯ä¸ç²¾ç¡®çš„ã€‚ 123456780.1 + 0.2// 0.300000000000000040.1 + 0.2 - 0.3// 5.551115123125783e-175.551115123125783e-17.toFixed(20)// '0.00000000000000005551' ä½†æ˜¯å¦‚æžœè¿™ä¸ªè¯¯å·®èƒ½å¤Ÿå°äºŽNumber.EPSILONï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºå¾—åˆ°äº†æ­£ç¡®ç»“æžœã€‚ 125.551115123125783e-17 &lt; Number.EPSILON// true å› æ­¤ï¼ŒNumber.EPSILONçš„å®žè´¨æ˜¯ä¸€ä¸ªå¯ä»¥æŽ¥å—çš„è¯¯å·®èŒƒå›´ã€‚ 1234567function withinErrorMargin (left, right) &#123; return Math.abs(left - right) &lt; Number.EPSILON;&#125;withinErrorMargin(0.1 + 0.2, 0.3)// truewithinErrorMargin(0.2 + 0.2, 0.3)// false ä¸Šé¢çš„ä»£ç ä¸ºæµ®ç‚¹æ•°è¿ç®—ï¼Œéƒ¨ç½²äº†ä¸€ä¸ªè¯¯å·®æ£€æŸ¥å‡½æ•°ã€‚ å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger()JavaScriptèƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨-2^53åˆ°2^53ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºè¿™ä¸ªå€¼ã€‚ 1234567Math.pow(2, 53) // 90071992547409929007199254740992 // 90071992547409929007199254740993 // 9007199254740992Math.pow(2, 53) === Math.pow(2, 53) + 1// true ä¸Šé¢ä»£ç ä¸­ï¼Œè¶…å‡º2çš„53æ¬¡æ–¹ä¹‹åŽï¼Œä¸€ä¸ªæ•°å°±ä¸ç²¾ç¡®äº†ã€‚ ES6å¼•å…¥äº†Number.MAX_SAFE_INTEGERã€Number.MIN_SAFE_INTEGERè¿™ä¸¤ä¸ªå¸¸é‡ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªèŒƒå›´çš„ä¸Šä¸‹é™ã€‚ Number.isSafeInteger()åˆ™æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦è½åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…ã€‚ Mathå¯¹è±¡çš„æ‰©å±•ES6åœ¨Mathå¯¹è±¡ä¸Šæ–°å¢žäº†17ä¸ªä¸Žæ•°å­¦ç›¸å…³çš„æ–¹æ³•ã€‚æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•ï¼Œåªèƒ½åœ¨Mathå¯¹è±¡ä¸Šè°ƒç”¨ã€‚ æŒ‡æ•°è¿ç®—ç¬¦ES2016 æ–°å¢žäº†ä¸€ä¸ªæŒ‡æ•°è¿ç®—ç¬¦ï¼ˆ**ï¼‰ã€‚ 122 ** 2 // 42 ** 3 // 8 æŒ‡æ•°è¿ç®—ç¬¦å¯ä»¥ä¸Žç­‰å·ç»“åˆï¼Œå½¢æˆä¸€ä¸ªæ–°çš„èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ**=ï¼‰ã€‚ 1234567let a = 1.5;a **= 2;// ç­‰åŒäºŽ a = a * a;let b = 4;b **= 3;// ç­‰åŒäºŽ b = b * b * b; æ³¨æ„ï¼Œåœ¨ V8 å¼•æ“Žä¸­ï¼ŒæŒ‡æ•°è¿ç®—ç¬¦ä¸ŽMath.powçš„å®žçŽ°ä¸ç›¸åŒï¼Œå¯¹äºŽç‰¹åˆ«å¤§çš„è¿ç®—ç»“æžœï¼Œä¸¤è€…ä¼šæœ‰ç»†å¾®çš„å·®å¼‚ã€‚ 12345Math.pow(99, 99)// 3.697296376497263e+19799 ** 99// 3.697296376497268e+197 ä¸Šé¢ä»£ç ä¸­ï¼Œä¸¤ä¸ªè¿ç®—ç»“æžœçš„æœ€åŽä¸€ä½æœ‰æ•ˆæ•°å­—æ˜¯æœ‰å·®å¼‚çš„ã€‚ å‡½æ•°çš„æ‰©å±• å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ rest å‚æ•° ä¸¥æ ¼æ¨¡å¼ name å±žæ€§ ç®­å¤´å‡½æ•° ç»‘å®š this å°¾è°ƒç”¨ä¼˜åŒ– å‡½æ•°å‚æ•°çš„å°¾é€—å· catch è¯­å¥çš„å‚æ•° å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼åŸºæœ¬ç”¨æ³•ES6 ä¹‹å‰ï¼Œä¸èƒ½ç›´æŽ¥ä¸ºå‡½æ•°çš„å‚æ•°æŒ‡å®šé»˜è®¤å€¼ï¼Œåªèƒ½é‡‡ç”¨å˜é€šçš„æ–¹æ³•ã€‚ 12345678function log(x, y) &#123; y = y || 'World'; console.log(x, y);&#125;log('Hello') // Hello Worldlog('Hello', 'China') // Hello Chinalog('Hello', '') // Hello World è¿™ç§å†™æ³•çš„ç¼ºç‚¹åœ¨äºŽï¼Œå¦‚æžœå‚æ•°yèµ‹å€¼äº†ï¼Œä½†æ˜¯å¯¹åº”çš„å¸ƒå°”å€¼ä¸ºfalseï¼Œåˆ™è¯¥èµ‹å€¼ä¸èµ·ä½œç”¨ ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œé€šå¸¸éœ€è¦å…ˆåˆ¤æ–­ä¸€ä¸‹å‚æ•°yæ˜¯å¦è¢«èµ‹å€¼ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œå†ç­‰äºŽé»˜è®¤å€¼ã€‚ 123if (typeof y === 'undefined') &#123; y = 'World';&#125; ES6 å…è®¸ä¸ºå‡½æ•°çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå³ç›´æŽ¥å†™åœ¨å‚æ•°å®šä¹‰çš„åŽé¢ã€‚1234567function log(x, y = 'World') &#123; console.log(x, y);&#125;log('Hello') // Hello Worldlog('Hello', 'China') // Hello Chinalog('Hello', '') // Hello é™¤äº†ç®€æ´ï¼ŒES6 çš„å†™æ³•è¿˜æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š é¦–å…ˆï¼Œé˜…è¯»ä»£ç çš„äººï¼Œå¯ä»¥ç«‹åˆ»æ„è¯†åˆ°å“ªäº›å‚æ•°æ˜¯å¯ä»¥çœç•¥çš„ï¼Œä¸ç”¨æŸ¥çœ‹å‡½æ•°ä½“æˆ–æ–‡æ¡£ï¼› å…¶æ¬¡ï¼Œæœ‰åˆ©äºŽå°†æ¥çš„ä»£ç ä¼˜åŒ–ï¼Œå³ä½¿æœªæ¥çš„ç‰ˆæœ¬åœ¨å¯¹å¤–æŽ¥å£ä¸­ï¼Œå½»åº•æ‹¿æŽ‰è¿™ä¸ªå‚æ•°ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´ä»¥å‰çš„ä»£ç æ— æ³•è¿è¡Œã€‚ å‡ ä¸ªæ³¨æ„ç‚¹ å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜Žçš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜Žã€‚ ä½¿ç”¨å‚æ•°é»˜è®¤å€¼æ—¶ï¼Œå‡½æ•°ä¸èƒ½æœ‰åŒåå‚æ•°ã€‚ å‚æ•°é»˜è®¤å€¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ã€‚ï¼ˆæ¯æ¬¡éƒ½é‡æ–°è®¡ç®—é»˜è®¤å€¼è¡¨è¾¾å¼çš„å€¼ï¼‰ ä¸Žè§£æž„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨å‚æ•°é»˜è®¤å€¼å¯ä»¥ä¸Žè§£æž„èµ‹å€¼çš„é»˜è®¤å€¼ï¼Œç»“åˆèµ·æ¥ä½¿ç”¨ã€‚ 12345678function foo(&#123;x, y = 5&#125;) &#123; console.log(x, y);&#125;foo(&#123;&#125;) // undefined 5foo(&#123;x: 1&#125;) // 1 5foo(&#123;x: 1, y: 2&#125;) // 1 2foo() // TypeError: Cannot read property 'x' of undefined ä¸Šé¢ä»£ç åªä½¿ç”¨äº†å¯¹è±¡çš„è§£æž„èµ‹å€¼é»˜è®¤å€¼ï¼Œæ²¡æœ‰ä½¿ç”¨å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚ åªæœ‰å½“å‡½æ•°fooçš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå˜é‡xå’Œyæ‰ä¼šé€šè¿‡è§£æž„èµ‹å€¼ç”Ÿæˆã€‚å¦‚æžœå‡½æ•°fooè°ƒç”¨æ—¶æ²¡æä¾›å‚æ•°ï¼Œå˜é‡xå’Œyå°±ä¸ä¼šç”Ÿæˆï¼Œä»Žè€ŒæŠ¥é”™ã€‚é€šè¿‡æä¾›å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±å¯ä»¥é¿å…è¿™ç§æƒ…å†µã€‚ 12345function foo(&#123;x, y = 5&#125; = &#123;&#125;) &#123; console.log(x, y);&#125;foo() // undefined 5 ä¸Šé¢ä»£ç æŒ‡å®šï¼Œå¦‚æžœæ²¡æœ‰æä¾›å‚æ•°ï¼Œå‡½æ•°fooçš„å‚æ•°é»˜è®¤ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚ å‚æ•°é»˜è®¤å€¼çš„ä½ç½®é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°ã€‚å› ä¸ºè¿™æ ·æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºæ¥åˆ°åº•çœç•¥äº†å“ªäº›å‚æ•°ã€‚å¦‚æžœéžå°¾éƒ¨çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå®žé™…ä¸Šè¿™ä¸ªå‚æ•°æ˜¯æ²¡æ³•çœç•¥çš„ã€‚ 12345678910111213141516171819// ä¾‹ä¸€function f(x = 1, y) &#123; return [x, y];&#125;f() // [1, undefined]f(2) // [2, undefined])f(, 1) // æŠ¥é”™f(undefined, 1) // [1, 1]// ä¾‹äºŒfunction f(x, y = 5, z) &#123; return [x, y, z];&#125;f() // [undefined, 5, undefined]f(1) // [1, 5, undefined]f(1, ,2) // æŠ¥é”™f(1, undefined, 2) // [1, 5, 2] ä¸Šé¢ä»£ç ä¸­ï¼Œæœ‰é»˜è®¤å€¼çš„å‚æ•°éƒ½ä¸æ˜¯å°¾å‚æ•°ã€‚è¿™æ—¶ï¼Œæ— æ³•åªçœç•¥è¯¥å‚æ•°ï¼Œè€Œä¸çœç•¥å®ƒåŽé¢çš„å‚æ•°ï¼Œé™¤éžæ˜¾å¼è¾“å…¥undefinedã€‚ä¼ å…¥undefinedï¼Œå°†è§¦å‘è¯¥å‚æ•°ç­‰äºŽé»˜è®¤å€¼ï¼Œnullåˆ™æ²¡æœ‰è¿™ä¸ªæ•ˆæžœã€‚ å‡½æ•°çš„ length å±žæ€§æŒ‡å®šäº†é»˜è®¤å€¼ä»¥åŽï¼Œå‡½æ•°çš„lengthå±žæ€§ï¼Œå°†è¿”å›žæ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŒ‡å®šäº†é»˜è®¤å€¼åŽï¼Œlengthå±žæ€§å°†å¤±çœŸã€‚ è¿™æ˜¯å› ä¸ºlengthå±žæ€§çš„å«ä¹‰æ˜¯ï¼Œè¯¥å‡½æ•°é¢„æœŸä¼ å…¥çš„å‚æ•°ä¸ªæ•°ã€‚æŸä¸ªå‚æ•°æŒ‡å®šé»˜è®¤å€¼ä»¥åŽï¼Œé¢„æœŸä¼ å…¥çš„å‚æ•°ä¸ªæ•°å°±ä¸åŒ…æ‹¬è¿™ä¸ªå‚æ•°äº†ã€‚åŒç†ï¼ŒåŽæ–‡çš„ rest å‚æ•°ä¹Ÿä¸ä¼šè®¡å…¥lengthå±žæ€§ã€‚ 1(function(...args) &#123;&#125;).length // 0 å¦å¤–å¦‚æžœè®¾ç½®äº†é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œé‚£ä¹ˆlengthå±žæ€§ä¹Ÿä¸å†è®¡å…¥åŽé¢çš„å‚æ•°äº†ã€‚ 12(function (a = 0, b, c) &#123;&#125;).length // 0(function (a, b = 1, c) &#123;&#125;).length // 1 ä½œç”¨åŸŸä¸€æ—¦è®¾ç½®äº†å‚æ•°çš„é»˜è®¤å€¼ï¼Œå‡½æ•°è¿›è¡Œå£°æ˜Žåˆå§‹åŒ–æ—¶ï¼Œå‚æ•°ä¼šå½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸï¼ˆcontextï¼‰ã€‚ç­‰åˆ°åˆå§‹åŒ–ç»“æŸï¼Œè¿™ä¸ªä½œç”¨åŸŸå°±ä¼šæ¶ˆå¤±ã€‚è¿™ç§è¯­æ³•è¡Œä¸ºï¼Œåœ¨ä¸è®¾ç½®å‚æ•°é»˜è®¤å€¼æ—¶ï¼Œæ˜¯ä¸ä¼šå‡ºçŽ°çš„ã€‚ 1234567var x = 1;function f(x, y = x) &#123; console.log(y);&#125;f(2) // 2 ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°yçš„é»˜è®¤å€¼ç­‰äºŽå˜é‡xã€‚è°ƒç”¨å‡½æ•°fæ—¶ï¼Œå‚æ•°å½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸã€‚åœ¨è¿™ä¸ªä½œç”¨åŸŸé‡Œé¢ï¼Œé»˜è®¤å€¼å˜é‡xæŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°xï¼Œè€Œä¸æ˜¯å…¨å±€å˜é‡xï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯2ã€‚ å†çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 12345678let x = 1;function f(y = x) &#123; let x = 2; console.log(y);&#125;f() // 1 ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fè°ƒç”¨æ—¶ï¼Œå‚æ•°y = xå½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸã€‚è¿™ä¸ªä½œç”¨åŸŸé‡Œé¢ï¼Œå˜é‡xæœ¬èº«æ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥æŒ‡å‘å¤–å±‚çš„å…¨å±€å˜é‡xã€‚å‡½æ•°è°ƒç”¨æ—¶ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„å±€éƒ¨å˜é‡xå½±å“ä¸åˆ°é»˜è®¤å€¼å˜é‡xã€‚ å¦‚æžœæ­¤æ—¶ï¼Œå…¨å±€å˜é‡xä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚ 123456function f(y = x) &#123; let x = 2; console.log(y);&#125;f() // ReferenceError: x is not defined ä¸‹é¢è¿™æ ·å†™ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚ 1234567var x = 1;function foo(x = x) &#123; // ...&#125;foo() // ReferenceError: x is not defined ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°x = xå½¢æˆä¸€ä¸ªå•ç‹¬ä½œç”¨åŸŸã€‚å®žé™…æ‰§è¡Œçš„æ˜¯let x = xï¼Œç”±äºŽæš‚æ—¶æ€§æ­»åŒºçš„åŽŸå› ï¼Œè¿™è¡Œä»£ç ä¼šæŠ¥é”™â€x æœªå®šä¹‰â€œã€‚ å¦‚æžœå‚æ•°çš„é»˜è®¤å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨åŸŸä¹Ÿéµå®ˆè¿™ä¸ªè§„åˆ™ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 12345678let foo = 'outer';function bar(func = () =&gt; foo) &#123; let foo = 'inner'; console.log(func());&#125;bar(); // outer ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°barçš„å‚æ•°funcçš„é»˜è®¤å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿”å›žå€¼ä¸ºå˜é‡fooã€‚å‡½æ•°å‚æ•°å½¢æˆçš„å•ç‹¬ä½œç”¨åŸŸé‡Œé¢ï¼Œå¹¶æ²¡æœ‰å®šä¹‰å˜é‡fooï¼Œæ‰€ä»¥fooæŒ‡å‘å¤–å±‚çš„å…¨å±€å˜é‡fooï¼Œå› æ­¤è¾“å‡ºouterã€‚ å¦‚æžœå†™æˆä¸‹é¢è¿™æ ·ï¼Œå°±ä¼šæŠ¥é”™ã€‚ 123456function bar(func = () =&gt; foo) &#123; let foo = 'inner'; console.log(func());&#125;bar() // ReferenceError: foo is not defined ä¸Šé¢ä»£ç ä¸­ï¼ŒåŒ¿åå‡½æ•°é‡Œé¢çš„fooæŒ‡å‘å‡½æ•°å¤–å±‚ï¼Œä½†æ˜¯å‡½æ•°å¤–å±‚å¹¶æ²¡æœ‰å£°æ˜Žå˜é‡fooï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ã€‚ 123456789var x = 1;function foo(x, y = function() &#123; x = 2; &#125;) &#123; var x = 3; y(); console.log(x);&#125;foo() // 3x // 1 ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fooçš„å‚æ•°å½¢æˆä¸€ä¸ªå•ç‹¬ä½œç”¨åŸŸã€‚è¿™ä¸ªä½œç”¨åŸŸé‡Œé¢ï¼Œé¦–å…ˆå£°æ˜Žäº†å˜é‡xï¼Œç„¶åŽå£°æ˜Žäº†å˜é‡yï¼Œyçš„é»˜è®¤å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚è¿™ä¸ªåŒ¿åå‡½æ•°å†…éƒ¨çš„å˜é‡xï¼ŒæŒ‡å‘åŒä¸€ä¸ªä½œç”¨åŸŸçš„ç¬¬ä¸€ä¸ªå‚æ•°xã€‚å‡½æ•°fooå†…éƒ¨åˆå£°æ˜Žäº†ä¸€ä¸ªå†…éƒ¨å˜é‡xï¼Œè¯¥å˜é‡ä¸Žç¬¬ä¸€ä¸ªå‚æ•°xç”±äºŽä¸æ˜¯åŒä¸€ä¸ªä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¸æ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œå› æ­¤æ‰§è¡ŒyåŽï¼Œå†…éƒ¨å˜é‡xå’Œå¤–éƒ¨å…¨å±€å˜é‡xçš„å€¼éƒ½æ²¡å˜ã€‚ å¦‚æžœå°†var x = 3çš„varåŽ»é™¤ï¼Œå‡½æ•°fooçš„å†…éƒ¨å˜é‡xå°±æŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°xï¼Œä¸ŽåŒ¿åå‡½æ•°å†…éƒ¨çš„xæ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥æœ€åŽè¾“å‡ºçš„å°±æ˜¯2ï¼Œè€Œå¤–å±‚çš„å…¨å±€å˜é‡xä¾ç„¶ä¸å—å½±å“ã€‚ 123456789var x = 1;function foo(x, y = function() &#123; x = 2; &#125;) &#123; x = 3; y(); console.log(x);&#125;foo() // 2x // 1 åº”ç”¨åˆ©ç”¨å‚æ•°é»˜è®¤å€¼ï¼Œå¯ä»¥æŒ‡å®šæŸä¸€ä¸ªå‚æ•°ä¸å¾—çœç•¥ï¼Œå¦‚æžœçœç•¥å°±æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ 12345678910function throwIfMissing() &#123; throw new Error('Missing parameter');&#125;function foo(mustBeProvided = throwIfMissing()) &#123; return mustBeProvided;&#125;foo()// Error: Missing parameter ä¸Šé¢ä»£ç çš„fooå‡½æ•°ï¼Œå¦‚æžœè°ƒç”¨çš„æ—¶å€™æ²¡æœ‰å‚æ•°ï¼Œå°±ä¼šè°ƒç”¨é»˜è®¤å€¼throwIfMissingå‡½æ•°ï¼Œä»Žè€ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ ä»Žä¸Šé¢ä»£ç è¿˜å¯ä»¥çœ‹åˆ°ï¼Œå‚æ•°mustBeProvidedçš„é»˜è®¤å€¼ç­‰äºŽthrowIfMissingå‡½æ•°çš„è¿è¡Œç»“æžœï¼ˆæ³¨æ„å‡½æ•°åthrowIfMissingä¹‹åŽæœ‰ä¸€å¯¹åœ†æ‹¬å·ï¼‰ï¼Œè¿™è¡¨æ˜Žå‚æ•°çš„é»˜è®¤å€¼ä¸æ˜¯åœ¨å®šä¹‰æ—¶æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œã€‚å¦‚æžœå‚æ•°å·²ç»èµ‹å€¼ï¼Œé»˜è®¤å€¼ä¸­çš„å‡½æ•°å°±ä¸ä¼šè¿è¡Œã€‚ å¦å¤–ï¼Œå¯ä»¥å°†å‚æ•°é»˜è®¤å€¼è®¾ä¸ºundefinedï¼Œè¡¨æ˜Žè¿™ä¸ªå‚æ•°æ˜¯å¯ä»¥çœç•¥çš„ã€‚ 1function foo(optional = undefined) &#123; Â·Â·Â· &#125; rest å‚æ•°ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€¦å˜é‡åï¼‰ï¼Œç”¨äºŽèŽ·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ª rest å‚æ•°ä»£æ›¿argumentså˜é‡çš„ä¾‹å­ã€‚ 1234567// argumentså˜é‡çš„å†™æ³•function sortNumbers() &#123; return Array.prototype.slice.call(arguments).sort();&#125;// restå‚æ•°çš„å†™æ³•const sortNumbers = (...numbers) =&gt; numbers.sort(); argumentså¯¹è±¡ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚æ‰€ä»¥ä¸ºäº†ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨Array.prototype.slice.callå…ˆå°†å…¶è½¬ä¸ºæ•°ç»„ã€‚rest å‚æ•°å°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚ æ³¨æ„ï¼Œrest å‚æ•°ä¹‹åŽä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åŽä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿˜æœ‰ä¸Šé¢è¯´è¿‡çš„ å‡½æ•°çš„lengthå±žæ€§ï¼Œä¸åŒ…æ‹¬ rest å‚æ•°ã€‚ ä¸¥æ ¼æ¨¡å¼ä»Ž ES5 å¼€å§‹ï¼Œå‡½æ•°å†…éƒ¨å¯ä»¥è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ã€‚ 1234function doSomething(a, b) &#123; 'use strict'; // code&#125; ES2016 åšäº†ä¸€ç‚¹ä¿®æ”¹ï¼Œè§„å®šåªè¦å‡½æ•°å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æž„èµ‹å€¼ã€æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå‡½æ•°å†…éƒ¨å°±ä¸èƒ½æ˜¾å¼è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ è¿™æ ·è§„å®šçš„åŽŸå› æ˜¯ï¼Œå‡½æ•°å†…éƒ¨çš„ä¸¥æ ¼æ¨¡å¼ï¼ŒåŒæ—¶é€‚ç”¨äºŽå‡½æ•°ä½“å’Œå‡½æ•°å‚æ•°ã€‚ä½†æ˜¯ï¼Œå‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå…ˆæ‰§è¡Œå‡½æ•°å‚æ•°ï¼Œç„¶åŽå†æ‰§è¡Œå‡½æ•°ä½“ã€‚è¿™æ ·å°±æœ‰ä¸€ä¸ªä¸åˆç†çš„åœ°æ–¹ï¼Œåªæœ‰ä»Žå‡½æ•°ä½“ä¹‹ä¸­ï¼Œæ‰èƒ½çŸ¥é“å‚æ•°æ˜¯å¦åº”è¯¥ä»¥ä¸¥æ ¼æ¨¡å¼æ‰§è¡Œï¼Œä½†æ˜¯å‚æ•°å´åº”è¯¥å…ˆäºŽå‡½æ•°ä½“æ‰§è¡Œã€‚ 12345// æŠ¥é”™function doSomething(value = 070) &#123; 'use strict'; return value;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°valueçš„é»˜è®¤å€¼æ˜¯å…«è¿›åˆ¶æ•°070ï¼Œä½†æ˜¯ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸èƒ½ç”¨å‰ç¼€0è¡¨ç¤ºå…«è¿›åˆ¶ï¼Œæ‰€ä»¥åº”è¯¥æŠ¥é”™ã€‚ä½†æ˜¯å®žé™…ä¸Šï¼ŒJavaScript å¼•æ“Žä¼šå…ˆæˆåŠŸæ‰§è¡Œvalue = 070ï¼Œç„¶åŽè¿›å…¥å‡½æ•°ä½“å†…éƒ¨ï¼Œå‘çŽ°éœ€è¦ç”¨ä¸¥æ ¼æ¨¡å¼æ‰§è¡Œï¼Œè¿™æ—¶æ‰ä¼šæŠ¥é”™ã€‚ è™½ç„¶å¯ä»¥å…ˆè§£æžå‡½æ•°ä½“ä»£ç ï¼Œå†æ‰§è¡Œå‚æ•°ä»£ç ï¼Œä½†æ˜¯è¿™æ ·æ— ç–‘å°±å¢žåŠ äº†å¤æ‚æ€§ã€‚å› æ­¤ï¼Œæ ‡å‡†ç´¢æ€§ç¦æ­¢äº†è¿™ç§ç”¨æ³•ï¼Œåªè¦å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æž„èµ‹å€¼ã€æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œå°±ä¸èƒ½æ˜¾å¼æŒ‡å®šä¸¥æ ¼æ¨¡å¼ã€‚ ä¸¤ç§æ–¹æ³•å¯ä»¥è§„é¿è¿™ç§é™åˆ¶ã€‚ç¬¬ä¸€ç§æ˜¯è®¾å®šå…¨å±€æ€§çš„ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™æ˜¯åˆæ³•çš„ã€‚ç¬¬ä¸€ç§æ˜¯è®¾å®šå…¨å±€æ€§çš„ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™æ˜¯åˆæ³•çš„ã€‚ 12345'use strict';function doSomething(a, b = a) &#123; // code&#125; ç¬¬äºŒç§æ˜¯æŠŠå‡½æ•°åŒ…åœ¨ä¸€ä¸ªæ— å‚æ•°çš„ç«‹å³æ‰§è¡Œå‡½æ•°é‡Œé¢ã€‚ 123456const doSomething = (function () &#123; 'use strict'; return function(value = 42) &#123; return value; &#125;;&#125;()); name å±žæ€§å‡½æ•°çš„nameå±žæ€§ï¼Œè¿”å›žè¯¥å‡½æ•°çš„å‡½æ•°åã€‚ è¿™ä¸ªå±žæ€§æ—©å°±è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä½†æ˜¯ç›´åˆ° ES6ï¼Œæ‰å°†å…¶å†™å…¥äº†æ ‡å‡†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒES6 å¯¹è¿™ä¸ªå±žæ€§çš„è¡Œä¸ºåšå‡ºäº†ä¸€äº›ä¿®æ”¹ã€‚å¦‚æžœå°†ä¸€ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼ŒES5 çš„nameå±žæ€§ï¼Œä¼šè¿”å›žç©ºå­—ç¬¦ä¸²ï¼Œè€Œ ES6 çš„nameå±žæ€§ä¼šè¿”å›žå®žé™…çš„å‡½æ•°åã€‚ 1234567var f = function () &#123;&#125;;// ES5f.name // ""// ES6f.name // "f" å¦‚æžœå°†ä¸€ä¸ªå…·åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œåˆ™ ES5 å’Œ ES6 çš„nameå±žæ€§éƒ½è¿”å›žè¿™ä¸ªå…·åå‡½æ•°åŽŸæœ¬çš„åå­—ã€‚ 1234567const bar = function baz() &#123;&#125;;// ES5bar.name // "baz"// ES6bar.name // "baz" Functionæž„é€ å‡½æ•°è¿”å›žçš„å‡½æ•°å®žä¾‹ï¼Œnameå±žæ€§çš„å€¼ä¸ºanonymousã€‚ 1(new Function).name // "anonymous" bindè¿”å›žçš„å‡½æ•°ï¼Œnameå±žæ€§å€¼ä¼šåŠ ä¸Šboundå‰ç¼€ã€‚ 1234function foo() &#123;&#125;;foo.bind(&#123;&#125;).name // "bound foo"(function()&#123;&#125;).bind(&#123;&#125;).name // "bound " ç®­å¤´å‡½æ•°åŸºæœ¬ç”¨æ³•ES6 å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰å®šä¹‰å‡½æ•°ã€‚ 123456var f = v =&gt; v;//ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç­‰åŒäºŽï¼švar f = function(v) &#123; return v;&#125;; å¦‚æžœç®­å¤´å‡½æ•°ä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†ã€‚ å¦‚æžœç®­å¤´å‡½æ•°çš„ä»£ç å—éƒ¨åˆ†å¤šäºŽä¸€æ¡è¯­å¥ï¼Œå°±è¦ä½¿ç”¨å¤§æ‹¬å·å°†å®ƒä»¬æ‹¬èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨returnè¯­å¥è¿”å›žã€‚ ç”±äºŽå¤§æ‹¬å·è¢«è§£é‡Šä¸ºä»£ç å—ï¼Œæ‰€ä»¥å¦‚æžœç®­å¤´å‡½æ•°ç›´æŽ¥è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åœ¨å¯¹è±¡å¤–é¢åŠ ä¸Šæ‹¬å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ ç®­å¤´å‡½æ•°å¯ä»¥ä¸Žå˜é‡è§£æž„ç»“åˆä½¿ç”¨ã€‚ ç®­å¤´å‡½æ•°çš„ä¸€ä¸ªç”¨å¤„æ˜¯ç®€åŒ–å›žè°ƒå‡½æ•°ã€‚ ä½¿ç”¨æ³¨æ„ç‚¹ç®­å¤´å‡½æ•°æœ‰å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ã€‚ å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ ä¸å¯ä»¥å½“ä½œæž„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ï¼ˆå› ä¸ºæ²¡æœ‰thisï¼‰ ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æžœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚ ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚ ä¸Šé¢å››ç‚¹ä¸­ï¼Œç¬¬ä¸€ç‚¹å°¤å…¶å€¼å¾—æ³¨æ„ã€‚thiså¯¹è±¡çš„æŒ‡å‘æ˜¯å¯å˜çš„ï¼Œä½†æ˜¯åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œå®ƒæ˜¯å›ºå®šçš„ã€‚ ç®­å¤´å‡½æ•°å¯¼è‡´thisæ€»æ˜¯æŒ‡å‘å‡½æ•°å®šä¹‰ç”Ÿæ•ˆæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œç»‘å®šå®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯æŒ‡å‘è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚ thisæŒ‡å‘çš„å›ºå®šåŒ–ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç®­å¤´å‡½æ•°å†…éƒ¨æœ‰ç»‘å®šthisçš„æœºåˆ¶ï¼Œå®žé™…åŽŸå› æ˜¯ç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œå¯¼è‡´å†…éƒ¨çš„thiså°±æ˜¯å¤–å±‚ä»£ç å—çš„thisã€‚æ­£æ˜¯å› ä¸ºå®ƒæ²¡æœ‰thisï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸èƒ½ç”¨ä½œæž„é€ å‡½æ•°ã€‚ æ‰€ä»¥ï¼Œç®­å¤´å‡½æ•°è½¬æˆ ES5 çš„ä»£ç å¦‚ä¸‹ã€‚ 123456789101112131415// ES6function foo() &#123; setTimeout(() =&gt; &#123; console.log('id:', this.id); &#125;, 100);&#125;// ES5function foo() &#123; var _this = this; setTimeout(function () &#123; console.log('id:', _this.id); &#125;, 100);&#125; é™¤äº†thisï¼Œä»¥ä¸‹ä¸‰ä¸ªå˜é‡åœ¨ç®­å¤´å‡½æ•°ä¹‹ä¸­ä¹Ÿæ˜¯ä¸å­˜åœ¨çš„ï¼ŒæŒ‡å‘å¤–å±‚å‡½æ•°çš„å¯¹åº”å˜é‡ï¼šargumentsã€superã€new.targetã€‚ å¦å¤–ï¼Œç”±äºŽç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œæ‰€ä»¥å½“ç„¶ä¹Ÿå°±ä¸èƒ½ç”¨call()ã€apply()ã€bind()è¿™äº›æ–¹æ³•åŽ»æ”¹å˜thisçš„æŒ‡å‘ã€‚ ç»‘å®š thisç®­å¤´å‡½æ•°å¯ä»¥ç»‘å®šthiså¯¹è±¡ï¼Œå¤§å¤§å‡å°‘äº†æ˜¾å¼ç»‘å®šthiså¯¹è±¡çš„å†™æ³•ï¼ˆcallã€applyã€bindï¼‰ã€‚ä½†æ˜¯ï¼Œç®­å¤´å‡½æ•°å¹¶ä¸é€‚ç”¨äºŽæ‰€æœ‰åœºåˆï¼Œæ‰€ä»¥ES7æå‡ºäº†â€œå‡½æ•°ç»‘å®šâ€ï¼ˆfunction bindï¼‰è¿ç®—ç¬¦ï¼Œç”¨æ¥å–ä»£callã€applyã€bindè°ƒç”¨ã€‚è™½ç„¶è¯¥è¯­æ³•è¿˜æ˜¯ES7çš„ä¸€ä¸ªææ¡ˆï¼Œä½†æ˜¯Babelè½¬ç å™¨å·²ç»æ”¯æŒã€‚ å‡½æ•°ç»‘å®šè¿ç®—ç¬¦æ˜¯å¹¶æŽ’çš„ä¸¤ä¸ªå†’å·ï¼ˆ::ï¼‰ï¼ŒåŒå†’å·å·¦è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³è¾¹æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚è¯¥è¿ç®—ç¬¦ä¼šè‡ªåŠ¨å°†å·¦è¾¹çš„å¯¹è±¡ï¼Œä½œä¸ºä¸Šä¸‹æ–‡çŽ¯å¢ƒï¼ˆå³thiså¯¹è±¡ï¼‰ï¼Œç»‘å®šåˆ°å³è¾¹çš„å‡½æ•°ä¸Šé¢ã€‚ 123456789101112foo::bar;// ç­‰åŒäºŽbar.bind(foo);foo::bar(...arguments);// ç­‰åŒäºŽbar.apply(foo, arguments);const hasOwnProperty = Object.prototype.hasOwnProperty;function hasOwn(obj, key) &#123; return obj::hasOwnProperty(key);&#125; å¦‚æžœåŒå†’å·å·¦è¾¹ä¸ºç©ºï¼Œå³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œåˆ™ç­‰äºŽå°†è¯¥æ–¹æ³•ç»‘å®šåœ¨è¯¥å¯¹è±¡ä¸Šé¢ã€‚ 1234567var method = obj::obj.foo;// ç­‰åŒäºŽvar method = ::obj.foo;let log = ::console.log;// ç­‰åŒäºŽvar log = console.log.bind(console); ç”±äºŽåŒå†’å·è¿ç®—ç¬¦è¿”å›žçš„è¿˜æ˜¯åŽŸå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚ 1234567891011121314// ä¾‹ä¸€import &#123; map, takeWhile, forEach &#125; from "iterlib";getPlayers()::map(x =&gt; x.character())::takeWhile(x =&gt; x.strength &gt; 100)::forEach(x =&gt; console.log(x));// ä¾‹äºŒlet &#123; find, html &#125; = jake;document.querySelectorAll("div.myClass")::find("p")::html("hahaha"); å°¾è°ƒç”¨ä¼˜åŒ–ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼Ÿå°¾è°ƒç”¨ï¼ˆTail Callï¼‰æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæœ¬èº«éžå¸¸ç®€å•ï¼Œä¸€å¥è¯å°±èƒ½è¯´æ¸…æ¥šï¼Œå°±æ˜¯æŒ‡æŸä¸ªå‡½æ•°çš„æœ€åŽä¸€æ­¥æ˜¯è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚ å°¾è°ƒç”¨ä¸ä¸€å®šå‡ºçŽ°åœ¨å‡½æ•°å°¾éƒ¨ï¼Œåªè¦æ˜¯æœ€åŽä¸€æ­¥æ“ä½œå³å¯ã€‚ å°¾è°ƒç”¨ä¼˜åŒ–å°¾è°ƒç”¨ä¹‹æ‰€ä»¥ä¸Žå…¶ä»–è°ƒç”¨ä¸åŒï¼Œå°±åœ¨äºŽå®ƒçš„ç‰¹æ®Šçš„è°ƒç”¨ä½ç½®ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°è°ƒç”¨ä¼šåœ¨å†…å­˜å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨è®°å½•â€ï¼Œåˆç§°â€œè°ƒç”¨å¸§â€ï¼ˆcall frameï¼‰ï¼Œä¿å­˜è°ƒç”¨ä½ç½®å’Œå†…éƒ¨å˜é‡ç­‰ä¿¡æ¯ã€‚å¦‚æžœåœ¨å‡½æ•°Açš„å†…éƒ¨è°ƒç”¨å‡½æ•°Bï¼Œé‚£ä¹ˆåœ¨Açš„è°ƒç”¨å¸§ä¸Šæ–¹ï¼Œè¿˜ä¼šå½¢æˆä¸€ä¸ªBçš„è°ƒç”¨å¸§ã€‚ç­‰åˆ°Bè¿è¡Œç»“æŸï¼Œå°†ç»“æžœè¿”å›žåˆ°Aï¼ŒBçš„è°ƒç”¨å¸§æ‰ä¼šæ¶ˆå¤±ã€‚å¦‚æžœå‡½æ•°Bå†…éƒ¨è¿˜è°ƒç”¨å‡½æ•°Cï¼Œé‚£å°±è¿˜æœ‰ä¸€ä¸ªCçš„è°ƒç”¨å¸§ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚æ‰€æœ‰çš„è°ƒç”¨å¸§ï¼Œå°±å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ï¼ˆcall stackï¼‰ã€‚ å°¾è°ƒç”¨ç”±äºŽæ˜¯å‡½æ•°çš„æœ€åŽä¸€æ­¥æ“ä½œï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿ç•™å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå› ä¸ºè°ƒç”¨ä½ç½®ã€å†…éƒ¨å˜é‡ç­‰ä¿¡æ¯éƒ½ä¸ä¼šå†ç”¨åˆ°äº†ï¼Œåªè¦ç›´æŽ¥ç”¨å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§å°±å¯ä»¥äº†ã€‚ 123456789101112131415function f() &#123; let m = 1; let n = 2; return g(m + n);&#125;f();// ç­‰åŒäºŽfunction f() &#123; return g(3);&#125;f();// ç­‰åŒäºŽg(3); ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœå‡½æ•°gä¸æ˜¯å°¾è°ƒç”¨ï¼Œå‡½æ•°få°±éœ€è¦ä¿å­˜å†…éƒ¨å˜é‡må’Œnçš„å€¼ã€gçš„è°ƒç”¨ä½ç½®ç­‰ä¿¡æ¯ã€‚ä½†ç”±äºŽè°ƒç”¨gä¹‹åŽï¼Œå‡½æ•°få°±ç»“æŸäº†ï¼Œæ‰€ä»¥æ‰§è¡Œåˆ°æœ€åŽä¸€æ­¥ï¼Œå®Œå…¨å¯ä»¥åˆ é™¤f(x)çš„è°ƒç”¨å¸§ï¼Œåªä¿ç•™g(3)çš„è°ƒç”¨å¸§ã€‚ è¿™å°±å«åšâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ï¼ˆTail call optimizationï¼‰ï¼Œå³åªä¿ç•™å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ã€‚å¦‚æžœæ‰€æœ‰å‡½æ•°éƒ½æ˜¯å°¾è°ƒç”¨ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥åšåˆ°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œè°ƒç”¨å¸§åªæœ‰ä¸€é¡¹ï¼Œè¿™å°†å¤§å¤§èŠ‚çœå†…å­˜ã€‚è¿™å°±æ˜¯â€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„æ„ä¹‰ã€‚ æ³¨æ„ï¼Œåªæœ‰ä¸å†ç”¨åˆ°å¤–å±‚å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œå†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§æ‰ä¼šå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå¦åˆ™å°±æ— æ³•è¿›è¡Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚ 1234567function addOne(a)&#123; var one = 1; function inner(b)&#123; return b + one; &#125; return inner(a);&#125; ä¸Šé¢çš„å‡½æ•°ä¸ä¼šè¿›è¡Œå°¾è°ƒç”¨ä¼˜åŒ–ï¼Œå› ä¸ºå†…å±‚å‡½æ•°innerç”¨åˆ°äº†å¤–å±‚å‡½æ•°addOneçš„å†…éƒ¨å˜é‡oneã€‚ å°¾é€’å½’å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œç§°ä¸ºé€’å½’ã€‚å¦‚æžœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚ é€’å½’éžå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ï¼ˆstack overflowï¼‰ã€‚ä½†å¯¹äºŽå°¾é€’å½’æ¥è¯´ï¼Œç”±äºŽåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚ 123456function factorial(n) &#123; if (n === 1) return 1; return n * factorial(n - 1);&#125;factorial(5) // 120 ä¸Šé¢ä»£ç æ˜¯ä¸€ä¸ªé˜¶ä¹˜å‡½æ•°ï¼Œè®¡ç®—nçš„é˜¶ä¹˜ï¼Œæœ€å¤šéœ€è¦ä¿å­˜nä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(n) ã€‚ å¦‚æžœæ”¹å†™æˆå°¾é€’å½’ï¼Œåªä¿ç•™ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(1) ã€‚ 123456function factorial(n, total) &#123; if (n === 1) return total; return factorial(n - 1, n * total);&#125;factorial(5, 1) // 120 è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒè‘—åçš„ä¾‹å­ï¼Œå°±æ˜¯è®¡ç®— Fibonacci æ•°åˆ—ï¼Œä¹Ÿèƒ½å……åˆ†è¯´æ˜Žå°¾é€’å½’ä¼˜åŒ–çš„é‡è¦æ€§ã€‚ éžå°¾é€’å½’çš„ Fibonacci æ•°åˆ—å®žçŽ°å¦‚ä¸‹ã€‚ 123456789function Fibonacci (n) &#123; if ( n &lt;= 1 ) &#123;return 1&#125;; return Fibonacci(n - 1) + Fibonacci(n - 2);&#125;Fibonacci(10) // 89Fibonacci(100) // å †æ ˆæº¢å‡ºFibonacci(500) // å †æ ˆæº¢å‡º å°¾é€’å½’ä¼˜åŒ–è¿‡çš„ Fibonacci æ•°åˆ—å®žçŽ°å¦‚ä¸‹ã€‚ 123456789function Fibonacci2 (n , ac1 = 1 , ac2 = 1) &#123; if( n &lt;= 1 ) &#123;return ac2&#125;; return Fibonacci2 (n - 1, ac2, ac1 + ac2);&#125;Fibonacci2(100) // 573147844013817200000Fibonacci2(1000) // 7.0330367711422765e+208Fibonacci2(10000) // Infinity ç”±æ­¤å¯è§ï¼Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€å¯¹é€’å½’æ“ä½œæ„ä¹‰é‡å¤§ï¼Œæ‰€ä»¥ä¸€äº›å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å°†å…¶å†™å…¥äº†è¯­è¨€è§„æ ¼ã€‚ES6 æ˜¯å¦‚æ­¤ï¼Œç¬¬ä¸€æ¬¡æ˜Žç¡®è§„å®šï¼Œæ‰€æœ‰ ECMAScript çš„å®žçŽ°ï¼Œéƒ½å¿…é¡»éƒ¨ç½²â€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚è¿™å°±æ˜¯è¯´ï¼ŒES6 ä¸­åªè¦ä½¿ç”¨å°¾é€’å½’ï¼Œå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼Œç›¸å¯¹èŠ‚çœå†…å­˜ã€‚ é€’å½’å‡½æ•°çš„æ”¹å†™å°¾é€’å½’çš„å®žçŽ°ï¼Œå¾€å¾€éœ€è¦æ”¹å†™é€’å½’å‡½æ•°ï¼Œç¡®ä¿æœ€åŽä¸€æ­¥åªè°ƒç”¨è‡ªèº«ã€‚åšåˆ°è¿™ä¸€ç‚¹çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰ç”¨åˆ°çš„å†…éƒ¨å˜é‡æ”¹å†™æˆå‡½æ•°çš„å‚æ•°ã€‚ æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œé˜¶ä¹˜å‡½æ•° factorial éœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸­é—´å˜é‡totalï¼Œé‚£å°±æŠŠè¿™ä¸ªä¸­é—´å˜é‡æ”¹å†™æˆå‡½æ•°çš„å‚æ•°ã€‚è¿™æ ·åšçš„ç¼ºç‚¹å°±æ˜¯ä¸å¤ªç›´è§‚ï¼Œç¬¬ä¸€çœ¼å¾ˆéš¾çœ‹å‡ºæ¥ï¼Œä¸ºä»€ä¹ˆè®¡ç®—5çš„é˜¶ä¹˜ï¼Œéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°5å’Œ1ï¼Ÿ ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ–¹æ³•ä¸€æ˜¯åœ¨å°¾é€’å½’å‡½æ•°ä¹‹å¤–ï¼Œå†æä¾›ä¸€ä¸ªæ­£å¸¸å½¢å¼çš„å‡½æ•°ã€‚ 12345678910function tailFactorial(n, total) &#123; if (n === 1) return total; return tailFactorial(n - 1, n * total);&#125;function factorial(n) &#123; return tailFactorial(n, 1);&#125;factorial(5) // 120 ä¸Šé¢ä»£ç é€šè¿‡ä¸€ä¸ªæ­£å¸¸å½¢å¼çš„é˜¶ä¹˜å‡½æ•°factorialï¼Œè°ƒç”¨å°¾é€’å½’å‡½æ•°tailFactorialï¼Œçœ‹èµ·æ¥å°±æ­£å¸¸å¤šäº†ã€‚ è€Œä¸”å‡½æ•°å¼ç¼–ç¨‹æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå«åšæŸ¯é‡ŒåŒ–ï¼ˆcurryingï¼‰ï¼Œæ„æ€æ˜¯å°†å¤šå‚æ•°çš„å‡½æ•°è½¬æ¢æˆå•å‚æ•°çš„å½¢å¼ã€‚è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æŸ¯é‡ŒåŒ–ã€‚ 1234567891011121314function currying(fn, n) &#123; return function (m) &#123; return fn.call(this, m, n); &#125;;&#125;function tailFactorial(n, total) &#123; if (n === 1) return total; return tailFactorial(n - 1, n * total);&#125;const factorial = currying(tailFactorial, 1);factorial(5) // 120 ä¸Šé¢ä»£ç é€šè¿‡æŸ¯é‡ŒåŒ–ï¼Œå°†å°¾é€’å½’å‡½æ•°tailFactorialå˜ä¸ºåªæŽ¥å—ä¸€ä¸ªå‚æ•°çš„factorialã€‚ ç¬¬äºŒç§æ–¹æ³•å°±ç®€å•å¤šäº†ï¼Œå°±æ˜¯é‡‡ç”¨ ES6 çš„å‡½æ•°é»˜è®¤å€¼ã€‚ 123456function factorial(n, total = 1) &#123; if (n === 1) return total; return factorial(n - 1, n * total);&#125;factorial(5) // 120 ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°totalæœ‰é»˜è®¤å€¼1ï¼Œæ‰€ä»¥è°ƒç”¨æ—¶ä¸ç”¨æä¾›è¿™ä¸ªå€¼ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œé€’å½’æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¾ªçŽ¯æ“ä½œã€‚çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€æ²¡æœ‰å¾ªçŽ¯æ“ä½œå‘½ä»¤ï¼Œæ‰€æœ‰çš„å¾ªçŽ¯éƒ½ç”¨é€’å½’å®žçŽ°ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå°¾é€’å½’å¯¹è¿™äº›è¯­è¨€æžå…¶é‡è¦ã€‚å¯¹äºŽå…¶ä»–æ”¯æŒâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„è¯­è¨€ï¼ˆæ¯”å¦‚Luaï¼ŒES6ï¼‰ï¼Œåªéœ€è¦çŸ¥é“å¾ªçŽ¯å¯ä»¥ç”¨é€’å½’ä»£æ›¿ï¼Œè€Œä¸€æ—¦ä½¿ç”¨é€’å½’ï¼Œå°±æœ€å¥½ä½¿ç”¨å°¾é€’å½’ã€‚ ä¸¥æ ¼æ¨¡å¼ES6 çš„å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚ è¿™æ˜¯å› ä¸ºåœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå‡½æ•°å†…éƒ¨æœ‰ä¸¤ä¸ªå˜é‡ï¼Œå¯ä»¥è·Ÿè¸ªå‡½æ•°çš„è°ƒç”¨æ ˆã€‚ func.argumentsï¼šè¿”å›žè°ƒç”¨æ—¶å‡½æ•°çš„å‚æ•°ã€‚ func.callerï¼šè¿”å›žè°ƒç”¨å½“å‰å‡½æ•°çš„é‚£ä¸ªå‡½æ•°ã€‚ å°¾è°ƒç”¨ä¼˜åŒ–å‘ç”Ÿæ—¶ï¼Œå‡½æ•°çš„è°ƒç”¨æ ˆä¼šæ”¹å†™ï¼Œå› æ­¤ä¸Šé¢ä¸¤ä¸ªå˜é‡å°±ä¼šå¤±çœŸã€‚ä¸¥æ ¼æ¨¡å¼ç¦ç”¨è¿™ä¸¤ä¸ªå˜é‡ï¼Œæ‰€ä»¥å°¾è°ƒç”¨æ¨¡å¼ä»…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚ 123456function restricted() &#123; 'use strict'; restricted.caller; // æŠ¥é”™ restricted.arguments; // æŠ¥é”™&#125;restricted(); å°¾é€’å½’ä¼˜åŒ–çš„å®žçŽ°å°¾é€’å½’ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç”Ÿæ•ˆï¼Œé‚£ä¹ˆæ­£å¸¸æ¨¡å¼ä¸‹ï¼Œæˆ–è€…é‚£äº›ä¸æ”¯æŒè¯¥åŠŸèƒ½çš„çŽ¯å¢ƒä¸­ï¼Œæœ‰æ²¡æœ‰åŠžæ³•ä¹Ÿä½¿ç”¨å°¾é€’å½’ä¼˜åŒ–å‘¢ï¼Ÿå›žç­”æ˜¯å¯ä»¥çš„ï¼Œå°±æ˜¯è‡ªå·±å®žçŽ°å°¾é€’å½’ä¼˜åŒ–ã€‚ å®ƒçš„åŽŸç†éžå¸¸ç®€å•ã€‚å°¾é€’å½’ä¹‹æ‰€ä»¥éœ€è¦ä¼˜åŒ–ï¼ŒåŽŸå› æ˜¯è°ƒç”¨æ ˆå¤ªå¤šï¼Œé€ æˆæº¢å‡ºï¼Œé‚£ä¹ˆåªè¦å‡å°‘è°ƒç”¨æ ˆï¼Œå°±ä¸ä¼šæº¢å‡ºã€‚æ€Žä¹ˆåšå¯ä»¥å‡å°‘è°ƒç”¨æ ˆå‘¢ï¼Ÿå°±æ˜¯é‡‡ç”¨â€œå¾ªçŽ¯â€æ¢æŽ‰â€œé€’å½’â€ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæ­£å¸¸çš„é€’å½’å‡½æ•°ã€‚ 12345678910function sum(x, y) &#123; if (y &gt; 0) &#123; return sum(x + 1, y - 1); &#125; else &#123; return x; &#125;&#125;sum(1, 100000)// Uncaught RangeError: Maximum call stack size exceeded(â€¦) ä¸Šé¢ä»£ç ä¸­ï¼Œsumæ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå‚æ•°xæ˜¯éœ€è¦ç´¯åŠ çš„å€¼ï¼Œå‚æ•°yæŽ§åˆ¶é€’å½’æ¬¡æ•°ã€‚ä¸€æ—¦æŒ‡å®šsumé€’å½’100000æ¬¡ï¼Œå°±ä¼šæŠ¥é”™ï¼Œæç¤ºè¶…å‡ºè°ƒç”¨æ ˆçš„æœ€å¤§æ¬¡æ•°ã€‚ è¹¦åºŠå‡½æ•°ï¼ˆtrampolineï¼‰å¯ä»¥å°†é€’å½’æ‰§è¡Œè½¬ä¸ºå¾ªçŽ¯æ‰§è¡Œã€‚ 123456function trampoline(f) &#123; while (f &amp;&amp; f instanceof Function) &#123; f = f(); &#125; return f;&#125; ä¸Šé¢å°±æ˜¯è¹¦åºŠå‡½æ•°çš„ä¸€ä¸ªå®žçŽ°ï¼Œå®ƒæŽ¥å—ä¸€ä¸ªå‡½æ•°fä½œä¸ºå‚æ•°ã€‚åªè¦fæ‰§è¡ŒåŽè¿”å›žä¸€ä¸ªå‡½æ•°ï¼Œå°±ç»§ç»­æ‰§è¡Œã€‚æ³¨æ„ï¼Œè¿™é‡Œæ˜¯è¿”å›žä¸€ä¸ªå‡½æ•°ï¼Œç„¶åŽæ‰§è¡Œè¯¥å‡½æ•°ï¼Œè€Œä¸æ˜¯å‡½æ•°é‡Œé¢è°ƒç”¨å‡½æ•°ï¼Œè¿™æ ·å°±é¿å…äº†é€’å½’æ‰§è¡Œï¼Œä»Žè€Œå°±æ¶ˆé™¤äº†è°ƒç”¨æ ˆè¿‡å¤§çš„é—®é¢˜ã€‚ ç„¶åŽï¼Œè¦åšçš„å°±æ˜¯å°†åŽŸæ¥çš„é€’å½’å‡½æ•°ï¼Œæ”¹å†™ä¸ºæ¯ä¸€æ­¥è¿”å›žå¦ä¸€ä¸ªå‡½æ•°ã€‚ 1234567function sum(x, y) &#123; if (y &gt; 0) &#123; return sum.bind(null, x + 1, y - 1); &#125; else &#123; return x; &#125;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œsumå‡½æ•°çš„æ¯æ¬¡æ‰§è¡Œï¼Œéƒ½ä¼šè¿”å›žè‡ªèº«çš„å¦ä¸€ä¸ªç‰ˆæœ¬ã€‚ çŽ°åœ¨ï¼Œä½¿ç”¨è¹¦åºŠå‡½æ•°æ‰§è¡Œsumï¼Œå°±ä¸ä¼šå‘ç”Ÿè°ƒç”¨æ ˆæº¢å‡ºã€‚ 12trampoline(sum(1, 100000))// 100001 è¹¦åºŠå‡½æ•°å¹¶ä¸æ˜¯çœŸæ­£çš„å°¾é€’å½’ä¼˜åŒ–ï¼Œä¸‹é¢çš„å®žçŽ°æ‰æ˜¯ã€‚ 1234567891011121314151617181920212223242526272829function tco(f) &#123; var value; var active = false; var accumulated = []; return function accumulator() &#123; accumulated.push(arguments); if (!active) &#123; active = true; while (accumulated.length) &#123; value = f.apply(this, accumulated.shift()); &#125; active = false; return value; &#125; &#125;;&#125;var sum = tco(function(x, y) &#123; if (y &gt; 0) &#123; return sum(x + 1, y - 1) &#125; else &#123; return x &#125;&#125;);sum(1, 100000)// 100001 ä¸Šé¢ä»£ç ä¸­ï¼Œtcoå‡½æ•°æ˜¯å°¾é€’å½’ä¼˜åŒ–çš„å®žçŽ°ï¼Œå®ƒçš„å¥¥å¦™å°±åœ¨äºŽçŠ¶æ€å˜é‡activeã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå˜é‡æ˜¯ä¸æ¿€æ´»çš„ã€‚ä¸€æ—¦è¿›å…¥å°¾é€’å½’ä¼˜åŒ–çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªå˜é‡å°±æ¿€æ´»äº†ã€‚ç„¶åŽï¼Œæ¯ä¸€è½®é€’å½’sumè¿”å›žçš„éƒ½æ˜¯undefinedï¼Œæ‰€ä»¥å°±é¿å…äº†é€’å½’æ‰§è¡Œï¼›è€Œaccumulatedæ•°ç»„å­˜æ”¾æ¯ä¸€è½®sumæ‰§è¡Œçš„å‚æ•°ï¼Œæ€»æ˜¯æœ‰å€¼çš„ï¼Œè¿™å°±ä¿è¯äº†accumulatorå‡½æ•°å†…éƒ¨çš„whileå¾ªçŽ¯æ€»æ˜¯ä¼šæ‰§è¡Œã€‚è¿™æ ·å°±å¾ˆå·§å¦™åœ°å°†â€œé€’å½’â€æ”¹æˆäº†â€œå¾ªçŽ¯â€ï¼Œè€ŒåŽä¸€è½®çš„å‚æ•°ä¼šå–ä»£å‰ä¸€è½®çš„å‚æ•°ï¼Œä¿è¯äº†è°ƒç”¨æ ˆåªæœ‰ä¸€å±‚ã€‚ å‡½æ•°å‚æ•°çš„å°¾é€—å·ES2017 å…è®¸å‡½æ•°çš„æœ€åŽä¸€ä¸ªå‚æ•°æœ‰å°¾é€—å·ï¼ˆtrailing commaï¼‰ã€‚ æ­¤å‰ï¼Œå‡½æ•°å®šä¹‰å’Œè°ƒç”¨æ—¶ï¼Œéƒ½ä¸å…è®¸æœ€åŽä¸€ä¸ªå‚æ•°åŽé¢å‡ºçŽ°é€—å·ã€‚ catch è¯­å¥çš„å‚æ•°ç›®å‰ï¼Œæœ‰ä¸€ä¸ªææ¡ˆï¼Œå…è®¸tryâ€¦catchç»“æž„ä¸­çš„catchè¯­å¥è°ƒç”¨æ—¶ä¸å¸¦æœ‰å‚æ•°ã€‚è¿™ä¸ªææ¡ˆè·Ÿå‚æ•°æœ‰å…³ï¼Œä¹Ÿæ”¾åœ¨è¿™ä¸€ç« ä»‹ç»ã€‚ ä¼ ç»Ÿçš„å†™æ³•æ˜¯catchè¯­å¥å¿…é¡»å¸¦æœ‰å‚æ•°ï¼Œç”¨æ¥æŽ¥æ”¶tryä»£ç å—æŠ›å‡ºçš„é”™è¯¯ã€‚ æ•°ç»„çš„æ‰©å±• æ‰©å±•è¿ç®—ç¬¦ Array.from() Array.of() æ•°ç»„å®žä¾‹çš„ copyWithin() æ•°ç»„å®žä¾‹çš„ find() å’Œ findIndex() æ•°ç»„å®žä¾‹çš„fill() æ•°ç»„å®žä¾‹çš„ entries()ï¼Œkeys() å’Œ values() æ•°ç»„å®žä¾‹çš„ includes() æ•°ç»„çš„ç©ºä½ æ‰©å±•è¿ç®—ç¬¦å«ä¹‰æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰ã€‚å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚ æ›¿ä»£æ•°ç»„çš„ apply æ–¹æ³•ç”±äºŽæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å±•å¼€æ•°ç»„ï¼Œæ‰€ä»¥ä¸å†éœ€è¦applyæ–¹æ³•ï¼Œå°†æ•°ç»„è½¬ä¸ºå‡½æ•°çš„å‚æ•°äº†ã€‚ 12345678910111213// ES5 çš„å†™æ³•function f(x, y, z) &#123; // ...&#125;var args = [0, 1, 2];f.apply(null, args);// ES6çš„å†™æ³•function f(x, y, z) &#123; // ...&#125;var args = [0, 1, 2];f(...args); ä¸‹é¢æ˜¯æ‰©å±•è¿ç®—ç¬¦å–ä»£applyæ–¹æ³•çš„ä¸€ä¸ªå®žé™…çš„ä¾‹å­ï¼Œåº”ç”¨Math.maxæ–¹æ³•ï¼Œç®€åŒ–æ±‚å‡ºä¸€ä¸ªæ•°ç»„æœ€å¤§å…ƒç´ çš„å†™æ³•ã€‚ 12345678// ES5 çš„å†™æ³•Math.max.apply(null, [14, 3, 77])// ES6 çš„å†™æ³•Math.max(...[14, 3, 77])// ç­‰åŒäºŽMath.max(14, 3, 77); å¦ä¸€ä¸ªä¾‹å­æ˜¯é€šè¿‡pushå‡½æ•°ï¼Œå°†ä¸€ä¸ªæ•°ç»„æ·»åŠ åˆ°å¦ä¸€ä¸ªæ•°ç»„çš„å°¾éƒ¨ã€‚ 123456789// ES5çš„ å†™æ³•var arr1 = [0, 1, 2];var arr2 = [3, 4, 5];Array.prototype.push.apply(arr1, arr2);// ES6 çš„å†™æ³•var arr1 = [0, 1, 2];var arr2 = [3, 4, 5];arr1.push(...arr2); ä¸Šé¢ä»£ç çš„ ES5 å†™æ³•ä¸­ï¼Œpushæ–¹æ³•çš„å‚æ•°ä¸èƒ½æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥åªå¥½é€šè¿‡applyæ–¹æ³•å˜é€šä½¿ç”¨pushæ–¹æ³•ã€‚æœ‰äº†æ‰©å±•è¿ç®—ç¬¦ï¼Œå°±å¯ä»¥ç›´æŽ¥å°†æ•°ç»„ä¼ å…¥pushæ–¹æ³•ã€‚ æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨1. åˆå¹¶æ•°ç»„æ‰©å±•è¿ç®—ç¬¦æä¾›äº†æ•°ç»„åˆå¹¶çš„æ–°å†™æ³•ã€‚ 12345678910111213141516// ES5[1, 2].concat(more)// ES6[1, 2, ...more]var arr1 = ['a', 'b'];var arr2 = ['c'];var arr3 = ['d', 'e'];// ES5çš„åˆå¹¶æ•°ç»„arr1.concat(arr2, arr3);// [ 'a', 'b', 'c', 'd', 'e' ]// ES6çš„åˆå¹¶æ•°ç»„[...arr1, ...arr2, ...arr3]// [ 'a', 'b', 'c', 'd', 'e' ] 2. ä¸Žè§£æž„èµ‹å€¼ç»“åˆæ‰©å±•è¿ç®—ç¬¦å¯ä»¥ä¸Žè§£æž„èµ‹å€¼ç»“åˆèµ·æ¥ï¼Œç”¨äºŽç”Ÿæˆæ•°ç»„ã€‚ 1234// ES5a = list[0], rest = list.slice(1)// ES6[a, ...rest] = list ä¸‹é¢æ˜¯å¦å¤–ä¸€äº›ä¾‹å­ã€‚ 1234567891011const [first, ...rest] = [1, 2, 3, 4, 5];first // 1rest // [2, 3, 4, 5]const [first, ...rest] = [];first // undefinedrest // []const [first, ...rest] = ["foo"];first // "foo"rest // [] å¦‚æžœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºŽæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åŽä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 12345const [...butLast, last] = [1, 2, 3, 4, 5];// æŠ¥é”™const [first, ...middle, last] = [1, 2, 3, 4, 5];// æŠ¥é”™ 3. å‡½æ•°çš„è¿”å›žå€¼JavaScript çš„å‡½æ•°åªèƒ½è¿”å›žä¸€ä¸ªå€¼ï¼Œå¦‚æžœéœ€è¦è¿”å›žå¤šä¸ªå€¼ï¼Œåªèƒ½è¿”å›žæ•°ç»„æˆ–å¯¹è±¡ã€‚æ‰©å±•è¿ç®—ç¬¦æä¾›äº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚ 12var dateFields = readDateFields(database);var d = new Date(...dateFields); ä¸Šé¢ä»£ç ä»Žæ•°æ®åº“å–å‡ºä¸€è¡Œæ•°æ®ï¼Œé€šè¿‡æ‰©å±•è¿ç®—ç¬¦ï¼Œç›´æŽ¥å°†å…¶ä¼ å…¥æž„é€ å‡½æ•°Dateã€‚ 4. å­—ç¬¦ä¸²æ‰©å±•è¿ç®—ç¬¦è¿˜å¯ä»¥å°†å­—ç¬¦ä¸²è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 12[...'hello']// [ "h", "e", "l", "l", "o" ] ä¸Šé¢çš„å†™æ³•ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„å¥½å¤„ï¼Œé‚£å°±æ˜¯èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«32ä½çš„Unicodeå­—ç¬¦ã€‚ 12'x\uD83D\uDE80y'.length // 4[...'x\uD83D\uDE80y'].length // 3 ä¸Šé¢ä»£ç çš„ç¬¬ä¸€ç§å†™æ³•ï¼ŒJavaScriptä¼šå°†32ä½Unicodeå­—ç¬¦ï¼Œè¯†åˆ«ä¸º2ä¸ªå­—ç¬¦ï¼Œé‡‡ç”¨æ‰©å±•è¿ç®—ç¬¦å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæ­£ç¡®è¿”å›žå­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚ 12345function length(str) &#123; return [...str].length;&#125;length('x\uD83D\uDE80y') // 3 å‡¡æ˜¯æ¶‰åŠåˆ°æ“ä½œ32ä½ Unicode å­—ç¬¦çš„å‡½æ•°ï¼Œéƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæœ€å¥½éƒ½ç”¨æ‰©å±•è¿ç®—ç¬¦æ”¹å†™ã€‚ 1234567let str = 'x\uD83D\uDE80y';str.split('').reverse().join('')// 'y\uDE80\uD83Dx'[...str].reverse().join('')// 'y\uD83D\uDE80x' ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœä¸ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå­—ç¬¦ä¸²çš„reverseæ“ä½œå°±ä¸æ­£ç¡®ã€‚ 5. å®žçŽ°äº† Iterator æŽ¥å£çš„å¯¹è±¡ä»»ä½• Iterator æŽ¥å£çš„å¯¹è±¡ï¼ˆå‚é˜… Iterator ä¸€ç« ï¼‰ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 12var nodeList = document.querySelectorAll('div');var array = [...nodeList]; ä¸Šé¢ä»£ç ä¸­ï¼ŒquerySelectorAllæ–¹æ³•è¿”å›žçš„æ˜¯ä¸€ä¸ªnodeListå¯¹è±¡ã€‚å®ƒä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚è¿™æ—¶ï¼Œæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼ŒåŽŸå› å°±åœ¨äºŽNodeListå¯¹è±¡å®žçŽ°äº† Iterator ã€‚ å¯¹äºŽé‚£äº›æ²¡æœ‰éƒ¨ç½² Iterator æŽ¥å£çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±æ— æ³•å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 123456789let arrayLike = &#123; '0': 'a', '1': 'b', '2': 'c', length: 3&#125;;// TypeError: Cannot spread non-iterable object.let arr = [...arrayLike]; ä¸Šé¢ä»£ç ä¸­ï¼ŒarrayLikeæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œä½†æ˜¯æ²¡æœ‰éƒ¨ç½² Iterator æŽ¥å£ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±ä¼šæŠ¥é”™ã€‚è¿™æ—¶ï¼Œå¯ä»¥æ”¹ä¸ºä½¿ç”¨Array.fromæ–¹æ³•å°†arrayLikeè½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 6. Map å’Œ Set ç»“æž„ï¼ŒGenerator å‡½æ•°æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æž„çš„ Iterator æŽ¥å£ï¼Œå› æ­¤åªè¦å…·æœ‰ Iterator æŽ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ Map ç»“æž„ã€‚ 1234567let map = new Map([ [1, 'one'], [2, 'two'], [3, 'three'],]);let arr = [...map.keys()]; // [1, 2, 3] Generator å‡½æ•°è¿è¡ŒåŽï¼Œè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚ 1234567var go = function*()&#123; yield 1; yield 2; yield 3;&#125;;[...go()] // [1, 2, 3] ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡goæ˜¯ä¸€ä¸ª Generator å‡½æ•°ï¼Œæ‰§è¡ŒåŽè¿”å›žçš„æ˜¯ä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œå¯¹è¿™ä¸ªéåŽ†å™¨å¯¹è±¡æ‰§è¡Œæ‰©å±•è¿ç®—ç¬¦ï¼Œå°±ä¼šå°†å†…éƒ¨éåŽ†å¾—åˆ°çš„å€¼ï¼Œè½¬ä¸ºä¸€ä¸ªæ•°ç»„ã€‚ å¦‚æžœå¯¹æ²¡æœ‰ Iterator æŽ¥å£çš„å¯¹è±¡ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†ä¼šæŠ¥é”™ã€‚ 12var obj = &#123;a: 1, b: 2&#125;;let arr = [...obj]; // TypeError: Cannot spread non-iterable object Array.from()Array.fromæ–¹æ³•ç”¨äºŽå°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like objectï¼‰å’Œå¯éåŽ†ï¼ˆiterableï¼‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ES6æ–°å¢žçš„æ•°æ®ç»“æž„Setå’ŒMapï¼‰ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ŒArray.fromå°†å®ƒè½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 123456789101112let arrayLike = &#123; '0': 'a', '1': 'b', '2': 'c', length: 3&#125;;// ES5çš„å†™æ³•var arr1 = [].slice.call(arrayLike); // ['a', 'b', 'c']// ES6çš„å†™æ³•let arr2 = Array.from(arrayLike); // ['a', 'b', 'c'] å®žé™…åº”ç”¨ä¸­ï¼Œå¸¸è§çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡æ˜¯DOMæ“ä½œè¿”å›žçš„NodeListé›†åˆï¼Œä»¥åŠå‡½æ•°å†…éƒ¨çš„argumentså¯¹è±¡ã€‚Array.froméƒ½å¯ä»¥å°†å®ƒä»¬è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 1234567891011// NodeListå¯¹è±¡let ps = document.querySelectorAll('p');Array.from(ps).forEach(function (p) &#123; console.log(p);&#125;);// argumentså¯¹è±¡function foo() &#123; var args = Array.from(arguments); // ...&#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒquerySelectorAllæ–¹æ³•è¿”å›žçš„æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œå¯ä»¥å°†è¿™ä¸ªå¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œå†ä½¿ç”¨forEachæ–¹æ³•ã€‚ åªè¦æ˜¯éƒ¨ç½²äº†IteratoræŽ¥å£çš„æ•°æ®ç»“æž„ï¼ŒArray.froméƒ½èƒ½å°†å…¶è½¬ä¸ºæ•°ç»„ã€‚ 12345Array.from('hello')// ['h', 'e', 'l', 'l', 'o']let namesSet = new Set(['a', 'b'])Array.from(namesSet) // ['a', 'b'] ä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦ä¸²å’ŒSetç»“æž„éƒ½å…·æœ‰IteratoræŽ¥å£ï¼Œå› æ­¤å¯ä»¥è¢«Array.fromè½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ å¦‚æžœå‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼ŒArray.fromä¼šè¿”å›žä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ–°æ•°ç»„ã€‚ 12Array.from([1, 2, 3])// [1, 2, 3] å€¼å¾—æé†’çš„æ˜¯ï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿå¯ä»¥å°†æŸäº›æ•°æ®ç»“æž„è½¬ä¸ºæ•°ç»„ã€‚ 1234567// argumentså¯¹è±¡function foo() &#123; var args = [...arguments];&#125;// NodeListå¯¹è±¡[...document.querySelectorAll('div')] æ‰©å±•è¿ç®—ç¬¦èƒŒåŽè°ƒç”¨çš„æ˜¯éåŽ†å™¨æŽ¥å£ï¼ˆSymbol.iteratorï¼‰ï¼Œå¦‚æžœä¸€ä¸ªå¯¹è±¡æ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæŽ¥å£ï¼Œå°±æ— æ³•è½¬æ¢ã€‚ è€Œ Array.from æ–¹æ³•è¿˜æ”¯æŒç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚æ‰€è°“ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæœ¬è´¨ç‰¹å¾åªæœ‰ä¸€ç‚¹ï¼Œå³å¿…é¡»æœ‰lengthå±žæ€§ã€‚å› æ­¤ï¼Œä»»ä½•æœ‰lengthå±žæ€§çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥é€šè¿‡Array.fromæ–¹æ³•è½¬ä¸ºæ•°ç»„ï¼Œè€Œæ­¤æ—¶æ‰©å±•è¿ç®—ç¬¦å°±æ— æ³•è½¬æ¢ã€‚ 12Array.from(&#123; length: 3 &#125;);// [ undefined, undefined, undefined ] ä¸Šé¢ä»£ç ä¸­ï¼ŒArray.fromè¿”å›žäº†ä¸€ä¸ªå…·æœ‰ä¸‰ä¸ªæˆå‘˜çš„æ•°ç»„ï¼Œæ¯ä¸ªä½ç½®çš„å€¼éƒ½æ˜¯undefinedã€‚æ‰©å±•è¿ç®—ç¬¦è½¬æ¢ä¸äº†è¿™ä¸ªå¯¹è±¡ã€‚ å¯¹äºŽè¿˜æ²¡æœ‰éƒ¨ç½²è¯¥æ–¹æ³•çš„æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨Array.prototype.sliceæ–¹æ³•æ›¿ä»£ã€‚ 123const toArray = (() =&gt; Array.from ? Array.from : obj =&gt; [].slice.call(obj))(); Array.fromè¿˜å¯ä»¥æŽ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œç”¨ç±»ä¼¼äºŽæ•°ç»„çš„mapæ–¹æ³•ï¼Œç”¨æ¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åŽçš„å€¼æ”¾å…¥è¿”å›žçš„æ•°ç»„ã€‚ 123456Array.from(arrayLike, x =&gt; x * x);// ç­‰åŒäºŽArray.from(arrayLike).map(x =&gt; x * x);Array.from([1, 2, 3], (x) =&gt; x * x)// [1, 4, 9] å¦ä¸€ä¸ªä¾‹å­æ˜¯è¿”å›žå„ç§æ•°æ®çš„ç±»åž‹ã€‚ 12345function typesOf () &#123; return Array.from(arguments, value =&gt; typeof value)&#125;typesOf(null, [], NaN)// ['object', 'object', 'number'] å¦‚æžœmapå‡½æ•°é‡Œé¢ç”¨åˆ°äº†thiså…³é”®å­—ï¼Œè¿˜å¯ä»¥ä¼ å…¥Array.fromçš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®šthisã€‚ Array.from()å¯ä»¥å°†å„ç§å€¼è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œå¹¶ä¸”è¿˜æä¾›mapåŠŸèƒ½ã€‚è¿™å®žé™…ä¸Šæ„å‘³ç€ï¼Œåªè¦æœ‰ä¸€ä¸ªåŽŸå§‹çš„æ•°æ®ç»“æž„ï¼Œä½ å°±å¯ä»¥å…ˆå¯¹å®ƒçš„å€¼è¿›è¡Œå¤„ç†ï¼Œç„¶åŽè½¬æˆè§„èŒƒçš„æ•°ç»„ç»“æž„ï¼Œè¿›è€Œå°±å¯ä»¥ä½¿ç”¨æ•°é‡ä¼—å¤šçš„æ•°ç»„æ–¹æ³•ã€‚ 12Array.from(&#123; length: 2 &#125;, () =&gt; 'jack')// ['jack', 'jack'] ä¸Šé¢ä»£ç ä¸­ï¼ŒArray.fromçš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†ç¬¬äºŒä¸ªå‚æ•°è¿è¡Œçš„æ¬¡æ•°ã€‚è¿™ç§ç‰¹æ€§å¯ä»¥è®©è¯¥æ–¹æ³•çš„ç”¨æ³•å˜å¾—éžå¸¸çµæ´»ã€‚ Array.from()çš„å¦ä¸€ä¸ªåº”ç”¨æ˜¯ï¼Œå°†å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„ï¼Œç„¶åŽè¿”å›žå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å› ä¸ºå®ƒèƒ½æ­£ç¡®å¤„ç†å„ç§Unicodeå­—ç¬¦ï¼Œå¯ä»¥é¿å…JavaScriptå°†å¤§äºŽ\uFFFFçš„Unicodeå­—ç¬¦ï¼Œç®—ä½œä¸¤ä¸ªå­—ç¬¦çš„bugã€‚(æ‰©å±•è¿ç®—ç¬¦ä¹Ÿå¯ä»¥å®žçŽ°) 123function countSymbols(string) &#123; return Array.from(string).length;&#125; Array.of()Array.ofæ–¹æ³•ç”¨äºŽå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚ 123Array.of(3, 11, 8) // [3,11,8]Array.of(3) // [3]Array.of(3).length // 1 è¿™ä¸ªæ–¹æ³•çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯å¼¥è¡¥æ•°ç»„æž„é€ å‡½æ•°Array()çš„ä¸è¶³ã€‚å› ä¸ºå‚æ•°ä¸ªæ•°çš„ä¸åŒï¼Œä¼šå¯¼è‡´Array()çš„è¡Œä¸ºæœ‰å·®å¼‚ã€‚ 123Array() // []Array(3) // [, , ,]Array(3, 11, 8) // [3, 11, 8] ä¸Šé¢ä»£ç ä¸­ï¼ŒArrayæ–¹æ³•æ²¡æœ‰å‚æ•°ã€ä¸€ä¸ªå‚æ•°ã€ä¸‰ä¸ªå‚æ•°æ—¶ï¼Œè¿”å›žç»“æžœéƒ½ä¸ä¸€æ ·ã€‚åªæœ‰å½“å‚æ•°ä¸ªæ•°ä¸å°‘äºŽ2ä¸ªæ—¶ï¼ŒArray()æ‰ä¼šè¿”å›žç”±å‚æ•°ç»„æˆçš„æ–°æ•°ç»„ã€‚å‚æ•°ä¸ªæ•°åªæœ‰ä¸€ä¸ªæ—¶ï¼Œå®žé™…ä¸Šæ˜¯æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚ Array.ofåŸºæœ¬ä¸Šå¯ä»¥ç”¨æ¥æ›¿ä»£Array()æˆ–new Array()ï¼Œå¹¶ä¸”ä¸å­˜åœ¨ç”±äºŽå‚æ•°ä¸åŒè€Œå¯¼è‡´çš„é‡è½½ã€‚å®ƒçš„è¡Œä¸ºéžå¸¸ç»Ÿä¸€ã€‚ 1234Array.of() // []Array.of(undefined) // [undefined]Array.of(1) // [1]Array.of(1, 2) // [1, 2] Array.ofæ€»æ˜¯è¿”å›žå‚æ•°å€¼ç»„æˆçš„æ•°ç»„ã€‚å¦‚æžœæ²¡æœ‰å‚æ•°ï¼Œå°±è¿”å›žä¸€ä¸ªç©ºæ•°ç»„ã€‚ Array.ofæ–¹æ³•å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿå®žçŽ°ã€‚ 123function ArrayOf()&#123; return [].slice.call(arguments);&#125; æ•°ç»„å®žä¾‹çš„ copyWithin()æ•°ç»„å®žä¾‹çš„copyWithinæ–¹æ³•ï¼Œåœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŽŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åŽè¿”å›žå½“å‰æ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼šä¿®æ”¹å½“å‰æ•°ç»„ã€‚ 1Array.prototype.copyWithin(target, start = 0, end = this.length) å®ƒæŽ¥å—ä¸‰ä¸ªå‚æ•°ã€‚ targetï¼ˆå¿…éœ€ï¼‰ï¼šä»Žè¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚ startï¼ˆå¯é€‰ï¼‰ï¼šä»Žè¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æžœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚ endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºŽæ•°ç»„é•¿åº¦ã€‚å¦‚æžœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚ è¿™ä¸‰ä¸ªå‚æ•°éƒ½åº”è¯¥æ˜¯æ•°å€¼ï¼Œå¦‚æžœä¸æ˜¯ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºæ•°å€¼ã€‚ 12[1, 2, 3, 4, 5].copyWithin(0, 3)// [4, 5, 3, 4, 5] ä¸Šé¢ä»£ç è¡¨ç¤ºå°†ä»Ž3å·ä½ç›´åˆ°æ•°ç»„ç»“æŸçš„æˆå‘˜ï¼ˆ4å’Œ5ï¼‰ï¼Œå¤åˆ¶åˆ°ä»Ž0å·ä½å¼€å§‹çš„ä½ç½®ï¼Œç»“æžœè¦†ç›–äº†åŽŸæ¥çš„1å’Œ2ã€‚ æ•°ç»„å®žä¾‹çš„ find() å’Œ findIndex()æ•°ç»„å®žä¾‹çš„findæ–¹æ³•ï¼Œç”¨äºŽæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›žè°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›žå€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åŽè¿”å›žè¯¥æˆå‘˜ã€‚å¦‚æžœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›žundefinedã€‚ 12[1, 4, -5, 10].find((n) =&gt; n &lt; 0)// -5 ä¸Šé¢ä»£ç æ‰¾å‡ºæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå°äºŽ0çš„æˆå‘˜ã€‚ 123[1, 5, 10, 15].find(function(value, index, arr) &#123; return value &gt; 9;&#125;) // 10 ä¸Šé¢ä»£ç ä¸­ï¼Œfindæ–¹æ³•çš„å›žè°ƒå‡½æ•°å¯ä»¥æŽ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºå½“å‰çš„å€¼ã€å½“å‰çš„ä½ç½®å’ŒåŽŸæ•°ç»„ã€‚ æ•°ç»„å®žä¾‹çš„findIndexæ–¹æ³•çš„ç”¨æ³•ä¸Žfindæ–¹æ³•éžå¸¸ç±»ä¼¼ï¼Œè¿”å›žç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æžœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›ž-1ã€‚ 123[1, 5, 10, 15].findIndex(function(value, index, arr) &#123; return value &gt; 9;&#125;) // 2 è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥æŽ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®šå›žè°ƒå‡½æ•°çš„thiså¯¹è±¡ã€‚ å¦å¤–ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥å‘çŽ°NaNï¼Œå¼¥è¡¥äº†æ•°ç»„çš„IndexOfæ–¹æ³•çš„ä¸è¶³ã€‚ æ•°ç»„å®žä¾‹çš„fill()fillæ–¹æ³•ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„ã€‚ 12345['a', 'b', 'c'].fill(7)// [7, 7, 7]new Array(3).fill(7)// [7, 7, 7] ä¸Šé¢ä»£ç è¡¨æ˜Žï¼Œfillæ–¹æ³•ç”¨äºŽç©ºæ•°ç»„çš„åˆå§‹åŒ–éžå¸¸æ–¹ä¾¿ã€‚æ•°ç»„ä¸­å·²æœ‰çš„å…ƒç´ ï¼Œä¼šè¢«å…¨éƒ¨æŠ¹åŽ»ã€‚ fillæ–¹æ³•è¿˜å¯ä»¥æŽ¥å—ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºŽæŒ‡å®šå¡«å……çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚ æ•°ç»„å®žä¾‹çš„ entries()ï¼Œkeys() å’Œ values()ES6 æä¾›ä¸‰ä¸ªæ–°çš„æ–¹æ³•â€”â€”entries()ï¼Œkeys()å’Œvalues()â€”â€”ç”¨äºŽéåŽ†æ•°ç»„ã€‚å®ƒä»¬éƒ½è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼ˆè¯¦è§ã€ŠIteratorã€‹ä¸€ç« ï¼‰ï¼Œå¯ä»¥ç”¨forâ€¦ofå¾ªçŽ¯è¿›è¡ŒéåŽ†ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯keys()æ˜¯å¯¹é”®åçš„éåŽ†ã€values()æ˜¯å¯¹é”®å€¼çš„éåŽ†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éåŽ†ã€‚ valuesåœ¨chromeæœªå®žçŽ°ï¼ˆæµ‹è¯•æ—¥æœŸ2017å¹´9æœˆ16æ—¥ï¼‰ 1234567891011121314151617181920// æµè§ˆå™¨å¿…é¡»æ”¯æŒ for..of å¾ªçŽ¯// ä»¥åŠ let â€”â€” å°†å˜é‡ä½œç”¨åŸŸé™å®šåœ¨ for å¾ªçŽ¯ä¸­for (let index of ['a', 'b'].keys()) &#123; console.log(index);&#125;// 0// 1for (let elem of ['a', 'b'].values()) &#123; console.log(elem);&#125;// 'a'// 'b'for (let [index, elem] of ['a', 'b'].entries()) &#123; console.log(index, elem);&#125;// 0 "a"// 1 "b" å¦‚æžœä¸ä½¿ç”¨forâ€¦ofå¾ªçŽ¯ï¼Œå¯ä»¥æ‰‹åŠ¨è°ƒç”¨éåŽ†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œè¿›è¡ŒéåŽ†ã€‚ 12345let letter = ['a', 'b', 'c'];let entries = letter.entries();console.log(entries.next().value); // [0, 'a']console.log(entries.next().value); // [1, 'b']console.log(entries.next().value); // [2, 'c'] æ•°ç»„å®žä¾‹çš„ includes()Array.prototype.includesæ–¹æ³•è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸Žå­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼ã€‚ES2016 å¼•å…¥äº†è¯¥æ–¹æ³•ã€‚ 123[1, 2, 3].includes(2) // true[1, 2, 3].includes(4) // false[1, 2, NaN].includes(NaN) // true è¯¥æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æžœç¬¬äºŒä¸ªå‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºå€’æ•°çš„ä½ç½®ï¼Œå¦‚æžœè¿™æ—¶å®ƒå¤§äºŽæ•°ç»„é•¿åº¦ï¼ˆæ¯”å¦‚ç¬¬äºŒä¸ªå‚æ•°ä¸º-4ï¼Œä½†æ•°ç»„é•¿åº¦ä¸º3ï¼‰ï¼Œåˆ™ä¼šé‡ç½®ä¸ºä»Ž0å¼€å§‹ã€‚ 12[1, 2, 3].includes(3, 3); // false[1, 2, 3].includes(3, -1); // true æ²¡æœ‰è¯¥æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ•°ç»„çš„indexOfæ–¹æ³•ï¼Œæ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå€¼ã€‚ 123if (arr.indexOf(el) !== -1) &#123; // ...&#125; indexOfæ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼Œä¸€æ˜¯ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œå®ƒçš„å«ä¹‰æ˜¯æ‰¾åˆ°å‚æ•°å€¼çš„ç¬¬ä¸€ä¸ªå‡ºçŽ°ä½ç½®ï¼Œæ‰€ä»¥è¦åŽ»æ¯”è¾ƒæ˜¯å¦ä¸ç­‰äºŽ-1ï¼Œè¡¨è¾¾èµ·æ¥ä¸å¤Ÿç›´è§‚ã€‚äºŒæ˜¯ï¼Œå®ƒå†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰è¿›è¡Œåˆ¤æ–­ï¼Œè¿™ä¼šå¯¼è‡´å¯¹NaNçš„è¯¯åˆ¤ã€‚ 12[NaN].indexOf(NaN)// -1 includesä½¿ç”¨çš„æ˜¯ä¸ä¸€æ ·çš„åˆ¤æ–­ç®—æ³•ï¼Œå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚ 12[NaN].includes(NaN)// true ä¸‹é¢ä»£ç ç”¨æ¥æ£€æŸ¥å½“å‰çŽ¯å¢ƒæ˜¯å¦æ”¯æŒè¯¥æ–¹æ³•ï¼Œå¦‚æžœä¸æ”¯æŒï¼Œéƒ¨ç½²ä¸€ä¸ªç®€æ˜“çš„æ›¿ä»£ç‰ˆæœ¬ã€‚ 123456const contains = (() =&gt; Array.prototype.includes ? (arr, value) =&gt; arr.includes(value) : (arr, value) =&gt; arr.some(el =&gt; el === value))();contains(['foo', 'bar'], 'baz'); // =&gt; false å¦å¤–ï¼ŒMap å’Œ Set æ•°æ®ç»“æž„æœ‰ä¸€ä¸ªhasæ–¹æ³•ï¼Œéœ€è¦æ³¨æ„ä¸ŽincludesåŒºåˆ†ã€‚ Map ç»“æž„çš„hasæ–¹æ³•ï¼Œæ˜¯ç”¨æ¥æŸ¥æ‰¾é”®åçš„ï¼Œæ¯”å¦‚Map.prototype.has(key)ã€WeakMap.prototype.has(key)ã€Reflect.has(target, propertyKey)ã€‚ Set ç»“æž„çš„hasæ–¹æ³•ï¼Œæ˜¯ç”¨æ¥æŸ¥æ‰¾å€¼çš„ï¼Œæ¯”å¦‚Set.prototype.has(value)ã€WeakSet.prototype.has(value)ã€‚ æ•°ç»„çš„ç©ºä½æ•°ç»„çš„ç©ºä½æŒ‡ï¼Œæ•°ç»„çš„æŸä¸€ä¸ªä½ç½®æ²¡æœ‰ä»»ä½•å€¼ã€‚æ¯”å¦‚ï¼ŒArrayæž„é€ å‡½æ•°è¿”å›žçš„æ•°ç»„éƒ½æ˜¯ç©ºä½ã€‚ 1Array(3) // [, , ,] ä¸Šé¢ä»£ç ä¸­ï¼ŒArray(3)è¿”å›žä¸€ä¸ªå…·æœ‰3ä¸ªç©ºä½çš„æ•°ç»„ã€‚ æ³¨æ„ï¼Œç©ºä½ä¸æ˜¯undefinedï¼Œä¸€ä¸ªä½ç½®çš„å€¼ç­‰äºŽundefinedï¼Œä¾ç„¶æ˜¯æœ‰å€¼çš„ã€‚ç©ºä½æ˜¯æ²¡æœ‰ä»»ä½•å€¼ï¼Œinè¿ç®—ç¬¦å¯ä»¥è¯´æ˜Žè¿™ä¸€ç‚¹ã€‚ 120 in [undefined, undefined, undefined] // true0 in [, , ,] // false ä¸Šé¢ä»£ç è¯´æ˜Žï¼Œç¬¬ä¸€ä¸ªæ•°ç»„çš„0å·ä½ç½®æ˜¯æœ‰å€¼çš„ï¼Œç¬¬äºŒä¸ªæ•°ç»„çš„0å·ä½ç½®æ²¡æœ‰å€¼ã€‚ ES5 å¯¹ç©ºä½çš„å¤„ç†ï¼Œå·²ç»å¾ˆä¸ä¸€è‡´äº†ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¼šå¿½ç•¥ç©ºä½ã€‚ forEach(), filter(), every() å’Œsome()éƒ½ä¼šè·³è¿‡ç©ºä½ã€‚ map()ä¼šè·³è¿‡ç©ºä½ï¼Œä½†ä¼šä¿ç•™è¿™ä¸ªå€¼ join()å’ŒtoString()ä¼šå°†ç©ºä½è§†ä¸ºundefinedï¼Œè€Œundefinedå’Œnullä¼šè¢«å¤„ç†æˆç©ºå­—ç¬¦ä¸²ã€‚ 1234567891011121314151617181920// forEachæ–¹æ³•[,'a'].forEach((x,i) =&gt; console.log(i)); // 1// filteræ–¹æ³•['a',,'b'].filter(x =&gt; true) // ['a','b']// everyæ–¹æ³•[,'a'].every(x =&gt; x==='a') // true// someæ–¹æ³•[,'a'].some(x =&gt; x !== 'a') // false// mapæ–¹æ³•[,'a'].map(x =&gt; 1) // [,1]// joinæ–¹æ³•[,'a',undefined,null].join('#') // "#a##"// toStringæ–¹æ³•[,'a',undefined,null].toString() // ",a,," ES6 åˆ™æ˜¯æ˜Žç¡®å°†ç©ºä½è½¬ä¸ºundefinedã€‚Array.fromæ–¹æ³•ä¼šå°†æ•°ç»„çš„ç©ºä½ï¼Œè½¬ä¸ºundefinedï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä¼šå¿½ç•¥ç©ºä½ã€‚ 12Array.from(['a',,'b'])// [ "a", undefined, "b" ] æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿä¼šå°†ç©ºä½è½¬ä¸ºundefinedã€‚ 12[...['a',,'b']]// [ "a", undefined, "b" ] copyWithin()ä¼šè¿žç©ºä½ä¸€èµ·æ‹·è´ã€‚ 1[,'a','b',,].copyWithin(2,0) // [,"a",,"a"] fill()ä¼šå°†ç©ºä½è§†ä¸ºæ­£å¸¸çš„æ•°ç»„ä½ç½®ã€‚ 1new Array(3).fill('a') // ["a","a","a"] forâ€¦ofå¾ªçŽ¯ä¹Ÿä¼šéåŽ†ç©ºä½ã€‚ 123456let arr = [, ,];for (let i of arr) &#123; console.log(1);&#125;// 1// 1 ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„arræœ‰ä¸¤ä¸ªç©ºä½ï¼Œforâ€¦ofå¹¶æ²¡æœ‰å¿½ç•¥å®ƒä»¬ã€‚å¦‚æžœæ”¹æˆmapæ–¹æ³•éåŽ†ï¼Œç©ºä½æ˜¯ä¼šè·³è¿‡çš„ã€‚ entries()ã€keys()ã€values()ã€find()å’ŒfindIndex()ä¼šå°†ç©ºä½å¤„ç†æˆundefinedã€‚ 1234567891011121314// entries()[...[,'a'].entries()] // [[0,undefined], [1,"a"]]// keys()[...[,'a'].keys()] // [0,1]// values()[...[,'a'].values()] // [undefined,"a"]// find()[,'a'].find(x =&gt; true) // undefined// findIndex()[,'a'].findIndex(x =&gt; true) // 0 ç”±äºŽç©ºä½çš„å¤„ç†è§„åˆ™éžå¸¸ä¸ç»Ÿä¸€ï¼Œæ‰€ä»¥å»ºè®®é¿å…å‡ºçŽ°ç©ºä½ã€‚ å¯¹è±¡çš„æ‰©å±• å±žæ€§çš„ç®€æ´è¡¨ç¤ºæ³• å±žæ€§åè¡¨è¾¾å¼ æ–¹æ³•çš„ name å±žæ€§ Object.is() Object.assign() å±žæ€§çš„å¯æžšä¸¾æ€§å’ŒéåŽ† Object.getOwnPropertyDescriptors() [object Object]å±žæ€§ï¼ŒObject.setPrototypeOf()ï¼ŒObject.getPrototypeOf() Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries() å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ Null ä¼ å¯¼è¿ç®—ç¬¦ å±žæ€§çš„ç®€æ´è¡¨ç¤ºæ³•ES6 å…è®¸ç›´æŽ¥å†™å…¥å˜é‡å’Œå‡½æ•°ï¼Œä½œä¸ºå¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•ã€‚è¿™æ ·çš„ä¹¦å†™æ›´åŠ ç®€æ´ã€‚ 123456var foo = 'bar';var baz = &#123;foo&#125;;baz // &#123;foo: "bar"&#125;// ç­‰åŒäºŽvar baz = &#123;foo: foo&#125;; ä¸Šé¢ä»£ç è¡¨æ˜Žï¼ŒES6 å…è®¸åœ¨å¯¹è±¡ä¹‹ä¸­ï¼Œç›´æŽ¥å†™å˜é‡ã€‚è¿™æ—¶ï¼Œå±žæ€§åä¸ºå˜é‡å, å±žæ€§å€¼ä¸ºå˜é‡çš„å€¼ã€‚ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚ 12345678910111213var birth = '2000/01/01';var Person = &#123; name: 'å¼ ä¸‰', //ç­‰åŒäºŽbirth: birth birth, // ç­‰åŒäºŽhello: function ()... hello() &#123; console.log('æˆ‘çš„åå­—æ˜¯', this.name); &#125;&#125;; è¿™ç§å†™æ³•ç”¨äºŽå‡½æ•°çš„è¿”å›žå€¼ï¼Œå°†ä¼šéžå¸¸æ–¹ä¾¿ã€‚ 12345678function getPoint() &#123; var x = 1; var y = 10; return &#123;x, y&#125;;&#125;getPoint()// &#123;x:1, y:10&#125; CommonJS æ¨¡å—è¾“å‡ºä¸€ç»„å˜é‡ï¼Œå°±éžå¸¸åˆé€‚ä½¿ç”¨ç®€æ´å†™æ³•ã€‚ 123456789101112131415161718192021var ms = &#123;&#125;;function getItem (key) &#123; return key in ms ? ms[key] : null;&#125;function setItem (key, value) &#123; ms[key] = value;&#125;function clear () &#123; ms = &#123;&#125;;&#125;module.exports = &#123; getItem, setItem, clear &#125;;// ç­‰åŒäºŽmodule.exports = &#123; getItem: getItem, setItem: setItem, clear: clear&#125;; å±žæ€§çš„èµ‹å€¼å™¨ï¼ˆsetterï¼‰å’Œå–å€¼å™¨ï¼ˆgetterï¼‰(ES5)ï¼Œäº‹å®žä¸Šä¹Ÿæ˜¯é‡‡ç”¨è¿™ç§å†™æ³•ã€‚ 1234567891011121314var cart = &#123; _wheels: 4, get wheels () &#123; return this._wheels; &#125;, set wheels (value) &#123; if (value &lt; this._wheels) &#123; throw new Error('æ•°å€¼å¤ªå°äº†ï¼'); &#125; this._wheels = value; &#125;&#125; æ³¨æ„ï¼Œç®€æ´å†™æ³•çš„å±žæ€§åæ€»æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›çœ‹ä¸ŠåŽ»æ¯”è¾ƒå¥‡æ€ªçš„ç»“æžœã€‚ 123456789var obj = &#123; class () &#123;&#125;&#125;;// ç­‰åŒäºŽvar obj = &#123; 'class': function() &#123;&#125;&#125;; ä¸Šé¢ä»£ç ä¸­ï¼Œclassæ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¸ä¼šå› ä¸ºå®ƒå±žäºŽå…³é”®å­—ï¼Œè€Œå¯¼è‡´è¯­æ³•è§£æžæŠ¥é”™ã€‚ å¦‚æžœæŸä¸ªæ–¹æ³•çš„å€¼æ˜¯ä¸€ä¸ª Generator å‡½æ•°ï¼Œå‰é¢éœ€è¦åŠ ä¸Šæ˜Ÿå·ã€‚ 12345var obj = &#123; * m() &#123; yield &apos;hello world&apos;; &#125;&#125;; å±žæ€§åè¡¨è¾¾å¼JavaScript å®šä¹‰å¯¹è±¡çš„å±žæ€§ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ã€‚ 12345// æ–¹æ³•ä¸€obj.foo = true;// æ–¹æ³•äºŒobj['a' + 'bc'] = 123; ä¸Šé¢ä»£ç çš„æ–¹æ³•ä¸€æ˜¯ç›´æŽ¥ç”¨æ ‡è¯†ç¬¦ä½œä¸ºå±žæ€§åï¼Œæ–¹æ³•äºŒæ˜¯ç”¨è¡¨è¾¾å¼ä½œä¸ºå±žæ€§åï¼Œè¿™æ—¶è¦å°†è¡¨è¾¾å¼æ”¾åœ¨æ–¹æ‹¬å·ä¹‹å†…ã€‚ ä½†æ˜¯ï¼Œå¦‚æžœä½¿ç”¨å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡ï¼ˆä½¿ç”¨å¤§æ‹¬å·ï¼‰ï¼Œåœ¨ ES5 ä¸­åªèƒ½ä½¿ç”¨æ–¹æ³•ä¸€ï¼ˆæ ‡è¯†ç¬¦ï¼‰å®šä¹‰å±žæ€§ã€‚ 1234var obj = &#123; foo: true, abc: 123&#125;; ES6 å…è®¸å­—é¢é‡å®šä¹‰å¯¹è±¡æ—¶ï¼Œç”¨æ–¹æ³•äºŒï¼ˆè¡¨è¾¾å¼ï¼‰ä½œä¸ºå¯¹è±¡çš„å±žæ€§åï¼Œå³æŠŠè¡¨è¾¾å¼æ”¾åœ¨æ–¹æ‹¬å·å†…ã€‚ 123456let propKey = 'foo';let obj = &#123; [propKey]: true, ['a' + 'bc']: 123&#125;; æ³¨æ„ï¼Œå±žæ€§åè¡¨è¾¾å¼ä¸Žç®€æ´è¡¨ç¤ºæ³•ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ã€‚ æ³¨æ„ï¼Œå±žæ€§åè¡¨è¾¾å¼å¦‚æžœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨å°†å¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸²[object Object]ï¼Œè¿™ä¸€ç‚¹è¦ç‰¹åˆ«å°å¿ƒã€‚ æ–¹æ³•çš„ name å±žæ€§å‡½æ•°çš„nameå±žæ€§ï¼Œè¿”å›žå‡½æ•°åã€‚å¯¹è±¡æ–¹æ³•ä¹Ÿæ˜¯å‡½æ•°ï¼Œå› æ­¤ä¹Ÿæœ‰nameå±žæ€§ã€‚ å¦‚æžœå¯¹è±¡çš„æ–¹æ³•ä½¿ç”¨äº†å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰ï¼Œåˆ™nameå±žæ€§ä¸æ˜¯åœ¨è¯¥æ–¹æ³•ä¸Šé¢ï¼Œè€Œæ˜¯è¯¥æ–¹æ³•çš„å±žæ€§çš„æè¿°å¯¹è±¡çš„getå’Œsetå±žæ€§ä¸Šé¢ï¼Œè¿”å›žå€¼æ˜¯æ–¹æ³•åå‰åŠ ä¸Šgetå’Œsetã€‚ æœ‰ä¸¤ç§ç‰¹æ®Šæƒ…å†µï¼šbindæ–¹æ³•åˆ›é€ çš„å‡½æ•°ï¼Œnameå±žæ€§è¿”å›žboundåŠ ä¸ŠåŽŸå‡½æ•°çš„åå­—ï¼›Functionæž„é€ å‡½æ•°åˆ›é€ çš„å‡½æ•°ï¼Œnameå±žæ€§è¿”å›žanonymousã€‚ å¦‚æžœå¯¹è±¡çš„æ–¹æ³•æ˜¯ä¸€ä¸ª Symbol å€¼ï¼Œé‚£ä¹ˆnameå±žæ€§è¿”å›žçš„æ˜¯è¿™ä¸ª Symbol å€¼çš„æè¿°ã€‚ Object.is()ES5 æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œåªæœ‰ä¸¤ä¸ªè¿ç®—ç¬¦ï¼šç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ==ï¼‰å’Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ã€‚å®ƒä»¬éƒ½æœ‰ç¼ºç‚¹ï¼Œå‰è€…ä¼šè‡ªåŠ¨è½¬æ¢æ•°æ®ç±»åž‹ï¼ŒåŽè€…çš„NaNä¸ç­‰äºŽè‡ªèº«ï¼Œä»¥åŠ+0ç­‰äºŽ-0ã€‚JavaScript ç¼ºä¹ä¸€ç§è¿ç®—ï¼Œåœ¨æ‰€æœ‰çŽ¯å¢ƒä¸­ï¼Œåªè¦ä¸¤ä¸ªå€¼æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬å°±åº”è¯¥ç›¸ç­‰ã€‚ ES6 æå‡ºâ€œSame-value equalityâ€ï¼ˆåŒå€¼ç›¸ç­‰ï¼‰ç®—æ³•ï¼Œç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚Object.iså°±æ˜¯éƒ¨ç½²è¿™ä¸ªç®—æ³•çš„æ–°æ–¹æ³•ã€‚å®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸Žä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ===ï¼‰çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´ã€‚ 1234Object.is('foo', 'foo')// trueObject.is(&#123;&#125;, &#123;&#125;)// false ä¸åŒä¹‹å¤„åªæœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯+0ä¸ç­‰äºŽ-0ï¼ŒäºŒæ˜¯NaNç­‰äºŽè‡ªèº«ã€‚ 12345+0 === -0 //trueNaN === NaN // falseObject.is(+0, -0) // falseObject.is(NaN, NaN) // true ES5 å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œéƒ¨ç½²Object.isã€‚ 12345678910111213Object.defineProperty(Object, 'is', &#123; value: function(x, y) &#123; if (x === y) &#123; // é’ˆå¯¹+0 ä¸ç­‰äºŽ -0çš„æƒ…å†µ return x !== 0 || 1 / x === 1 / y; &#125; // é’ˆå¯¹NaNçš„æƒ…å†µ return x !== x &amp;&amp; y !== y; &#125;, configurable: true, enumerable: false, writable: true&#125;); Object.assign()åŸºæœ¬ç”¨æ³•Object.assignæ–¹æ³•ç”¨äºŽå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æžšä¸¾å±žæ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰ã€‚ 1234567var target = &#123; a: 1 &#125;;var source1 = &#123; b: 2 &#125;;var source2 = &#123; c: 3 &#125;;Object.assign(target, source1, source2);target // &#123;a:1, b:2, c:3&#125; Object.assignæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼ŒåŽé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ã€‚ æ³¨æ„ï¼Œå¦‚æžœç›®æ ‡å¯¹è±¡ä¸Žæºå¯¹è±¡æœ‰åŒåå±žæ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±žæ€§ï¼Œåˆ™åŽé¢çš„å±žæ€§ä¼šè¦†ç›–å‰é¢çš„å±žæ€§ã€‚ å¦‚æžœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼ŒObject.assignä¼šç›´æŽ¥è¿”å›žè¯¥å‚æ•°ã€‚ 12var obj = &#123;a: 1&#125;;Object.assign(obj) === obj // true å¦‚æžœè¯¥å‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™ä¼šå…ˆè½¬æˆå¯¹è±¡ï¼Œç„¶åŽè¿”å›žã€‚ 1typeof Object.assign(2) // "object" ç”±äºŽundefinedå’Œnullæ— æ³•è½¬æˆå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æžœå®ƒä»¬ä½œä¸ºå‚æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚ 12Object.assign(undefined) // æŠ¥é”™Object.assign(null) // æŠ¥é”™ å¦‚æžœéžå¯¹è±¡å‚æ•°å‡ºçŽ°åœ¨æºå¯¹è±¡çš„ä½ç½®ï¼ˆå³éžé¦–å‚æ•°ï¼‰ï¼Œé‚£ä¹ˆå¤„ç†è§„åˆ™æœ‰æ‰€ä¸åŒã€‚é¦–å…ˆï¼Œè¿™äº›å‚æ•°éƒ½ä¼šè½¬æˆå¯¹è±¡ï¼Œå¦‚æžœæ— æ³•è½¬æˆå¯¹è±¡ï¼Œå°±ä¼šè·³è¿‡ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æžœundefinedå’Œnullä¸åœ¨é¦–å‚æ•°ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚ 123let obj = &#123;a: 1&#125;;Object.assign(obj, undefined) === obj // trueObject.assign(obj, null) === obj // true å…¶ä»–ç±»åž‹çš„å€¼ï¼ˆå³æ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼‰ä¸åœ¨é¦–å‚æ•°ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ã€‚ä½†æ˜¯ï¼Œé™¤äº†å­—ç¬¦ä¸²ä¼šä»¥æ•°ç»„å½¢å¼ï¼Œæ‹·è´å…¥ç›®æ ‡å¯¹è±¡ï¼Œå…¶ä»–å€¼éƒ½ä¸ä¼šäº§ç”Ÿæ•ˆæžœã€‚ 123456var v1 = 'abc';var v2 = true;var v3 = 10;var obj = Object.assign(&#123;&#125;, v1, v2, v3);console.log(obj); // &#123; "0": "a", "1": "b", "2": "c" &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œv1ã€v2ã€v3åˆ†åˆ«æ˜¯å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼å’Œæ•°å€¼ï¼Œç»“æžœåªæœ‰å­—ç¬¦ä¸²åˆå…¥ç›®æ ‡å¯¹è±¡ï¼ˆä»¥å­—ç¬¦æ•°ç»„çš„å½¢å¼ï¼‰ï¼Œæ•°å€¼å’Œå¸ƒå°”å€¼éƒ½ä¼šè¢«å¿½ç•¥ã€‚è¿™æ˜¯å› ä¸ºåªæœ‰å­—ç¬¦ä¸²çš„åŒ…è£…å¯¹è±¡ï¼Œä¼šäº§ç”Ÿå¯æžšä¸¾å±žæ€§ã€‚ 123Object(true) // &#123;[[PrimitiveValue]]: true&#125;Object(10) // &#123;[[PrimitiveValue]]: 10&#125;Object('abc') // &#123;0: "a", 1: "b", 2: "c", length: 3, [[PrimitiveValue]]: "abc"&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå¸ƒå°”å€¼ã€æ•°å€¼ã€å­—ç¬¦ä¸²åˆ†åˆ«è½¬æˆå¯¹åº”çš„åŒ…è£…å¯¹è±¡ï¼Œå¯ä»¥çœ‹åˆ°å®ƒä»¬çš„åŽŸå§‹å€¼éƒ½åœ¨åŒ…è£…å¯¹è±¡çš„å†…éƒ¨å±žæ€§[[PrimitiveValue]]ä¸Šé¢ï¼Œè¿™ä¸ªå±žæ€§æ˜¯ä¸ä¼šè¢«Object.assignæ‹·è´çš„ã€‚åªæœ‰å­—ç¬¦ä¸²çš„åŒ…è£…å¯¹è±¡ï¼Œä¼šäº§ç”Ÿå¯æžšä¸¾çš„å®žä¹‰å±žæ€§ï¼Œé‚£äº›å±žæ€§åˆ™ä¼šè¢«æ‹·è´ã€‚ Object.assignæ‹·è´çš„å±žæ€§æ˜¯æœ‰é™åˆ¶çš„ï¼Œåªæ‹·è´æºå¯¹è±¡çš„è‡ªèº«å±žæ€§ï¼ˆä¸æ‹·è´ç»§æ‰¿å±žæ€§ï¼‰ï¼Œä¹Ÿä¸æ‹·è´ä¸å¯æžšä¸¾çš„å±žæ€§ï¼ˆenumerable: falseï¼‰ã€‚ 1234567Object.assign(&#123;b: 'c'&#125;, Object.defineProperty(&#123;&#125;, 'invisible', &#123; enumerable: false, value: 'hello' &#125;))// &#123; b: 'c' &#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒObject.assignè¦æ‹·è´çš„å¯¹è±¡åªæœ‰ä¸€ä¸ªä¸å¯æžšä¸¾å±žæ€§invisibleï¼Œè¿™ä¸ªå±žæ€§å¹¶æ²¡æœ‰è¢«æ‹·è´è¿›åŽ»ã€‚ å±žæ€§åä¸º Symbol å€¼çš„å±žæ€§ï¼Œä¹Ÿä¼šè¢«Object.assignæ‹·è´ã€‚ 12Object.assign(&#123; a: 'b' &#125;, &#123; [Symbol('c')]: 'd' &#125;)// &#123; a: 'b', Symbol(c): 'd' &#125; æ³¨æ„ç‚¹Object.assignæ–¹æ³•å®žè¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœæºå¯¹è±¡æŸä¸ªå±žæ€§çš„å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç›®æ ‡å¯¹è±¡æ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ 12345var obj1 = &#123;a: &#123;b: 1&#125;&#125;;var obj2 = Object.assign(&#123;&#125;, obj1);obj1.a.b = 2;obj2.a.b // 2 ä¸Šé¢ä»£ç ä¸­ï¼Œæºå¯¹è±¡obj1çš„aå±žæ€§çš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒObject.assignæ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚è¿™ä¸ªå¯¹è±¡çš„ä»»ä½•å˜åŒ–ï¼Œéƒ½ä¼šåæ˜ åˆ°ç›®æ ‡å¯¹è±¡ä¸Šé¢ã€‚ å¯¹äºŽè¿™ç§åµŒå¥—çš„å¯¹è±¡ï¼Œä¸€æ—¦é‡åˆ°åŒåå±žæ€§ï¼ŒObject.assignçš„å¤„ç†æ–¹æ³•æ˜¯æ›¿æ¢ï¼Œè€Œä¸æ˜¯æ·»åŠ ã€‚ 1234var target = &#123; a: &#123; b: 'c', d: 'e' &#125; &#125;var source = &#123; a: &#123; b: 'hello' &#125; &#125;Object.assign(target, source)// &#123; a: &#123; b: 'hello' &#125; &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œtargetå¯¹è±¡çš„aå±žæ€§è¢«sourceå¯¹è±¡çš„aå±žæ€§æ•´ä¸ªæ›¿æ¢æŽ‰äº†ï¼Œè€Œä¸ä¼šå¾—åˆ°{ a: { b: â€˜helloâ€™, d: â€˜eâ€™ } }çš„ç»“æžœã€‚è¿™é€šå¸¸ä¸æ˜¯å¼€å‘è€…æƒ³è¦çš„ï¼Œéœ€è¦ç‰¹åˆ«å°å¿ƒã€‚ æœ‰ä¸€äº›å‡½æ•°åº“æä¾›Object.assignçš„å®šåˆ¶ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ Lodash çš„_.defaultsDeepæ–¹æ³•ï¼‰ï¼Œå¯ä»¥è§£å†³æµ…æ‹·è´çš„é—®é¢˜ï¼Œå¾—åˆ°æ·±æ‹·è´çš„åˆå¹¶ã€‚ æ³¨æ„ï¼ŒObject.assignå¯ä»¥ç”¨æ¥å¤„ç†æ•°ç»„ï¼Œä½†æ˜¯ä¼šæŠŠæ•°ç»„è§†ä¸ºå¯¹è±¡ã€‚ Object.assign([1, 2, 3], [4, 5])// [4, 5, 3]ä¸Šé¢ä»£ç ä¸­ï¼ŒObject.assignæŠŠæ•°ç»„è§†ä¸ºå±žæ€§åä¸º0ã€1ã€2çš„å¯¹è±¡ï¼Œå› æ­¤æºæ•°ç»„çš„0å·å±žæ€§4è¦†ç›–äº†ç›®æ ‡æ•°ç»„çš„0å·å±žæ€§1ã€‚ å¸¸è§ç”¨é€”Object.assignæ–¹æ³•æœ‰å¾ˆå¤šç”¨å¤„ã€‚ 1. ä¸ºå¯¹è±¡æ·»åŠ å±žæ€§12345class Point &#123; constructor(x, y) &#123; Object.assign(this, &#123;x, y&#125;); &#125;&#125; ä¸Šé¢æ–¹æ³•é€šè¿‡Object.assignæ–¹æ³•ï¼Œå°†xå±žæ€§å’Œyå±žæ€§æ·»åŠ åˆ°Pointç±»çš„å¯¹è±¡å®žä¾‹ã€‚ 2. ä¸ºå¯¹è±¡æ·»åŠ æ–¹æ³•12345678910111213141516Object.assign(SomeClass.prototype, &#123; someMethod(arg1, arg2) &#123; Â·Â·Â· &#125;, anotherMethod() &#123; Â·Â·Â· &#125;&#125;);// ç­‰åŒäºŽä¸‹é¢çš„å†™æ³•SomeClass.prototype.someMethod = function (arg1, arg2) &#123; Â·Â·Â·&#125;;SomeClass.prototype.anotherMethod = function () &#123; Â·Â·Â·&#125;; ä¸Šé¢ä»£ç ä½¿ç”¨äº†å¯¹è±¡å±žæ€§çš„ç®€æ´è¡¨ç¤ºæ³•ï¼Œç›´æŽ¥å°†ä¸¤ä¸ªå‡½æ•°æ”¾åœ¨å¤§æ‹¬å·ä¸­ï¼Œå†ä½¿ç”¨assignæ–¹æ³•æ·»åŠ åˆ°SomeClass.prototypeä¹‹ä¸­ã€‚ 3. å…‹éš†å¯¹è±¡123function clone(origin) &#123; return Object.assign(&#123;&#125;, origin);&#125; ä¸Šé¢ä»£ç å°†åŽŸå§‹å¯¹è±¡æ‹·è´åˆ°ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå°±å¾—åˆ°äº†åŽŸå§‹å¯¹è±¡çš„å…‹éš†ã€‚ ä¸è¿‡ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ³•å…‹éš†ï¼Œåªèƒ½å…‹éš†åŽŸå§‹å¯¹è±¡è‡ªèº«çš„å€¼ï¼Œä¸èƒ½å…‹éš†å®ƒç»§æ‰¿çš„å€¼ã€‚å¦‚æžœæƒ³è¦ä¿æŒç»§æ‰¿é“¾ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„ä»£ç ã€‚ 1234function clone(origin) &#123; let originProto = Object.getPrototypeOf(origin); return Object.assign(Object.create(originProto), origin);&#125; 4. åˆå¹¶å¤šä¸ªå¯¹è±¡å°†å¤šä¸ªå¯¹è±¡åˆå¹¶åˆ°æŸä¸ªå¯¹è±¡ã€‚ 12const merge = (target, ...sources) =&gt; Object.assign(target, ...sources); å¦‚æžœå¸Œæœ›åˆå¹¶åŽè¿”å›žä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¯ä»¥æ”¹å†™ä¸Šé¢å‡½æ•°ï¼Œå¯¹ä¸€ä¸ªç©ºå¯¹è±¡åˆå¹¶ã€‚ 12const merge = (...sources) =&gt; Object.assign(&#123;&#125;, ...sources); 5. ä¸ºå±žæ€§æŒ‡å®šé»˜è®¤å€¼12345678910const DEFAULTS = &#123; logLevel: 0, outputFormat: 'html'&#125;;function processContent(options) &#123; options = Object.assign(&#123;&#125;, DEFAULTS, options); console.log(options); // ...&#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒDEFAULTSå¯¹è±¡æ˜¯é»˜è®¤å€¼ï¼Œoptionså¯¹è±¡æ˜¯ç”¨æˆ·æä¾›çš„å‚æ•°ã€‚Object.assignæ–¹æ³•å°†DEFAULTSå’Œoptionsåˆå¹¶æˆä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¦‚æžœä¸¤è€…æœ‰åŒåå±žæ€§ï¼Œåˆ™optionçš„å±žæ€§å€¼ä¼šè¦†ç›–DEFAULTSçš„å±žæ€§å€¼ã€‚ æ³¨æ„ï¼Œç”±äºŽå­˜åœ¨æµ…æ‹·è´çš„é—®é¢˜ï¼ŒDEFAULTSå¯¹è±¡å’Œoptionså¯¹è±¡çš„æ‰€æœ‰å±žæ€§çš„å€¼ï¼Œæœ€å¥½éƒ½æ˜¯ç®€å•ç±»åž‹ï¼Œä¸è¦æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚å¦åˆ™ï¼ŒDEFAULTSå¯¹è±¡çš„è¯¥å±žæ€§å¾ˆå¯èƒ½ä¸èµ·ä½œç”¨ã€‚ å±žæ€§çš„å¯æžšä¸¾æ€§å’ŒéåŽ†å¯æžšä¸¾æ€§å¯¹è±¡çš„æ¯ä¸ªå±žæ€§éƒ½æœ‰ä¸€ä¸ªæè¿°å¯¹è±¡ï¼ˆDescriptorï¼‰ï¼Œç”¨æ¥æŽ§åˆ¶è¯¥å±žæ€§çš„è¡Œä¸ºã€‚Object.getOwnPropertyDescriptoræ–¹æ³•å¯ä»¥èŽ·å–è¯¥å±žæ€§çš„æè¿°å¯¹è±¡ã€‚ 12345678let obj = &#123; foo: 123 &#125;;Object.getOwnPropertyDescriptor(obj, 'foo')// &#123;// value: 123,// writable: true,// enumerable: true,// configurable: true// &#125; æè¿°å¯¹è±¡çš„enumerableå±žæ€§ï¼Œç§°ä¸ºâ€å¯æžšä¸¾æ€§â€œï¼Œå¦‚æžœè¯¥å±žæ€§ä¸ºfalseï¼Œå°±è¡¨ç¤ºæŸäº›æ“ä½œä¼šå¿½ç•¥å½“å‰å±žæ€§ã€‚ ç›®å‰ï¼Œæœ‰å››ä¸ªæ“ä½œä¼šå¿½ç•¥enumerableä¸ºfalseçš„å±žæ€§ã€‚ forâ€¦inå¾ªçŽ¯ï¼šåªéåŽ†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æžšä¸¾çš„å±žæ€§ã€‚ Object.keys()ï¼šè¿”å›žå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æžšä¸¾çš„å±žæ€§çš„é”®åã€‚ JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æžšä¸¾çš„å±žæ€§ã€‚ Object.assign()ï¼š å¿½ç•¥enumerableä¸ºfalseçš„å±žæ€§ï¼Œåªæ‹·è´å¯¹è±¡è‡ªèº«çš„å¯æžšä¸¾çš„å±žæ€§ã€‚ è¿™å››ä¸ªæ“ä½œä¹‹ä¸­ï¼Œå‰ä¸‰ä¸ªæ˜¯ ES5 å°±æœ‰çš„ï¼Œæœ€åŽä¸€ä¸ªObject.assign()æ˜¯ ES6 æ–°å¢žçš„ã€‚å…¶ä¸­ï¼Œåªæœ‰forâ€¦inä¼šè¿”å›žç»§æ‰¿çš„å±žæ€§ï¼Œå…¶ä»–ä¸‰ä¸ªæ–¹æ³•éƒ½ä¼šå¿½ç•¥ç»§æ‰¿çš„å±žæ€§ï¼Œåªå¤„ç†å¯¹è±¡è‡ªèº«çš„å±žæ€§ã€‚å®žé™…ä¸Šï¼Œå¼•å…¥â€œå¯æžšä¸¾â€ï¼ˆenumerableï¼‰è¿™ä¸ªæ¦‚å¿µçš„æœ€åˆç›®çš„ï¼Œå°±æ˜¯è®©æŸäº›å±žæ€§å¯ä»¥è§„é¿æŽ‰forâ€¦inæ“ä½œï¼Œä¸ç„¶æ‰€æœ‰å†…éƒ¨å±žæ€§å’Œæ–¹æ³•éƒ½ä¼šè¢«éåŽ†åˆ°ã€‚æ¯”å¦‚ï¼Œå¯¹è±¡åŽŸåž‹çš„toStringæ–¹æ³•ï¼Œä»¥åŠæ•°ç»„çš„lengthå±žæ€§ï¼Œå°±é€šè¿‡â€œå¯æžšä¸¾æ€§â€ï¼Œä»Žè€Œé¿å…è¢«forâ€¦inéåŽ†åˆ°ã€‚ å¦å¤–ï¼ŒES6 è§„å®šï¼Œæ‰€æœ‰ Class çš„åŽŸåž‹çš„æ–¹æ³•éƒ½æ˜¯ä¸å¯æžšä¸¾çš„ã€‚ 12Object.getOwnPropertyDescriptor(class &#123;foo() &#123;&#125;&#125;.prototype, 'foo').enumerable// false æ€»çš„æ¥è¯´ï¼Œæ“ä½œä¸­å¼•å…¥ç»§æ‰¿çš„å±žæ€§ä¼šè®©é—®é¢˜å¤æ‚åŒ–ï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬åªå…³å¿ƒå¯¹è±¡è‡ªèº«çš„å±žæ€§ã€‚æ‰€ä»¥ï¼Œå°½é‡ä¸è¦ç”¨forâ€¦inå¾ªçŽ¯ï¼Œè€Œç”¨Object.keys()ä»£æ›¿ã€‚ å±žæ€§çš„éåŽ†ES6 ä¸€å…±æœ‰5ç§æ–¹æ³•å¯ä»¥éåŽ†å¯¹è±¡çš„å±žæ€§ã€‚ 1. forâ€¦inforâ€¦inå¾ªçŽ¯éåŽ†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æžšä¸¾å±žæ€§ï¼ˆä¸å« Symbol å±žæ€§ï¼‰ã€‚ 2. Object.keys(obj)Object.keysè¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯æžšä¸¾å±žæ€§ï¼ˆä¸å« Symbol å±žæ€§ï¼‰ã€‚ 3. Object.getOwnPropertyNames(obj)Object.getOwnPropertyNamesè¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±žæ€§ï¼ˆä¸å« Symbol å±žæ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æžšä¸¾å±žæ€§ï¼‰ã€‚ 4. Object.getOwnPropertySymbols(obj)Object.getOwnPropertySymbolsè¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰ Symbol å±žæ€§ã€‚ 5. Reflect.ownKeys(obj)Reflect.ownKeysè¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±žæ€§ï¼Œä¸ç®¡å±žæ€§åæ˜¯ Symbol æˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æžšä¸¾ã€‚ ä»¥ä¸Šçš„5ç§æ–¹æ³•éåŽ†å¯¹è±¡çš„å±žæ€§ï¼Œéƒ½éµå®ˆåŒæ ·çš„å±žæ€§éåŽ†çš„æ¬¡åºè§„åˆ™ã€‚ é¦–å…ˆéåŽ†æ‰€æœ‰å±žæ€§åä¸ºæ•°å€¼çš„å±žæ€§ï¼ŒæŒ‰ç…§æ•°å­—æŽ’åºã€‚ å…¶æ¬¡éåŽ†æ‰€æœ‰å±žæ€§åä¸ºå­—ç¬¦ä¸²çš„å±žæ€§ï¼ŒæŒ‰ç…§ç”Ÿæˆæ—¶é—´æŽ’åºã€‚ æœ€åŽéåŽ†æ‰€æœ‰å±žæ€§åä¸º Symbol å€¼çš„å±žæ€§ï¼ŒæŒ‰ç…§ç”Ÿæˆæ—¶é—´æŽ’åºã€‚ 12Reflect.ownKeys(&#123; [Symbol()]:0, b:0, 10:0, 2:0, a:0 &#125;)// ['2', '10', 'b', 'a', Symbol()] ä¸Šé¢ä»£ç ä¸­ï¼ŒReflect.ownKeysæ–¹æ³•è¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†å‚æ•°å¯¹è±¡çš„æ‰€æœ‰å±žæ€§ã€‚è¿™ä¸ªæ•°ç»„çš„å±žæ€§æ¬¡åºæ˜¯è¿™æ ·çš„ï¼Œé¦–å…ˆæ˜¯æ•°å€¼å±žæ€§2å’Œ10ï¼Œå…¶æ¬¡æ˜¯å­—ç¬¦ä¸²å±žæ€§bå’Œaï¼Œæœ€åŽæ˜¯ Symbol å±žæ€§ã€‚ Object.getOwnPropertyDescriptors()å‰é¢è¯´è¿‡ï¼ŒObject.getOwnPropertyDescriptoræ–¹æ³•ä¼šè¿”å›žæŸä¸ªå¯¹è±¡å±žæ€§çš„æè¿°å¯¹è±¡ï¼ˆdescriptorï¼‰ã€‚ES2017 å¼•å…¥äº†Object.getOwnPropertyDescriptorsæ–¹æ³•ï¼Œè¿”å›žæŒ‡å®šå¯¹è±¡æ‰€æœ‰è‡ªèº«å±žæ€§ï¼ˆéžç»§æ‰¿å±žæ€§ï¼‰çš„æè¿°å¯¹è±¡ã€‚ 12345678910111213141516const obj = &#123; foo: 123, get bar() &#123; return 'abc' &#125;&#125;;Object.getOwnPropertyDescriptors(obj)// &#123; foo:// &#123; value: 123,// writable: true,// enumerable: true,// configurable: true &#125;,// bar:// &#123; get: [Function: bar],// set: undefined,// enumerable: true,// configurable: true &#125; &#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒObject.getOwnPropertyDescriptorsæ–¹æ³•è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰åŽŸå¯¹è±¡çš„å±žæ€§åéƒ½æ˜¯è¯¥å¯¹è±¡çš„å±žæ€§åï¼Œå¯¹åº”çš„å±žæ€§å€¼å°±æ˜¯è¯¥å±žæ€§çš„æè¿°å¯¹è±¡ã€‚ è¯¥æ–¹æ³•çš„å®žçŽ°éžå¸¸å®¹æ˜“ã€‚ 1234567function getOwnPropertyDescriptors(obj) &#123; const result = &#123;&#125;; for (let key of Reflect.ownKeys(obj)) &#123; result[key] = Object.getOwnPropertyDescriptor(obj, key); &#125; return result;&#125; è¯¥æ–¹æ³•çš„å¼•å…¥ç›®çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³Object.assign()æ— æ³•æ­£ç¡®æ‹·è´getå±žæ€§å’Œsetå±žæ€§çš„é—®é¢˜ã€‚ 1234567891011121314const source = &#123; set foo(value) &#123; console.log(value); &#125;&#125;;const target1 = &#123;&#125;;Object.assign(target1, source);Object.getOwnPropertyDescriptor(target1, 'foo')// &#123; value: undefined,// writable: true,// enumerable: true,// configurable: true &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œsourceå¯¹è±¡çš„fooå±žæ€§çš„å€¼æ˜¯ä¸€ä¸ªèµ‹å€¼å‡½æ•°ï¼ŒObject.assignæ–¹æ³•å°†è¿™ä¸ªå±žæ€§æ‹·è´ç»™target1å¯¹è±¡ï¼Œç»“æžœè¯¥å±žæ€§çš„å€¼å˜æˆäº†undefinedã€‚è¿™æ˜¯å› ä¸ºObject.assignæ–¹æ³•æ€»æ˜¯æ‹·è´ä¸€ä¸ªå±žæ€§çš„å€¼ï¼Œè€Œä¸ä¼šæ‹·è´å®ƒèƒŒåŽçš„èµ‹å€¼æ–¹æ³•æˆ–å–å€¼æ–¹æ³•ã€‚ è¿™æ—¶ï¼ŒObject.getOwnPropertyDescriptorsæ–¹æ³•é…åˆObject.definePropertiesæ–¹æ³•ï¼Œå°±å¯ä»¥å®žçŽ°æ­£ç¡®æ‹·è´ã€‚ 12345678910111213const source = &#123; set foo(value) &#123; console.log(value); &#125;&#125;;const target2 = &#123;&#125;;Object.defineProperties(target2, Object.getOwnPropertyDescriptors(source));Object.getOwnPropertyDescriptor(target2, 'foo')// &#123; get: undefined,// set: [Function: foo],// enumerable: true,// configurable: true &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œä¸¤ä¸ªå¯¹è±¡åˆå¹¶çš„é€»è¾‘å¯ä»¥å†™æˆä¸€ä¸ªå‡½æ•°ã€‚ 1234const shallowMerge = (target, source) =&gt; Object.defineProperties( target, Object.getOwnPropertyDescriptors(source)); Object.getOwnPropertyDescriptorsæ–¹æ³•çš„å¦ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯é…åˆObject.createæ–¹æ³•ï¼Œå°†å¯¹è±¡å±žæ€§å…‹éš†åˆ°ä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™å±žäºŽæµ…æ‹·è´ã€‚ 123456789const clone = Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));// æˆ–è€…const shallowClone = (obj) =&gt; Object.create( Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj)); ä¸Šé¢ä»£ç ä¼šå…‹éš†å¯¹è±¡objã€‚ å¦å¤–ï¼ŒObject.getOwnPropertyDescriptorsæ–¹æ³•å¯ä»¥å®žçŽ°ä¸€ä¸ªå¯¹è±¡ç»§æ‰¿å¦ä¸€ä¸ªå¯¹è±¡ã€‚ä»¥å‰ï¼Œç»§æ‰¿å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå¸¸å¸¸å†™æˆä¸‹é¢è¿™æ ·ã€‚ 1234const obj = &#123; __proto__: prot, foo: 123,&#125;; ES6 è§„å®š[object Object]åªæœ‰æµè§ˆå™¨è¦éƒ¨ç½²ï¼Œå…¶ä»–çŽ¯å¢ƒä¸ç”¨éƒ¨ç½²ã€‚å¦‚æžœåŽ»é™¤[object Object]ï¼Œä¸Šé¢ä»£ç å°±è¦æ”¹æˆä¸‹é¢è¿™æ ·ã€‚ 1234567891011const obj = Object.create(prot);obj.foo = 123;// æˆ–è€…const obj = Object.assign( Object.create(prot), &#123; foo: 123, &#125;); æœ‰äº†Object.getOwnPropertyDescriptorsï¼Œæˆ‘ä»¬å°±æœ‰äº†å¦ä¸€ç§å†™æ³•ã€‚ 123456const obj = Object.create( prot, Object.getOwnPropertyDescriptors(&#123; foo: 123, &#125;)); Object.getOwnPropertyDescriptorsä¹Ÿå¯ä»¥ç”¨æ¥å®žçŽ° Mixinï¼ˆæ··å…¥ï¼‰æ¨¡å¼ã€‚ 12345678910111213141516let mix = (object) =&gt; (&#123; with: (...mixins) =&gt; mixins.reduce( (c, mixin) =&gt; Object.create( c, Object.getOwnPropertyDescriptors(mixin) ), object)&#125;);// multiple mixins examplelet a = &#123;a: 'a'&#125;;let b = &#123;b: 'b'&#125;;let c = &#123;c: 'c'&#125;;let d = mix(c).with(a, b);d.c // "c"d.b // "b"d.a // "a" ä¸Šé¢ä»£ç è¿”å›žä¸€ä¸ªæ–°çš„å¯¹è±¡dï¼Œä»£è¡¨äº†å¯¹è±¡aå’Œbè¢«æ··å…¥äº†å¯¹è±¡cçš„æ“ä½œã€‚ å‡ºäºŽå®Œæ•´æ€§çš„è€ƒè™‘ï¼ŒObject.getOwnPropertyDescriptorsè¿›å…¥æ ‡å‡†ä»¥åŽï¼Œè¿˜ä¼šæœ‰Reflect.getOwnPropertyDescriptorsæ–¹æ³•ã€‚ [object Object]å±žæ€§ï¼ŒObject.setPrototypeOf()ï¼ŒObject.getPrototypeOf()[object Object]å±žæ€§[object Object]å±žæ€§ï¼ˆå‰åŽå„ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼‰ï¼Œç”¨æ¥è¯»å–æˆ–è®¾ç½®å½“å‰å¯¹è±¡çš„prototypeå¯¹è±¡ã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨ï¼ˆåŒ…æ‹¬ IE11ï¼‰éƒ½éƒ¨ç½²äº†è¿™ä¸ªå±žæ€§ã€‚ 123456789// es6çš„å†™æ³•var obj = &#123; method: function() &#123; ... &#125;&#125;;obj.__proto__ = someOtherObj;// es5çš„å†™æ³•var obj = Object.create(someOtherObj); obj.method = function() { â€¦ };è¯¥å±žæ€§æ²¡æœ‰å†™å…¥ ES6 çš„æ­£æ–‡ï¼Œè€Œæ˜¯å†™å…¥äº†é™„å½•ï¼ŒåŽŸå› æ˜¯__proto__å‰åŽçš„åŒä¸‹åˆ’çº¿ï¼Œè¯´æ˜Žå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå†…éƒ¨å±žæ€§ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ­£å¼çš„å¯¹å¤–çš„ APIï¼Œåªæ˜¯ç”±äºŽæµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œæ‰è¢«åŠ å…¥äº† ES6ã€‚æ ‡å‡†æ˜Žç¡®è§„å®šï¼Œåªæœ‰æµè§ˆå™¨å¿…é¡»éƒ¨ç½²è¿™ä¸ªå±žæ€§ï¼Œå…¶ä»–è¿è¡ŒçŽ¯å¢ƒä¸ä¸€å®šéœ€è¦éƒ¨ç½²ï¼Œè€Œä¸”æ–°çš„ä»£ç æœ€å¥½è®¤ä¸ºè¿™ä¸ªå±žæ€§æ˜¯ä¸å­˜åœ¨çš„ã€‚å› æ­¤ï¼Œæ— è®ºä»Žè¯­ä¹‰çš„è§’åº¦ï¼Œè¿˜æ˜¯ä»Žå…¼å®¹æ€§çš„è§’åº¦ï¼Œéƒ½ä¸è¦ä½¿ç”¨è¿™ä¸ªå±žæ€§ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸‹é¢çš„Object.setPrototypeOf()ï¼ˆå†™æ“ä½œï¼‰ã€Object.getPrototypeOf()ï¼ˆè¯»æ“ä½œï¼‰ã€Object.create()ï¼ˆç”Ÿæˆæ“ä½œï¼‰ä»£æ›¿ã€‚ å®žçŽ°ä¸Šï¼Œ[object Object]è°ƒç”¨çš„æ˜¯Object.prototype.__proto__ï¼Œå…·å¦‚æžœä¸€ä¸ªå¯¹è±¡æœ¬èº«éƒ¨ç½²äº†[object Object]å±žæ€§ï¼Œåˆ™è¯¥å±žæ€§çš„å€¼å°±æ˜¯å¯¹è±¡çš„åŽŸåž‹ã€‚ 12Object.getPrototypeOf(&#123; __proto__: null &#125;)// null Object.setPrototypeOf()Object.setPrototypeOfæ–¹æ³•çš„ä½œç”¨ä¸Ž[object Object]ç›¸åŒï¼Œç”¨æ¥è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„prototypeå¯¹è±¡ï¼Œè¿”å›žå‚æ•°å¯¹è±¡æœ¬èº«ã€‚å®ƒæ˜¯ ES6 æ­£å¼æŽ¨èçš„è®¾ç½®åŽŸåž‹å¯¹è±¡çš„æ–¹æ³•ã€‚ 12345// æ ¼å¼Object.setPrototypeOf(object, prototype)// ç”¨æ³•var o = Object.setPrototypeOf(&#123;&#125;, null); è¯¥æ–¹æ³•ç­‰åŒäºŽä¸‹é¢çš„å‡½æ•°ã€‚ 1234function (obj, proto) &#123; obj.__proto__ = proto; return obj;&#125; ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 12345678910let proto = &#123;&#125;;let obj = &#123; x: 10 &#125;;Object.setPrototypeOf(obj, proto);proto.y = 20;proto.z = 40;obj.x // 10obj.y // 20obj.z // 40 ä¸Šé¢ä»£ç å°†protoå¯¹è±¡è®¾ä¸ºobjå¯¹è±¡çš„åŽŸåž‹ï¼Œæ‰€ä»¥ä»Žobjå¯¹è±¡å¯ä»¥è¯»å–protoå¯¹è±¡çš„å±žæ€§ã€‚ å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºå¯¹è±¡ã€‚ä½†æ˜¯ç”±äºŽè¿”å›žçš„è¿˜æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œä¸ä¼šäº§ç”Ÿä»»ä½•æ•ˆæžœã€‚ 123Object.setPrototypeOf(1, &#123;&#125;) === 1 // trueObject.setPrototypeOf('foo', &#123;&#125;) === 'foo' // trueObject.setPrototypeOf(true, &#123;&#125;) === true // true ç”±äºŽundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯undefinedæˆ–nullï¼Œå°±ä¼šæŠ¥é”™ã€‚ 12345Object.setPrototypeOf(undefined, &#123;&#125;)// TypeError: Object.setPrototypeOf called on null or undefinedObject.setPrototypeOf(null, &#123;&#125;)// TypeError: Object.setPrototypeOf called on null or undefined Object.getPrototypeOf()è¯¥æ–¹æ³•ä¸ŽObject.setPrototypeOfæ–¹æ³•é…å¥—ï¼Œç”¨äºŽè¯»å–ä¸€ä¸ªå¯¹è±¡çš„åŽŸåž‹å¯¹è±¡ã€‚ 1Object.getPrototypeOf(obj); ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 123456789101112function Rectangle() &#123; // ...&#125;var rec = new Rectangle();Object.getPrototypeOf(rec) === Rectangle.prototype// trueObject.setPrototypeOf(rec, Object.prototype);Object.getPrototypeOf(rec) === Rectangle.prototype// false å¦‚æžœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸ºå¯¹è±¡ã€‚ 123456789101112131415// ç­‰åŒäºŽ Object.getPrototypeOf(Number(1))Object.getPrototypeOf(1)// Number &#123;[[PrimitiveValue]]: 0&#125;// ç­‰åŒäºŽ Object.getPrototypeOf(String('foo'))Object.getPrototypeOf('foo')// String &#123;length: 0, [[PrimitiveValue]]: ""&#125;// ç­‰åŒäºŽ Object.getPrototypeOf(Boolean(true))Object.getPrototypeOf(true)// Boolean &#123;[[PrimitiveValue]]: false&#125;Object.getPrototypeOf(1) === Number.prototype // trueObject.getPrototypeOf('foo') === String.prototype // trueObject.getPrototypeOf(true) === Boolean.prototype // true å¦‚æžœå‚æ•°æ˜¯undefinedæˆ–nullï¼Œå®ƒä»¬æ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚ 12345Object.getPrototypeOf(null)// TypeError: Cannot convert undefined or null to objectObject.getPrototypeOf(undefined)// TypeError: Cannot convert undefined or null to object Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries()Object.keys()ES5 å¼•å…¥äº†Object.keysæ–¹æ³•ï¼Œè¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éåŽ†ï¼ˆenumerableï¼‰å±žæ€§çš„é”®åã€‚ 123var obj = &#123; foo: 'bar', baz: 42 &#125;;Object.keys(obj)// ["foo", "baz"] ES2017 å¼•å…¥äº†è·ŸObject.keysé…å¥—çš„Object.valueså’ŒObject.entriesï¼Œä½œä¸ºéåŽ†ä¸€ä¸ªå¯¹è±¡çš„è¡¥å……æ‰‹æ®µï¼Œä¾›forâ€¦ofå¾ªçŽ¯ä½¿ç”¨ã€‚ 1234567891011121314let &#123;keys, values, entries&#125; = Object;let obj = &#123; a: 1, b: 2, c: 3 &#125;;for (let key of keys(obj)) &#123; console.log(key); // 'a', 'b', 'c'&#125;for (let value of values(obj)) &#123; console.log(value); // 1, 2, 3&#125;for (let [key, value] of entries(obj)) &#123; console.log([key, value]); // ['a', 1], ['b', 2], ['c', 3]&#125; Object.values()Object.valuesæ–¹æ³•è¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éåŽ†ï¼ˆenumerableï¼‰å±žæ€§çš„é”®å€¼ã€‚ 123var obj = &#123; foo: 'bar', baz: 42 &#125;;Object.values(obj)// ["bar", 42] è¿”å›žæ•°ç»„çš„æˆå‘˜é¡ºåºï¼Œä¸Žæœ¬ç« çš„ã€Šå±žæ€§çš„éåŽ†ã€‹éƒ¨åˆ†ä»‹ç»çš„æŽ’åˆ—è§„åˆ™ä¸€è‡´ã€‚ 123var obj = &#123; 100: 'a', 2: 'b', 7: 'c' &#125;;Object.values(obj)// ["b", "c", "a"] Object.valuesåªè¿”å›žå¯¹è±¡è‡ªèº«çš„å¯éåŽ†å±žæ€§ã€‚Object.valuesä¼šè¿‡æ»¤å±žæ€§åä¸º Symbol å€¼çš„å±žæ€§ã€‚å¦‚æžœObject.valuesæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šè¿”å›žå„ä¸ªå­—ç¬¦ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æžœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.valuesä¼šå…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚ç”±äºŽæ•°å€¼å’Œå¸ƒå°”å€¼çš„åŒ…è£…å¯¹è±¡ï¼Œéƒ½ä¸ä¼šä¸ºå®žä¾‹æ·»åŠ éžç»§æ‰¿çš„å±žæ€§ã€‚æ‰€ä»¥ï¼ŒObject.valuesä¼šè¿”å›žç©ºæ•°ç»„ã€‚ 12Object.values(42) // []Object.values(true) // [] Object.entriesObject.entriesæ–¹æ³•è¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éåŽ†ï¼ˆenumerableï¼‰å±žæ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚ 123var obj = &#123; foo: 'bar', baz: 42 &#125;;Object.entries(obj)// [ ["foo", "bar"], ["baz", 42] ] é™¤äº†è¿”å›žå€¼ä¸ä¸€æ ·ï¼Œè¯¥æ–¹æ³•çš„è¡Œä¸ºä¸ŽObject.valuesåŸºæœ¬ä¸€è‡´ã€‚å¦‚æžœåŽŸå¯¹è±¡çš„å±žæ€§åæ˜¯ä¸€ä¸ª Symbol å€¼ï¼Œè¯¥å±žæ€§ä¼šè¢«å¿½ç•¥ Object.entriesçš„åŸºæœ¬ç”¨é€”æ˜¯éåŽ†å¯¹è±¡çš„å±žæ€§ã€‚ 12345678let obj = &#123; one: 1, two: 2 &#125;;for (let [k, v] of Object.entries(obj)) &#123; console.log( `$&#123;JSON.stringify(k)&#125;: $&#123;JSON.stringify(v)&#125;` );&#125;// "one": 1// "two": 2 Object.entriesæ–¹æ³•çš„å¦ä¸€ä¸ªç”¨å¤„æ˜¯ï¼Œå°†å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„Mapç»“æž„ã€‚ 123var obj = &#123; foo: 'bar', baz: 42 &#125;;var map = new Map(Object.entries(obj));map // Map &#123; foo: "bar", baz: 42 &#125; è‡ªå·±å®žçŽ°Object.entriesæ–¹æ³•ï¼Œéžå¸¸ç®€å•ã€‚ 123456789101112131415// Generatorå‡½æ•°çš„ç‰ˆæœ¬function* entries(obj) &#123; for (let key of Object.keys(obj)) &#123; yield [key, obj[key]]; &#125;&#125;// éžGeneratorå‡½æ•°çš„ç‰ˆæœ¬function entries(obj) &#123; let arr = []; for (let key of Object.keys(obj)) &#123; arr.push([key, obj[key]]); &#125; return arr;&#125; å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ã€Šæ•°ç»„çš„æ‰©å±•ã€‹ä¸€ç« ä¸­ï¼Œå·²ç»ä»‹ç»è¿‡æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€‚ 123const [a, ...b] = [1, 2, 3];a // 1b // [2, 3] ES2017 å°†è¿™ä¸ªè¿ç®—ç¬¦å¼•å…¥äº†å¯¹è±¡ã€‚ 1. è§£æž„èµ‹å€¼å¯¹è±¡çš„è§£æž„èµ‹å€¼ç”¨äºŽä»Žä¸€ä¸ªå¯¹è±¡å–å€¼ï¼Œç›¸å½“äºŽå°†æ‰€æœ‰å¯éåŽ†çš„ã€ä½†å°šæœªè¢«è¯»å–çš„å±žæ€§ï¼Œåˆ†é…åˆ°æŒ‡å®šçš„å¯¹è±¡ä¸Šé¢ã€‚æ‰€æœ‰çš„é”®å’Œå®ƒä»¬çš„å€¼ï¼Œéƒ½ä¼šæ‹·è´åˆ°æ–°å¯¹è±¡ä¸Šé¢ã€‚ 1234let &#123; x, y, ...z &#125; = &#123; x: 1, y: 2, a: 3, b: 4 &#125;;x // 1y // 2z // &#123; a: 3, b: 4 &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡zæ˜¯è§£æž„èµ‹å€¼æ‰€åœ¨çš„å¯¹è±¡ã€‚å®ƒèŽ·å–ç­‰å·å³è¾¹çš„æ‰€æœ‰å°šæœªè¯»å–çš„é”®ï¼ˆaå’Œbï¼‰ï¼Œå°†å®ƒä»¬è¿žåŒå€¼ä¸€èµ·æ‹·è´è¿‡æ¥ã€‚ ç”±äºŽè§£æž„èµ‹å€¼è¦æ±‚ç­‰å·å³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æžœç­‰å·å³è¾¹æ˜¯undefinedæˆ–nullï¼Œå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒä»¬æ— æ³•è½¬ä¸ºå¯¹è±¡ã€‚ 12let &#123; x, y, ...z &#125; = null; // è¿è¡Œæ—¶é”™è¯¯let &#123; x, y, ...z &#125; = undefined; // è¿è¡Œæ—¶é”™è¯¯ è§£æž„èµ‹å€¼å¿…é¡»æ˜¯æœ€åŽä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 12let &#123; ...x, y, z &#125; = obj; // å¥æ³•é”™è¯¯let &#123; x, ...y, ...z &#125; = obj; // å¥æ³•é”™è¯¯ ä¸Šé¢ä»£ç ä¸­ï¼Œè§£æž„èµ‹å€¼ä¸æ˜¯æœ€åŽä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚ æ³¨æ„ï¼Œè§£æž„èµ‹å€¼çš„æ‹·è´æ˜¯æµ…æ‹·è´ï¼Œå³å¦‚æžœä¸€ä¸ªé”®çš„å€¼æ˜¯å¤åˆç±»åž‹çš„å€¼ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ï¼‰ã€é‚£ä¹ˆè§£æž„èµ‹å€¼æ‹·è´çš„æ˜¯è¿™ä¸ªå€¼çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯è¿™ä¸ªå€¼çš„å‰¯æœ¬ã€‚ 1234let obj = &#123; a: &#123; b: 1 &#125; &#125;;let &#123; ...x &#125; = obj;obj.a.b = 2;x.a.b // 2 ä¸Šé¢ä»£ç ä¸­ï¼Œxæ˜¯è§£æž„èµ‹å€¼æ‰€åœ¨çš„å¯¹è±¡ï¼Œæ‹·è´äº†å¯¹è±¡objçš„aå±žæ€§ã€‚aå±žæ€§å¼•ç”¨äº†ä¸€ä¸ªå¯¹è±¡ï¼Œä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„å€¼ï¼Œä¼šå½±å“åˆ°è§£æž„èµ‹å€¼å¯¹å®ƒçš„å¼•ç”¨ã€‚ å¦å¤–ï¼Œè§£æž„èµ‹å€¼ä¸ä¼šæ‹·è´ç»§æ‰¿è‡ªåŽŸåž‹å¯¹è±¡çš„å±žæ€§ã€‚ 123456let o1 = &#123; a: 1 &#125;;let o2 = &#123; b: 2 &#125;;o2.__proto__ = o1;let &#123; ...o3 &#125; = o2;o3 // &#123; b: 2 &#125;o3.a // undefined ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡o3å¤åˆ¶äº†o2ï¼Œä½†æ˜¯åªå¤åˆ¶äº†o2è‡ªèº«çš„å±žæ€§ï¼Œæ²¡æœ‰å¤åˆ¶å®ƒçš„åŽŸåž‹å¯¹è±¡o1çš„å±žæ€§ã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚ 1234567var o = Object.create(&#123; x: 1, y: 2 &#125;);o.z = 3;let &#123; x, ...&#123; y, z &#125; &#125; = o;x // 1y // undefinedz // 3 ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡xæ˜¯å•çº¯çš„è§£æž„èµ‹å€¼ï¼Œæ‰€ä»¥å¯ä»¥è¯»å–å¯¹è±¡oç»§æ‰¿çš„å±žæ€§ï¼›å˜é‡yå’Œzæ˜¯åŒé‡è§£æž„èµ‹å€¼ï¼Œåªèƒ½è¯»å–å¯¹è±¡oè‡ªèº«çš„å±žæ€§ï¼Œæ‰€ä»¥åªæœ‰å˜é‡zå¯ä»¥èµ‹å€¼æˆåŠŸã€‚ è§£æž„èµ‹å€¼çš„ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯æ‰©å±•æŸä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå¼•å…¥å…¶ä»–æ“ä½œã€‚ 12345678function baseFunction(&#123; a, b &#125;) &#123; // ...&#125;function wrapperFunction(&#123; x, y, ...restConfig &#125;) &#123; // ä½¿ç”¨xå’Œyå‚æ•°è¿›è¡Œæ“ä½œ // å…¶ä½™å‚æ•°ä¼ ç»™åŽŸå§‹å‡½æ•° return baseFunction(restConfig);&#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒåŽŸå§‹å‡½æ•°baseFunctionæŽ¥å—aå’Œbä½œä¸ºå‚æ•°ï¼Œå‡½æ•°wrapperFunctionåœ¨baseFunctionçš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ‰©å±•ï¼Œèƒ½å¤ŸæŽ¥å—å¤šä½™çš„å‚æ•°ï¼Œå¹¶ä¸”ä¿ç•™åŽŸå§‹å‡½æ•°çš„è¡Œä¸ºã€‚ 2. æ‰©å±•è¿ç®—ç¬¦æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ç”¨äºŽå–å‡ºå‚æ•°å¯¹è±¡çš„æ‰€æœ‰å¯éåŽ†å±žæ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­ã€‚ 123let z = &#123; a: 3, b: 4 &#125;;let n = &#123; ...z &#125;;n // &#123; a: 3, b: 4 &#125; è¿™ç­‰åŒäºŽä½¿ç”¨Object.assignæ–¹æ³•ã€‚ 123let aClone = &#123; ...a &#125;;// ç­‰åŒäºŽlet aClone = Object.assign(&#123;&#125;, a); ä¸Šé¢çš„ä¾‹å­åªæ˜¯æ‹·è´äº†å¯¹è±¡å®žä¾‹çš„å±žæ€§ï¼Œå¦‚æžœæƒ³å®Œæ•´å…‹éš†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿˜æ‹·è´å¯¹è±¡åŽŸåž‹çš„å±žæ€§ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚ 1234567891011// å†™æ³•ä¸€const clone1 = &#123; __proto__: Object.getPrototypeOf(obj), ...obj&#125;;// å†™æ³•äºŒconst clone2 = Object.assign( Object.create(Object.getPrototypeOf(obj)), obj); ä¸Šé¢ä»£ç ä¸­ï¼Œå†™æ³•ä¸€çš„[object Object]å±žæ€§åœ¨éžæµè§ˆå™¨çš„çŽ¯å¢ƒä¸ä¸€å®šéƒ¨ç½²ï¼Œå› æ­¤æŽ¨èä½¿ç”¨å†™æ³•äºŒã€‚ æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ç”¨äºŽåˆå¹¶ä¸¤ä¸ªå¯¹è±¡ã€‚123let ab = &#123; ...a, ...b &#125;;// ç­‰åŒäºŽlet ab = Object.assign(&#123;&#125;, a, b); å¦‚æžœç”¨æˆ·è‡ªå®šä¹‰çš„å±žæ€§ï¼Œæ”¾åœ¨æ‰©å±•è¿ç®—ç¬¦åŽé¢ï¼Œåˆ™æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨çš„åŒåå±žæ€§ä¼šè¢«è¦†ç›–æŽ‰ã€‚ 1234567let aWithOverrides = &#123; ...a, x: 1, y: 2 &#125;;// ç­‰åŒäºŽlet aWithOverrides = &#123; ...a, ...&#123; x: 1, y: 2 &#125; &#125;;// ç­‰åŒäºŽlet x = 1, y = 2, aWithOverrides = &#123; ...a, x, y &#125;;// ç­‰åŒäºŽlet aWithOverrides = Object.assign(&#123;&#125;, a, &#123; x: 1, y: 2 &#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œaå¯¹è±¡çš„xå±žæ€§å’Œyå±žæ€§ï¼Œæ‹·è´åˆ°æ–°å¯¹è±¡åŽä¼šè¢«è¦†ç›–æŽ‰ã€‚ è¿™ç”¨æ¥ä¿®æ”¹çŽ°æœ‰å¯¹è±¡éƒ¨åˆ†çš„å±žæ€§å°±å¾ˆæ–¹ä¾¿äº†ã€‚ 1234let newVersion = &#123; ...previousVersion, name: 'New Name' // Override the name property&#125;; ä¸Šé¢ä»£ç ä¸­ï¼ŒnewVersionå¯¹è±¡è‡ªå®šä¹‰äº†nameå±žæ€§ï¼Œå…¶ä»–å±žæ€§å…¨éƒ¨å¤åˆ¶è‡ªpreviousVersionå¯¹è±¡ã€‚ å¦‚æžœæŠŠè‡ªå®šä¹‰å±žæ€§æ”¾åœ¨æ‰©å±•è¿ç®—ç¬¦å‰é¢ï¼Œå°±å˜æˆäº†è®¾ç½®æ–°å¯¹è±¡çš„é»˜è®¤å±žæ€§å€¼ã€‚ 12345let aWithDefaults = &#123; x: 1, y: 2, ...a &#125;;// ç­‰åŒäºŽlet aWithDefaults = Object.assign(&#123;&#125;, &#123; x: 1, y: 2 &#125;, a);// ç­‰åŒäºŽlet aWithDefaults = Object.assign(&#123; x: 1, y: 2 &#125;, a); ä¸Žæ•°ç»„çš„æ‰©å±•è¿ç®—ç¬¦ä¸€æ ·ï¼Œå¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦åŽé¢å¯ä»¥è·Ÿè¡¨è¾¾å¼ã€‚ 1234const obj = &#123; ...(x &gt; 1 ? &#123;a: 1&#125; : &#123;&#125;), b: 2,&#125;; å¦‚æžœæ‰©å±•è¿ç®—ç¬¦åŽé¢æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œåˆ™æ²¡æœ‰ä»»ä½•æ•ˆæžœã€‚ 12&#123;...&#123;&#125;, a: 1&#125;// &#123; a: 1 &#125; å¦‚æžœæ‰©å±•è¿ç®—ç¬¦çš„å‚æ•°æ˜¯nullæˆ–undefinedï¼Œè¿™ä¸¤ä¸ªå€¼ä¼šè¢«å¿½ç•¥ï¼Œä¸ä¼šæŠ¥é”™ã€‚ 1let emptyObject = &#123; ...null, ...undefined &#125;; // ä¸æŠ¥é”™ æ‰©å±•è¿ç®—ç¬¦çš„å‚æ•°å¯¹è±¡ä¹‹ä¸­ï¼Œå¦‚æžœæœ‰å–å€¼å‡½æ•°getï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ä¼šæ‰§è¡Œçš„ã€‚ 1234567891011121314151617// å¹¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º x å±žæ€§åªæ˜¯è¢«å®šä¹‰ï¼Œä½†æ²¡æ‰§è¡Œlet aWithXGetter = &#123; ...a, get x() &#123; throw new Error('not throw yet'); &#125;&#125;;// ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º x å±žæ€§è¢«æ‰§è¡Œäº†let runtimeError = &#123; ...a, ...&#123; get x() &#123; throw new Error('throw now'); &#125; &#125;&#125;; Null ä¼ å¯¼è¿ç®—ç¬¦ç¼–ç¨‹å®žåŠ¡ä¸­ï¼Œå¦‚æžœè¯»å–å¯¹è±¡å†…éƒ¨çš„æŸä¸ªå±žæ€§ï¼Œå¾€å¾€éœ€è¦åˆ¤æ–­ä¸€ä¸‹è¯¥å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚æ¯”å¦‚ï¼Œè¦è¯»å–message.body.user.firstNameï¼Œå®‰å…¨çš„å†™æ³•æ˜¯å†™æˆä¸‹é¢è¿™æ ·ã€‚ 1234const firstName = (message &amp;&amp; message.body &amp;&amp; message.body.user &amp;&amp; message.body.user.firstName) || 'default'; è¿™æ ·çš„å±‚å±‚åˆ¤æ–­éžå¸¸éº»çƒ¦ï¼Œå› æ­¤çŽ°åœ¨æœ‰ä¸€ä¸ªææ¡ˆï¼Œå¼•å…¥äº†â€œNull ä¼ å¯¼è¿ç®—ç¬¦â€ï¼ˆnull propagation operatorï¼‰?.ï¼Œç®€åŒ–ä¸Šé¢çš„å†™æ³•ã€‚ 1const firstName = message?.body?.user?.firstName || 'default'; ä¸Šé¢ä»£ç æœ‰ä¸‰ä¸ª?.è¿ç®—ç¬¦ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªè¿”å›žnullæˆ–undefinedï¼Œå°±ä¸å†å¾€ä¸‹è¿ç®—ï¼Œè€Œæ˜¯è¿”å›žundefinedã€‚ â€œNull ä¼ å¯¼è¿ç®—ç¬¦â€æœ‰å››ç§ç”¨æ³•ã€‚ obj?.prop // è¯»å–å¯¹è±¡å±žæ€§ obj?.[expr] // åŒä¸Š func?.(â€¦args) // å‡½æ•°æˆ–å¯¹è±¡æ–¹æ³•çš„è°ƒç”¨ new C?.(â€¦args) // æž„é€ å‡½æ•°çš„è°ƒç”¨ ä¼ å¯¼è¿ç®—ç¬¦ä¹‹æ‰€ä»¥å†™æˆobj?.propï¼Œè€Œä¸æ˜¯obj?propï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç¼–è¯‘å™¨èƒ½å¤ŸåŒºåˆ†ä¸‰å…ƒè¿ç®—ç¬¦?:ï¼ˆæ¯”å¦‚obj?prop:123ï¼‰ã€‚ ä¸‹é¢æ˜¯æ›´å¤šçš„ä¾‹å­ã€‚ 12345678910// å¦‚æžœ a æ˜¯ null æˆ– undefined, è¿”å›ž undefined// å¦åˆ™è¿”å›ž a.b.c().da?.b.c().d// å¦‚æžœ a æ˜¯ null æˆ– undefinedï¼Œä¸‹é¢çš„è¯­å¥ä¸äº§ç”Ÿä»»ä½•æ•ˆæžœ// å¦åˆ™æ‰§è¡Œ a.b = 42a?.b = 42// å¦‚æžœ a æ˜¯ null æˆ– undefinedï¼Œä¸‹é¢çš„è¯­å¥ä¸äº§ç”Ÿä»»ä½•æ•ˆæžœdelete a?.b]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>åŸºç¡€ç±»åž‹æ‰©å±•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-å¼‚æ­¥]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-%E5%BC%82%E6%AD%A5%2F</url>
    <content type="text"><![CDATA[å¼‚æ­¥ç¼–ç¨‹å¯¹ JavaScript è¯­è¨€å¤ªé‡è¦ã€‚Javascript è¯­è¨€çš„æ‰§è¡ŒçŽ¯å¢ƒæ˜¯â€œå•çº¿ç¨‹â€çš„ï¼Œå¦‚æžœæ²¡æœ‰å¼‚æ­¥ç¼–ç¨‹ï¼Œæ ¹æœ¬æ²¡æ³•ç”¨ï¼Œéžå¡æ­»ä¸å¯ã€‚ä¸»è¦ä»‹ç» Generator å‡½æ•°å¦‚ä½•å®Œæˆå¼‚æ­¥æ“ä½œã€‚ ä¼ ç»Ÿæ–¹æ³• åŸºæœ¬æ¦‚å¿µ Generator å‡½æ•° Thunk å‡½æ•° co æ¨¡å— ä¼ ç»Ÿæ–¹æ³•ES6 è¯žç”Ÿä»¥å‰ï¼Œå¼‚æ­¥ç¼–ç¨‹çš„æ–¹æ³•ï¼Œå¤§æ¦‚æœ‰ä¸‹é¢å››ç§ã€‚ å›žè°ƒå‡½æ•° äº‹ä»¶ç›‘å¬ å‘å¸ƒ/è®¢é˜… Promise å¯¹è±¡ Generator å‡½æ•°å°† JavaScript å¼‚æ­¥ç¼–ç¨‹å¸¦å…¥äº†ä¸€ä¸ªå…¨æ–°çš„é˜¶æ®µã€‚ åŸºæœ¬æ¦‚å¿µå¼‚æ­¥æ‰€è°“â€å¼‚æ­¥â€ï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªä»»åŠ¡ä¸æ˜¯è¿žç»­å®Œæˆçš„ï¼Œå¯ä»¥ç†è§£æˆè¯¥ä»»åŠ¡è¢«äººä¸ºåˆ†æˆä¸¤æ®µï¼Œå…ˆæ‰§è¡Œç¬¬ä¸€æ®µï¼Œç„¶åŽè½¬è€Œæ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œç­‰åšå¥½äº†å‡†å¤‡ï¼Œå†å›žè¿‡å¤´æ‰§è¡Œç¬¬äºŒæ®µã€‚ æ¯”å¦‚ï¼Œæœ‰ä¸€ä¸ªä»»åŠ¡æ˜¯è¯»å–æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œä»»åŠ¡çš„ç¬¬ä¸€æ®µæ˜¯å‘æ“ä½œç³»ç»Ÿå‘å‡ºè¯·æ±‚ï¼Œè¦æ±‚è¯»å–æ–‡ä»¶ã€‚ç„¶åŽï¼Œç¨‹åºæ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œç­‰åˆ°æ“ä½œç³»ç»Ÿè¿”å›žæ–‡ä»¶ï¼Œå†æŽ¥ç€æ‰§è¡Œä»»åŠ¡çš„ç¬¬äºŒæ®µï¼ˆå¤„ç†æ–‡ä»¶ï¼‰ã€‚è¿™ç§ä¸è¿žç»­çš„æ‰§è¡Œï¼Œå°±å«åšå¼‚æ­¥ã€‚ ç›¸åº”åœ°ï¼Œè¿žç»­çš„æ‰§è¡Œå°±å«åšåŒæ­¥ã€‚ç”±äºŽæ˜¯è¿žç»­æ‰§è¡Œï¼Œä¸èƒ½æ’å…¥å…¶ä»–ä»»åŠ¡ï¼Œæ‰€ä»¥æ“ä½œç³»ç»Ÿä»Žç¡¬ç›˜è¯»å–æ–‡ä»¶çš„è¿™æ®µæ—¶é—´ï¼Œç¨‹åºåªèƒ½å¹²ç­‰ç€ã€‚ å›žè°ƒå‡½æ•°JavaScript è¯­è¨€å¯¹å¼‚æ­¥ç¼–ç¨‹çš„å®žçŽ°ï¼Œå°±æ˜¯å›žè°ƒå‡½æ•°ã€‚ æ‰€è°“å›žè°ƒå‡½æ•°ï¼Œå°±æ˜¯æŠŠä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œç­‰åˆ°é‡æ–°æ‰§è¡Œè¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œå°±ç›´æŽ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚å›žè°ƒå‡½æ•°çš„è‹±è¯­åå­—callbackï¼Œç›´è¯‘è¿‡æ¥å°±æ˜¯â€é‡æ–°è°ƒç”¨â€ã€‚è¯»å–æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œæ˜¯è¿™æ ·å†™çš„ã€‚ 1234fs.readFile('/etc/passwd', 'utf-8', function (err, data) &#123; if (err) throw err; console.log(data);&#125;); ä¸Šé¢ä»£ç ä¸­ï¼ŒreadFileå‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå°±æ˜¯å›žè°ƒå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä»»åŠ¡çš„ç¬¬äºŒæ®µã€‚ç­‰åˆ°æ“ä½œç³»ç»Ÿè¿”å›žäº†/etc/passwdè¿™ä¸ªæ–‡ä»¶ä»¥åŽï¼Œå›žè°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œã€‚ ( ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜æ˜¯ï¼Œä¸ºä»€ä¹ˆ Node çº¦å®šï¼Œå›žè°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¿…é¡»æ˜¯é”™è¯¯å¯¹è±¡errï¼ˆå¦‚æžœæ²¡æœ‰é”™è¯¯ï¼Œè¯¥å‚æ•°å°±æ˜¯nullï¼‰ï¼Ÿ åŽŸå› æ˜¯æ‰§è¡Œåˆ†æˆä¸¤æ®µï¼Œç¬¬ä¸€æ®µæ‰§è¡Œå®Œä»¥åŽï¼Œä»»åŠ¡æ‰€åœ¨çš„ä¸Šä¸‹æ–‡çŽ¯å¢ƒå°±å·²ç»ç»“æŸäº†ã€‚åœ¨è¿™ä»¥åŽæŠ›å‡ºçš„é”™è¯¯ï¼ŒåŽŸæ¥çš„ä¸Šä¸‹æ–‡çŽ¯å¢ƒå·²ç»æ— æ³•æ•æ‰ï¼Œåªèƒ½å½“ä½œå‚æ•°ï¼Œä¼ å…¥ç¬¬äºŒæ®µã€‚ ) Promiseå›žè°ƒå‡½æ•°æœ¬èº«å¹¶æ²¡æœ‰é—®é¢˜ï¼Œå®ƒçš„é—®é¢˜å‡ºçŽ°åœ¨å¤šä¸ªå›žè°ƒå‡½æ•°åµŒå¥—ã€‚å‡å®šè¯»å–Aæ–‡ä»¶ä¹‹åŽï¼Œå†è¯»å–Bæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ã€‚ 12345fs.readFile(fileA, 'utf-8', function (err, data) &#123; fs.readFile(fileB, 'utf-8', function (err, data) &#123; // ... &#125;);&#125;); ä¸éš¾æƒ³è±¡ï¼Œå¦‚æžœä¾æ¬¡è¯»å–ä¸¤ä¸ªä»¥ä¸Šçš„æ–‡ä»¶ï¼Œå°±ä¼šå‡ºçŽ°å¤šé‡åµŒå¥—ã€‚ä»£ç ä¸æ˜¯çºµå‘å‘å±•ï¼Œè€Œæ˜¯æ¨ªå‘å‘å±•ï¼Œå¾ˆå¿«å°±ä¼šä¹±æˆä¸€å›¢ï¼Œæ— æ³•ç®¡ç†ã€‚å› ä¸ºå¤šä¸ªå¼‚æ­¥æ“ä½œå½¢æˆäº†å¼ºè€¦åˆï¼Œåªè¦æœ‰ä¸€ä¸ªæ“ä½œéœ€è¦ä¿®æ”¹ï¼Œå®ƒçš„ä¸Šå±‚å›žè°ƒå‡½æ•°å’Œä¸‹å±‚å›žè°ƒå‡½æ•°ï¼Œå¯èƒ½éƒ½è¦è·Ÿç€ä¿®æ”¹ã€‚è¿™ç§æƒ…å†µå°±ç§°ä¸ºâ€å›žè°ƒå‡½æ•°åœ°ç‹±â€ï¼ˆcallback hellï¼‰ã€‚ Promise å¯¹è±¡å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œæå‡ºçš„ã€‚å®ƒä¸æ˜¯æ–°çš„è¯­æ³•åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ç§æ–°çš„å†™æ³•ï¼Œå…è®¸å°†å›žè°ƒå‡½æ•°çš„åµŒå¥—ï¼Œæ”¹æˆé“¾å¼è°ƒç”¨ã€‚é‡‡ç”¨ Promiseï¼Œè¿žç»­è¯»å–å¤šä¸ªæ–‡ä»¶ï¼Œå†™æ³•å¦‚ä¸‹ã€‚ 123456789101112131415var readFile = require('fs-readfile-promise');readFile(fileA).then(function (data) &#123; console.log(data.toString());&#125;).then(function () &#123; return readFile(fileB);&#125;).then(function (data) &#123; console.log(data.toString());&#125;).catch(function (err) &#123; console.log(err);&#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œä½¿ç”¨äº†fs-readfile-promiseæ¨¡å—ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è¿”å›žä¸€ä¸ª Promise ç‰ˆæœ¬çš„readFileå‡½æ•°ã€‚Promise æä¾›thenæ–¹æ³•åŠ è½½å›žè°ƒå‡½æ•°ï¼Œcatchæ–¹æ³•æ•æ‰æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºçš„é”™è¯¯ã€‚ Generator å‡½æ•°åç¨‹ä¼ ç»Ÿçš„ç¼–ç¨‹è¯­è¨€ï¼Œæ—©æœ‰å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆï¼ˆå…¶å®žæ˜¯å¤šä»»åŠ¡çš„è§£å†³æ–¹æ¡ˆï¼‰ã€‚å…¶ä¸­æœ‰ä¸€ç§å«åšâ€åç¨‹â€ï¼ˆcoroutineï¼‰ï¼Œæ„æ€æ˜¯å¤šä¸ªçº¿ç¨‹äº’ç›¸åä½œï¼Œå®Œæˆå¼‚æ­¥ä»»åŠ¡ã€‚ åç¨‹æœ‰ç‚¹åƒå‡½æ•°ï¼Œåˆæœ‰ç‚¹åƒçº¿ç¨‹ã€‚å®ƒçš„è¿è¡Œæµç¨‹å¤§è‡´å¦‚ä¸‹ã€‚ ç¬¬ä¸€æ­¥ï¼Œåç¨‹Aå¼€å§‹æ‰§è¡Œã€‚ ç¬¬äºŒæ­¥ï¼Œåç¨‹Aæ‰§è¡Œåˆ°ä¸€åŠï¼Œè¿›å…¥æš‚åœï¼Œæ‰§è¡Œæƒè½¬ç§»åˆ°åç¨‹Bã€‚ ç¬¬ä¸‰æ­¥ï¼Œï¼ˆä¸€æ®µæ—¶é—´åŽï¼‰åç¨‹Bäº¤è¿˜æ‰§è¡Œæƒã€‚ ç¬¬å››æ­¥ï¼Œåç¨‹Aæ¢å¤æ‰§è¡Œã€‚ ä¸Šé¢æµç¨‹çš„åç¨‹Aï¼Œå°±æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œå› ä¸ºå®ƒåˆ†æˆä¸¤æ®µï¼ˆæˆ–å¤šæ®µï¼‰æ‰§è¡Œã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œè¯»å–æ–‡ä»¶çš„åç¨‹å†™æ³•å¦‚ä¸‹ã€‚ 12345function* asyncJob() &#123; // ...å…¶ä»–ä»£ç  var f = yield readFile(fileA); // ...å…¶ä»–ä»£ç &#125; ä¸Šé¢ä»£ç çš„å‡½æ•°asyncJobæ˜¯ä¸€ä¸ªåç¨‹ï¼Œå®ƒçš„å¥¥å¦™å°±åœ¨å…¶ä¸­çš„yieldå‘½ä»¤ã€‚å®ƒè¡¨ç¤ºæ‰§è¡Œåˆ°æ­¤å¤„ï¼Œæ‰§è¡Œæƒå°†äº¤ç»™å…¶ä»–åç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œyieldå‘½ä»¤æ˜¯å¼‚æ­¥ä¸¤ä¸ªé˜¶æ®µçš„åˆ†ç•Œçº¿ã€‚ åç¨‹é‡åˆ°yieldå‘½ä»¤å°±æš‚åœï¼Œç­‰åˆ°æ‰§è¡Œæƒè¿”å›žï¼Œå†ä»Žæš‚åœçš„åœ°æ–¹ç»§ç»­å¾€åŽæ‰§è¡Œã€‚å®ƒçš„æœ€å¤§ä¼˜ç‚¹ï¼Œå°±æ˜¯ä»£ç çš„å†™æ³•éžå¸¸åƒåŒæ­¥æ“ä½œï¼Œå¦‚æžœåŽ»é™¤yieldå‘½ä»¤ï¼Œç®€ç›´ä¸€æ¨¡ä¸€æ ·ã€‚åç¨‹çš„ Generator å‡½æ•°å®žçŽ°Generator å‡½æ•°æ˜¯åç¨‹åœ¨ ES6 çš„å®žçŽ°ï¼Œæœ€å¤§ç‰¹ç‚¹å°±æ˜¯å¯ä»¥äº¤å‡ºå‡½æ•°çš„æ‰§è¡Œæƒï¼ˆå³æš‚åœæ‰§è¡Œï¼‰ã€‚ æ•´ä¸ª Generator å‡½æ•°å°±æ˜¯ä¸€ä¸ªå°è£…çš„å¼‚æ­¥ä»»åŠ¡ï¼Œæˆ–è€…è¯´æ˜¯å¼‚æ­¥ä»»åŠ¡çš„å®¹å™¨ã€‚å¼‚æ­¥æ“ä½œéœ€è¦æš‚åœçš„åœ°æ–¹ï¼Œéƒ½ç”¨yieldè¯­å¥æ³¨æ˜Žã€‚Generator å‡½æ•°çš„æ‰§è¡Œæ–¹æ³•å¦‚ä¸‹ã€‚ 12345678function* gen(x) &#123; var y = yield x + 2; return y;&#125;var g = gen(1);g.next() // &#123; value: 3, done: false &#125;g.next() // &#123; value: undefined, done: true &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œä¼šè¿”å›žä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆï¼ˆå³éåŽ†å™¨ï¼‰gã€‚è¿™æ˜¯ Generator å‡½æ•°ä¸åŒäºŽæ™®é€šå‡½æ•°çš„å¦ä¸€ä¸ªåœ°æ–¹ï¼Œå³æ‰§è¡Œå®ƒä¸ä¼šè¿”å›žç»“æžœï¼Œè¿”å›žçš„æ˜¯æŒ‡é’ˆå¯¹è±¡ã€‚è°ƒç”¨æŒ‡é’ˆgçš„nextæ–¹æ³•ï¼Œä¼šç§»åŠ¨å†…éƒ¨æŒ‡é’ˆï¼ˆå³æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„ç¬¬ä¸€æ®µï¼‰ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªé‡åˆ°çš„yieldè¯­å¥ï¼Œä¸Šä¾‹æ˜¯æ‰§è¡Œåˆ°x + 2ä¸ºæ­¢ã€‚ æ¢è¨€ä¹‹ï¼Œnextæ–¹æ³•çš„ä½œç”¨æ˜¯åˆ†é˜¶æ®µæ‰§è¡ŒGeneratorå‡½æ•°ã€‚æ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œä¼šè¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„ä¿¡æ¯ï¼ˆvalueå±žæ€§å’Œdoneå±žæ€§ï¼‰ã€‚valueå±žæ€§æ˜¯yieldè¯­å¥åŽé¢è¡¨è¾¾å¼çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„å€¼ï¼›doneå±žæ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Generator å‡½æ•°æ˜¯å¦æ‰§è¡Œå®Œæ¯•ï¼Œå³æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚ Generator å‡½æ•°çš„æ•°æ®äº¤æ¢å’Œé”™è¯¯å¤„ç†Generator å‡½æ•°å¯ä»¥æš‚åœæ‰§è¡Œå’Œæ¢å¤æ‰§è¡Œï¼Œè¿™æ˜¯å®ƒèƒ½å°è£…å¼‚æ­¥ä»»åŠ¡çš„æ ¹æœ¬åŽŸå› ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜æœ‰ä¸¤ä¸ªç‰¹æ€§ï¼Œä½¿å®ƒå¯ä»¥ä½œä¸ºå¼‚æ­¥ç¼–ç¨‹çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼šå‡½æ•°ä½“å†…å¤–çš„æ•°æ®äº¤æ¢å’Œé”™è¯¯å¤„ç†æœºåˆ¶ã€‚ nextè¿”å›žå€¼çš„valueå±žæ€§ï¼Œæ˜¯ Generator å‡½æ•°å‘å¤–è¾“å‡ºæ•°æ®ï¼›nextæ–¹æ³•è¿˜å¯ä»¥æŽ¥å—å‚æ•°ï¼Œå‘ Generator å‡½æ•°ä½“å†…è¾“å…¥æ•°æ®ã€‚ 12345678function* gen(x)&#123; var y = yield x + 2; return y;&#125;var g = gen(1);g.next() // &#123; value: 3, done: false &#125;g.next(2) // &#123; value: 2, done: true &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€nextæ–¹æ³•çš„valueå±žæ€§ï¼Œè¿”å›žè¡¨è¾¾å¼x + 2çš„å€¼3ã€‚ç¬¬äºŒä¸ªnextæ–¹æ³•å¸¦æœ‰å‚æ•°2ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥ä¼ å…¥ Generator å‡½æ•°ï¼Œä½œä¸ºä¸Šä¸ªé˜¶æ®µå¼‚æ­¥ä»»åŠ¡çš„è¿”å›žç»“æžœï¼Œè¢«å‡½æ•°ä½“å†…çš„å˜é‡yæŽ¥æ”¶ã€‚å› æ­¤ï¼Œè¿™ä¸€æ­¥çš„valueå±žæ€§ï¼Œè¿”å›žçš„å°±æ˜¯2ï¼ˆå˜é‡yçš„å€¼ï¼‰ã€‚ Generator å‡½æ•°å†…éƒ¨è¿˜å¯ä»¥éƒ¨ç½²é”™è¯¯å¤„ç†ä»£ç ï¼Œæ•èŽ·å‡½æ•°ä½“å¤–æŠ›å‡ºçš„é”™è¯¯ã€‚ 12345678910111213function* gen(x)&#123; try &#123; var y = yield x + 2; &#125; catch (e)&#123; console.log(e); &#125; return y;&#125;var g = gen(1);g.next();g.throw('å‡ºé”™äº†');// å‡ºé”™äº† ä¸Šé¢ä»£ç çš„æœ€åŽä¸€è¡Œï¼ŒGenerator å‡½æ•°ä½“å¤–ï¼Œä½¿ç”¨æŒ‡é’ˆå¯¹è±¡çš„throwæ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ï¼Œå¯ä»¥è¢«å‡½æ•°ä½“å†…çš„tryâ€¦catchä»£ç å—æ•èŽ·ã€‚è¿™æ„å‘³ç€ï¼Œå‡ºé”™çš„ä»£ç ä¸Žå¤„ç†é”™è¯¯çš„ä»£ç ï¼Œå®žçŽ°äº†æ—¶é—´å’Œç©ºé—´ä¸Šçš„åˆ†ç¦»ï¼Œè¿™å¯¹äºŽå¼‚æ­¥ç¼–ç¨‹æ— ç–‘æ˜¯å¾ˆé‡è¦çš„ã€‚ å¼‚æ­¥ä»»åŠ¡çš„å°è£…ä¸‹é¢çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ Generator å‡½æ•°ï¼Œæ‰§è¡Œä¸€ä¸ªçœŸå®žçš„å¼‚æ­¥ä»»åŠ¡ã€‚ 1234567var fetch = require('node-fetch');function* gen()&#123; var url = 'https://api.github.com/users/github'; var result = yield fetch(url); console.log(result.bio);&#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒGenerator å‡½æ•°å°è£…äº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œè¯¥æ“ä½œå…ˆè¯»å–ä¸€ä¸ªè¿œç¨‹æŽ¥å£ï¼Œç„¶åŽä»Ž JSON æ ¼å¼çš„æ•°æ®è§£æžä¿¡æ¯ã€‚å°±åƒå‰é¢è¯´è¿‡çš„ï¼Œè¿™æ®µä»£ç éžå¸¸åƒåŒæ­¥æ“ä½œï¼Œé™¤äº†åŠ ä¸Šäº†yieldå‘½ä»¤ã€‚ æ‰§è¡Œè¿™æ®µä»£ç çš„æ–¹æ³•å¦‚ä¸‹ã€‚ 12345678var g = gen();var result = g.next();result.value.then(function(data)&#123; return data.json();&#125;).then(function(data)&#123; g.next(data);&#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œ Generator å‡½æ•°ï¼ŒèŽ·å–éåŽ†å™¨å¯¹è±¡ï¼Œç„¶åŽä½¿ç”¨nextæ–¹æ³•ï¼ˆç¬¬äºŒè¡Œï¼‰ï¼Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„ç¬¬ä¸€é˜¶æ®µã€‚ç”±äºŽFetchæ¨¡å—è¿”å›žçš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤è¦ç”¨thenæ–¹æ³•è°ƒç”¨ä¸‹ä¸€ä¸ªnextæ–¹æ³•ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶ Generator å‡½æ•°å°†å¼‚æ­¥æ“ä½œè¡¨ç¤ºå¾—å¾ˆç®€æ´ï¼Œä½†æ˜¯æµç¨‹ç®¡ç†å´ä¸æ–¹ä¾¿ï¼ˆå³ä½•æ—¶æ‰§è¡Œç¬¬ä¸€é˜¶æ®µã€ä½•æ—¶æ‰§è¡Œç¬¬äºŒé˜¶æ®µï¼‰ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>å¼‚æ­¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-Symbol]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-Symbol%2F</url>
    <content type="text"><![CDATA[ç›®å½•ï¼š æ¦‚è¿° ä½œä¸ºå±žæ€§åçš„ Symbol å®žä¾‹ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸² å±žæ€§åçš„éåŽ† Symbol.for()ï¼ŒSymbol.keyFor() å®žä¾‹ï¼šæ¨¡å—çš„ Singleton æ¨¡å¼ å†…ç½®çš„Symbolå€¼ æ¦‚è¿°ES5 çš„å¯¹è±¡å±žæ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“é€ æˆå±žæ€§åçš„å†²çªã€‚æ¯”å¦‚ï¼Œä½ ä½¿ç”¨äº†ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡ï¼Œä½†åˆæƒ³ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•ï¼ˆmixin æ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å°±æœ‰å¯èƒ½ä¸ŽçŽ°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚å¦‚æžœæœ‰ä¸€ç§æœºåˆ¶ï¼Œä¿è¯æ¯ä¸ªå±žæ€§çš„åå­—éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„å°±å¥½äº†ï¼Œè¿™æ ·å°±ä»Žæ ¹æœ¬ä¸Šé˜²æ­¢å±žæ€§åçš„å†²çªã€‚è¿™å°±æ˜¯ ES6 å¼•å…¥Symbolçš„åŽŸå› ã€‚ ES6 å¼•å…¥äº†ä¸€ç§æ–°çš„åŽŸå§‹æ•°æ®ç±»åž‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯ JavaScript è¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»åž‹ï¼Œå‰å…­ç§æ˜¯ï¼šundefinedã€nullã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚ Symbolå…¶å®žè§£å†³äº†ä¸¤ä¸ªé—®é¢˜ï¼š å”¯ä¸€æ€§ é€šè¿‡Symbolçš„å±žæ€§æ¥æ“ä½œJavaScriptå†…éƒ¨çš„é€»è¾‘ Symbol å€¼é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„å±žæ€§åçŽ°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»åž‹ï¼Œä¸€ç§æ˜¯åŽŸæ¥å°±æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢žçš„ Symbol ç±»åž‹ã€‚å‡¡æ˜¯å±žæ€§åå±žäºŽ Symbol ç±»åž‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸Žå…¶ä»–å±žæ€§åäº§ç”Ÿå†²çªã€‚ 1234let s = Symbol();typeof s// &quot;symbol&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡så°±æ˜¯ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚typeofè¿ç®—ç¬¦çš„ç»“æžœï¼Œè¡¨æ˜Žå˜é‡sæ˜¯ Symbol æ•°æ®ç±»åž‹ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ä¹‹ç±»çš„å…¶ä»–ç±»åž‹ã€‚ æ³¨æ„ï¼ŒSymbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºç”Ÿæˆçš„ Symbol æ˜¯ä¸€ä¸ªåŽŸå§‹ç±»åž‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äºŽ Symbol å€¼ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±žæ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä¸€ç§ç±»ä¼¼äºŽå­—ç¬¦ä¸²çš„æ•°æ®ç±»åž‹ã€‚ Symbolå‡½æ•°å¯ä»¥æŽ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹ Symbol å®žä¾‹çš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æŽ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†ã€‚ 12345678var s1 = Symbol(&apos;foo&apos;);var s2 = Symbol(&apos;bar&apos;);s1 // Symbol(foo)s2 // Symbol(bar)s1.toString() // &quot;Symbol(foo)&quot;s2.toString() // &quot;Symbol(bar)&quot; å¦‚æžœ Symbol çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„toStringæ–¹æ³•ï¼Œå°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åŽæ‰ç”Ÿæˆä¸€ä¸ª Symbol å€¼ã€‚ 1234567const obj = &#123; toString() &#123; return &apos;abc&apos;; &#125;&#125;;const sym = Symbol(obj);sym // Symbol(abc) æ³¨æ„ï¼ŒSymbolå‡½æ•°çš„å‚æ•°åªæ˜¯è¡¨ç¤ºå¯¹å½“å‰ Symbol å€¼çš„æè¿°ï¼Œå› æ­¤ç›¸åŒå‚æ•°çš„Symbolå‡½æ•°çš„è¿”å›žå€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚ 1234567891011// æ²¡æœ‰å‚æ•°çš„æƒ…å†µvar s1 = Symbol();var s2 = Symbol();s1 === s2 // false// æœ‰å‚æ•°çš„æƒ…å†µvar s1 = Symbol(&apos;foo&apos;);var s2 = Symbol(&apos;foo&apos;);s1 === s2 // false Symbol å€¼ä¸èƒ½ä¸Žå…¶ä»–ç±»åž‹çš„å€¼è¿›è¡Œè¿ç®—ï¼Œä¼šæŠ¥é”™ã€‚ ä½†æ˜¯ï¼ŒSymbol å€¼å¯ä»¥æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²ã€‚ å¦å¤–ï¼ŒSymbol å€¼ä¹Ÿå¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ï¼Œä½†æ˜¯ä¸èƒ½è½¬ä¸ºæ•°å€¼ã€‚ ä½œä¸ºå±žæ€§åçš„ Symbolç”±äºŽæ¯ä¸€ä¸ª Symbol å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œè¿™æ„å‘³ç€ Symbol å€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºŽå¯¹è±¡çš„å±žæ€§åï¼Œå°±èƒ½ä¿è¯ä¸ä¼šå‡ºçŽ°åŒåçš„å±žæ€§ã€‚è¿™å¯¹äºŽä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—æž„æˆçš„æƒ…å†µéžå¸¸æœ‰ç”¨ï¼Œèƒ½é˜²æ­¢æŸä¸€ä¸ªé”®è¢«ä¸å°å¿ƒæ”¹å†™æˆ–è¦†ç›–ã€‚ 1234567891011121314151617var mySymbol = Symbol();// ç¬¬ä¸€ç§å†™æ³•var a = &#123;&#125;;a[mySymbol] = &apos;Hello!&apos;;// ç¬¬äºŒç§å†™æ³•var a = &#123; [mySymbol]: &apos;Hello!&apos;&#125;;// ç¬¬ä¸‰ç§å†™æ³•var a = &#123;&#125;;Object.defineProperty(a, mySymbol, &#123; value: &apos;Hello!&apos; &#125;);// ä»¥ä¸Šå†™æ³•éƒ½å¾—åˆ°åŒæ ·ç»“æžœa[mySymbol] // &quot;Hello!&quot; ä¸Šé¢ä»£ç é€šè¿‡æ–¹æ‹¬å·ç»“æž„å’ŒObject.definePropertyï¼Œå°†å¯¹è±¡çš„å±žæ€§åæŒ‡å®šä¸ºä¸€ä¸ª Symbol å€¼ã€‚ æ³¨æ„ï¼ŒSymbol å€¼ä½œä¸ºå¯¹è±¡å±žæ€§åæ—¶ï¼Œä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦ã€‚ 123456var mySymbol = Symbol();var a = &#123;&#125;;a.mySymbol = &apos;Hello!&apos;;a[mySymbol] // undefineda[&apos;mySymbol&apos;] // &quot;Hello!&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå› ä¸ºç‚¹è¿ç®—ç¬¦åŽé¢æ€»æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¸ä¼šè¯»å–mySymbolä½œä¸ºæ ‡è¯†åæ‰€æŒ‡ä»£çš„é‚£ä¸ªå€¼ï¼Œå¯¼è‡´açš„å±žæ€§åå®žé™…ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª Symbol å€¼ã€‚ åŒç†ï¼Œåœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œä½¿ç”¨ Symbol å€¼å®šä¹‰å±žæ€§æ—¶ï¼ŒSymbol å€¼å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·ä¹‹ä¸­ã€‚ 1234567let s = Symbol();let obj = &#123; [s]: function (arg) &#123; ... &#125;&#125;;obj[s](123); ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœsä¸æ”¾åœ¨æ–¹æ‹¬å·ä¸­ï¼Œè¯¥å±žæ€§çš„é”®åå°±æ˜¯å­—ç¬¦ä¸²sï¼Œè€Œä¸æ˜¯sæ‰€ä»£è¡¨çš„é‚£ä¸ª Symbol å€¼ã€‚ é‡‡ç”¨å¢žå¼ºçš„å¯¹è±¡å†™æ³•ï¼Œä¸Šé¢ä»£ç çš„objå¯¹è±¡å¯ä»¥å†™å¾—æ›´ç®€æ´ä¸€äº›ã€‚ 123let obj = &#123; [s](arg) &#123; ... &#125;&#125;; è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼ŒSymbol å€¼ä½œä¸ºå±žæ€§åæ—¶ï¼Œè¯¥å±žæ€§è¿˜æ˜¯å…¬å¼€å±žæ€§ï¼Œä¸æ˜¯ç§æœ‰å±žæ€§ã€‚ å®žä¾‹ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²é­”æœ¯å­—ç¬¦ä¸²æŒ‡çš„æ˜¯ï¼Œåœ¨ä»£ç ä¹‹ä¸­å¤šæ¬¡å‡ºçŽ°ã€ä¸Žä»£ç å½¢æˆå¼ºè€¦åˆçš„æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å€¼ã€‚é£Žæ ¼è‰¯å¥½çš„ä»£ç ï¼Œåº”è¯¥å°½é‡æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²ï¼Œæ”¹ç”±å«ä¹‰æ¸…æ™°çš„å˜é‡ä»£æ›¿ã€‚ 1234567891011121314function getArea(shape, options) &#123; var area = 0; switch (shape) &#123; case &apos;Triangle&apos;: // é­”æœ¯å­—ç¬¦ä¸² area = .5 * options.width * options.height; break; /* ... more code ... */ &#125; return area;&#125;getArea(&apos;Triangle&apos;, &#123; width: 100, height: 100 &#125;); // é­”æœ¯å­—ç¬¦ä¸² ä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦ä¸²Triangleå°±æ˜¯ä¸€ä¸ªé­”æœ¯å­—ç¬¦ä¸²ã€‚å®ƒå¤šæ¬¡å‡ºçŽ°ï¼Œä¸Žä»£ç å½¢æˆâ€œå¼ºè€¦åˆâ€ï¼Œä¸åˆ©äºŽå°†æ¥çš„ä¿®æ”¹å’Œç»´æŠ¤ã€‚ å¸¸ç”¨çš„æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠå®ƒå†™æˆä¸€ä¸ªå˜é‡ã€‚ 123456789101112131415var shapeType = &#123; triangle: &apos;Triangle&apos;&#125;;function getArea(shape, options) &#123; var area = 0; switch (shape) &#123; case shapeType.triangle: area = .5 * options.width * options.height; break; &#125; return area;&#125;getArea(shapeType.triangle, &#123; width: 100, height: 100 &#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠTriangleå†™æˆshapeTypeå¯¹è±¡çš„triangleå±žæ€§ï¼Œè¿™æ ·å°±æ¶ˆé™¤äº†å¼ºè€¦åˆã€‚ å¦‚æžœä»”ç»†åˆ†æžï¼Œå¯ä»¥å‘çŽ°shapeType.triangleç­‰äºŽå“ªä¸ªå€¼å¹¶ä¸é‡è¦ï¼Œåªè¦ç¡®ä¿ä¸ä¼šè·Ÿå…¶ä»–shapeTypeå±žæ€§çš„å€¼å†²çªå³å¯ã€‚å› æ­¤ï¼Œè¿™é‡Œå°±å¾ˆé€‚åˆæ”¹ç”¨ Symbol å€¼ã€‚ 123const shapeType = &#123; triangle: Symbol()&#125;; ä¸Šé¢ä»£ç ä¸­ï¼Œé™¤äº†å°†shapeType.triangleçš„å€¼è®¾ä¸ºä¸€ä¸ªSymbolï¼Œå…¶ä»–åœ°æ–¹éƒ½ä¸ç”¨ä¿®æ”¹ å±žæ€§åçš„éåŽ†Symbol ä½œä¸ºå±žæ€§åï¼Œè¯¥å±žæ€§ä¸ä¼šå‡ºçŽ°åœ¨forâ€¦inã€forâ€¦ofå¾ªçŽ¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«Object.keys()ã€Object.getOwnPropertyNames()ã€JSON.stringify()è¿”å›žã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¸æ˜¯ç§æœ‰å±žæ€§ï¼Œæœ‰ä¸€ä¸ªObject.getOwnPropertySymbolsæ–¹æ³•ï¼Œå¯ä»¥èŽ·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ Symbol å±žæ€§åã€‚ Object.getOwnPropertySymbolsæ–¹æ³•è¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å½“å‰å¯¹è±¡çš„æ‰€æœ‰ç”¨ä½œå±žæ€§åçš„ Symbol å€¼ã€‚ 1234567891011var obj = &#123;&#125;;var a = Symbol(&apos;a&apos;);var b = Symbol(&apos;b&apos;);obj[a] = &apos;Hello&apos;;obj[b] = &apos;World&apos;;var objectSymbols = Object.getOwnPropertySymbols(obj);objectSymbols// [Symbol(a), Symbol(b)] å¦ä¸€ä¸ªæ–°çš„APIï¼ŒReflect.ownKeysæ–¹æ³•å¯ä»¥è¿”å›žæ‰€æœ‰ç±»åž‹çš„é”®åï¼ŒåŒ…æ‹¬å¸¸è§„é”®åå’Œ Symbol é”®åã€‚ 12345678let obj = &#123; [Symbol(&apos;my_key&apos;)]: 1, enum: 2, nonEnum: 3&#125;;Reflect.ownKeys(obj)// [&quot;enum&quot;, &quot;nonEnum&quot;, Symbol(my_key)] ç”±äºŽä»¥ Symbol å€¼ä½œä¸ºåç§°çš„å±žæ€§ï¼Œä¸ä¼šè¢«å¸¸è§„æ–¹æ³•éåŽ†å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œä¸ºå¯¹è±¡å®šä¹‰ä¸€äº›éžç§æœ‰çš„ã€ä½†åˆå¸Œæœ›åªç”¨äºŽå†…éƒ¨çš„æ–¹æ³•ã€‚ Symbol.for()ï¼ŒSymbol.keyFor()æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›é‡æ–°ä½¿ç”¨åŒä¸€ä¸ªSymbolå€¼ï¼ŒSymbol.foræ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å®ƒæŽ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åŽæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„Symbolå€¼ã€‚å¦‚æžœæœ‰ï¼Œå°±è¿”å›žè¿™ä¸ªSymbolå€¼ï¼Œå¦åˆ™å°±æ–°å»ºå¹¶è¿”å›žä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„Symbolå€¼ã€‚ 1234var s1 = Symbol.for(&apos;foo&apos;);var s2 = Symbol.for(&apos;foo&apos;);s1 === s2 // true ä¸Šé¢ä»£ç ä¸­ï¼Œs1å’Œs2éƒ½æ˜¯ Symbol å€¼ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯åŒæ ·å‚æ•°çš„Symbol.foræ–¹æ³•ç”Ÿæˆçš„ï¼Œæ‰€ä»¥å®žé™…ä¸Šæ˜¯åŒä¸€ä¸ªå€¼ã€‚ Symbol.for()ä¸ŽSymbol()è¿™ä¸¤ç§å†™æ³•ï¼Œéƒ½ä¼šç”Ÿæˆæ–°çš„Symbolã€‚å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼Œå‰è€…ä¼šè¢«ç™»è®°åœ¨å…¨å±€çŽ¯å¢ƒä¸­ä¾›æœç´¢ï¼ŒåŽè€…ä¸ä¼šã€‚Symbol.for()ä¸ä¼šæ¯æ¬¡è°ƒç”¨å°±è¿”å›žä¸€ä¸ªæ–°çš„ Symbol ç±»åž‹çš„å€¼ï¼Œè€Œæ˜¯ä¼šå…ˆæ£€æŸ¥ç»™å®šçš„keyæ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æžœä¸å­˜åœ¨æ‰ä¼šæ–°å»ºä¸€ä¸ªå€¼ã€‚æ¯”å¦‚ï¼Œå¦‚æžœä½ è°ƒç”¨Symbol.for(â€œcatâ€)30æ¬¡ï¼Œæ¯æ¬¡éƒ½ä¼šè¿”å›žåŒä¸€ä¸ª Symbol å€¼ï¼Œä½†æ˜¯è°ƒç”¨Symbol(â€œcatâ€)30æ¬¡ï¼Œä¼šè¿”å›ž30ä¸ªä¸åŒçš„Symbolå€¼ã€‚ Symbol.keyForæ–¹æ³•è¿”å›žä¸€ä¸ªå·²ç™»è®°çš„ Symbol ç±»åž‹å€¼çš„keyã€‚ 12345var s1 = Symbol.for(&quot;foo&quot;);Symbol.keyFor(s1) // &quot;foo&quot;var s2 = Symbol(&quot;foo&quot;);Symbol.keyFor(s2) // undefined ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡s2å±žäºŽæœªç™»è®°çš„Symbolå€¼ï¼Œæ‰€ä»¥è¿”å›žundefinedã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSymbol.forä¸ºSymbolå€¼ç™»è®°çš„åå­—ï¼Œæ˜¯å…¨å±€çŽ¯å¢ƒçš„ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ iframe æˆ– service worker ä¸­å–åˆ°åŒä¸€ä¸ªå€¼ã€‚ å®žä¾‹ï¼šæ¨¡å—çš„ Singleton æ¨¡å¼Singletonæ¨¡å¼æŒ‡çš„æ˜¯è°ƒç”¨ä¸€ä¸ªç±»ï¼Œä»»ä½•æ—¶å€™è¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªå®žä¾‹ã€‚ å¯¹äºŽNodeæ¥è¯´ï¼Œæ¨¡å—æ–‡ä»¶å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç±»ã€‚æ€Žä¹ˆä¿è¯æ¯æ¬¡æ‰§è¡Œè¿™ä¸ªæ¨¡å—æ–‡ä»¶ï¼Œè¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªå®žä¾‹å‘¢ï¼Ÿ å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå¯ä»¥æŠŠå®žä¾‹æ”¾åˆ°é¡¶å±‚å¯¹è±¡globalã€‚ 1234567891011121314// mod.jsfunction A() &#123; this.foo = &apos;hello&apos;;&#125;if (!global._foo) &#123; global._foo = new A();&#125;module.exports = global._foo;ç„¶åŽï¼ŒåŠ è½½ä¸Šé¢çš„mod.jsã€‚var a = require(&apos;./mod.js&apos;);console.log(a.foo); ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡aä»»ä½•æ—¶å€™åŠ è½½çš„éƒ½æ˜¯Açš„åŒä¸€ä¸ªå®žä¾‹ã€‚ ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå…¨å±€å˜é‡global._fooæ˜¯å¯å†™çš„ï¼Œä»»ä½•æ–‡ä»¶éƒ½å¯ä»¥ä¿®æ”¹ã€‚ 12var a = require(&apos;./mod.js&apos;);global._foo = 123; ä¸Šé¢çš„ä»£ç ï¼Œä¼šä½¿å¾—åˆ«çš„è„šæœ¬åŠ è½½mod.jséƒ½å¤±çœŸã€‚ ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µå‡ºçŽ°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Symbolã€‚ 123456789101112// mod.jsconst FOO_KEY = Symbol.for(&apos;foo&apos;);function A() &#123; this.foo = &apos;hello&apos;;&#125;if (!global[FOO_KEY]) &#123; global[FOO_KEY] = new A();&#125;module.exports = global[FOO_KEY]; ä¸Šé¢ä»£ç ä¸­ï¼Œå¯ä»¥ä¿è¯global[FOO_KEY]ä¸ä¼šè¢«æ— æ„é—´è¦†ç›–ï¼Œä½†è¿˜æ˜¯å¯ä»¥è¢«æ”¹å†™ã€‚ 12var a = require(&apos;./mod.js&apos;);global[Symbol.for(&apos;foo&apos;)] = 123; å¦‚æžœé”®åä½¿ç”¨Symbolæ–¹æ³•ç”Ÿæˆï¼Œé‚£ä¹ˆå¤–éƒ¨å°†æ— æ³•å¼•ç”¨è¿™ä¸ªå€¼ï¼Œå½“ç„¶ä¹Ÿå°±æ— æ³•æ”¹å†™ã€‚ 1234// mod.jsconst FOO_KEY = Symbol(&apos;foo&apos;);// åŽé¢ä»£ç ç›¸åŒ â€¦â€¦ 1ä¸Šé¢ä»£ç å°†å¯¼è‡´å…¶ä»–è„šæœ¬éƒ½æ— æ³•å¼•ç”¨FOO_KEYã€‚ä½†è¿™æ ·ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æžœå¤šæ¬¡æ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œæ¯æ¬¡å¾—åˆ°çš„FOO_KEYéƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚è™½ç„¶Nodeä¼šå°†è„šæœ¬çš„æ‰§è¡Œç»“æžœç¼“å­˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸ä¼šå¤šæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªè„šæœ¬ï¼Œä½†æ˜¯ç”¨æˆ·å¯ä»¥æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜ï¼Œæ‰€ä»¥ä¹Ÿä¸æ˜¯å®Œå…¨å¯é ã€‚ å†…ç½®çš„Symbolå€¼é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„Symbolå€¼ä»¥å¤–ï¼ŒES6è¿˜æä¾›äº†11ä¸ªå†…ç½®çš„Symbolå€¼ï¼ŒæŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ã€‚ç›®å½•ï¼š æ¦‚è¿° ä½œä¸ºå±žæ€§åçš„ Symbol å®žä¾‹ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸² å±žæ€§åçš„éåŽ† Symbol.for()ï¼ŒSymbol.keyFor() å®žä¾‹ï¼šæ¨¡å—çš„ Singleton æ¨¡å¼ å†…ç½®çš„Symbolå€¼ æ¦‚è¿°ES5 çš„å¯¹è±¡å±žæ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“é€ æˆå±žæ€§åçš„å†²çªã€‚æ¯”å¦‚ï¼Œä½ ä½¿ç”¨äº†ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡ï¼Œä½†åˆæƒ³ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•ï¼ˆmixin æ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å°±æœ‰å¯èƒ½ä¸ŽçŽ°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚å¦‚æžœæœ‰ä¸€ç§æœºåˆ¶ï¼Œä¿è¯æ¯ä¸ªå±žæ€§çš„åå­—éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„å°±å¥½äº†ï¼Œè¿™æ ·å°±ä»Žæ ¹æœ¬ä¸Šé˜²æ­¢å±žæ€§åçš„å†²çªã€‚è¿™å°±æ˜¯ ES6 å¼•å…¥Symbolçš„åŽŸå› ã€‚ ES6 å¼•å…¥äº†ä¸€ç§æ–°çš„åŽŸå§‹æ•°æ®ç±»åž‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯ JavaScript è¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»åž‹ï¼Œå‰å…­ç§æ˜¯ï¼šundefinedã€nullã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚ Symbolå…¶å®žè§£å†³äº†ä¸¤ä¸ªé—®é¢˜ï¼š å”¯ä¸€æ€§ é€šè¿‡Symbolçš„å±žæ€§æ¥æ“ä½œJavaScriptå†…éƒ¨çš„é€»è¾‘ Symbol å€¼é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„å±žæ€§åçŽ°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»åž‹ï¼Œä¸€ç§æ˜¯åŽŸæ¥å°±æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢žçš„ Symbol ç±»åž‹ã€‚å‡¡æ˜¯å±žæ€§åå±žäºŽ Symbol ç±»åž‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸Žå…¶ä»–å±žæ€§åäº§ç”Ÿå†²çªã€‚ 1234let s = Symbol();typeof s// &quot;symbol&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡så°±æ˜¯ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚typeofè¿ç®—ç¬¦çš„ç»“æžœï¼Œè¡¨æ˜Žå˜é‡sæ˜¯ Symbol æ•°æ®ç±»åž‹ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ä¹‹ç±»çš„å…¶ä»–ç±»åž‹ã€‚ æ³¨æ„ï¼ŒSymbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºç”Ÿæˆçš„ Symbol æ˜¯ä¸€ä¸ªåŽŸå§‹ç±»åž‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äºŽ Symbol å€¼ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±žæ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä¸€ç§ç±»ä¼¼äºŽå­—ç¬¦ä¸²çš„æ•°æ®ç±»åž‹ã€‚ Symbolå‡½æ•°å¯ä»¥æŽ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹ Symbol å®žä¾‹çš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æŽ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†ã€‚ 12345678var s1 = Symbol(&apos;foo&apos;);var s2 = Symbol(&apos;bar&apos;);s1 // Symbol(foo)s2 // Symbol(bar)s1.toString() // &quot;Symbol(foo)&quot;s2.toString() // &quot;Symbol(bar)&quot; å¦‚æžœ Symbol çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„toStringæ–¹æ³•ï¼Œå°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åŽæ‰ç”Ÿæˆä¸€ä¸ª Symbol å€¼ã€‚ 1234567const obj = &#123; toString() &#123; return &apos;abc&apos;; &#125;&#125;;const sym = Symbol(obj);sym // Symbol(abc) æ³¨æ„ï¼ŒSymbolå‡½æ•°çš„å‚æ•°åªæ˜¯è¡¨ç¤ºå¯¹å½“å‰ Symbol å€¼çš„æè¿°ï¼Œå› æ­¤ç›¸åŒå‚æ•°çš„Symbolå‡½æ•°çš„è¿”å›žå€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚ 1234567891011// æ²¡æœ‰å‚æ•°çš„æƒ…å†µvar s1 = Symbol();var s2 = Symbol();s1 === s2 // false// æœ‰å‚æ•°çš„æƒ…å†µvar s1 = Symbol(&apos;foo&apos;);var s2 = Symbol(&apos;foo&apos;);s1 === s2 // false Symbol å€¼ä¸èƒ½ä¸Žå…¶ä»–ç±»åž‹çš„å€¼è¿›è¡Œè¿ç®—ï¼Œä¼šæŠ¥é”™ã€‚ ä½†æ˜¯ï¼ŒSymbol å€¼å¯ä»¥æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²ã€‚ å¦å¤–ï¼ŒSymbol å€¼ä¹Ÿå¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ï¼Œä½†æ˜¯ä¸èƒ½è½¬ä¸ºæ•°å€¼ã€‚ ä½œä¸ºå±žæ€§åçš„ Symbolç”±äºŽæ¯ä¸€ä¸ª Symbol å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œè¿™æ„å‘³ç€ Symbol å€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºŽå¯¹è±¡çš„å±žæ€§åï¼Œå°±èƒ½ä¿è¯ä¸ä¼šå‡ºçŽ°åŒåçš„å±žæ€§ã€‚è¿™å¯¹äºŽä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—æž„æˆçš„æƒ…å†µéžå¸¸æœ‰ç”¨ï¼Œèƒ½é˜²æ­¢æŸä¸€ä¸ªé”®è¢«ä¸å°å¿ƒæ”¹å†™æˆ–è¦†ç›–ã€‚ 1234567891011121314151617var mySymbol = Symbol();// ç¬¬ä¸€ç§å†™æ³•var a = &#123;&#125;;a[mySymbol] = &apos;Hello!&apos;;// ç¬¬äºŒç§å†™æ³•var a = &#123; [mySymbol]: &apos;Hello!&apos;&#125;;// ç¬¬ä¸‰ç§å†™æ³•var a = &#123;&#125;;Object.defineProperty(a, mySymbol, &#123; value: &apos;Hello!&apos; &#125;);// ä»¥ä¸Šå†™æ³•éƒ½å¾—åˆ°åŒæ ·ç»“æžœa[mySymbol] // &quot;Hello!&quot; ä¸Šé¢ä»£ç é€šè¿‡æ–¹æ‹¬å·ç»“æž„å’ŒObject.definePropertyï¼Œå°†å¯¹è±¡çš„å±žæ€§åæŒ‡å®šä¸ºä¸€ä¸ª Symbol å€¼ã€‚ æ³¨æ„ï¼ŒSymbol å€¼ä½œä¸ºå¯¹è±¡å±žæ€§åæ—¶ï¼Œä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦ã€‚ 123456var mySymbol = Symbol();var a = &#123;&#125;;a.mySymbol = &apos;Hello!&apos;;a[mySymbol] // undefineda[&apos;mySymbol&apos;] // &quot;Hello!&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå› ä¸ºç‚¹è¿ç®—ç¬¦åŽé¢æ€»æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¸ä¼šè¯»å–mySymbolä½œä¸ºæ ‡è¯†åæ‰€æŒ‡ä»£çš„é‚£ä¸ªå€¼ï¼Œå¯¼è‡´açš„å±žæ€§åå®žé™…ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª Symbol å€¼ã€‚ åŒç†ï¼Œåœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œä½¿ç”¨ Symbol å€¼å®šä¹‰å±žæ€§æ—¶ï¼ŒSymbol å€¼å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·ä¹‹ä¸­ã€‚ 1234567let s = Symbol();let obj = &#123; [s]: function (arg) &#123; ... &#125;&#125;;obj[s](123); ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœsä¸æ”¾åœ¨æ–¹æ‹¬å·ä¸­ï¼Œè¯¥å±žæ€§çš„é”®åå°±æ˜¯å­—ç¬¦ä¸²sï¼Œè€Œä¸æ˜¯sæ‰€ä»£è¡¨çš„é‚£ä¸ª Symbol å€¼ã€‚ é‡‡ç”¨å¢žå¼ºçš„å¯¹è±¡å†™æ³•ï¼Œä¸Šé¢ä»£ç çš„objå¯¹è±¡å¯ä»¥å†™å¾—æ›´ç®€æ´ä¸€äº›ã€‚ 123let obj = &#123; [s](arg) &#123; ... &#125;&#125;; è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼ŒSymbol å€¼ä½œä¸ºå±žæ€§åæ—¶ï¼Œè¯¥å±žæ€§è¿˜æ˜¯å…¬å¼€å±žæ€§ï¼Œä¸æ˜¯ç§æœ‰å±žæ€§ã€‚ å®žä¾‹ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²é­”æœ¯å­—ç¬¦ä¸²æŒ‡çš„æ˜¯ï¼Œåœ¨ä»£ç ä¹‹ä¸­å¤šæ¬¡å‡ºçŽ°ã€ä¸Žä»£ç å½¢æˆå¼ºè€¦åˆçš„æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å€¼ã€‚é£Žæ ¼è‰¯å¥½çš„ä»£ç ï¼Œåº”è¯¥å°½é‡æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²ï¼Œæ”¹ç”±å«ä¹‰æ¸…æ™°çš„å˜é‡ä»£æ›¿ã€‚ 1234567891011121314function getArea(shape, options) &#123; var area = 0; switch (shape) &#123; case &apos;Triangle&apos;: // é­”æœ¯å­—ç¬¦ä¸² area = .5 * options.width * options.height; break; /* ... more code ... */ &#125; return area;&#125;getArea(&apos;Triangle&apos;, &#123; width: 100, height: 100 &#125;); // é­”æœ¯å­—ç¬¦ä¸² ä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦ä¸²Triangleå°±æ˜¯ä¸€ä¸ªé­”æœ¯å­—ç¬¦ä¸²ã€‚å®ƒå¤šæ¬¡å‡ºçŽ°ï¼Œä¸Žä»£ç å½¢æˆâ€œå¼ºè€¦åˆâ€ï¼Œä¸åˆ©äºŽå°†æ¥çš„ä¿®æ”¹å’Œç»´æŠ¤ã€‚ å¸¸ç”¨çš„æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠå®ƒå†™æˆä¸€ä¸ªå˜é‡ã€‚ 123456789101112131415var shapeType = &#123; triangle: &apos;Triangle&apos;&#125;;function getArea(shape, options) &#123; var area = 0; switch (shape) &#123; case shapeType.triangle: area = .5 * options.width * options.height; break; &#125; return area;&#125;getArea(shapeType.triangle, &#123; width: 100, height: 100 &#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠTriangleå†™æˆshapeTypeå¯¹è±¡çš„triangleå±žæ€§ï¼Œè¿™æ ·å°±æ¶ˆé™¤äº†å¼ºè€¦åˆã€‚ å¦‚æžœä»”ç»†åˆ†æžï¼Œå¯ä»¥å‘çŽ°shapeType.triangleç­‰äºŽå“ªä¸ªå€¼å¹¶ä¸é‡è¦ï¼Œåªè¦ç¡®ä¿ä¸ä¼šè·Ÿå…¶ä»–shapeTypeå±žæ€§çš„å€¼å†²çªå³å¯ã€‚å› æ­¤ï¼Œè¿™é‡Œå°±å¾ˆé€‚åˆæ”¹ç”¨ Symbol å€¼ã€‚ 123const shapeType = &#123; triangle: Symbol()&#125;; ä¸Šé¢ä»£ç ä¸­ï¼Œé™¤äº†å°†shapeType.triangleçš„å€¼è®¾ä¸ºä¸€ä¸ªSymbolï¼Œå…¶ä»–åœ°æ–¹éƒ½ä¸ç”¨ä¿®æ”¹ å±žæ€§åçš„éåŽ†Symbol ä½œä¸ºå±žæ€§åï¼Œè¯¥å±žæ€§ä¸ä¼šå‡ºçŽ°åœ¨forâ€¦inã€forâ€¦ofå¾ªçŽ¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«Object.keys()ã€Object.getOwnPropertyNames()ã€JSON.stringify()è¿”å›žã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¸æ˜¯ç§æœ‰å±žæ€§ï¼Œæœ‰ä¸€ä¸ªObject.getOwnPropertySymbolsæ–¹æ³•ï¼Œå¯ä»¥èŽ·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ Symbol å±žæ€§åã€‚ Object.getOwnPropertySymbolsæ–¹æ³•è¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å½“å‰å¯¹è±¡çš„æ‰€æœ‰ç”¨ä½œå±žæ€§åçš„ Symbol å€¼ã€‚ 1234567891011var obj = &#123;&#125;;var a = Symbol(&apos;a&apos;);var b = Symbol(&apos;b&apos;);obj[a] = &apos;Hello&apos;;obj[b] = &apos;World&apos;;var objectSymbols = Object.getOwnPropertySymbols(obj);objectSymbols// [Symbol(a), Symbol(b)] å¦ä¸€ä¸ªæ–°çš„APIï¼ŒReflect.ownKeysæ–¹æ³•å¯ä»¥è¿”å›žæ‰€æœ‰ç±»åž‹çš„é”®åï¼ŒåŒ…æ‹¬å¸¸è§„é”®åå’Œ Symbol é”®åã€‚ 12345678let obj = &#123; [Symbol(&apos;my_key&apos;)]: 1, enum: 2, nonEnum: 3&#125;;Reflect.ownKeys(obj)// [&quot;enum&quot;, &quot;nonEnum&quot;, Symbol(my_key)] ç”±äºŽä»¥ Symbol å€¼ä½œä¸ºåç§°çš„å±žæ€§ï¼Œä¸ä¼šè¢«å¸¸è§„æ–¹æ³•éåŽ†å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œä¸ºå¯¹è±¡å®šä¹‰ä¸€äº›éžç§æœ‰çš„ã€ä½†åˆå¸Œæœ›åªç”¨äºŽå†…éƒ¨çš„æ–¹æ³•ã€‚ Symbol.for()ï¼ŒSymbol.keyFor()æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›é‡æ–°ä½¿ç”¨åŒä¸€ä¸ªSymbolå€¼ï¼ŒSymbol.foræ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å®ƒæŽ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åŽæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„Symbolå€¼ã€‚å¦‚æžœæœ‰ï¼Œå°±è¿”å›žè¿™ä¸ªSymbolå€¼ï¼Œå¦åˆ™å°±æ–°å»ºå¹¶è¿”å›žä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„Symbolå€¼ã€‚ 1234var s1 = Symbol.for(&apos;foo&apos;);var s2 = Symbol.for(&apos;foo&apos;);s1 === s2 // true ä¸Šé¢ä»£ç ä¸­ï¼Œs1å’Œs2éƒ½æ˜¯ Symbol å€¼ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯åŒæ ·å‚æ•°çš„Symbol.foræ–¹æ³•ç”Ÿæˆçš„ï¼Œæ‰€ä»¥å®žé™…ä¸Šæ˜¯åŒä¸€ä¸ªå€¼ã€‚ Symbol.for()ä¸ŽSymbol()è¿™ä¸¤ç§å†™æ³•ï¼Œéƒ½ä¼šç”Ÿæˆæ–°çš„Symbolã€‚å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼Œå‰è€…ä¼šè¢«ç™»è®°åœ¨å…¨å±€çŽ¯å¢ƒä¸­ä¾›æœç´¢ï¼ŒåŽè€…ä¸ä¼šã€‚Symbol.for()ä¸ä¼šæ¯æ¬¡è°ƒç”¨å°±è¿”å›žä¸€ä¸ªæ–°çš„ Symbol ç±»åž‹çš„å€¼ï¼Œè€Œæ˜¯ä¼šå…ˆæ£€æŸ¥ç»™å®šçš„keyæ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æžœä¸å­˜åœ¨æ‰ä¼šæ–°å»ºä¸€ä¸ªå€¼ã€‚æ¯”å¦‚ï¼Œå¦‚æžœä½ è°ƒç”¨Symbol.for(â€œcatâ€)30æ¬¡ï¼Œæ¯æ¬¡éƒ½ä¼šè¿”å›žåŒä¸€ä¸ª Symbol å€¼ï¼Œä½†æ˜¯è°ƒç”¨Symbol(â€œcatâ€)30æ¬¡ï¼Œä¼šè¿”å›ž30ä¸ªä¸åŒçš„Symbolå€¼ã€‚ Symbol.keyForæ–¹æ³•è¿”å›žä¸€ä¸ªå·²ç™»è®°çš„ Symbol ç±»åž‹å€¼çš„keyã€‚ 12345var s1 = Symbol.for(&quot;foo&quot;);Symbol.keyFor(s1) // &quot;foo&quot;var s2 = Symbol(&quot;foo&quot;);Symbol.keyFor(s2) // undefined ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡s2å±žäºŽæœªç™»è®°çš„Symbolå€¼ï¼Œæ‰€ä»¥è¿”å›žundefinedã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSymbol.forä¸ºSymbolå€¼ç™»è®°çš„åå­—ï¼Œæ˜¯å…¨å±€çŽ¯å¢ƒçš„ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ iframe æˆ– service worker ä¸­å–åˆ°åŒä¸€ä¸ªå€¼ã€‚ å®žä¾‹ï¼šæ¨¡å—çš„ Singleton æ¨¡å¼Singletonæ¨¡å¼æŒ‡çš„æ˜¯è°ƒç”¨ä¸€ä¸ªç±»ï¼Œä»»ä½•æ—¶å€™è¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªå®žä¾‹ã€‚ å¯¹äºŽNodeæ¥è¯´ï¼Œæ¨¡å—æ–‡ä»¶å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç±»ã€‚æ€Žä¹ˆä¿è¯æ¯æ¬¡æ‰§è¡Œè¿™ä¸ªæ¨¡å—æ–‡ä»¶ï¼Œè¿”å›žçš„éƒ½æ˜¯åŒä¸€ä¸ªå®žä¾‹å‘¢ï¼Ÿ å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå¯ä»¥æŠŠå®žä¾‹æ”¾åˆ°é¡¶å±‚å¯¹è±¡globalã€‚ 1234567891011121314// mod.jsfunction A() &#123; this.foo = &apos;hello&apos;;&#125;if (!global._foo) &#123; global._foo = new A();&#125;module.exports = global._foo;ç„¶åŽï¼ŒåŠ è½½ä¸Šé¢çš„mod.jsã€‚var a = require(&apos;./mod.js&apos;);console.log(a.foo); ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡aä»»ä½•æ—¶å€™åŠ è½½çš„éƒ½æ˜¯Açš„åŒä¸€ä¸ªå®žä¾‹ã€‚ ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå…¨å±€å˜é‡global._fooæ˜¯å¯å†™çš„ï¼Œä»»ä½•æ–‡ä»¶éƒ½å¯ä»¥ä¿®æ”¹ã€‚ 12var a = require(&apos;./mod.js&apos;);global._foo = 123; ä¸Šé¢çš„ä»£ç ï¼Œä¼šä½¿å¾—åˆ«çš„è„šæœ¬åŠ è½½mod.jséƒ½å¤±çœŸã€‚ ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µå‡ºçŽ°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Symbolã€‚ 123456789101112// mod.jsconst FOO_KEY = Symbol.for(&apos;foo&apos;);function A() &#123; this.foo = &apos;hello&apos;;&#125;if (!global[FOO_KEY]) &#123; global[FOO_KEY] = new A();&#125;module.exports = global[FOO_KEY]; ä¸Šé¢ä»£ç ä¸­ï¼Œå¯ä»¥ä¿è¯global[FOO_KEY]ä¸ä¼šè¢«æ— æ„é—´è¦†ç›–ï¼Œä½†è¿˜æ˜¯å¯ä»¥è¢«æ”¹å†™ã€‚ 12var a = require(&apos;./mod.js&apos;);global[Symbol.for(&apos;foo&apos;)] = 123; å¦‚æžœé”®åä½¿ç”¨Symbolæ–¹æ³•ç”Ÿæˆï¼Œé‚£ä¹ˆå¤–éƒ¨å°†æ— æ³•å¼•ç”¨è¿™ä¸ªå€¼ï¼Œå½“ç„¶ä¹Ÿå°±æ— æ³•æ”¹å†™ã€‚ 1234// mod.jsconst FOO_KEY = Symbol(&apos;foo&apos;);// åŽé¢ä»£ç ç›¸åŒ â€¦â€¦ 1ä¸Šé¢ä»£ç å°†å¯¼è‡´å…¶ä»–è„šæœ¬éƒ½æ— æ³•å¼•ç”¨FOO_KEYã€‚ä½†è¿™æ ·ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æžœå¤šæ¬¡æ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œæ¯æ¬¡å¾—åˆ°çš„FOO_KEYéƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚è™½ç„¶Nodeä¼šå°†è„šæœ¬çš„æ‰§è¡Œç»“æžœç¼“å­˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸ä¼šå¤šæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªè„šæœ¬ï¼Œä½†æ˜¯ç”¨æˆ·å¯ä»¥æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜ï¼Œæ‰€ä»¥ä¹Ÿä¸æ˜¯å®Œå…¨å¯é ã€‚ å†…ç½®çš„Symbolå€¼é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„Symbolå€¼ä»¥å¤–ï¼ŒES6è¿˜æä¾›äº†11ä¸ªå†…ç½®çš„Symbolå€¼ï¼ŒæŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>Symbol</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-Set-Map]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-Set-Map%2F</url>
    <content type="text"><![CDATA[SetåŸºæœ¬ç”¨æ³•ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æž„ Setã€‚å®ƒç±»ä¼¼äºŽæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚ Set æœ¬èº«æ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æž„ã€‚ 12345678const s = new Set();[2, 3, 5, 4, 5, 2, 2].forEach(x =&gt; s.add(x));for (let i of s) &#123; console.log(i);&#125;// 2 3 5 4 ä¸Šé¢ä»£ç é€šè¿‡addæ–¹æ³•å‘ Set ç»“æž„åŠ å…¥æˆå‘˜ï¼Œç»“æžœè¡¨æ˜Ž Set ç»“æž„ä¸ä¼šæ·»åŠ é‡å¤çš„å€¼ã€‚ Set å‡½æ•°å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–è€…å…·æœ‰ iterable æŽ¥å£çš„å…¶ä»–æ•°æ®ç»“æž„ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚ 1234567891011121314151617181920// ä¾‹ä¸€const set = new Set([1, 2, 3, 4, 4]);[...set]// [1, 2, 3, 4]// ä¾‹äºŒconst items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);items.size // 5// ä¾‹ä¸‰function divs () &#123; return [...document.querySelectorAll('div')];&#125;const set = new Set(divs());set.size // 56// ç±»ä¼¼äºŽdivs().forEach(div =&gt; set.add(div));set.size // 56 ä¸Šé¢ä»£ç ä¸­ï¼Œä¾‹ä¸€å’Œä¾‹äºŒéƒ½æ˜¯Setå‡½æ•°æŽ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œä¾‹ä¸‰æ˜¯æŽ¥å—ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚ ä¸Šé¢ä»£ç ä¸­ï¼Œä¹Ÿå±•ç¤ºäº†ä¸€ç§åŽ»é™¤æ•°ç»„é‡å¤æˆå‘˜çš„æ–¹æ³•ã€‚ 12// åŽ»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜[...new Set(array)] å‘SetåŠ å…¥å€¼çš„æ—¶å€™ï¼Œä¸ä¼šå‘ç”Ÿç±»åž‹è½¬æ¢ï¼Œæ‰€ä»¥5å’Œâ€5â€æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ã€‚Setå†…éƒ¨åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸åŒï¼Œä½¿ç”¨çš„ç®—æ³•å«åšâ€œSame-value equalityâ€ï¼Œå®ƒç±»ä¼¼äºŽç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œä¸»è¦çš„åŒºåˆ«æ˜¯NaNç­‰äºŽè‡ªèº«ï¼Œè€Œç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦è®¤ä¸ºNaNä¸ç­‰äºŽè‡ªèº«ã€‚ å¦å¤–ï¼Œä¸¤ä¸ªå¯¹è±¡æ€»æ˜¯ä¸ç›¸ç­‰çš„ã€‚ 1234567let set = new Set();set.add(&#123;&#125;);set.size // 1set.add(&#123;&#125;);set.size // 2 Set å®žä¾‹çš„å±žæ€§å’Œæ–¹æ³•Set ç»“æž„çš„å®žä¾‹æœ‰ä»¥ä¸‹å±žæ€§ã€‚ Set.prototype.constructorï¼šæž„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚ Set.prototype.sizeï¼šè¿”å›žSetå®žä¾‹çš„æˆå‘˜æ€»æ•°ã€‚ Set å®žä¾‹çš„æ–¹æ³•åˆ†ä¸ºä¸¤å¤§ç±»ï¼šæ“ä½œæ–¹æ³•ï¼ˆç”¨äºŽæ“ä½œæ•°æ®ï¼‰å’ŒéåŽ†æ–¹æ³•ï¼ˆç”¨äºŽéåŽ†æˆå‘˜ï¼‰ã€‚ä¸‹é¢å…ˆä»‹ç»å››ä¸ªæ“ä½œæ–¹æ³•ã€‚ add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›žSetç»“æž„æœ¬èº«ã€‚ delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚ has(value)ï¼šè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚ clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›žå€¼ã€‚ ä¸Šé¢è¿™äº›å±žæ€§å’Œæ–¹æ³•çš„å®žä¾‹å¦‚ä¸‹ã€‚ 1234567891011s.add(1).add(2).add(2);// æ³¨æ„2è¢«åŠ å…¥äº†ä¸¤æ¬¡s.size // 2s.has(1) // trues.has(2) // trues.has(3) // falses.delete(2);s.has(2) // false Array.fromæ–¹æ³•å¯ä»¥å°† Set ç»“æž„è½¬ä¸ºæ•°ç»„ã€‚ 12const items = new Set([1, 2, 3, 4, 5]);const array = Array.from(items); è¿™å°±æä¾›äº†åŽ»é™¤æ•°ç»„é‡å¤æˆå‘˜çš„å¦ä¸€ç§æ–¹æ³•ã€‚ éåŽ†æ“ä½œSet ç»“æž„çš„å®žä¾‹æœ‰å››ä¸ªéåŽ†æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºŽéåŽ†æˆå‘˜ã€‚ keys()ï¼šè¿”å›žé”®åçš„éåŽ†å™¨ values()ï¼šè¿”å›žé”®å€¼çš„éåŽ†å™¨ entries()ï¼šè¿”å›žé”®å€¼å¯¹çš„éåŽ†å™¨ forEach()ï¼šä½¿ç”¨å›žè°ƒå‡½æ•°éåŽ†æ¯ä¸ªæˆå‘˜ éœ€è¦ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼ŒSetçš„éåŽ†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚è¿™ä¸ªç‰¹æ€§æœ‰æ—¶éžå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä½¿ç”¨Setä¿å­˜ä¸€ä¸ªå›žè°ƒå‡½æ•°åˆ—è¡¨ï¼Œè°ƒç”¨æ—¶å°±èƒ½ä¿è¯æŒ‰ç…§æ·»åŠ é¡ºåºè°ƒç”¨ã€‚ 1. keys()ï¼Œvalues()ï¼Œentries()keysæ–¹æ³•ã€valuesæ–¹æ³•ã€entriesæ–¹æ³•è¿”å›žçš„éƒ½æ˜¯éåŽ†å™¨å¯¹è±¡ï¼ˆè¯¦è§ã€ŠIterator å¯¹è±¡ã€‹ä¸€ç« ï¼‰ã€‚ç”±äºŽ Set ç»“æž„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keysæ–¹æ³•å’Œvaluesæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚ 12345678910111213141516171819202122let set = new Set(['red', 'green', 'blue']);for (let item of set.keys()) &#123; console.log(item);&#125;// red// green// bluefor (let item of set.values()) &#123; console.log(item);&#125;// red// green// bluefor (let item of set.entries()) &#123; console.log(item);&#125;// ["red", "red"]// ["green", "green"]// ["blue", "blue"] ä¸Šé¢ä»£ç ä¸­ï¼Œentriesæ–¹æ³•è¿”å›žçš„éåŽ†å™¨ï¼ŒåŒæ—¶åŒ…æ‹¬é”®åå’Œé”®å€¼ï¼Œæ‰€ä»¥æ¯æ¬¡è¾“å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ä¸¤ä¸ªæˆå‘˜å®Œå…¨ç›¸ç­‰ã€‚ Set ç»“æž„çš„å®žä¾‹é»˜è®¤å¯éåŽ†ï¼Œå®ƒçš„é»˜è®¤éåŽ†å™¨ç”Ÿæˆå‡½æ•°å°±æ˜¯å®ƒçš„valuesæ–¹æ³•ã€‚ 12Set.prototype[Symbol.iterator] === Set.prototype.values// true è¿™æ„å‘³ç€ï¼Œå¯ä»¥çœç•¥valuesæ–¹æ³•ï¼Œç›´æŽ¥ç”¨forâ€¦ofå¾ªçŽ¯éåŽ† Setã€‚ 12345678let set = new Set(['red', 'green', 'blue']);for (let x of set) &#123; console.log(x);&#125;// red// green// blue 2. forEach()Setç»“æž„çš„å®žä¾‹çš„forEachæ–¹æ³•ï¼Œç”¨äºŽå¯¹æ¯ä¸ªæˆå‘˜æ‰§è¡ŒæŸç§æ“ä½œï¼Œæ²¡æœ‰è¿”å›žå€¼ã€‚ 12345let set = new Set([1, 2, 3]);set.forEach((value, key) =&gt; console.log(value * 2) )// 2// 4// 6 ä¸Šé¢ä»£ç è¯´æ˜Žï¼ŒforEachæ–¹æ³•çš„å‚æ•°å°±æ˜¯ä¸€ä¸ªå¤„ç†å‡½æ•°ã€‚è¯¥å‡½æ•°çš„å‚æ•°ä¾æ¬¡ä¸ºé”®å€¼ã€é”®åã€é›†åˆæœ¬èº«ï¼ˆä¸Šä¾‹çœç•¥äº†è¯¥å‚æ•°ï¼‰ã€‚å¦å¤–ï¼ŒforEachæ–¹æ³•è¿˜å¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»‘å®šçš„thiså¯¹è±¡ã€‚ 3. éåŽ†çš„åº”ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰å†…éƒ¨ä½¿ç”¨forâ€¦ofå¾ªçŽ¯ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨äºŽ Set ç»“æž„ã€‚ 123let set = new Set(['red', 'green', 'blue']);let arr = [...set];// ['red', 'green', 'blue'] æ‰©å±•è¿ç®—ç¬¦å’Œ Set ç»“æž„ç›¸ç»“åˆï¼Œå°±å¯ä»¥åŽ»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜ã€‚ 123let arr = [3, 5, 2, 2, 5, 5];let unique = [...new Set(arr)];// [3, 5, 2] è€Œä¸”ï¼Œæ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥ç”¨äºŽ Set äº†ã€‚ 1234567let set = new Set([1, 2, 3]);set = new Set([...set].map(x =&gt; x * 2));// è¿”å›žSetç»“æž„ï¼š&#123;2, 4, 6&#125;let set = new Set([1, 2, 3, 4, 5]);set = new Set([...set].filter(x =&gt; (x % 2) == 0));// è¿”å›žSetç»“æž„ï¼š&#123;2, 4&#125; å› æ­¤ä½¿ç”¨ Set å¯ä»¥å¾ˆå®¹æ˜“åœ°å®žçŽ°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifferenceï¼‰ã€‚ 1234567891011121314let a = new Set([1, 2, 3]);let b = new Set([4, 3, 2]);// å¹¶é›†let union = new Set([...a, ...b]);// Set &#123;1, 2, 3, 4&#125;// äº¤é›†let intersect = new Set([...a].filter(x =&gt; b.has(x)));// set &#123;2, 3&#125;// å·®é›†let difference = new Set([...a].filter(x =&gt; !b.has(x)));// Set &#123;1&#125; å¦‚æžœæƒ³åœ¨éåŽ†æ“ä½œä¸­ï¼ŒåŒæ­¥æ”¹å˜åŽŸæ¥çš„ Set ç»“æž„ï¼Œç›®å‰æ²¡æœ‰ç›´æŽ¥çš„æ–¹æ³•ï¼Œä½†æœ‰ä¸¤ç§å˜é€šæ–¹æ³•ã€‚ä¸€ç§æ˜¯åˆ©ç”¨åŽŸ Set ç»“æž„æ˜ å°„å‡ºä¸€ä¸ªæ–°çš„ç»“æž„ï¼Œç„¶åŽèµ‹å€¼ç»™åŽŸæ¥çš„ Set ç»“æž„ï¼›å¦ä¸€ç§æ˜¯åˆ©ç”¨Array.fromæ–¹æ³•ã€‚ 123456789// æ–¹æ³•ä¸€let set = new Set([1, 2, 3]);set = new Set([...set].map(val =&gt; val * 2));// setçš„å€¼æ˜¯2, 4, 6// æ–¹æ³•äºŒlet set = new Set([1, 2, 3]);set = new Set(Array.from(set, val =&gt; val * 2));// setçš„å€¼æ˜¯2, 4, 6 WeakSetç±»ä¼¼äºŽSetï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚ä½†æ˜¯å®ƒåªèƒ½ç”¨äºŽå­˜å‚¨å¯¹è±¡ã€‚è€Œä¸èƒ½æ˜¯å…¶ä»–ç±»åž‹çš„å€¼ã€‚WeakSetæ˜¯ä¸€ä¸ªä¸ªæž„é€ å‡½æ•°ã€‚å¯ä»¥æŽ¥å—æ•°ç»„å’Œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚ï¼ˆå®žé™…ä¸Šï¼Œä»»ä½•å…·ä½œä¸ºiterableæŽ¥å£çš„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºWeakSetçš„å‚æ•°ï¼‰ã€‚è¯¥æ•°ç»„çš„æ‰€æœ‰æˆå‘˜éƒ½ä¼šè‡ªåŠ¨æˆä¸ºWeakSetçš„å®žä¾‹å¯¹è±¡çš„æˆå‘˜ã€‚ 123var ws = new WeakSet();ws.add(1);//TypeError:Invalid value used in weak set ws.add(Symbol);//TypeError:Invalid value used in weak set æ·»å¦‚ä¸€ä¸ªæ•°å€¼å’Œä¸€ä¸ªSymbolï¼Œç»“æžœåŒæ—¶æŠ¥é”™ã€‚ WeakSetç»“æž„æœ‰ä»¥ä¸‹çš„ä¸Šæ–¹æ³• WeakSet.protoptype.add(value)ï¼šå‘WeakSetå®žä¾‹æ·»åŠ ä¸€ä¸ªæ–°æˆå‘˜ã€‚ WeakSet.protoptype.delete(value)ï¼šåˆ é™¤WeakSetå®žä¾‹æŒ‡å®šæˆå‘˜ã€‚ WeakSet.protoptype.has(value)ï¼šè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªå€¼æ˜¯å¦åœ¨WeakSetå®žä¾‹ä¸­ã€‚ 123456789var ws = new WeakSet();var obj = &#123;&#125;;var foo = &#123;&#125;;ws.add(window);ws.add(obj);ws.has(window);//truews.has(foo);falsews.delete(window);//truews.has(window);//false WeakSet ä¸èƒ½éåŽ†ï¼Œæ˜¯å› ä¸ºæˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œéšæ—¶å¯èƒ½æ¶ˆå¤±ï¼ŒéåŽ†ä¸èƒ½ä¿è¯æˆå‘˜çš„å­˜åœ¨ã€‚å¯èƒ½åˆšåˆšéåŽ†ç»“æŸï¼Œæˆå‘˜å°±å–ä¸åˆ°äº†ã€‚WeakSetçš„ä¸€ä¸ªç”¨å¤„æ˜¯å­˜å‚¨DOMèŠ‚ç‚¹ï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿™äº›èŠ‚ç‚¹ä»Žæ–‡æ¡£ç§»é™¤æ—¶ï¼Œä¼šå¼•èµ·å†…å­˜çš„æ³„éœ²ã€‚ Mapå«ä¹‰å’ŒåŸºæœ¬ç”¨æ³•JavaScript çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼ˆHash ç»“æž„ï¼‰ï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚è¿™ç»™å®ƒçš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶ã€‚ 12345const data = &#123;&#125;;const element = document.getElementById('myDiv');data[element] = 'metadata';data['[object HTMLDivElement]'] // "metadata" ä¸Šé¢ä»£ç åŽŸæ„æ˜¯å°†ä¸€ä¸ª DOM èŠ‚ç‚¹ä½œä¸ºå¯¹è±¡dataçš„é”®ï¼Œä½†æ˜¯ç”±äºŽå¯¹è±¡åªæŽ¥å—å­—ç¬¦ä¸²ä½œä¸ºé”®åï¼Œæ‰€ä»¥elementè¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²[object HTMLDivElement]ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 æä¾›äº† Map æ•°æ®ç»“æž„ã€‚å®ƒç±»ä¼¼äºŽå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºŽå­—ç¬¦ä¸²ï¼Œå„ç§ç±»åž‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒObject ç»“æž„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼ŒMapç»“æž„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æž„å®žçŽ°ã€‚å¦‚æžœä½ éœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æž„ï¼ŒMap æ¯” Object æ›´åˆé€‚ã€‚ 123456789const m = new Map();const o = &#123;p: 'Hello World'&#125;;m.set(o, 'content')m.get(o) // "content"m.has(o) // truem.delete(o) // truem.has(o) // false ä¸Šé¢ä»£ç ä½¿ç”¨ Map ç»“æž„çš„setæ–¹æ³•ï¼Œå°†å¯¹è±¡oå½“ä½œmçš„ä¸€ä¸ªé”®ï¼Œç„¶åŽåˆä½¿ç”¨getæ–¹æ³•è¯»å–è¿™ä¸ªé”®ï¼ŒæŽ¥ç€ä½¿ç”¨deleteæ–¹æ³•åˆ é™¤äº†è¿™ä¸ªé”®ã€‚ ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å‘ Map æ·»åŠ æˆå‘˜ã€‚ä½œä¸ºæž„é€ å‡½æ•°ï¼ŒMap ä¹Ÿå¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ã€‚è¯¥æ•°ç»„çš„æˆå‘˜æ˜¯ä¸€ä¸ªä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„ã€‚ 12345678910const map = new Map([ ['name', 'å¼ ä¸‰'], ['title', 'Author']]);map.size // 2map.has('name') // truemap.get('name') // "å¼ ä¸‰"map.has('title') // truemap.get('title') // "Author" ä¸Šé¢ä»£ç åœ¨æ–°å»º Map å®žä¾‹æ—¶ï¼Œå°±æŒ‡å®šäº†ä¸¤ä¸ªé”®nameå’Œtitleã€‚ Mapæž„é€ å‡½æ•°æŽ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå®žé™…ä¸Šæ‰§è¡Œçš„æ˜¯ä¸‹é¢çš„ç®—æ³•ã€‚ 12345678910const items = [ ['name', 'å¼ ä¸‰'], ['title', 'Author']];const map = new Map();items.forEach( ([key, value]) =&gt; map.set(key, value)); äº‹å®žä¸Šï¼Œä¸ä»…ä»…æ˜¯æ•°ç»„ï¼Œä»»ä½•å…·æœ‰ Iterator æŽ¥å£ã€ä¸”æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ çš„æ•°ç»„çš„æ•°æ®ç»“æž„ï¼ˆè¯¦è§ã€ŠIteratorã€‹ä¸€ç« ï¼‰éƒ½å¯ä»¥å½“ä½œMapæž„é€ å‡½æ•°çš„å‚æ•°ã€‚è¿™å°±æ˜¯è¯´ï¼ŒSetå’ŒMapéƒ½å¯ä»¥ç”¨æ¥ç”Ÿæˆæ–°çš„ Mapã€‚ 12345678910const set = new Set([ ['foo', 1], ['bar', 2]]);const m1 = new Map(set);m1.get('foo') // 1const m2 = new Map([['baz', 3]]);const m3 = new Map(m2);m3.get('baz') // 3 ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨ Set å¯¹è±¡å’Œ Map å¯¹è±¡ï¼Œå½“ä½œMapæž„é€ å‡½æ•°çš„å‚æ•°ï¼Œç»“æžœéƒ½ç”Ÿæˆäº†æ–°çš„ Map å¯¹è±¡ã€‚ å¦‚æžœå¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼ŒåŽé¢çš„å€¼å°†è¦†ç›–å‰é¢çš„å€¼ã€‚ æ³¨æ„ï¼Œåªæœ‰å¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼ŒMap ç»“æž„æ‰å°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚è¿™ä¸€ç‚¹è¦éžå¸¸å°å¿ƒã€‚ ç”±ä¸Šå¯çŸ¥ï¼ŒMap çš„é”®å®žé™…ä¸Šæ˜¯è·Ÿå†…å­˜åœ°å€ç»‘å®šçš„ï¼Œåªè¦å†…å­˜åœ°å€ä¸ä¸€æ ·ï¼Œå°±è§†ä¸ºä¸¤ä¸ªé”®ã€‚è¿™å°±è§£å†³äº†åŒåå±žæ€§ç¢°æ’žï¼ˆclashï¼‰çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ‰©å±•åˆ«äººçš„åº“çš„æ—¶å€™ï¼Œå¦‚æžœä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®åï¼Œå°±ä¸ç”¨æ‹…å¿ƒè‡ªå·±çš„å±žæ€§ä¸ŽåŽŸä½œè€…çš„å±žæ€§åŒåã€‚ å¦‚æžœ Map çš„é”®æ˜¯ä¸€ä¸ªç®€å•ç±»åž‹çš„å€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œåˆ™åªè¦ä¸¤ä¸ªå€¼ä¸¥æ ¼ç›¸ç­‰ï¼ŒMap å°†å…¶è§†ä¸ºä¸€ä¸ªé”®ï¼Œæ¯”å¦‚0å’Œ-0å°±æ˜¯ä¸€ä¸ªé”®ï¼Œå¸ƒå°”å€¼trueå’Œå­—ç¬¦ä¸²trueåˆ™æ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚å¦å¤–ï¼Œundefinedå’Œnullä¹Ÿæ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚è™½ç„¶NaNä¸ä¸¥æ ¼ç›¸ç­‰äºŽè‡ªèº«ï¼Œä½† Map å°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚ 123456789101112131415let map = new Map();map.set(-0, 123);map.get(+0) // 123map.set(true, 1);map.set('true', 2);map.get(true) // 1map.set(undefined, 3);map.set(null, 4);map.get(undefined) // 3map.set(NaN, 123);map.get(NaN) // 123 å®žä¾‹çš„å±žæ€§å’Œæ“ä½œæ–¹æ³•Map ç»“æž„çš„å®žä¾‹æœ‰ä»¥ä¸‹å±žæ€§å’Œæ“ä½œæ–¹æ³•ã€‚ 1. sizeå±žæ€§sizeå±žæ€§è¿”å›ž Map ç»“æž„çš„æˆå‘˜æ€»æ•°ã€‚ 12345const map = new Map();map.set('foo', true);map.set('bar', false);map.size // 2 2. set(key, value)setæ–¹æ³•è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalueï¼Œç„¶åŽè¿”å›žæ•´ä¸ª Map ç»“æž„ã€‚å¦‚æžœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚ 12345const m = new Map();m.set('edition', 6) // é”®æ˜¯å­—ç¬¦ä¸²m.set(262, 'standard') // é”®æ˜¯æ•°å€¼m.set(undefined, 'nah') // é”®æ˜¯ undefined setæ–¹æ³•è¿”å›žçš„æ˜¯å½“å‰çš„Mapå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚ 1234let map = new Map() .set(1, 'a') .set(2, 'b') .set(3, 'c'); 3. get(key)getæ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æžœæ‰¾ä¸åˆ°keyï¼Œè¿”å›žundefinedã€‚ 123456const m = new Map();const hello = function() &#123;console.log('hello');&#125;;m.set(hello, 'Hello ES6!') // é”®æ˜¯å‡½æ•°m.get(hello) // Hello ES6! 4. has(key)hasæ–¹æ³•è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚ 12345678910const m = new Map();m.set('edition', 6);m.set(262, 'standard');m.set(undefined, 'nah');m.has('edition') // truem.has('years') // falsem.has(262) // truem.has(undefined) // true 5. delete(key)deleteæ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›žtrueã€‚å¦‚æžœåˆ é™¤å¤±è´¥ï¼Œè¿”å›žfalseã€‚ 123456const m = new Map();m.set(undefined, 'nah');m.has(undefined) // truem.delete(undefined)m.has(undefined) // false 6. clear()clearæ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›žå€¼ã€‚ 1234567let map = new Map();map.set('foo', true);map.set('bar', false);map.size // 2map.clear()map.size // 0 éåŽ†æ–¹æ³•Map ç»“æž„åŽŸç”Ÿæä¾›ä¸‰ä¸ªéåŽ†å™¨ç”Ÿæˆå‡½æ•°å’Œä¸€ä¸ªéåŽ†æ–¹æ³•ã€‚ keys()ï¼šè¿”å›žé”®åçš„éåŽ†å™¨ã€‚ values()ï¼šè¿”å›žé”®å€¼çš„éåŽ†å™¨ã€‚ entries()ï¼šè¿”å›žæ‰€æœ‰æˆå‘˜çš„éåŽ†å™¨ã€‚ forEach()ï¼šéåŽ† Map çš„æ‰€æœ‰æˆå‘˜ã€‚ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒMap çš„éåŽ†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚ 123456789101112131415161718192021222324252627282930313233343536const map = new Map([ ['F', 'no'], ['T', 'yes'],]);for (let key of map.keys()) &#123; console.log(key);&#125;// "F"// "T"for (let value of map.values()) &#123; console.log(value);&#125;// "no"// "yes"for (let item of map.entries()) &#123; console.log(item[0], item[1]);&#125;// "F" "no"// "T" "yes"// æˆ–è€…for (let [key, value] of map.entries()) &#123; console.log(key, value);&#125;// "F" "no"// "T" "yes"// ç­‰åŒäºŽä½¿ç”¨map.entries()for (let [key, value] of map) &#123; console.log(key, value);&#125;// "F" "no"// "T" "yes" ä¸Šé¢ä»£ç æœ€åŽçš„é‚£ä¸ªä¾‹å­ï¼Œè¡¨ç¤º Map ç»“æž„çš„é»˜è®¤éåŽ†å™¨æŽ¥å£ï¼ˆSymbol.iteratorå±žæ€§ï¼‰ï¼Œå°±æ˜¯entriesæ–¹æ³•ã€‚ 12map[Symbol.iterator] === map.entries// true Map ç»“æž„è½¬ä¸ºæ•°ç»„ç»“æž„ï¼Œæ¯”è¾ƒå¿«é€Ÿçš„æ–¹æ³•æ˜¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€‚ 1234567891011121314151617const map = new Map([ [1, 'one'], [2, 'two'], [3, 'three'],]);[...map.keys()]// [1, 2, 3][...map.values()]// ['one', 'two', 'three'][...map.entries()]// [[1,'one'], [2, 'two'], [3, 'three']][...map]// [[1,'one'], [2, 'two'], [3, 'three']] ç»“åˆæ•°ç»„çš„mapæ–¹æ³•ã€filteræ–¹æ³•ï¼Œå¯ä»¥å®žçŽ° Map çš„éåŽ†å’Œè¿‡æ»¤ï¼ˆMap æœ¬èº«æ²¡æœ‰mapå’Œfilteræ–¹æ³•ï¼‰ã€‚ 1234567891011121314const map0 = new Map() .set(1, 'a') .set(2, 'b') .set(3, 'c');const map1 = new Map( [...map0].filter(([k, v]) =&gt; k &lt; 3));// äº§ç”Ÿ Map ç»“æž„ &#123;1 =&gt; 'a', 2 =&gt; 'b'&#125;const map2 = new Map( [...map0].map(([k, v]) =&gt; [k * 2, '_' + v]) );// äº§ç”Ÿ Map ç»“æž„ &#123;2 =&gt; '_a', 4 =&gt; '_b', 6 =&gt; '_c'&#125; æ­¤å¤–ï¼ŒMap è¿˜æœ‰ä¸€ä¸ªforEachæ–¹æ³•ï¼Œä¸Žæ•°ç»„çš„forEachæ–¹æ³•ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å®žçŽ°éåŽ†ã€‚ 123map.forEach(function(value, key, map) &#123; console.log("Key: %s, Value: %s", key, value);&#125;); forEachæ–¹æ³•è¿˜å¯ä»¥æŽ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®šthisã€‚ 123456789const reporter = &#123; report: function(key, value) &#123; console.log("Key: %s, Value: %s", key, value); &#125;&#125;;map.forEach(function(value, key, map) &#123; this.report(key, value);&#125;, reporter); ä¸Šé¢ä»£ç ä¸­ï¼ŒforEachæ–¹æ³•çš„å›žè°ƒå‡½æ•°çš„thisï¼Œå°±æŒ‡å‘reporterã€‚ ä¸Žå…¶ä»–æ•°æ®ç»“æž„çš„äº’ç›¸è½¬æ¢1. Map è½¬ä¸ºæ•°ç»„å‰é¢å·²ç»æè¿‡ï¼ŒMap è½¬ä¸ºæ•°ç»„æœ€æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€‚ 12345const myMap = new Map() .set(true, 7) .set(&#123;foo: 3&#125;, ['abc']);[...myMap]// [ [ true, 7 ], [ &#123; foo: 3 &#125;, [ 'abc' ] ] ] 2. æ•°ç»„ è½¬ä¸º Mapå°†æ•°ç»„ä¼ å…¥ Map æž„é€ å‡½æ•°ï¼Œå°±å¯ä»¥è½¬ä¸º Mapã€‚ 12345678new Map([ [true, 7], [&#123;foo: 3&#125;, ['abc']]])// Map &#123;// true =&gt; 7,// Object &#123;foo: 3&#125; =&gt; ['abc']// &#125; 3. Map è½¬ä¸ºå¯¹è±¡å¦‚æžœæ‰€æœ‰ Map çš„é”®éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥è½¬ä¸ºå¯¹è±¡ã€‚ 12345678910111213function strMapToObj(strMap) &#123; let obj = Object.create(null); for (let [k,v] of strMap) &#123; obj[k] = v; &#125; return obj;&#125;const myMap = new Map() .set('yes', true) .set('no', false);strMapToObj(myMap)// &#123; yes: true, no: false &#125; 4. å¯¹è±¡è½¬ä¸º Map12345678910function objToStrMap(obj) &#123; let strMap = new Map(); for (let k of Object.keys(obj)) &#123; strMap.set(k, obj[k]); &#125; return strMap;&#125;objToStrMap(&#123;yes: true, no: false&#125;)// Map &#123;"yes" =&gt; true, "no" =&gt; false&#125; 5. Map è½¬ä¸º JSONMap è½¬ä¸º JSON è¦åŒºåˆ†ä¸¤ç§æƒ…å†µã€‚ä¸€ç§æƒ…å†µæ˜¯ï¼ŒMap çš„é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ—¶å¯ä»¥é€‰æ‹©è½¬ä¸ºå¯¹è±¡ JSONã€‚ 1234567function strMapToJson(strMap) &#123; return JSON.stringify(strMapToObj(strMap));&#125;let myMap = new Map().set('yes', true).set('no', false);strMapToJson(myMap)// '&#123;"yes":true,"no":false&#125;' å¦ä¸€ç§æƒ…å†µæ˜¯ï¼ŒMap çš„é”®åæœ‰éžå­—ç¬¦ä¸²ï¼Œè¿™æ—¶å¯ä»¥é€‰æ‹©è½¬ä¸ºæ•°ç»„ JSONã€‚ 1234567function mapToArrayJson(map) &#123; return JSON.stringify([...map]);&#125;let myMap = new Map().set(true, 7).set(&#123;foo: 3&#125;, ['abc']);mapToArrayJson(myMap)// '[[true,7],[&#123;"foo":3&#125;,["abc"]]]' 6. JSON è½¬ä¸º MapJSON è½¬ä¸º Mapï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ‰€æœ‰é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ 123456function jsonToStrMap(jsonStr) &#123; return objToStrMap(JSON.parse(jsonStr));&#125;jsonToStrMap('&#123;"yes": true, "no": false&#125;')// Map &#123;'yes' =&gt; true, 'no' =&gt; false&#125; ä½†æ˜¯ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œæ•´ä¸ª JSON å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¸”æ¯ä¸ªæ•°ç»„æˆå‘˜æœ¬èº«ï¼Œåˆæ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªæˆå‘˜çš„æ•°ç»„ã€‚è¿™æ—¶ï¼Œå®ƒå¯ä»¥ä¸€ä¸€å¯¹åº”åœ°è½¬ä¸ºMapã€‚è¿™å¾€å¾€æ˜¯æ•°ç»„è½¬ä¸º JSON çš„é€†æ“ä½œã€‚ 123456function jsonToMap(jsonStr) &#123; return new Map(JSON.parse(jsonStr));&#125;jsonToMap('[[true,7],[&#123;"foo":3&#125;,["abc"]]]')// Map &#123;true =&gt; 7, Object &#123;foo: 3&#125; =&gt; ['abc']&#125; WeakMapå«ä¹‰WeakMapç»“æž„ä¸ŽMapç»“æž„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºŽç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆã€‚ 123456789101112// WeakMap å¯ä»¥ä½¿ç”¨ set æ–¹æ³•æ·»åŠ æˆå‘˜const wm1 = new WeakMap();const key = &#123;foo: 1&#125;;wm1.set(key, 2);wm1.get(key) // 2// WeakMap ä¹Ÿå¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œ// ä½œä¸ºæž„é€ å‡½æ•°çš„å‚æ•°const k1 = [1, 2, 3];const k2 = [4, 5, 6];const wm2 = new WeakMap([[k1, 'foo'], [k2, 'bar']]);wm2.get(k2) // "bar" WeakMapä¸ŽMapçš„åŒºåˆ«æœ‰ä¸¤ç‚¹ã€‚é¦–å…ˆï¼ŒWeakMapåªæŽ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnullé™¤å¤–ï¼‰ï¼Œä¸æŽ¥å—å…¶ä»–ç±»åž‹çš„å€¼ä½œä¸ºé”®åã€‚ 1234567const map = new WeakMap();map.set(1, 2)// TypeError: 1 is not an object!map.set(Symbol(), 2)// TypeError: Invalid value used as weak map keymap.set(null, 2)// TypeError: Invalid value used as weak map key ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœå°†æ•°å€¼1å’ŒSymbolå€¼ä½œä¸º WeakMap çš„é”®åï¼Œéƒ½ä¼šæŠ¥é”™ã€‚ å…¶æ¬¡ï¼ŒWeakMapçš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åžƒåœ¾å›žæ”¶æœºåˆ¶ã€‚ WeakMapçš„è®¾è®¡ç›®çš„åœ¨äºŽï¼Œæœ‰æ—¶æˆ‘ä»¬æƒ³åœ¨æŸä¸ªå¯¹è±¡ä¸Šé¢å­˜æ”¾ä¸€äº›æ•°æ®ï¼Œä½†æ˜¯è¿™ä¼šå½¢æˆå¯¹äºŽè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 123456const e1 = document.getElementById('foo');const e2 = document.getElementById('bar');const arr = [ [e1, 'foo å…ƒç´ '], [e2, 'bar å…ƒç´ '],]; ä¸Šé¢ä»£ç ä¸­ï¼Œe1å’Œe2æ˜¯ä¸¤ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬é€šè¿‡arræ•°ç»„å¯¹è¿™ä¸¤ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›æ–‡å­—è¯´æ˜Žã€‚è¿™å°±å½¢æˆäº†arrå¯¹e1å’Œe2çš„å¼•ç”¨ã€‚ ä¸€æ—¦ä¸å†éœ€è¦è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¿…é¡»æ‰‹åŠ¨åˆ é™¤è¿™ä¸ªå¼•ç”¨ï¼Œå¦åˆ™åžƒåœ¾å›žæ”¶æœºåˆ¶å°±ä¸ä¼šé‡Šæ”¾e1å’Œe2å ç”¨çš„å†…å­˜ã€‚ 1234// ä¸éœ€è¦ e1 å’Œ e2 çš„æ—¶å€™// å¿…é¡»æ‰‹åŠ¨åˆ é™¤å¼•ç”¨arr [0] = null;arr [1] = null; ä¸Šé¢è¿™æ ·çš„å†™æ³•æ˜¾ç„¶å¾ˆä¸æ–¹ä¾¿ã€‚ä¸€æ—¦å¿˜äº†å†™ï¼Œå°±ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚ WeakMap å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œè¯žç”Ÿçš„ï¼Œå®ƒçš„é”®åæ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åžƒåœ¾å›žæ”¶æœºåˆ¶ä¸å°†è¯¥å¼•ç”¨è€ƒè™‘åœ¨å†…ã€‚å› æ­¤ï¼Œåªè¦æ‰€å¼•ç”¨çš„å¯¹è±¡çš„å…¶ä»–å¼•ç”¨éƒ½è¢«æ¸…é™¤ï¼Œåžƒåœ¾å›žæ”¶æœºåˆ¶å°±ä¼šé‡Šæ”¾è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸å†éœ€è¦ï¼ŒWeakMap é‡Œé¢çš„é”®åå¯¹è±¡å’Œæ‰€å¯¹åº”çš„é”®å€¼å¯¹ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨ã€‚ åŸºæœ¬ä¸Šï¼Œå¦‚æžœä½ è¦å¾€å¯¹è±¡ä¸Šæ·»åŠ æ•°æ®ï¼Œåˆä¸æƒ³å¹²æ‰°åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ WeakMapã€‚ä¸€ä¸ªå…¸åž‹åº”ç”¨åœºæ™¯æ˜¯ï¼Œåœ¨ç½‘é¡µçš„ DOM å…ƒç´ ä¸Šæ·»åŠ æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨WeakMapç»“æž„ã€‚å½“è¯¥ DOM å…ƒç´ è¢«æ¸…é™¤ï¼Œå…¶æ‰€å¯¹åº”çš„WeakMapè®°å½•å°±ä¼šè‡ªåŠ¨è¢«ç§»é™¤ã€‚ 123456const wm = new WeakMap();const element = document.getElementById('example');wm.set(element, 'some information');wm.get(element) // "some information" ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆæ–°å»ºä¸€ä¸ª Weakmap å®žä¾‹ã€‚ç„¶åŽï¼Œå°†ä¸€ä¸ª DOM èŠ‚ç‚¹ä½œä¸ºé”®åå­˜å…¥è¯¥å®žä¾‹ï¼Œå¹¶å°†ä¸€äº›é™„åŠ ä¿¡æ¯ä½œä¸ºé”®å€¼ï¼Œä¸€èµ·å­˜æ”¾åœ¨ WeakMap é‡Œé¢ã€‚è¿™æ—¶ï¼ŒWeakMap é‡Œé¢å¯¹elementçš„å¼•ç”¨å°±æ˜¯å¼±å¼•ç”¨ï¼Œä¸ä¼šè¢«è®¡å…¥åžƒåœ¾å›žæ”¶æœºåˆ¶ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ DOM èŠ‚ç‚¹å¯¹è±¡çš„å¼•ç”¨è®¡æ•°æ˜¯1ï¼Œè€Œä¸æ˜¯2ã€‚è¿™æ—¶ï¼Œä¸€æ—¦æ¶ˆé™¤å¯¹è¯¥èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå®ƒå ç”¨çš„å†…å­˜å°±ä¼šè¢«åžƒåœ¾å›žæ”¶æœºåˆ¶é‡Šæ”¾ã€‚Weakmap ä¿å­˜çš„è¿™ä¸ªé”®å€¼å¯¹ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚ æ€»ä¹‹ï¼ŒWeakMapçš„ä¸“ç”¨åœºåˆå°±æ˜¯ï¼Œå®ƒçš„é”®æ‰€å¯¹åº”çš„å¯¹è±¡ï¼Œå¯èƒ½ä¼šåœ¨å°†æ¥æ¶ˆå¤±ã€‚WeakMapç»“æž„æœ‰åŠ©äºŽé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ æ³¨æ„ï¼ŒWeakMap å¼±å¼•ç”¨çš„åªæ˜¯é”®åï¼Œè€Œä¸æ˜¯é”®å€¼ã€‚é”®å€¼ä¾ç„¶æ˜¯æ­£å¸¸å¼•ç”¨ã€‚ 12345678const wm = new WeakMap();let key = &#123;&#125;;let obj = &#123;foo: 1&#125;;wm.set(key, obj);obj = null;wm.get(key)// Object &#123;foo: 1&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œé”®å€¼objæ˜¯æ­£å¸¸å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œå³ä½¿åœ¨ WeakMap å¤–éƒ¨æ¶ˆé™¤äº†objçš„å¼•ç”¨ï¼ŒWeakMap å†…éƒ¨çš„å¼•ç”¨ä¾ç„¶å­˜åœ¨ã€‚ WeakMap çš„è¯­æ³•WeakMap ä¸Ž Map åœ¨ API ä¸Šçš„åŒºåˆ«ä¸»è¦æ˜¯ä¸¤ä¸ªï¼Œä¸€æ˜¯æ²¡æœ‰éåŽ†æ“ä½œï¼ˆå³æ²¡æœ‰key()ã€values()å’Œentries()æ–¹æ³•ï¼‰ï¼Œä¹Ÿæ²¡æœ‰sizeå±žæ€§ã€‚å› ä¸ºæ²¡æœ‰åŠžæ³•åˆ—å‡ºæ‰€æœ‰é”®åï¼ŒæŸä¸ªé”®åæ˜¯å¦å­˜åœ¨å®Œå…¨ä¸å¯é¢„æµ‹ï¼Œè·Ÿåžƒåœ¾å›žæ”¶æœºåˆ¶æ˜¯å¦è¿è¡Œç›¸å…³ã€‚è¿™ä¸€åˆ»å¯ä»¥å–åˆ°é”®åï¼Œä¸‹ä¸€åˆ»åžƒåœ¾å›žæ”¶æœºåˆ¶çªç„¶è¿è¡Œäº†ï¼Œè¿™ä¸ªé”®åå°±æ²¡äº†ï¼Œä¸ºäº†é˜²æ­¢å‡ºçŽ°ä¸ç¡®å®šæ€§ï¼Œå°±ç»Ÿä¸€è§„å®šä¸èƒ½å–åˆ°é”®åã€‚äºŒæ˜¯æ— æ³•æ¸…ç©ºï¼Œå³ä¸æ”¯æŒclearæ–¹æ³•ã€‚å› æ­¤ï¼ŒWeakMapåªæœ‰å››ä¸ªæ–¹æ³•å¯ç”¨ï¼šget()ã€set()ã€has()ã€delete()ã€‚ 123456const wm = new WeakMap();// sizeã€forEachã€clear æ–¹æ³•éƒ½ä¸å­˜åœ¨wm.size // undefinedwm.forEach // undefinedwm.clear // undefined Set å’Œ WeakSet çš„ç‰¹ç‚¹ï¼š å®ƒæ˜¯ä¸€ä¸ªä¸å¯é‡å¤çš„æ— åºåˆ—è¡¨ å€¼ä¸Žå€¼ä¹‹é—´çš„æ¯”è¾ƒæ˜¯é€šè¿‡Object.isæ–¹æ³•æ¥è¿›è¡Œçš„ï¼Œè¿™ä¹Ÿæ„å‘³ç€5å’Œâ€œ5â€ä¼šå æ®ä¸¤ä¸ªç©ºé—´ Setå’ŒWeakSetåŒºåˆ«åœ¨äºŽï¼ŒWeakSetåªæä¾›äº†åŸºç¡€çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå¼±å¼•ç”¨ã€‚ Map å’Œ WeakMap çš„ç‰¹ç‚¹ï¼š å®ƒæ˜¯ä¸€ä¸ªç”±å¤šä¸ªæ— åºé”®å€¼å¯¹ç»„æˆçš„é›†åˆ é”®åå¯ä»¥æ˜¯ä»»æ„çš„æ•°æ®ç±»åž‹ WeakMapçš„é”®ååªèƒ½æ˜¯å¯¹è±¡ï¼Œä¸ŽWeakSetç±»ä¼¼ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¼±å¼•ç”¨ Mapæ¯”WeakMapå¤šäº†å‡ ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯åŸºç¡€çš„set get éƒ½æ˜¯ç›¸åŒçš„ç›®å‰ï¼Œå·²çŸ¥çš„Mapçš„ç”¨é€”ï¼Œå¯èƒ½å°±æ˜¯æ¥å­˜å‚¨ç§æœ‰æ•°æ®ï¼Œå­˜å‚¨å¯¹è±¡å¼•ç”¨ï¼ˆå¯ä»¥è‡ªåŠ¨é‡Šæ”¾ï¼‰ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ åŸºæœ¬ä¸ä¼šç”¨åˆ°Mapã€‚]]></content>
      <categories>
        <category>JavaScript</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>Set</tag>
        <tag>Map</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6 Proxy&Reflect]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-Proxy-Reflect%2F</url>
    <content type="text"><![CDATA[Proxyæ¦‚è¿°Proxy ç”¨äºŽä¿®æ”¹æŸäº›æ“ä½œçš„é»˜è®¤è¡Œä¸ºï¼Œç­‰åŒäºŽåœ¨è¯­è¨€å±‚é¢åšå‡ºä¿®æ”¹ï¼Œæ‰€ä»¥å±žäºŽä¸€ç§â€œå…ƒç¼–ç¨‹â€ï¼ˆmeta programmingï¼‰ï¼Œå³å¯¹ç¼–ç¨‹è¯­è¨€è¿›è¡Œç¼–ç¨‹ã€‚ Proxy å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æž¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚Proxy è¿™ä¸ªè¯çš„åŽŸæ„æ˜¯ä»£ç†ï¼Œç”¨åœ¨è¿™é‡Œè¡¨ç¤ºç”±å®ƒæ¥â€œä»£ç†â€æŸäº›æ“ä½œï¼Œå¯ä»¥è¯‘ä¸ºâ€œä»£ç†å™¨â€ã€‚ Proxy å®žé™…ä¸Šé‡è½½ï¼ˆoverloadï¼‰äº†ç‚¹è¿ç®—ç¬¦ï¼Œå³ç”¨è‡ªå·±çš„å®šä¹‰è¦†ç›–äº†è¯­è¨€çš„åŽŸå§‹å®šä¹‰ã€‚ ES6 åŽŸç”Ÿæä¾› Proxy æž„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Proxy å®žä¾‹ã€‚ 1var proxy = new Proxy(target, handler); Proxy å¯¹è±¡çš„æ‰€æœ‰ç”¨æ³•ï¼Œéƒ½æ˜¯ä¸Šé¢è¿™ç§å½¢å¼ï¼Œä¸åŒçš„åªæ˜¯handlerå‚æ•°çš„å†™æ³•ã€‚å…¶ä¸­ï¼Œnew Proxy()è¡¨ç¤ºç”Ÿæˆä¸€ä¸ªProxyå®žä¾‹ï¼Œtargetå‚æ•°è¡¨ç¤ºæ‰€è¦æ‹¦æˆªçš„ç›®æ ‡å¯¹è±¡ï¼Œhandlerå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶æ‹¦æˆªè¡Œä¸ºã€‚ 1234567891011ä¸‹é¢æ˜¯å¦ä¸€ä¸ªæ‹¦æˆªè¯»å–å±žæ€§è¡Œä¸ºçš„ä¾‹å­ã€‚var proxy = new Proxy(&#123;&#125;, &#123; get: function(target, property) &#123; return 35; &#125;&#125;);proxy.time // 35proxy.name // 35proxy.title // 35 ä¸Šé¢ä»£ç ä¸­ï¼Œä½œä¸ºæž„é€ å‡½æ•°ï¼ŒProxyæŽ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰€è¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡ï¼ˆä¸Šä¾‹æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼‰ï¼Œå³å¦‚æžœæ²¡æœ‰Proxyçš„ä»‹å…¥ï¼Œæ“ä½œåŽŸæ¥è¦è®¿é—®çš„å°±æ˜¯è¿™ä¸ªå¯¹è±¡ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå¯¹äºŽæ¯ä¸€ä¸ªè¢«ä»£ç†çš„æ“ä½œï¼Œéœ€è¦æä¾›ä¸€ä¸ªå¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†æ‹¦æˆªå¯¹åº”çš„æ“ä½œã€‚æ¯”å¦‚ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œé…ç½®å¯¹è±¡æœ‰ä¸€ä¸ªgetæ–¹æ³•ï¼Œç”¨æ¥æ‹¦æˆªå¯¹ç›®æ ‡å¯¹è±¡å±žæ€§çš„è®¿é—®è¯·æ±‚ã€‚getæ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ç›®æ ‡å¯¹è±¡å’Œæ‰€è¦è®¿é—®çš„å±žæ€§ã€‚å¯ä»¥çœ‹åˆ°ï¼Œç”±äºŽæ‹¦æˆªå‡½æ•°æ€»æ˜¯è¿”å›ž35ï¼Œæ‰€ä»¥è®¿é—®ä»»ä½•å±žæ€§éƒ½å¾—åˆ°35ã€‚ æ³¨æ„ï¼Œè¦ä½¿å¾—Proxyèµ·ä½œç”¨ï¼Œå¿…é¡»é’ˆå¯¹Proxyå®žä¾‹ï¼ˆä¸Šä¾‹æ˜¯proxyå¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç›®æ ‡å¯¹è±¡ï¼ˆä¸Šä¾‹æ˜¯ç©ºå¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œã€‚ å¦‚æžœhandleræ²¡æœ‰è®¾ç½®ä»»ä½•æ‹¦æˆªï¼Œé‚£å°±ç­‰åŒäºŽç›´æŽ¥é€šå‘åŽŸå¯¹è±¡ã€‚ ä¸€ä¸ªæŠ€å·§æ˜¯å°† Proxy å¯¹è±¡ï¼Œè®¾ç½®åˆ°object.proxyå±žæ€§ï¼Œä»Žè€Œå¯ä»¥åœ¨objectå¯¹è±¡ä¸Šè°ƒç”¨ã€‚ 1var object = &#123; proxy: new Proxy(target, handler) &#125;; Proxy å®žä¾‹ä¹Ÿå¯ä»¥ä½œä¸ºå…¶ä»–å¯¹è±¡çš„åŽŸåž‹å¯¹è±¡ã€‚ 12345678var proxy = new Proxy(&#123;&#125;, &#123; get: function(target, property) &#123; return 35; &#125;&#125;);let obj = Object.create(proxy);obj.time // 35 åŒä¸€ä¸ªæ‹¦æˆªå™¨å‡½æ•°ï¼Œå¯ä»¥è®¾ç½®æ‹¦æˆªå¤šä¸ªæ“ä½œã€‚ Proxy æ”¯æŒçš„æ‹¦æˆªæ“ä½œä¸€è§ˆã€‚å¯¹äºŽå¯ä»¥è®¾ç½®ã€ä½†æ²¡æœ‰è®¾ç½®æ‹¦æˆªçš„æ“ä½œï¼Œåˆ™ç›´æŽ¥è½åœ¨ç›®æ ‡å¯¹è±¡ä¸Šï¼ŒæŒ‰ç…§åŽŸå…ˆçš„æ–¹å¼äº§ç”Ÿç»“æžœã€‚ ï¼ˆ1ï¼‰get(target, propKey, receiver) æ‹¦æˆªå¯¹è±¡å±žæ€§çš„è¯»å–ï¼Œæ¯”å¦‚proxy.fooå’Œproxy[â€˜fooâ€™]ã€‚ æœ€åŽä¸€ä¸ªå‚æ•°receiveræ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯é€‰ï¼Œå‚è§ä¸‹é¢Reflect.getçš„éƒ¨åˆ†ã€‚ ï¼ˆ2ï¼‰set(target, propKey, value, receiver) æ‹¦æˆªå¯¹è±¡å±žæ€§çš„è®¾ç½®ï¼Œæ¯”å¦‚proxy.foo = væˆ–proxy[â€˜fooâ€™] = vï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚ ï¼ˆ3ï¼‰has(target, propKey) æ‹¦æˆªpropKey in proxyçš„æ“ä½œï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚ ï¼ˆ4ï¼‰deleteProperty(target, propKey) æ‹¦æˆªdelete proxy[propKey]çš„æ“ä½œï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚ ï¼ˆ5ï¼‰ownKeys(target) æ‹¦æˆªObject.getOwnPropertyNames(proxy)ã€Object.getOwnPropertySymbols(proxy)ã€Object.keys(proxy)ï¼Œè¿”å›žä¸€ä¸ªæ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›žç›®æ ‡å¯¹è±¡æ‰€æœ‰è‡ªèº«çš„å±žæ€§çš„å±žæ€§åï¼Œè€ŒObject.keys()çš„è¿”å›žç»“æžœä»…åŒ…æ‹¬ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å¯éåŽ†å±žæ€§ã€‚ ï¼ˆ6ï¼‰getOwnPropertyDescriptor(target, propKey) æ‹¦æˆªObject.getOwnPropertyDescriptor(proxy, propKey)ï¼Œè¿”å›žå±žæ€§çš„æè¿°å¯¹è±¡ã€‚ ï¼ˆ7ï¼‰defineProperty(target, propKey, propDesc) æ‹¦æˆªObject.defineProperty(proxy, propKey, propDescï¼‰ã€Object.defineProperties(proxy, propDescs)ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚ ï¼ˆ8ï¼‰preventExtensions(target) æ‹¦æˆªObject.preventExtensions(proxy)ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚ ï¼ˆ9ï¼‰getPrototypeOf(target) æ‹¦æˆªObject.getPrototypeOf(proxy)ï¼Œè¿”å›žä¸€ä¸ªå¯¹è±¡ã€‚ ï¼ˆ10ï¼‰isExtensible(target) æ‹¦æˆªObject.isExtensible(proxy)ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚ ï¼ˆ11ï¼‰setPrototypeOf(target, proto) æ‹¦æˆªObject.setPrototypeOf(proxy, proto)ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚ å¦‚æžœç›®æ ‡å¯¹è±¡æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸¤ç§é¢å¤–æ“ä½œå¯ä»¥æ‹¦æˆªã€‚ ï¼ˆ12ï¼‰apply(target, object, args) æ‹¦æˆª Proxy å®žä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚proxy(â€¦args)ã€proxy.call(object, â€¦args)ã€proxy.apply(â€¦)ã€‚ ï¼ˆ13ï¼‰construct(target, args) æ‹¦æˆª Proxy å®žä¾‹ä½œä¸ºæž„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚new proxy(â€¦args)ã€‚ Proxy å®žä¾‹çš„æ–¹æ³•ä¸‹é¢æ˜¯ä¸Šé¢è¿™äº›æ‹¦æˆªæ–¹æ³•çš„è¯¦ç»†ä»‹ç»ã€‚ get()getæ–¹æ³•ç”¨äºŽæ‹¦æˆªæŸä¸ªå±žæ€§çš„è¯»å–æ“ä½œã€‚ä¸Šæ–‡å·²ç»æœ‰ä¸€ä¸ªä¾‹å­ï¼Œä¸‹é¢æ˜¯å¦ä¸€ä¸ªæ‹¦æˆªè¯»å–æ“ä½œçš„ä¾‹å­ã€‚ 12345678910111213141516var person = &#123; name: "å¼ ä¸‰"&#125;;var proxy = new Proxy(person, &#123; get: function(target, property) &#123; if (property in target) &#123; return target[property]; &#125; else &#123; throw new ReferenceError("Property \"" + property + "\" does not exist."); &#125; &#125;&#125;);proxy.name // "å¼ ä¸‰"proxy.age // æŠ›å‡ºä¸€ä¸ªé”™è¯¯ ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æžœè®¿é—®ç›®æ ‡å¯¹è±¡ä¸å­˜åœ¨çš„å±žæ€§ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å¦‚æžœæ²¡æœ‰è¿™ä¸ªæ‹¦æˆªå‡½æ•°ï¼Œè®¿é—®ä¸å­˜åœ¨çš„å±žæ€§ï¼Œåªä¼šè¿”å›žundefinedã€‚ getæ–¹æ³•å¯ä»¥ç»§æ‰¿ã€‚ 123456789let proto = new Proxy(&#123;&#125;, &#123; get(target, propertyKey, receiver) &#123; console.log('GET '+propertyKey); return target[propertyKey]; &#125;&#125;);let obj = Object.create(proto);obj.xxx // "GET xxx" ä¸Šé¢ä»£ç ä¸­ï¼Œæ‹¦æˆªæ“ä½œå®šä¹‰åœ¨Prototypeå¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥å¦‚æžœè¯»å–objå¯¹è±¡ç»§æ‰¿çš„å±žæ€§æ—¶ï¼Œæ‹¦æˆªä¼šç”Ÿæ•ˆã€‚ å¦‚æžœä¸€ä¸ªå±žæ€§ä¸å¯é…ç½®ï¼ˆconfigurableï¼‰å’Œä¸å¯å†™ï¼ˆwritableï¼‰ï¼Œåˆ™è¯¥å±žæ€§ä¸èƒ½è¢«ä»£ç†ï¼Œé€šè¿‡ Proxy å¯¹è±¡è®¿é—®è¯¥å±žæ€§ä¼šæŠ¥é”™ã€‚ set()setæ–¹æ³•ç”¨æ¥æ‹¦æˆªæŸä¸ªå±žæ€§çš„èµ‹å€¼æ“ä½œã€‚ å‡å®šPersonå¯¹è±¡æœ‰ä¸€ä¸ªageå±žæ€§ï¼Œè¯¥å±žæ€§åº”è¯¥æ˜¯ä¸€ä¸ªä¸å¤§äºŽ200çš„æ•´æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨Proxyä¿è¯ageçš„å±žæ€§å€¼ç¬¦åˆè¦æ±‚ã€‚ 1234567891011121314151617181920212223let validator = &#123; set: function(obj, prop, value) &#123; if (prop === 'age') &#123; if (!Number.isInteger(value)) &#123; throw new TypeError('The age is not an integer'); &#125; if (value &gt; 200) &#123; throw new RangeError('The age seems invalid'); &#125; &#125; // å¯¹äºŽageä»¥å¤–çš„å±žæ€§ï¼Œç›´æŽ¥ä¿å­˜ obj[prop] = value; &#125;&#125;;let person = new Proxy(&#123;&#125;, validator);person.age = 100;person.age // 100person.age = 'young' // æŠ¥é”™person.age = 300 // æŠ¥é”™ ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºŽè®¾ç½®äº†å­˜å€¼å‡½æ•°setï¼Œä»»ä½•ä¸ç¬¦åˆè¦æ±‚çš„ageå±žæ€§èµ‹å€¼ï¼Œéƒ½ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¿™æ˜¯æ•°æ®éªŒè¯çš„ä¸€ç§å®žçŽ°æ–¹æ³•ã€‚åˆ©ç”¨setæ–¹æ³•ï¼Œè¿˜å¯ä»¥æ•°æ®ç»‘å®šï¼Œå³æ¯å½“å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨æ›´æ–° DOMã€‚ æœ‰æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨å¯¹è±¡ä¸Šé¢è®¾ç½®å†…éƒ¨å±žæ€§ï¼Œå±žæ€§åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½¿ç”¨ä¸‹åˆ’çº¿å¼€å¤´ï¼Œè¡¨ç¤ºè¿™äº›å±žæ€§ä¸åº”è¯¥è¢«å¤–éƒ¨ä½¿ç”¨ã€‚ç»“åˆgetå’Œsetæ–¹æ³•ï¼Œå°±å¯ä»¥åšåˆ°é˜²æ­¢è¿™äº›å†…éƒ¨å±žæ€§è¢«å¤–éƒ¨è¯»å†™ã€‚ 12345678910111213141516171819202122var handler = &#123; get (target, key) &#123; invariant(key, 'get'); return target[key]; &#125;, set (target, key, value) &#123; invariant(key, 'set'); target[key] = value; return true; &#125;&#125;;function invariant (key, action) &#123; if (key[0] === '_') &#123; throw new Error(`Invalid attempt to $&#123;action&#125; private "$&#123;key&#125;" property`); &#125;&#125;var target = &#123;&#125;;var proxy = new Proxy(target, handler);proxy._prop// Error: Invalid attempt to get private "_prop" propertyproxy._prop = 'c'// Error: Invalid attempt to set private "_prop" property ä¸Šé¢ä»£ç ä¸­ï¼Œåªè¦è¯»å†™çš„å±žæ€§åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸‹åˆ’çº¿ï¼Œä¸€å¾‹æŠ›é”™ï¼Œä»Žè€Œè¾¾åˆ°ç¦æ­¢è¯»å†™å†…éƒ¨å±žæ€§çš„ç›®çš„ã€‚ æ³¨æ„ï¼Œå¦‚æžœç›®æ ‡å¯¹è±¡è‡ªèº«çš„æŸä¸ªå±žæ€§ï¼Œä¸å¯å†™ä¹Ÿä¸å¯é…ç½®ï¼Œé‚£ä¹ˆsetä¸å¾—æ”¹å˜è¿™ä¸ªå±žæ€§çš„å€¼ï¼Œåªèƒ½è¿”å›žåŒæ ·çš„å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚ apply()applyæ–¹æ³•æ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ã€callå’Œapplyæ“ä½œã€‚ applyæ–¹æ³•å¯ä»¥æŽ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ç›®æ ‡å¯¹è±¡ã€ç›®æ ‡å¯¹è±¡çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆthisï¼‰å’Œç›®æ ‡å¯¹è±¡çš„å‚æ•°æ•°ç»„ã€‚ 12345var handler = &#123; apply (target, ctx, args) &#123; return Reflect.apply(...arguments); &#125;&#125;; å¦å¤–ï¼Œç›´æŽ¥è°ƒç”¨Reflect.applyæ–¹æ³•ï¼Œä¹Ÿä¼šè¢«æ‹¦æˆªã€‚ 1Reflect.apply(proxy, null, [9, 10]) // 38 has()hasæ–¹æ³•ç”¨æ¥æ‹¦æˆªHasPropertyæ“ä½œï¼Œå³åˆ¤æ–­å¯¹è±¡æ˜¯å¦å…·æœ‰æŸä¸ªå±žæ€§æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šç”Ÿæ•ˆã€‚å…¸åž‹çš„æ“ä½œå°±æ˜¯inè¿ç®—ç¬¦ã€‚ ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨hasæ–¹æ³•éšè—æŸäº›å±žæ€§ï¼Œä¸è¢«inè¿ç®—ç¬¦å‘çŽ°ã€‚ 1234567891011var handler = &#123; has (target, key) &#123; if (key[0] === '_') &#123; return false; &#125; return key in target; &#125;&#125;;var target = &#123; _prop: 'foo', prop: 'foo' &#125;;var proxy = new Proxy(target, handler);'_prop' in proxy // false å¦‚æžœåŽŸå¯¹è±¡ä¸å¯é…ç½®æˆ–è€…ç¦æ­¢æ‰©å±•ï¼Œè¿™æ—¶hasæ‹¦æˆªä¼šæŠ¥é”™ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œhasæ–¹æ³•æ‹¦æˆªçš„æ˜¯HasPropertyæ“ä½œï¼Œè€Œä¸æ˜¯HasOwnPropertyæ“ä½œï¼Œå³hasæ–¹æ³•ä¸åˆ¤æ–­ä¸€ä¸ªå±žæ€§æ˜¯å¯¹è±¡è‡ªèº«çš„å±žæ€§ï¼Œè¿˜æ˜¯ç»§æ‰¿çš„å±žæ€§ã€‚ å¦å¤–ï¼Œè™½ç„¶forâ€¦inå¾ªçŽ¯ä¹Ÿç”¨åˆ°äº†inè¿ç®—ç¬¦ï¼Œä½†æ˜¯hasæ‹¦æˆªå¯¹forâ€¦inå¾ªçŽ¯ä¸ç”Ÿæ•ˆã€‚ construct()constructæ–¹æ³•ç”¨äºŽæ‹¦æˆªnewå‘½ä»¤ï¼Œä¸‹é¢æ˜¯æ‹¦æˆªå¯¹è±¡çš„å†™æ³•ã€‚ 12345var handler = &#123; construct (target, args, newTarget) &#123; return new target(...args); &#125;&#125;; constructæ–¹æ³•å¯ä»¥æŽ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ target: ç›®æ ‡å¯¹è±¡ argsï¼šæž„å»ºå‡½æ•°çš„å‚æ•°å¯¹è±¡ constructæ–¹æ³•è¿”å›žçš„å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ deleteProperty()deletePropertyæ–¹æ³•ç”¨äºŽæ‹¦æˆªdeleteæ“ä½œï¼Œå¦‚æžœè¿™ä¸ªæ–¹æ³•æŠ›å‡ºé”™è¯¯æˆ–è€…è¿”å›žfalseï¼Œå½“å‰å±žæ€§å°±æ— æ³•è¢«deleteå‘½ä»¤åˆ é™¤ã€‚ æ³¨æ„ï¼Œç›®æ ‡å¯¹è±¡è‡ªèº«çš„ä¸å¯é…ç½®ï¼ˆconfigurableï¼‰çš„å±žæ€§ï¼Œä¸èƒ½è¢«deletePropertyæ–¹æ³•åˆ é™¤ï¼Œå¦åˆ™æŠ¥é”™ defineProperty()definePropertyæ–¹æ³•æ‹¦æˆªäº†Object.definePropertyæ“ä½œã€‚ getOwnPropertyDescriptor()getOwnPropertyDescriptoræ–¹æ³•æ‹¦æˆªObject.getOwnPropertyDescriptor()ï¼Œè¿”å›žä¸€ä¸ªå±žæ€§æè¿°å¯¹è±¡æˆ–è€…undefinedã€‚ getPrototypeOf()getPrototypeOfæ–¹æ³•ä¸»è¦ç”¨æ¥æ‹¦æˆªèŽ·å–å¯¹è±¡åŽŸåž‹ã€‚å…·ä½“æ¥è¯´ï¼Œæ‹¦æˆªä¸‹é¢è¿™äº›æ“ä½œã€‚ Object.prototype.[object Object] Object.prototype.isPrototypeOf() Object.getPrototypeOf() Reflect.getPrototypeOf() instanceof æ³¨æ„ï¼ŒgetPrototypeOfæ–¹æ³•çš„è¿”å›žå€¼å¿…é¡»æ˜¯å¯¹è±¡æˆ–è€…nullï¼Œå¦åˆ™æŠ¥é”™ã€‚å¦å¤–ï¼Œå¦‚æžœç›®æ ‡å¯¹è±¡ä¸å¯æ‰©å±•ï¼ˆextensibleï¼‰ï¼Œ getPrototypeOfæ–¹æ³•å¿…é¡»è¿”å›žç›®æ ‡å¯¹è±¡çš„åŽŸåž‹å¯¹è±¡ã€‚ isExtensible()isExtensibleæ–¹æ³•æ‹¦æˆªObject.isExtensibleæ“ä½œã€‚ 12345678910var p = new Proxy(&#123;&#125;, &#123; isExtensible: function(target) &#123; console.log("called"); return true; &#125;&#125;);Object.isExtensible(p)// "called"// true ä¸Šé¢ä»£ç è®¾ç½®äº†isExtensibleæ–¹æ³•ï¼Œåœ¨è°ƒç”¨Object.isExtensibleæ—¶ä¼šè¾“å‡ºcalledã€‚ æ³¨æ„ï¼Œè¯¥æ–¹æ³•åªèƒ½è¿”å›žå¸ƒå°”å€¼ï¼Œå¦åˆ™è¿”å›žå€¼ä¼šè¢«è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ã€‚ è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ä¸ªå¼ºé™åˆ¶ï¼Œå®ƒçš„è¿”å›žå€¼å¿…é¡»ä¸Žç›®æ ‡å¯¹è±¡çš„isExtensibleå±žæ€§ä¿æŒä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚ ownKeys()ownKeysæ–¹æ³•ç”¨æ¥æ‹¦æˆªå¯¹è±¡è‡ªèº«å±žæ€§çš„è¯»å–æ“ä½œã€‚å…·ä½“æ¥è¯´ï¼Œæ‹¦æˆªä»¥ä¸‹æ“ä½œã€‚ Object.getOwnPropertyNames() Object.getOwnPropertySymbols() Object.keys() æ³¨æ„ï¼Œä½¿ç”¨Object.keysæ–¹æ³•æ—¶ï¼Œæœ‰ä¸‰ç±»å±žæ€§ä¼šè¢«ownKeysæ–¹æ³•è‡ªåŠ¨è¿‡æ»¤ï¼Œä¸ä¼šè¿”å›žã€‚ ç›®æ ‡å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„å±žæ€§ å±žæ€§åä¸º Symbol å€¼ ä¸å¯éåŽ†ï¼ˆenumerableï¼‰çš„å±žæ€§ preventExtensions()preventExtensionsæ–¹æ³•æ‹¦æˆªObject.preventExtensions()ã€‚è¯¥æ–¹æ³•å¿…é¡»è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦åˆ™ä¼šè¢«è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ã€‚ è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ä¸ªé™åˆ¶ï¼Œåªæœ‰ç›®æ ‡å¯¹è±¡ä¸å¯æ‰©å±•æ—¶ï¼ˆå³Object.isExtensible(proxy)ä¸ºfalseï¼‰ï¼Œproxy.preventExtensionsæ‰èƒ½è¿”å›žtrueï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 1234567var p = new Proxy(&#123;&#125;, &#123; preventExtensions: function(target) &#123; return true; &#125;&#125;);Object.preventExtensions(p) // æŠ¥é”™ ä¸Šé¢ä»£ç ä¸­ï¼Œproxy.preventExtensionsæ–¹æ³•è¿”å›žtrueï¼Œä½†è¿™æ—¶Object.isExtensible(proxy)ä¼šè¿”å›žtrueï¼Œå› æ­¤æŠ¥é”™ã€‚ ä¸ºäº†é˜²æ­¢å‡ºçŽ°è¿™ä¸ªé—®é¢˜ï¼Œé€šå¸¸è¦åœ¨proxy.preventExtensionsæ–¹æ³•é‡Œé¢ï¼Œè°ƒç”¨ä¸€æ¬¡Object.preventExtensionsã€‚ setPrototypeOf()setPrototypeOfæ–¹æ³•ä¸»è¦ç”¨æ¥æ‹¦æˆªObject.setPrototypeOfæ–¹æ³•ã€‚ æ³¨æ„ï¼Œè¯¥æ–¹æ³•åªèƒ½è¿”å›žå¸ƒå°”å€¼ï¼Œå¦åˆ™ä¼šè¢«è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ã€‚å¦å¤–ï¼Œå¦‚æžœç›®æ ‡å¯¹è±¡ä¸å¯æ‰©å±•ï¼ˆextensibleï¼‰ï¼ŒsetPrototypeOfæ–¹æ³•ä¸å¾—æ”¹å˜ç›®æ ‡å¯¹è±¡çš„åŽŸåž‹ã€‚ Proxy.revocable()Proxy.revocableæ–¹æ³•è¿”å›žä¸€ä¸ªå¯å–æ¶ˆçš„ Proxy å®žä¾‹ã€‚ 12345678910let target = &#123;&#125;;let handler = &#123;&#125;;let &#123;proxy, revoke&#125; = Proxy.revocable(target, handler);proxy.foo = 123;proxy.foo // 123revoke();proxy.foo // TypeError: Revoked Proxy.revocableæ–¹æ³•è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„proxyå±žæ€§æ˜¯Proxyå®žä¾‹ï¼Œrevokeå±žæ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å–æ¶ˆProxyå®žä¾‹ã€‚ä¸Šé¢ä»£ç ä¸­ï¼Œå½“æ‰§è¡Œrevokeå‡½æ•°ä¹‹åŽï¼Œå†è®¿é—®Proxyå®žä¾‹ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ Proxy.revocableçš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯ï¼Œç›®æ ‡å¯¹è±¡ä¸å…è®¸ç›´æŽ¥è®¿é—®ï¼Œå¿…é¡»é€šè¿‡ä»£ç†è®¿é—®ï¼Œä¸€æ—¦è®¿é—®ç»“æŸï¼Œå°±æ”¶å›žä»£ç†æƒï¼Œä¸å…è®¸å†æ¬¡è®¿é—®ã€‚ this é—®é¢˜è™½ç„¶ Proxy å¯ä»¥ä»£ç†é’ˆå¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ï¼Œä½†å®ƒä¸æ˜¯ç›®æ ‡å¯¹è±¡çš„é€æ˜Žä»£ç†ï¼Œå³ä¸åšä»»ä½•æ‹¦æˆªçš„æƒ…å†µä¸‹ï¼Œä¹Ÿæ— æ³•ä¿è¯ä¸Žç›®æ ‡å¯¹è±¡çš„è¡Œä¸ºä¸€è‡´ã€‚ä¸»è¦åŽŸå› å°±æ˜¯åœ¨ Proxy ä»£ç†çš„æƒ…å†µä¸‹ï¼Œç›®æ ‡å¯¹è±¡å†…éƒ¨çš„thiså…³é”®å­—ä¼šæŒ‡å‘ Proxy ä»£ç†ã€‚ 1234567891011const target = &#123; m: function () &#123; console.log(this === proxy); &#125;&#125;;const handler = &#123;&#125;;const proxy = new Proxy(target, handler);target.m() // falseproxy.m() // true ä¸Šé¢ä»£ç ä¸­ï¼Œä¸€æ—¦proxyä»£ç†target.mï¼ŒåŽè€…å†…éƒ¨çš„thiså°±æ˜¯æŒ‡å‘proxyï¼Œè€Œä¸æ˜¯targetã€‚ ç”±äºŽthisæŒ‡å‘çš„å˜åŒ–ï¼Œæœ‰äº›æƒ…å†µä¼šå¯¼è‡´ Proxy æ— æ³•ä»£ç†ç›®æ ‡å¯¹è±¡ã€‚ æ­¤å¤–ï¼Œæœ‰äº›åŽŸç”Ÿå¯¹è±¡çš„å†…éƒ¨å±žæ€§ï¼Œåªæœ‰é€šè¿‡æ­£ç¡®çš„thisæ‰èƒ½æ‹¿åˆ°ï¼Œæ‰€ä»¥ Proxy ä¹Ÿæ— æ³•ä»£ç†è¿™äº›åŽŸç”Ÿå¯¹è±¡çš„å±žæ€§ã€‚ å®žä¾‹ï¼šWeb æœåŠ¡çš„å®¢æˆ·ç«¯Proxy å¯¹è±¡å¯ä»¥æ‹¦æˆªç›®æ ‡å¯¹è±¡çš„ä»»æ„å±žæ€§ï¼Œè¿™ä½¿å¾—å®ƒå¾ˆåˆé€‚ç”¨æ¥å†™ Web æœåŠ¡çš„å®¢æˆ·ç«¯ã€‚ 123456const service = createWebService('http://example.com/data');service.employees().then(json =&gt; &#123; const employees = JSON.parse(json); // Â·Â·Â·&#125;); ä¸Šé¢ä»£ç æ–°å»ºäº†ä¸€ä¸ª Web æœåŠ¡çš„æŽ¥å£ï¼Œè¿™ä¸ªæŽ¥å£è¿”å›žå„ç§æ•°æ®ã€‚Proxy å¯ä»¥æ‹¦æˆªè¿™ä¸ªå¯¹è±¡çš„ä»»æ„å±žæ€§ï¼Œæ‰€ä»¥ä¸ç”¨ä¸ºæ¯ä¸€ç§æ•°æ®å†™ä¸€ä¸ªé€‚é…æ–¹æ³•ï¼Œåªè¦å†™ä¸€ä¸ª Proxy æ‹¦æˆªå°±å¯ä»¥äº†ã€‚ 1234567function createWebService(baseUrl) &#123; return new Proxy(&#123;&#125;, &#123; get(target, propKey, receiver) &#123; return () =&gt; httpGet(baseUrl+'/' + propKey); &#125; &#125;);&#125; åŒç†ï¼ŒProxy ä¹Ÿå¯ä»¥ç”¨æ¥å®žçŽ°æ•°æ®åº“çš„ ORM å±‚ã€‚ Reflectæ¦‚è¿°Reflectå¯¹è±¡ä¸ŽProxyå¯¹è±¡ä¸€æ ·ï¼Œä¹Ÿæ˜¯ ES6 ä¸ºäº†æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–° APIã€‚Reflectå¯¹è±¡çš„è®¾è®¡ç›®çš„æœ‰è¿™æ ·å‡ ä¸ªã€‚ ï¼ˆ1ï¼‰ å°†Objectå¯¹è±¡çš„ä¸€äº›æ˜Žæ˜¾å±žäºŽè¯­è¨€å†…éƒ¨çš„æ–¹æ³•ï¼ˆæ¯”å¦‚Object.definePropertyï¼‰ï¼Œæ”¾åˆ°Reflectå¯¹è±¡ä¸Šã€‚çŽ°é˜¶æ®µï¼ŒæŸäº›æ–¹æ³•åŒæ—¶åœ¨Objectå’ŒReflectå¯¹è±¡ä¸Šéƒ¨ç½²ï¼Œæœªæ¥çš„æ–°æ–¹æ³•å°†åªéƒ¨ç½²åœ¨Reflectå¯¹è±¡ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»ŽReflectå¯¹è±¡ä¸Šå¯ä»¥æ‹¿åˆ°è¯­è¨€å†…éƒ¨çš„æ–¹æ³•ã€‚ ï¼ˆ2ï¼‰ ä¿®æ”¹æŸäº›Objectæ–¹æ³•çš„è¿”å›žç»“æžœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ã€‚æ¯”å¦‚ï¼ŒObject.defineProperty(obj, name, desc)åœ¨æ— æ³•å®šä¹‰å±žæ€§æ—¶ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè€ŒReflect.defineProperty(obj, name, desc)åˆ™ä¼šè¿”å›žfalseã€‚ 1234567891011121314// è€å†™æ³•try &#123; Object.defineProperty(target, property, attributes); // success&#125; catch (e) &#123; // failure&#125;// æ–°å†™æ³•if (Reflect.defineProperty(target, property, attributes)) &#123; // success&#125; else &#123; // failure&#125; ï¼ˆ3ï¼‰ è®©Objectæ“ä½œéƒ½å˜æˆå‡½æ•°è¡Œä¸ºã€‚æŸäº›Objectæ“ä½œæ˜¯å‘½ä»¤å¼ï¼Œæ¯”å¦‚name in objå’Œdelete obj[name]ï¼Œè€ŒReflect.has(obj, name)å’ŒReflect.deleteProperty(obj, name)è®©å®ƒä»¬å˜æˆäº†å‡½æ•°è¡Œä¸ºã€‚ 12345// è€å†™æ³•'assign' in Object // true// æ–°å†™æ³•Reflect.has(Object, 'assign') // true ï¼ˆ4ï¼‰Reflectå¯¹è±¡çš„æ–¹æ³•ä¸ŽProxyå¯¹è±¡çš„æ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œåªè¦æ˜¯Proxyå¯¹è±¡çš„æ–¹æ³•ï¼Œå°±èƒ½åœ¨Reflectå¯¹è±¡ä¸Šæ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ã€‚è¿™å°±è®©Proxyå¯¹è±¡å¯ä»¥æ–¹ä¾¿åœ°è°ƒç”¨å¯¹åº”çš„Reflectæ–¹æ³•ï¼Œå®Œæˆé»˜è®¤è¡Œä¸ºï¼Œä½œä¸ºä¿®æ”¹è¡Œä¸ºçš„åŸºç¡€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡Proxyæ€Žä¹ˆä¿®æ”¹é»˜è®¤è¡Œä¸ºï¼Œä½ æ€»å¯ä»¥åœ¨Reflectä¸ŠèŽ·å–é»˜è®¤è¡Œä¸ºã€‚ 123456789Proxy(target, &#123; set: function(target, name, value, receiver) &#123; var success = Reflect.set(target,name, value, receiver); if (success) &#123; log('property ' + name + ' on ' + target + ' set to ' + value); &#125; return success; &#125;&#125;); ä¸Šé¢ä»£ç ä¸­ï¼ŒProxyæ–¹æ³•æ‹¦æˆªtargetå¯¹è±¡çš„å±žæ€§èµ‹å€¼è¡Œä¸ºã€‚å®ƒé‡‡ç”¨Reflect.setæ–¹æ³•å°†å€¼èµ‹å€¼ç»™å¯¹è±¡çš„å±žæ€§ï¼Œç¡®ä¿å®ŒæˆåŽŸæœ‰çš„è¡Œä¸ºï¼Œç„¶åŽå†éƒ¨ç½²é¢å¤–çš„åŠŸèƒ½ã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚ 1234567891011121314var loggedObj = new Proxy(obj, &#123; get(target, name) &#123; console.log('get', target, name); return Reflect.get(target, name); &#125;, deleteProperty(target, name) &#123; console.log('delete' + name); return Reflect.deleteProperty(target, name); &#125;, has(target, name) &#123; console.log('has' + name); return Reflect.has(target, name); &#125;&#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œæ¯ä¸€ä¸ªProxyå¯¹è±¡çš„æ‹¦æˆªæ“ä½œï¼ˆgetã€deleteã€hasï¼‰ï¼Œå†…éƒ¨éƒ½è°ƒç”¨å¯¹åº”çš„Reflectæ–¹æ³•ï¼Œä¿è¯åŽŸç”Ÿè¡Œä¸ºèƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œã€‚æ·»åŠ çš„å·¥ä½œï¼Œå°±æ˜¯å°†æ¯ä¸€ä¸ªæ“ä½œè¾“å‡ºä¸€è¡Œæ—¥å¿—ã€‚ æœ‰äº†Reflectå¯¹è±¡ä»¥åŽï¼Œå¾ˆå¤šæ“ä½œä¼šæ›´æ˜“è¯»ã€‚ 12345// è€å†™æ³•Function.prototype.apply.call(Math.floor, undefined, [1.75]) // 1// æ–°å†™æ³•Reflect.apply(Math.floor, undefined, [1.75]) // 1 é™æ€æ–¹æ³•Reflectå¯¹è±¡ä¸€å…±æœ‰13ä¸ªé™æ€æ–¹æ³•ã€‚ Reflect.apply(target,thisArg,args) Reflect.construct(target,args) Reflect.get(target,name,receiver) Reflect.set(target,name,value,receiver) Reflect.defineProperty(target,name,desc) Reflect.deleteProperty(target,name) Reflect.has(target,name) Reflect.ownKeys(target) Reflect.isExtensible(target) Reflect.preventExtensions(target) Reflect.getOwnPropertyDescriptor(target, name) Reflect.getPrototypeOf(target) Reflect.setPrototypeOf(target, prototype) ä¸Šé¢è¿™äº›æ–¹æ³•çš„ä½œç”¨ï¼Œå¤§éƒ¨åˆ†ä¸ŽObjectå¯¹è±¡çš„åŒåæ–¹æ³•çš„ä½œç”¨éƒ½æ˜¯ç›¸åŒçš„ï¼Œè€Œä¸”å®ƒä¸ŽProxyå¯¹è±¡çš„æ–¹æ³•æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ä¸‹é¢æ˜¯å¯¹å®ƒä»¬çš„è§£é‡Šã€‚ Reflect.get(target, name, receiver)Reflect.getæ–¹æ³•æŸ¥æ‰¾å¹¶è¿”å›žtargetå¯¹è±¡çš„nameå±žæ€§ï¼Œå¦‚æžœæ²¡æœ‰è¯¥å±žæ€§ï¼Œåˆ™è¿”å›žundefinedã€‚ 1234567891011var myObject = &#123; foo: 1, bar: 2, get baz() &#123; return this.foo + this.bar; &#125;,&#125;Reflect.get(myObject, 'foo') // 1Reflect.get(myObject, 'bar') // 2Reflect.get(myObject, 'baz') // 3 å¦‚æžœnameå±žæ€§éƒ¨ç½²äº†è¯»å–å‡½æ•°ï¼ˆgetterï¼‰ï¼Œåˆ™è¯»å–å‡½æ•°çš„thisç»‘å®šreceiverã€‚ 1234567891011121314var myObject = &#123; foo: 1, bar: 2, get baz() &#123; return this.foo + this.bar; &#125;,&#125;;var myReceiverObject = &#123; foo: 4, bar: 4,&#125;;Reflect.get(myObject, 'baz', myReceiverObject) // 8 å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒReflect.getæ–¹æ³•ä¼šæŠ¥é”™ã€‚ 12Reflect.get(1, 'foo') // æŠ¥é”™Reflect.get(false, 'foo') // æŠ¥é”™ Reflect.set(target, name, value, receiver)Reflect.setæ–¹æ³•è®¾ç½®targetå¯¹è±¡çš„nameå±žæ€§ç­‰äºŽvalueã€‚ å¦‚æžœnameå±žæ€§è®¾ç½®äº†èµ‹å€¼å‡½æ•°ï¼Œåˆ™èµ‹å€¼å‡½æ•°çš„thisç»‘å®šreceiverã€‚ 1234567891011121314var myObject = &#123; foo: 4, set bar(value) &#123; return this.foo = value; &#125;,&#125;;var myReceiverObject = &#123; foo: 0,&#125;;Reflect.set(myObject, 'bar', 1, myReceiverObject);myObject.foo // 4myReceiverObject.foo // 1 å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒReflect.setä¼šæŠ¥é”™ã€‚ æ³¨æ„ï¼ŒReflect.setä¼šè§¦å‘Proxy.definePropertyæ‹¦æˆª Reflect.has(obj, name)Reflect.hasæ–¹æ³•å¯¹åº”name in objé‡Œé¢çš„inè¿ç®—ç¬¦ã€‚ 123456789var myObject = &#123; foo: 1,&#125;;// æ—§å†™æ³•'foo' in myObject // true// æ–°å†™æ³•Reflect.has(myObject, 'foo') // true å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒReflect.haså’Œinè¿ç®—ç¬¦éƒ½ä¼šæŠ¥é”™ã€‚ Reflect.deleteProperty(obj, name)Reflect.deletePropertyæ–¹æ³•ç­‰åŒäºŽdelete obj[name]ï¼Œç”¨äºŽåˆ é™¤å¯¹è±¡çš„å±žæ€§ã€‚ 1234567const myObj = &#123; foo: 'bar' &#125;;// æ—§å†™æ³•delete myObj.foo;// æ–°å†™æ³•Reflect.deleteProperty(myObj, 'foo'); è¯¥æ–¹æ³•è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æžœåˆ é™¤æˆåŠŸï¼Œæˆ–è€…è¢«åˆ é™¤çš„å±žæ€§ä¸å­˜åœ¨ï¼Œè¿”å›žtrueï¼›åˆ é™¤å¤±è´¥ï¼Œè¢«åˆ é™¤çš„å±žæ€§ä¾ç„¶å­˜åœ¨ï¼Œè¿”å›žfalseã€‚ Reflect.construct(target, args)Reflect.constructæ–¹æ³•ç­‰åŒäºŽnew target(â€¦args)ï¼Œè¿™æä¾›äº†ä¸€ç§ä¸ä½¿ç”¨newï¼Œæ¥è°ƒç”¨æž„é€ å‡½æ•°çš„æ–¹æ³•ã€‚ 123456789function Greeting(name) &#123; this.name = name;&#125;// new çš„å†™æ³•const instance = new Greeting('å¼ ä¸‰');// Reflect.construct çš„å†™æ³•const instance = Reflect.construct(Greeting, ['å¼ ä¸‰']); Reflect.getPrototypeOf(obj)Reflect.getPrototypeOfæ–¹æ³•ç”¨äºŽè¯»å–å¯¹è±¡çš„[object Object]å±žæ€§ï¼Œå¯¹åº”Object.getPrototypeOf(obj)ã€‚ 1234567const myObj = new FancyThing();// æ—§å†™æ³•Object.getPrototypeOf(myObj) === FancyThing.prototype;// æ–°å†™æ³•Reflect.getPrototypeOf(myObj) === FancyThing.prototype; Reflect.getPrototypeOfå’ŒObject.getPrototypeOfçš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼š å¦‚æžœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.getPrototypeOfä¼šå°†è¿™ä¸ªå‚æ•°è½¬ä¸ºå¯¹è±¡ï¼Œç„¶åŽå†è¿è¡Œï¼Œè€ŒReflect.getPrototypeOfä¼šæŠ¥é”™ã€‚ Reflect.setPrototypeOf(obj, newProto)Reflect.setPrototypeOfæ–¹æ³•ç”¨äºŽè®¾ç½®å¯¹è±¡çš„[object Object]å±žæ€§ï¼Œè¿”å›žç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ï¼Œå¯¹åº”Object.setPrototypeOf(obj, newProto)ã€‚ Reflect.apply(func, thisArg, args)Reflect.applyæ–¹æ³•ç­‰åŒäºŽFunction.prototype.apply.call(func, thisArg, args)ï¼Œç”¨äºŽç»‘å®šthiså¯¹è±¡åŽæ‰§è¡Œç»™å®šå‡½æ•°ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æžœè¦ç»‘å®šä¸€ä¸ªå‡½æ•°çš„thiså¯¹è±¡ï¼Œå¯ä»¥è¿™æ ·å†™fn.apply(obj, args)ï¼Œä½†æ˜¯å¦‚æžœå‡½æ•°å®šä¹‰äº†è‡ªå·±çš„applyæ–¹æ³•ï¼Œå°±åªèƒ½å†™æˆFunction.prototype.apply.call(fn, obj, args)ï¼Œé‡‡ç”¨Reflectå¯¹è±¡å¯ä»¥ç®€åŒ–è¿™ç§æ“ä½œã€‚ 1234567891011const ages = [11, 33, 12, 54, 18, 96];// æ—§å†™æ³•const youngest = Math.min.apply(Math, ages);const oldest = Math.max.apply(Math, ages);const type = Object.prototype.toString.call(youngest);// æ–°å†™æ³•const youngest = Reflect.apply(Math.min, Math, ages);const oldest = Reflect.apply(Math.max, Math, ages);const type = Reflect.apply(Object.prototype.toString, youngest, []); Reflect.defineProperty(target, propertyKey, attributes)Reflect.definePropertyæ–¹æ³•åŸºæœ¬ç­‰åŒäºŽObject.definePropertyï¼Œç”¨æ¥ä¸ºå¯¹è±¡å®šä¹‰å±žæ€§ã€‚æœªæ¥ï¼ŒåŽè€…ä¼šè¢«é€æ¸åºŸé™¤ï¼Œè¯·ä»ŽçŽ°åœ¨å¼€å§‹å°±ä½¿ç”¨Reflect.definePropertyä»£æ›¿å®ƒã€‚ 12345678910111213function MyDate() &#123; /*â€¦*/&#125;// æ—§å†™æ³•Object.defineProperty(MyDate, 'now', &#123; value: () =&gt; Date.now()&#125;);// æ–°å†™æ³•Reflect.defineProperty(MyDate, 'now', &#123; value: () =&gt; Date.now()&#125;); å¦‚æžœReflect.definePropertyçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ¯”å¦‚Reflect.defineProperty(1, â€˜fooâ€™)ã€‚ Reflect.getOwnPropertyDescriptor(target, propertyKey)Reflect.getOwnPropertyDescriptoråŸºæœ¬ç­‰åŒäºŽObject.getOwnPropertyDescriptorï¼Œç”¨äºŽå¾—åˆ°æŒ‡å®šå±žæ€§çš„æè¿°å¯¹è±¡ï¼Œå°†æ¥ä¼šæ›¿ä»£æŽ‰åŽè€…ã€‚ Reflect.isExtensible (target)Reflect.isExtensibleæ–¹æ³•å¯¹åº”Object.isExtensibleï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰å¯¹è±¡æ˜¯å¦å¯æ‰©å±•ã€‚ 1234567const myObject = &#123;&#125;;// æ—§å†™æ³•Object.isExtensible(myObject) // true// æ–°å†™æ³•Reflect.isExtensible(myObject) // true Reflect.preventExtensions(target)Reflect.preventExtensionså¯¹åº”Object.preventExtensionsæ–¹æ³•ï¼Œç”¨äºŽè®©ä¸€ä¸ªå¯¹è±¡å˜ä¸ºä¸å¯æ‰©å±•ã€‚å®ƒè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ“ä½œæˆåŠŸã€‚ 1234567var myObject = &#123;&#125;;// æ—§å†™æ³•Object.preventExtensions(myObject) // Object &#123;&#125;// æ–°å†™æ³•Reflect.preventExtensions(myObject) // true å¦‚æžœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.preventExtensionsåœ¨ ES5 çŽ¯å¢ƒæŠ¥é”™ï¼Œåœ¨ ES6 çŽ¯å¢ƒè¿”å›žä¼ å…¥çš„å‚æ•°ï¼Œè€ŒReflect.preventExtensionsä¼šæŠ¥é”™ã€‚ 12345678// ES5 çŽ¯å¢ƒObject.preventExtensions(1) // æŠ¥é”™// ES6 çŽ¯å¢ƒObject.preventExtensions(1) // 1// æ–°å†™æ³•Reflect.preventExtensions(1) // æŠ¥é”™ Reflect.ownKeys (target)Reflect.ownKeysæ–¹æ³•ç”¨äºŽè¿”å›žå¯¹è±¡çš„æ‰€æœ‰å±žæ€§ï¼ŒåŸºæœ¬ç­‰åŒäºŽObject.getOwnPropertyNamesä¸ŽObject.getOwnPropertySymbolsä¹‹å’Œã€‚ 1234567891011121314151617var myObject = &#123; foo: 1, bar: 2, [Symbol.for('baz')]: 3, [Symbol.for('bing')]: 4,&#125;;// æ—§å†™æ³•Object.getOwnPropertyNames(myObject)// ['foo', 'bar']Object.getOwnPropertySymbols(myObject)//[Symbol(baz), Symbol(bing)]// æ–°å†™æ³•Reflect.ownKeys(myObject)// ['foo', 'bar', Symbol(baz), Symbol(bing)] å®žä¾‹ï¼šä½¿ç”¨ Proxy å®žçŽ°è§‚å¯Ÿè€…æ¨¡å¼è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver modeï¼‰æŒ‡çš„æ˜¯å‡½æ•°è‡ªåŠ¨è§‚å¯Ÿæ•°æ®å¯¹è±¡ï¼Œä¸€æ—¦å¯¹è±¡æœ‰å˜åŒ–ï¼Œå‡½æ•°å°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ 12345678910111213const person = observable(&#123; name: 'å¼ ä¸‰', age: 20&#125;);function print() &#123; console.log(`$&#123;person.name&#125;, $&#123;person.age&#125;`)&#125;observe(print);person.name = 'æŽå››';// è¾“å‡º// æŽå››, 20 ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°æ®å¯¹è±¡personæ˜¯è§‚å¯Ÿç›®æ ‡ï¼Œå‡½æ•°printæ˜¯è§‚å¯Ÿè€…ã€‚ä¸€æ—¦æ•°æ®å¯¹è±¡å‘ç”Ÿå˜åŒ–ï¼Œprintå°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ ä¸‹é¢ï¼Œä½¿ç”¨ Proxy å†™ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼çš„æœ€ç®€å•å®žçŽ°ï¼Œå³å®žçŽ°observableå’Œobserveè¿™ä¸¤ä¸ªå‡½æ•°ã€‚æ€è·¯æ˜¯observableå‡½æ•°è¿”å›žä¸€ä¸ªåŽŸå§‹å¯¹è±¡çš„ Proxy ä»£ç†ï¼Œæ‹¦æˆªèµ‹å€¼æ“ä½œï¼Œè§¦å‘å……å½“è§‚å¯Ÿè€…çš„å„ä¸ªå‡½æ•°ã€‚ 12345678910const queuedObservers = new Set();const observe = fn =&gt; queuedObservers.add(fn);const observable = obj =&gt; new Proxy(obj, &#123;set&#125;);function set(target, key, value, receiver) &#123; const result = Reflect.set(target, key, value, receiver); queuedObservers.forEach(observer =&gt; observer()); return result;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆå®šä¹‰äº†ä¸€ä¸ªSeté›†åˆï¼Œæ‰€æœ‰è§‚å¯Ÿè€…å‡½æ•°éƒ½æ”¾è¿›è¿™ä¸ªé›†åˆã€‚ç„¶åŽï¼Œobservableå‡½æ•°è¿”å›žåŽŸå§‹å¯¹è±¡çš„ä»£ç†ï¼Œæ‹¦æˆªèµ‹å€¼æ“ä½œã€‚æ‹¦æˆªå‡½æ•°setä¹‹ä¸­ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰è§‚å¯Ÿè€…ã€‚]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>Proxy</tag>
        <tag>Reflect</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-Promise]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-Promise%2F</url>
    <content type="text"><![CDATA[Promise çš„å«ä¹‰Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›žè°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®žçŽ°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŽŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚ æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æžœã€‚ä»Žè¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»Žå®ƒå¯ä»¥èŽ·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ã€‚Oneï¼šå¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š pendingï¼ˆè¿›è¡Œä¸­ï¼‰ fulfilledï¼ˆå·²æˆåŠŸï¼‰ rejectedï¼ˆå·²å¤±è´¥ï¼‰ åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æžœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯Promiseè¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚ Twoï¼šä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æžœã€‚Promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»Žpendingå˜ä¸ºfulfilledå’Œä»Žpendingå˜ä¸ºrejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æžœï¼Œè¿™æ—¶å°±ç§°ä¸º resolvedï¼ˆå·²å®šåž‹ï¼‰ã€‚å¦‚æžœæ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹Promiseå¯¹è±¡æ·»åŠ å›žè°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æžœã€‚è¿™ä¸Žäº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æžœä½ é”™è¿‡äº†å®ƒï¼Œå†åŽ»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æžœçš„ã€‚ æ³¨æ„ï¼Œä¸ºäº†è¡Œæ–‡æ–¹ä¾¿ï¼Œæœ¬ç« åŽé¢çš„resolvedç»Ÿä¸€åªæŒ‡fulfilledçŠ¶æ€ï¼Œä¸åŒ…å«rejectedçŠ¶æ€ã€‚ æœ‰äº†Promiseå¯¹è±¡ï¼Œå°±å¯ä»¥å°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å±‚å±‚åµŒå¥—çš„å›žè°ƒå‡½æ•°ã€‚æ­¤å¤–ï¼ŒPromiseå¯¹è±¡æä¾›ç»Ÿä¸€çš„æŽ¥å£ï¼Œä½¿å¾—æŽ§åˆ¶å¼‚æ­¥æ“ä½œæ›´åŠ å®¹æ˜“ã€‚ Promiseä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚é¦–å…ˆï¼Œæ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚å…¶æ¬¡ï¼Œå¦‚æžœä¸è®¾ç½®å›žè°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚ç¬¬ä¸‰ï¼Œå½“å¤„äºŽpendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚ å¦‚æžœæŸäº›äº‹ä»¶ä¸æ–­åœ°åå¤å‘ç”Ÿï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ Stream æ¨¡å¼æ˜¯æ¯”éƒ¨ç½²Promiseæ›´å¥½çš„é€‰æ‹©ã€‚ åŸºæœ¬ç”¨æ³•ES6 è§„å®šï¼ŒPromiseå¯¹è±¡æ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆPromiseå®žä¾‹ã€‚ ä¸‹é¢ä»£ç åˆ›é€ äº†ä¸€ä¸ªPromiseå®žä¾‹ã€‚ 123456789var promise = new Promise(function(resolve, reject) &#123; // ... some code if (/* å¼‚æ­¥æ“ä½œæˆåŠŸ */)&#123; resolve(value); &#125; else &#123; reject(error); &#125;&#125;); Promiseæž„é€ å‡½æ•°æŽ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯resolveå’Œrejectã€‚å®ƒä»¬æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œç”± JavaScript å¼•æ“Žæä¾›ï¼Œä¸ç”¨è‡ªå·±éƒ¨ç½²ã€‚ resolveå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»Žâ€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€ï¼ˆå³ä»Ž pending å˜ä¸º resolvedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æžœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºåŽ»ï¼› rejectå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»Žâ€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€ï¼ˆå³ä»Ž pending å˜ä¸º rejectedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºåŽ»ã€‚ Promiseå®žä¾‹ç”Ÿæˆä»¥åŽï¼Œå¯ä»¥ç”¨thenæ–¹æ³•åˆ†åˆ«æŒ‡å®šresolvedçŠ¶æ€å’ŒrejectedçŠ¶æ€çš„å›žè°ƒå‡½æ•°ã€‚ 12345promise.then(function(value) &#123; // success&#125;, function(error) &#123; // failure&#125;); thenæ–¹æ³•å¯ä»¥æŽ¥å—ä¸¤ä¸ªå›žè°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå›žè°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºresolvedæ—¶è°ƒç”¨ï¼Œç¬¬äºŒä¸ªå›žè°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºrejectedæ—¶è°ƒç”¨ã€‚å…¶ä¸­ï¼Œç¬¬äºŒä¸ªå‡½æ•°æ˜¯å¯é€‰çš„ï¼Œä¸ä¸€å®šè¦æä¾›ã€‚è¿™ä¸¤ä¸ªå‡½æ•°éƒ½æŽ¥å—Promiseå¯¹è±¡ä¼ å‡ºçš„å€¼ä½œä¸ºå‚æ•°ã€‚ Promise æ–°å»ºåŽå°±ä¼šç«‹å³æ‰§è¡Œã€‚1234567891011121314let promise = new Promise(function(resolve, reject) &#123; console.log('Promise'); resolve();&#125;);promise.then(function() &#123; console.log('resolved.');&#125;);console.log('Hi!');// Promise// Hi!// resolved ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise æ–°å»ºåŽç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥é¦–å…ˆè¾“å‡ºçš„æ˜¯Promiseã€‚ç„¶åŽï¼Œthenæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ï¼Œå°†åœ¨å½“å‰è„šæœ¬æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥resolvedæœ€åŽè¾“å‡ºã€‚ å¦‚æžœè°ƒç”¨resolveå‡½æ•°å’Œrejectå‡½æ•°æ—¶å¸¦æœ‰å‚æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬çš„å‚æ•°ä¼šè¢«ä¼ é€’ç»™å›žè°ƒå‡½æ•°ã€‚rejectå‡½æ•°çš„å‚æ•°é€šå¸¸æ˜¯Errorå¯¹è±¡çš„å®žä¾‹ï¼Œè¡¨ç¤ºæŠ›å‡ºçš„é”™è¯¯ï¼›resolveå‡½æ•°çš„å‚æ•°é™¤äº†æ­£å¸¸çš„å€¼ä»¥å¤–ï¼Œè¿˜å¯èƒ½æ˜¯å¦ä¸€ä¸ª Promise å®žä¾‹ 12345678var p1 = new Promise(function (resolve, reject) &#123; // ...&#125;);var p2 = new Promise(function (resolve, reject) &#123; // ... resolve(p1);&#125;) ä¸Šé¢ä»£ç ä¸­ï¼Œp1å’Œp2éƒ½æ˜¯ Promise çš„å®žä¾‹ï¼Œä½†æ˜¯p2çš„resolveæ–¹æ³•å°†p1ä½œä¸ºå‚æ•°ï¼Œå³ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æžœæ˜¯è¿”å›žå¦ä¸€ä¸ªå¼‚æ­¥æ“ä½œã€‚ æ³¨æ„ï¼Œè¿™æ—¶p1çš„çŠ¶æ€å°±ä¼šä¼ é€’ç»™p2ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œp1çš„çŠ¶æ€å†³å®šäº†p2çš„çŠ¶æ€ã€‚å¦‚æžœp1çš„çŠ¶æ€æ˜¯pendingï¼Œé‚£ä¹ˆp2çš„å›žè°ƒå‡½æ•°å°±ä¼šç­‰å¾…p1çš„çŠ¶æ€æ”¹å˜ï¼›å¦‚æžœp1çš„çŠ¶æ€å·²ç»æ˜¯resolvedæˆ–è€…rejectedï¼Œé‚£ä¹ˆp2çš„å›žè°ƒå‡½æ•°å°†ä¼šç«‹åˆ»æ‰§è¡Œã€‚ æ³¨æ„ï¼Œè°ƒç”¨resolveæˆ–rejectå¹¶ä¸ä¼šç»ˆç»“ Promise çš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œã€‚ 12345678new Promise((resolve, reject) =&gt; &#123; resolve(1); console.log(2);&#125;).then(r =&gt; &#123; console.log(r);&#125;);// 2// 1 ä¸Šé¢ä»£ç ä¸­ï¼Œè°ƒç”¨resolve(1)ä»¥åŽï¼ŒåŽé¢çš„console.log(2)è¿˜æ˜¯ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”ä¼šé¦–å…ˆæ‰“å°å‡ºæ¥ã€‚è¿™æ˜¯å› ä¸ºç«‹å³ resolved çš„ Promise æ˜¯åœ¨æœ¬è½®äº‹ä»¶å¾ªçŽ¯çš„æœ«å°¾æ‰§è¡Œï¼Œæ€»æ˜¯æ™šäºŽæœ¬è½®å¾ªçŽ¯çš„åŒæ­¥ä»»åŠ¡ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨resolveæˆ–rejectä»¥åŽï¼ŒPromise çš„ä½¿å‘½å°±å®Œæˆäº†ï¼ŒåŽç»§æ“ä½œåº”è¯¥æ”¾åˆ°thenæ–¹æ³•é‡Œé¢ï¼Œè€Œä¸åº”è¯¥ç›´æŽ¥å†™åœ¨resolveæˆ–rejectçš„åŽé¢ã€‚æ‰€ä»¥ï¼Œæœ€å¥½åœ¨å®ƒä»¬å‰é¢åŠ ä¸Šreturnè¯­å¥ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰æ„å¤–ã€‚ 12345new Promise((resolve, reject) =&gt; &#123; return resolve(1); // åŽé¢çš„è¯­å¥ä¸ä¼šæ‰§è¡Œ console.log(2);&#125;) Promise.prototype.then()Promise å®žä¾‹å…·æœ‰thenæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œthenæ–¹æ³•æ˜¯å®šä¹‰åœ¨åŽŸåž‹å¯¹è±¡Promise.prototypeä¸Šçš„ã€‚å®ƒçš„ä½œç”¨æ˜¯ä¸º Promise å®žä¾‹æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›žè°ƒå‡½æ•°ã€‚å‰é¢è¯´è¿‡ï¼Œthenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯resolvedçŠ¶æ€çš„å›žè°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰æ˜¯rejectedçŠ¶æ€çš„å›žè°ƒå‡½æ•°ã€‚ thenæ–¹æ³•è¿”å›žçš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®žä¾‹ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯åŽŸæ¥é‚£ä¸ªPromiseå®žä¾‹ï¼‰ã€‚å› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œå³thenæ–¹æ³•åŽé¢å†è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚ é‡‡ç”¨é“¾å¼çš„thenï¼Œå¯ä»¥æŒ‡å®šä¸€ç»„æŒ‰ç…§æ¬¡åºè°ƒç”¨çš„å›žè°ƒå‡½æ•°ã€‚è¿™æ—¶ï¼Œå‰ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œæœ‰å¯èƒ½è¿”å›žçš„è¿˜æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼ˆå³æœ‰å¼‚æ­¥æ“ä½œï¼‰ï¼Œè¿™æ—¶åŽä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œå°±ä¼šç­‰å¾…è¯¥Promiseå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œæ‰ä¼šè¢«è°ƒç”¨ã€‚ 1234567getJSON("/post/1.json").then(function (post) &#123; return getJSON(post.commentURL);&#125;).then(function funcA(comments) &#123; console.log("resolved: ", comments);&#125;, function funcB(err) &#123; console.log("rejected: ", err);&#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€ä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ï¼Œè¿”å›žçš„æ˜¯å¦ä¸€ä¸ªPromiseå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç¬¬äºŒä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ï¼Œå°±ä¼šç­‰å¾…è¿™ä¸ªæ–°çš„Promiseå¯¹è±¡çŠ¶æ€å‘ç”Ÿå˜åŒ–ã€‚å¦‚æžœå˜ä¸ºresolvedï¼Œå°±è°ƒç”¨funcAï¼Œå¦‚æžœçŠ¶æ€å˜ä¸ºrejectedï¼Œå°±è°ƒç”¨funcBã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä¸Šé¢çš„ä»£ç å°†æ›´ç®€æ´ã€‚ Promise.prototype.catch()Promise.prototype.catchæ–¹æ³•æ˜¯.then(null, rejection)çš„åˆ«åï¼Œç”¨äºŽæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›žè°ƒå‡½æ•°ã€‚ 123456p.then((val) =&gt; console.log('fulfilled:', val)) .catch((err) =&gt; console.log('rejected', err));// ç­‰åŒäºŽp.then((val) =&gt; console.log('fulfilled:', val)) .then(null, (err) =&gt; console.log("rejected:", err)); å¦‚æžœå¼‚æ­¥æ“ä½œæŠ›å‡ºé”™è¯¯ï¼ŒçŠ¶æ€å°±ä¼šå˜ä¸ºrejectedï¼Œå°±ä¼šè°ƒç”¨catchæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ï¼Œå¤„ç†è¿™ä¸ªé”™è¯¯ã€‚å¦å¤–ï¼Œthenæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ï¼Œå¦‚æžœè¿è¡Œä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿä¼šè¢«catchæ–¹æ³•æ•èŽ·ã€‚ å¦‚æžœPromiseçŠ¶æ€å·²ç»å˜æˆresolvedï¼Œå†æŠ›å‡ºé”™è¯¯æ˜¯æ— æ•ˆçš„ã€‚å› ä¸º Promise çš„çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±æ°¸ä¹…ä¿æŒè¯¥çŠ¶æ€ï¼Œä¸ä¼šå†å˜äº†ã€‚ Promise å¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨ï¼Œä¼šä¸€ç›´å‘åŽä¼ é€’ï¼Œç›´åˆ°è¢«æ•èŽ·ä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé”™è¯¯æ€»æ˜¯ä¼šè¢«ä¸‹ä¸€ä¸ªcatchè¯­å¥æ•èŽ·ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œä¸è¦åœ¨thenæ–¹æ³•é‡Œé¢å®šä¹‰RejectçŠ¶æ€çš„å›žè°ƒå‡½æ•°ï¼ˆå³thençš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰ï¼Œæ€»æ˜¯ä½¿ç”¨catchæ–¹æ³•ã€‚ 12345678910111213141516// badpromise .then(function(data) &#123; // success &#125;, function(err) &#123; // error &#125;);// goodpromise .then(function(data) &#123; //cb // success &#125;) .catch(function(err) &#123; // error &#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒç§å†™æ³•è¦å¥½äºŽç¬¬ä¸€ç§å†™æ³•ï¼Œç†ç”±æ˜¯ç¬¬äºŒç§å†™æ³•å¯ä»¥æ•èŽ·å‰é¢thenæ–¹æ³•æ‰§è¡Œä¸­çš„é”™è¯¯ï¼Œä¹Ÿæ›´æŽ¥è¿‘åŒæ­¥çš„å†™æ³•ï¼ˆtry/catchï¼‰ã€‚å› æ­¤ï¼Œå»ºè®®æ€»æ˜¯ä½¿ç”¨catchæ–¹æ³•ï¼Œè€Œä¸ä½¿ç”¨thenæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚ è·Ÿä¼ ç»Ÿçš„try/catchä»£ç å—ä¸åŒçš„æ˜¯ï¼Œå¦‚æžœæ²¡æœ‰ä½¿ç”¨catchæ–¹æ³•æŒ‡å®šé”™è¯¯å¤„ç†çš„å›žè°ƒå‡½æ•°ï¼ŒPromise å¯¹è±¡æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šä¼ é€’åˆ°å¤–å±‚ä»£ç ï¼Œå³ä¸ä¼šæœ‰ä»»ä½•ååº”ã€‚ ä¸€èˆ¬æ€»æ˜¯å»ºè®®ï¼ŒPromise å¯¹è±¡åŽé¢è¦è·Ÿcatchæ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥å¤„ç† Promise å†…éƒ¨å‘ç”Ÿçš„é”™è¯¯ã€‚catchæ–¹æ³•è¿”å›žçš„è¿˜æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤åŽé¢è¿˜å¯ä»¥æŽ¥ç€è°ƒç”¨thenæ–¹æ³•ã€‚ Promise.all()Promise.allæ–¹æ³•ç”¨äºŽå°†å¤šä¸ª Promise å®žä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®žä¾‹ã€‚ 1var p = Promise.all([p1, p2, p3]); Promise.allæ–¹æ³•æŽ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œp1ã€p2ã€p3éƒ½æ˜¯ Promise å®žä¾‹ï¼Œå¦‚æžœä¸æ˜¯ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolveæ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®žä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚ï¼ˆPromise.allæ–¹æ³•çš„å‚æ•°å¯ä»¥ä¸æ˜¯æ•°ç»„ï¼Œä½†å¿…é¡»å…·æœ‰ Iterator æŽ¥å£ï¼Œä¸”è¿”å›žçš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ Promise å®žä¾‹ã€‚ï¼‰ pçš„çŠ¶æ€ç”±p1ã€p2ã€p3å†³å®šï¼Œåˆ†æˆä¸¤ç§æƒ…å†µã€‚ åªæœ‰p1ã€p2ã€p3çš„çŠ¶æ€éƒ½å˜æˆfulfilledï¼Œpçš„çŠ¶æ€æ‰ä¼šå˜æˆfulfilledï¼Œæ­¤æ—¶p1ã€p2ã€p3çš„è¿”å›žå€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™pçš„å›žè°ƒå‡½æ•°ã€‚ åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«rejectedï¼Œpçš„çŠ¶æ€å°±å˜æˆrejectedï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«rejectçš„å®žä¾‹çš„è¿”å›žå€¼ï¼Œä¼šä¼ é€’ç»™pçš„å›žè°ƒå‡½æ•°ã€‚ æ³¨æ„ï¼Œå¦‚æžœä½œä¸ºå‚æ•°çš„ Promise å®žä¾‹ï¼Œè‡ªå·±å®šä¹‰äº†catchæ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä¸€æ—¦è¢«rejectedï¼Œå¹¶ä¸ä¼šè§¦å‘Promise.all()çš„catchæ–¹æ³•ã€‚ 12345678910111213141516const p1 = new Promise((resolve, reject) =&gt; &#123; resolve('hello');&#125;).then(result =&gt; result).catch(e =&gt; e);const p2 = new Promise((resolve, reject) =&gt; &#123; throw new Error('æŠ¥é”™äº†');&#125;).then(result =&gt; result).catch(e =&gt; e);Promise.all([p1, p2]).then(result =&gt; console.log(result)).catch(e =&gt; console.log(e));// ["hello", Error: æŠ¥é”™äº†] ä¸Šé¢ä»£ç ä¸­ï¼Œp1ä¼šresolvedï¼Œp2é¦–å…ˆä¼šrejectedï¼Œä½†æ˜¯p2æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›žçš„æ˜¯ä¸€ä¸ªæ–°çš„ Promise å®žä¾‹ï¼Œp2æŒ‡å‘çš„å®žé™…ä¸Šæ˜¯è¿™ä¸ªå®žä¾‹ã€‚è¯¥å®žä¾‹æ‰§è¡Œå®Œcatchæ–¹æ³•åŽï¼Œä¹Ÿä¼šå˜æˆresolvedï¼Œå¯¼è‡´Promise.all()æ–¹æ³•å‚æ•°é‡Œé¢çš„ä¸¤ä¸ªå®žä¾‹éƒ½ä¼šresolvedï¼Œå› æ­¤ä¼šè°ƒç”¨thenæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ï¼Œè€Œä¸ä¼šè°ƒç”¨catchæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ã€‚ å¦‚æžœp2æ²¡æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œå°±ä¼šè°ƒç”¨Promise.all()çš„catchæ–¹æ³•ã€‚ 1234567891011121314const p1 = new Promise((resolve, reject) =&gt; &#123; resolve('hello');&#125;).then(result =&gt; result);const p2 = new Promise((resolve, reject) =&gt; &#123; throw new Error('æŠ¥é”™äº†');&#125;).then(result =&gt; result);Promise.all([p1, p2]).then(result =&gt; console.log(result)).catch(e =&gt; console.log(e));// Error: æŠ¥é”™äº† Promise.race()Promise.raceæ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ªPromiseå®žä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®žä¾‹ã€‚ 1var p = Promise.race([p1, p2, p3]); åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªå®žä¾‹çŽ‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œpçš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªçŽ‡å…ˆæ”¹å˜çš„ Promise å®žä¾‹çš„è¿”å›žå€¼ï¼Œå°±ä¼ é€’ç»™pçš„å›žè°ƒå‡½æ•°ã€‚ Promise.raceæ–¹æ³•çš„å‚æ•°ä¸ŽPromise.allæ–¹æ³•ä¸€æ ·ï¼Œå¦‚æžœä¸æ˜¯ Promise å®žä¾‹ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolveæ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®žä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚ Promise.resolve()æœ‰æ—¶éœ€è¦å°†çŽ°æœ‰å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ï¼ŒPromise.resolveæ–¹æ³•å°±èµ·åˆ°è¿™ä¸ªä½œç”¨ã€‚ 1var jsPromise = Promise.resolve($.ajax('/whatever.json')); ä¸Šé¢ä»£ç å°†jQueryç”Ÿæˆçš„deferredå¯¹è±¡ï¼Œè½¬ä¸ºä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ã€‚ Promise.resolveæ–¹æ³•çš„å‚æ•°åˆ†æˆå››ç§æƒ…å†µã€‚ å‚æ•°æ˜¯ä¸€ä¸ªPromiseå®žä¾‹ å¦‚æžœå‚æ•°æ˜¯Promiseå®žä¾‹ï¼Œé‚£ä¹ˆPromise.resolveå°†ä¸åšä»»ä½•ä¿®æ”¹ã€åŽŸå°ä¸åŠ¨åœ°è¿”å›žè¿™ä¸ªå®žä¾‹ã€‚ å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡thenableå¯¹è±¡æŒ‡çš„æ˜¯å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªå¯¹è±¡ã€‚ 12345let thenable = &#123; then: function(resolve, reject) &#123; resolve(42); &#125;&#125;; Promise.resolveæ–¹æ³•ä¼šå°†è¿™ä¸ªå¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ï¼Œç„¶åŽå°±ç«‹å³æ‰§è¡Œthenableå¯¹è±¡çš„thenæ–¹æ³•ã€‚ 12345678910let thenable = &#123; then: function(resolve, reject) &#123; resolve(42); &#125;&#125;;let p1 = Promise.resolve(thenable);p1.then(function(value) &#123; console.log(value); // 42&#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œthenableå¯¹è±¡çš„thenæ–¹æ³•æ‰§è¡ŒåŽï¼Œå¯¹è±¡p1çš„çŠ¶æ€å°±å˜ä¸ºresolvedï¼Œä»Žè€Œç«‹å³æ‰§è¡Œæœ€åŽé‚£ä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ï¼Œè¾“å‡º42ã€‚ å‚æ•°ä¸æ˜¯å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–æ ¹æœ¬å°±ä¸æ˜¯å¯¹è±¡ å¦‚æžœå‚æ•°æ˜¯ä¸€ä¸ªåŽŸå§‹å€¼ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œåˆ™Promise.resolveæ–¹æ³•è¿”å›žä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼ŒçŠ¶æ€ä¸ºresolvedã€‚ 123456var p = Promise.resolve('Hello');p.then(function (s)&#123; console.log(s)&#125;);// Hello ä¸Šé¢ä»£ç ç”Ÿæˆä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡çš„å®žä¾‹pã€‚ç”±äºŽå­—ç¬¦ä¸²Helloä¸å±žäºŽå¼‚æ­¥æ“ä½œï¼ˆåˆ¤æ–­æ–¹æ³•æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ä¸å…·æœ‰thenæ–¹æ³•ï¼‰ï¼Œè¿”å›žPromiseå®žä¾‹çš„çŠ¶æ€ä»Žä¸€ç”Ÿæˆå°±æ˜¯resolvedï¼Œæ‰€ä»¥å›žè°ƒå‡½æ•°ä¼šç«‹å³æ‰§è¡Œã€‚Promise.resolveæ–¹æ³•çš„å‚æ•°ï¼Œä¼šåŒæ—¶ä¼ ç»™å›žè°ƒå‡½æ•°ã€‚ ä¸å¸¦æœ‰ä»»ä½•å‚æ•°Promise.resolveæ–¹æ³•å…è®¸è°ƒç”¨æ—¶ä¸å¸¦å‚æ•°ï¼Œç›´æŽ¥è¿”å›žä¸€ä¸ªresolvedçŠ¶æ€çš„Promiseå¯¹è±¡ã€‚æ‰€ä»¥ï¼Œå¦‚æžœå¸Œæœ›å¾—åˆ°ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ç›´æŽ¥è°ƒç”¨Promise.resolveæ–¹æ³•ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç«‹å³resolveçš„Promiseå¯¹è±¡ï¼Œæ˜¯åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªçŽ¯â€ï¼ˆevent loopï¼‰çš„ç»“æŸæ—¶ï¼Œè€Œä¸æ˜¯åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªçŽ¯â€çš„å¼€å§‹æ—¶ã€‚ 12345678910111213setTimeout(function () &#123; console.log('three');&#125;, 0);Promise.resolve().then(function () &#123; console.log('two');&#125;);console.log('one');// one// two// three ä¸Šé¢ä»£ç ä¸­ï¼ŒsetTimeout(fn, 0)åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªçŽ¯â€å¼€å§‹æ—¶æ‰§è¡Œï¼ŒPromise.resolve()åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªçŽ¯â€ç»“æŸæ—¶æ‰§è¡Œï¼Œconsole.log(â€˜oneâ€™)åˆ™æ˜¯ç«‹å³æ‰§è¡Œï¼Œå› æ­¤æœ€å…ˆè¾“å‡ºã€‚ Promise.reject()Promise.reject(reason)æ–¹æ³•ä¹Ÿä¼šè¿”å›žä¸€ä¸ªæ–°çš„ Promise å®žä¾‹ï¼Œè¯¥å®žä¾‹çš„çŠ¶æ€ä¸ºrejectedã€‚ 12345678var p = Promise.reject('å‡ºé”™äº†');// ç­‰åŒäºŽvar p = new Promise((resolve, reject) =&gt; reject('å‡ºé”™äº†'))p.then(null, function (s) &#123; console.log(s)&#125;);// å‡ºé”™äº† ä¸Šé¢ä»£ç ç”Ÿæˆä¸€ä¸ªPromiseå¯¹è±¡çš„å®žä¾‹pï¼ŒçŠ¶æ€ä¸ºrejectedï¼Œå›žè°ƒå‡½æ•°ä¼šç«‹å³æ‰§è¡Œã€‚ æ³¨æ„ï¼ŒPromise.reject()æ–¹æ³•çš„å‚æ•°ï¼Œä¼šåŽŸå°ä¸åŠ¨åœ°ä½œä¸ºrejectçš„ç†ç”±ï¼Œå˜æˆåŽç»­æ–¹æ³•çš„å‚æ•°ã€‚è¿™ä¸€ç‚¹ä¸ŽPromise.resolveæ–¹æ³•ä¸ä¸€è‡´ã€‚ 1234567891011const thenable = &#123; then(resolve, reject) &#123; reject('å‡ºé”™äº†'); &#125;&#125;;Promise.reject(thenable).catch(e =&gt; &#123; console.log(e === thenable)&#125;)// true ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise.rejectæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡ï¼Œæ‰§è¡Œä»¥åŽï¼ŒåŽé¢catchæ–¹æ³•çš„å‚æ•°ä¸æ˜¯rejectæŠ›å‡ºçš„â€œå‡ºé”™äº†â€è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯thenableå¯¹è±¡ã€‚]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-IteratoréåŽ†å™¨çš„æ¦‚å¿µ]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-Iterator%E9%81%8D%E5%8E%86%E5%99%A8%E7%9A%84%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[Iteratorï¼ˆéåŽ†å™¨ï¼‰çš„æ¦‚å¿µJavaScript åŽŸæœ‰çš„è¡¨ç¤ºâ€œé›†åˆâ€çš„æ•°æ®ç»“æž„ï¼Œä¸»è¦æ˜¯æ•°ç»„ï¼ˆArrayï¼‰å’Œå¯¹è±¡ï¼ˆObjectï¼‰ï¼ŒES6 åˆæ·»åŠ äº†Mapå’ŒSetã€‚è¿™æ ·å°±æœ‰äº†å››ç§æ•°æ®é›†åˆï¼Œç”¨æˆ·è¿˜å¯ä»¥ç»„åˆä½¿ç”¨å®ƒä»¬ï¼Œå®šä¹‰è‡ªå·±çš„æ•°æ®ç»“æž„ï¼Œæ¯”å¦‚æ•°ç»„çš„æˆå‘˜æ˜¯Mapï¼ŒMapçš„æˆå‘˜æ˜¯å¯¹è±¡ã€‚è¿™æ ·å°±éœ€è¦ä¸€ç§ç»Ÿä¸€çš„æŽ¥å£æœºåˆ¶ï¼Œæ¥å¤„ç†æ‰€æœ‰ä¸åŒçš„æ•°æ®ç»“æž„ã€‚ éåŽ†å™¨ï¼ˆIteratorï¼‰å°±æ˜¯è¿™æ ·ä¸€ç§æœºåˆ¶ã€‚å®ƒæ˜¯ä¸€ç§æŽ¥å£ï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æž„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ã€‚ä»»ä½•æ•°æ®ç»“æž„åªè¦éƒ¨ç½²IteratoræŽ¥å£ï¼Œå°±å¯ä»¥å®ŒæˆéåŽ†æ“ä½œï¼ˆå³ä¾æ¬¡å¤„ç†è¯¥æ•°æ®ç»“æž„çš„æ‰€æœ‰æˆå‘˜ï¼‰ã€‚ Iterator çš„ä½œç”¨æœ‰ä¸‰ä¸ªï¼š ä¸ºå„ç§æ•°æ®ç»“æž„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æŽ¥å£ï¼› ä½¿å¾—æ•°æ®ç»“æž„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæŽ’åˆ—ï¼› ES6åˆ›é€ äº†ä¸€ç§æ–°çš„éåŽ†å‘½ä»¤forâ€¦ofå¾ªçŽ¯ï¼ŒIteratoræŽ¥å£ä¸»è¦ä¾›forâ€¦ofä½¿ç”¨ã€‚ Iterator çš„éåŽ†è¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚ åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æž„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒéåŽ†å™¨å¯¹è±¡æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚ ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æž„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚ ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æž„çš„ç¬¬äºŒä¸ªæˆå‘˜ã€‚ ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æž„çš„ç»“æŸä½ç½®ã€‚ æ¯ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›žæ•°æ®ç»“æž„çš„å½“å‰æˆå‘˜çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¿”å›žä¸€ä¸ªåŒ…å«valueå’Œdoneä¸¤ä¸ªå±žæ€§çš„å¯¹è±¡ã€‚å…¶ä¸­ï¼Œvalueå±žæ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œdoneå±žæ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéåŽ†æ˜¯å¦ç»“æŸã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿnextæ–¹æ³•è¿”å›žå€¼çš„ä¾‹å­ã€‚ 12345678910111213141516var it = makeIterator(['a', 'b']);it.next() // &#123; value: "a", done: false &#125;it.next() // &#123; value: "b", done: false &#125;it.next() // &#123; value: undefined, done: true &#125;function makeIterator(array) &#123; var nextIndex = 0; return &#123; next: function() &#123; return nextIndex &lt; array.length ? &#123;value: array[nextIndex++], done: false&#125; : &#123;value: undefined, done: true&#125;; &#125; &#125;;&#125; ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ªmakeIteratorå‡½æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªéåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œä½œç”¨å°±æ˜¯è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ã€‚å¯¹æ•°ç»„[â€˜aâ€™, â€˜bâ€™]æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå°±ä¼šè¿”å›žè¯¥æ•°ç»„çš„éåŽ†å™¨å¯¹è±¡ï¼ˆå³æŒ‡é’ˆå¯¹è±¡ï¼‰itã€‚ æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œç”¨æ¥ç§»åŠ¨æŒ‡é’ˆã€‚å¼€å§‹æ—¶ï¼ŒæŒ‡é’ˆæŒ‡å‘æ•°ç»„çš„å¼€å§‹ä½ç½®ã€‚ç„¶åŽï¼Œæ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼ŒæŒ‡é’ˆå°±ä¼šæŒ‡å‘æ•°ç»„çš„ä¸‹ä¸€ä¸ªæˆå‘˜ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼ŒæŒ‡å‘aï¼›ç¬¬äºŒæ¬¡è°ƒç”¨ï¼ŒæŒ‡å‘bã€‚ nextæ–¹æ³•è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰æ•°æ®æˆå‘˜çš„ä¿¡æ¯ã€‚è¿™ä¸ªå¯¹è±¡å…·æœ‰valueå’Œdoneä¸¤ä¸ªå±žæ€§ï¼Œvalueå±žæ€§è¿”å›žå½“å‰ä½ç½®çš„æˆå‘˜ï¼Œdoneå±žæ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéåŽ†æ˜¯å¦ç»“æŸï¼Œå³æ˜¯å¦è¿˜æœ‰å¿…è¦å†ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ã€‚ æ€»ä¹‹ï¼Œè°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±å¯ä»¥éåŽ†äº‹å…ˆç»™å®šçš„æ•°æ®ç»“æž„ã€‚ å¯¹äºŽéåŽ†å™¨å¯¹è±¡æ¥è¯´ï¼Œdone: falseå’Œvalue: undefinedå±žæ€§éƒ½æ˜¯å¯ä»¥çœç•¥çš„ï¼Œå› æ­¤ä¸Šé¢çš„makeIteratorå‡½æ•°å¯ä»¥ç®€å†™æˆä¸‹é¢çš„å½¢å¼ã€‚ 12345678910function makeIterator(array) &#123; var nextIndex = 0; return &#123; next: function() &#123; return nextIndex &lt; array.length ? &#123;value: array[nextIndex++]&#125; : &#123;done: true&#125;; &#125; &#125;;&#125; ç”±äºŽ Iterator åªæ˜¯æŠŠæŽ¥å£è§„æ ¼åŠ åˆ°æ•°æ®ç»“æž„ä¹‹ä¸Šï¼Œæ‰€ä»¥ï¼ŒéåŽ†å™¨ä¸Žå®ƒæ‰€éåŽ†çš„é‚£ä¸ªæ•°æ®ç»“æž„ï¼Œå®žé™…ä¸Šæ˜¯åˆ†å¼€çš„ï¼Œå®Œå…¨å¯ä»¥å†™å‡ºæ²¡æœ‰å¯¹åº”æ•°æ®ç»“æž„çš„éåŽ†å™¨å¯¹è±¡ï¼Œæˆ–è€…è¯´ç”¨éåŽ†å™¨å¯¹è±¡æ¨¡æ‹Ÿå‡ºæ•°æ®ç»“æž„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ— é™è¿è¡Œçš„éåŽ†å™¨å¯¹è±¡çš„ä¾‹å­ã€‚ 12345678910111213141516var it = idMaker();it.next().value // '0'it.next().value // '1'it.next().value // '2'// ...function idMaker() &#123; var index = 0; return &#123; next: function() &#123; return &#123;value: index++, done: false&#125;; &#125; &#125;;&#125; ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒéåŽ†å™¨ç”Ÿæˆå‡½æ•°idMakerï¼Œè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼ˆå³æŒ‡é’ˆå¯¹è±¡ï¼‰ã€‚ä½†æ˜¯å¹¶æ²¡æœ‰å¯¹åº”çš„æ•°æ®ç»“æž„ï¼Œæˆ–è€…è¯´ï¼ŒéåŽ†å™¨å¯¹è±¡è‡ªå·±æè¿°äº†ä¸€ä¸ªæ•°æ®ç»“æž„å‡ºæ¥ã€‚ å¦‚æžœä½¿ç”¨ TypeScript çš„å†™æ³•ï¼ŒéåŽ†å™¨æŽ¥å£ï¼ˆIterableï¼‰ã€æŒ‡é’ˆå¯¹è±¡ï¼ˆIteratorï¼‰å’Œnextæ–¹æ³•è¿”å›žå€¼çš„è§„æ ¼å¯ä»¥æè¿°å¦‚ä¸‹ã€‚ 123456789101112interface Iterable &#123; [Symbol.iterator]() : Iterator,&#125;interface Iterator &#123; next(value?: any) : IterationResult,&#125;interface IterationResult &#123; value: any, done: boolean,&#125; é»˜è®¤ Iterator æŽ¥å£ä¸€ç§æ•°æ®ç»“æž„åªè¦éƒ¨ç½²äº† Iterator æŽ¥å£ï¼Œæˆ‘ä»¬å°±ç§°è¿™ç§æ•°æ®ç»“æž„æ˜¯â€å¯éåŽ†çš„â€œï¼ˆiterableï¼‰ã€‚ ES6 è§„å®šï¼Œé»˜è®¤çš„ Iterator æŽ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æž„çš„Symbol.iteratorå±žæ€§ï¼Œæˆ–è€…è¯´ï¼Œä¸€ä¸ªæ•°æ®ç»“æž„åªè¦å…·æœ‰Symbol.iteratorå±žæ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯â€œå¯éåŽ†çš„â€ï¼ˆiterableï¼‰ã€‚Symbol.iteratorå±žæ€§æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°±æ˜¯å½“å‰æ•°æ®ç»“æž„é»˜è®¤çš„éåŽ†å™¨ç”Ÿæˆå‡½æ•°ã€‚æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå°±ä¼šè¿”å›žä¸€ä¸ªéåŽ†å™¨ã€‚è‡³äºŽå±žæ€§åSymbol.iteratorï¼Œå®ƒæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›žSymbolå¯¹è±¡çš„iteratorå±žæ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªé¢„å®šä¹‰å¥½çš„ã€ç±»åž‹ä¸º Symbol çš„ç‰¹æ®Šå€¼ï¼Œæ‰€ä»¥è¦æ”¾åœ¨æ–¹æ‹¬å·å†…ï¼ˆå‚è§ Symbol ä¸€ç« ï¼‰ã€‚ 123456789101112const obj = &#123; [Symbol.iterator] : function () &#123; return &#123; next: function () &#123; return &#123; value: 1, done: true &#125;; &#125; &#125;; &#125;&#125;; ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡objæ˜¯å¯éåŽ†çš„ï¼ˆiterableï¼‰ï¼Œå› ä¸ºå…·æœ‰Symbol.iteratorå±žæ€§ã€‚æ‰§è¡Œè¿™ä¸ªå±žæ€§ï¼Œä¼šè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ã€‚è¯¥å¯¹è±¡çš„æ ¹æœ¬ç‰¹å¾å°±æ˜¯å…·æœ‰nextæ–¹æ³•ã€‚æ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›žä¸€ä¸ªä»£è¡¨å½“å‰æˆå‘˜çš„ä¿¡æ¯å¯¹è±¡ï¼Œå…·æœ‰valueå’Œdoneä¸¤ä¸ªå±žæ€§ã€‚ ES6 çš„æœ‰äº›æ•°æ®ç»“æž„åŽŸç”Ÿå…·å¤‡ Iterator æŽ¥å£ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ï¼Œå³ä¸ç”¨ä»»ä½•å¤„ç†ï¼Œå°±å¯ä»¥è¢«forâ€¦ofå¾ªçŽ¯éåŽ†ã€‚åŽŸå› åœ¨äºŽï¼Œè¿™äº›æ•°æ®ç»“æž„åŽŸç”Ÿéƒ¨ç½²äº†Symbol.iteratorå±žæ€§ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œå¦å¤–ä¸€äº›æ•°æ®ç»“æž„æ²¡æœ‰ï¼ˆæ¯”å¦‚å¯¹è±¡ï¼‰ã€‚å‡¡æ˜¯éƒ¨ç½²äº†Symbol.iteratorå±žæ€§çš„æ•°æ®ç»“æž„ï¼Œå°±ç§°ä¸ºéƒ¨ç½²äº†éåŽ†å™¨æŽ¥å£ã€‚è°ƒç”¨è¿™ä¸ªæŽ¥å£ï¼Œå°±ä¼šè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ã€‚ åŽŸç”Ÿå…·å¤‡ Iterator æŽ¥å£çš„æ•°æ®ç»“æž„å¦‚ä¸‹ã€‚ Array Map Set String TypedArray å‡½æ•°çš„ arguments å¯¹è±¡ NodeList å¯¹è±¡ å¯¹äºŽåŽŸç”Ÿéƒ¨ç½² Iterator æŽ¥å£çš„æ•°æ®ç»“æž„ï¼Œä¸ç”¨è‡ªå·±å†™éåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œforâ€¦ofå¾ªçŽ¯ä¼šè‡ªåŠ¨éåŽ†å®ƒä»¬ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä»–æ•°æ®ç»“æž„ï¼ˆä¸»è¦æ˜¯å¯¹è±¡ï¼‰çš„ Iterator æŽ¥å£ï¼Œéƒ½éœ€è¦è‡ªå·±åœ¨Symbol.iteratorå±žæ€§ä¸Šé¢éƒ¨ç½²ï¼Œè¿™æ ·æ‰ä¼šè¢«forâ€¦ofå¾ªçŽ¯éåŽ†ã€‚ å¯¹è±¡ï¼ˆObjectï¼‰ä¹‹æ‰€ä»¥æ²¡æœ‰é»˜è®¤éƒ¨ç½² Iterator æŽ¥å£ï¼Œæ˜¯å› ä¸ºå¯¹è±¡çš„å“ªä¸ªå±žæ€§å…ˆéåŽ†ï¼Œå“ªä¸ªå±žæ€§åŽéåŽ†æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦å¼€å‘è€…æ‰‹åŠ¨æŒ‡å®šã€‚æœ¬è´¨ä¸Šï¼ŒéåŽ†å™¨æ˜¯ä¸€ç§çº¿æ€§å¤„ç†ï¼Œå¯¹äºŽä»»ä½•éžçº¿æ€§çš„æ•°æ®ç»“æž„ï¼Œéƒ¨ç½²éåŽ†å™¨æŽ¥å£ï¼Œå°±ç­‰äºŽéƒ¨ç½²ä¸€ç§çº¿æ€§è½¬æ¢ã€‚ä¸è¿‡ï¼Œä¸¥æ ¼åœ°è¯´ï¼Œå¯¹è±¡éƒ¨ç½²éåŽ†å™¨æŽ¥å£å¹¶ä¸æ˜¯å¾ˆå¿…è¦ï¼Œå› ä¸ºè¿™æ—¶å¯¹è±¡å®žé™…ä¸Šè¢«å½“ä½œ Map ç»“æž„ä½¿ç”¨ï¼ŒES5 æ²¡æœ‰ Map ç»“æž„ï¼Œè€Œ ES6 åŽŸç”Ÿæä¾›äº†ã€‚ ä¸‹é¢çš„ä¾‹å­æ˜¯æ•°ç»„çš„Symbol.iteratorå±žæ€§ã€‚ 1234567let arr = ['a', 'b', 'c'];let iter = arr[Symbol.iterator]();iter.next() // &#123; value: 'a', done: false &#125;iter.next() // &#123; value: 'b', done: false &#125;iter.next() // &#123; value: 'c', done: false &#125;iter.next() // &#123; value: undefined, done: true &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡arræ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŽŸç”Ÿå°±å…·æœ‰éåŽ†å™¨æŽ¥å£ï¼Œéƒ¨ç½²åœ¨arrçš„Symbol.iteratorå±žæ€§ä¸Šé¢ã€‚æ‰€ä»¥ï¼Œè°ƒç”¨è¿™ä¸ªå±žæ€§ï¼Œå°±å¾—åˆ°éåŽ†å™¨å¯¹è±¡ã€‚ è°ƒç”¨ Iterator æŽ¥å£çš„åœºåˆæœ‰ä¸€äº›åœºåˆä¼šé»˜è®¤è°ƒç”¨ Iterator æŽ¥å£ï¼ˆå³Symbol.iteratoræ–¹æ³•ï¼‰ï¼Œé™¤äº†ä¸‹æ–‡ä¼šä»‹ç»çš„forâ€¦ofå¾ªçŽ¯ï¼Œè¿˜æœ‰å‡ ä¸ªåˆ«çš„åœºåˆã€‚ 1. è§£æž„èµ‹å€¼å¯¹æ•°ç»„å’Œ Set ç»“æž„è¿›è¡Œè§£æž„èµ‹å€¼æ—¶ï¼Œä¼šé»˜è®¤è°ƒç”¨Symbol.iteratoræ–¹æ³•ã€‚ 1234567let set = new Set().add('a').add('b').add('c');let [x,y] = set;// x='a'; y='b'let [first, ...rest] = set;// first='a'; rest=['b','c']; 2. æ‰©å±•è¿ç®—ç¬¦æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿä¼šè°ƒç”¨é»˜è®¤çš„ Iterator æŽ¥å£ã€‚ 12345678// ä¾‹ä¸€var str = 'hello';[...str] // ['h','e','l','l','o']// ä¾‹äºŒlet arr = ['b', 'c'];['a', ...arr, 'd']// ['a', 'b', 'c', 'd'] ä¸Šé¢ä»£ç çš„æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨å°±è°ƒç”¨ Iterator æŽ¥å£ã€‚ å®žé™…ä¸Šï¼Œè¿™æä¾›äº†ä¸€ç§ç®€ä¾¿æœºåˆ¶ï¼Œå¯ä»¥å°†ä»»ä½•éƒ¨ç½²äº† Iterator æŽ¥å£çš„æ•°æ®ç»“æž„ï¼Œè½¬ä¸ºæ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æŸä¸ªæ•°æ®ç»“æž„éƒ¨ç½²äº† Iterator æŽ¥å£ï¼Œå°±å¯ä»¥å¯¹å®ƒä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†å…¶è½¬ä¸ºæ•°ç»„ã€‚ 3. yield*yield*åŽé¢è·Ÿçš„æ˜¯ä¸€ä¸ªå¯éåŽ†çš„ç»“æž„ï¼Œå®ƒä¼šè°ƒç”¨è¯¥ç»“æž„çš„éåŽ†å™¨æŽ¥å£ã€‚ 1234567891011121314let generator = function* () &#123; yield 1; yield* [2,3,4]; yield 5;&#125;;var iterator = generator();iterator.next() // &#123; value: 1, done: false &#125;iterator.next() // &#123; value: 2, done: false &#125;iterator.next() // &#123; value: 3, done: false &#125;iterator.next() // &#123; value: 4, done: false &#125;iterator.next() // &#123; value: 5, done: false &#125;iterator.next() // &#123; value: undefined, done: true &#125; 4. å…¶ä»–åœºåˆç”±äºŽæ•°ç»„çš„éåŽ†ä¼šè°ƒç”¨éåŽ†å™¨æŽ¥å£ï¼Œæ‰€ä»¥ä»»ä½•æŽ¥å—æ•°ç»„ä½œä¸ºå‚æ•°çš„åœºåˆï¼Œå…¶å®žéƒ½è°ƒç”¨äº†éåŽ†å™¨æŽ¥å£ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚ forâ€¦of Array.from() Map(), Set(), WeakMap(), WeakSet()ï¼ˆæ¯”å¦‚new Map([[â€˜aâ€™,1],[â€˜bâ€™,2]])ï¼‰ Promise.all() Promise.race() IteratoræŽ¥å£ä¸ŽGeneratorå‡½æ•°Symbol.iteratoræ–¹æ³•çš„æœ€ç®€å•å®žçŽ°ï¼Œè¿˜æ˜¯ä½¿ç”¨ä¸‹ä¸€ç« è¦ä»‹ç»çš„Generatorå‡½æ•°ã€‚1234567891011121314151617181920212223var myIterable = &#123;&#125;;myIterable[Symbol.iterator] = function* () &#123; yield 1; yield 2; yield 3;&#125;;[...myIterable] // [1, 2, 3]// æˆ–è€…é‡‡ç”¨ä¸‹é¢çš„ç®€æ´å†™æ³•let obj = &#123; * [Symbol.iterator]() &#123; yield 'hello'; yield 'world'; &#125;&#125;;for (let x of obj) &#123; console.log(x);&#125;// hello// world ä¸Šé¢ä»£ç ä¸­ï¼ŒSymbol.iteratoræ–¹æ³•å‡ ä¹Žä¸ç”¨éƒ¨ç½²ä»»ä½•ä»£ç ï¼Œåªè¦ç”¨yieldå‘½ä»¤ç»™å‡ºæ¯ä¸€æ­¥çš„è¿”å›žå€¼å³å¯ã€‚ éåŽ†å™¨å¯¹è±¡çš„return()ï¼Œthrow()éåŽ†å™¨å¯¹è±¡é™¤äº†å…·æœ‰nextæ–¹æ³•ï¼Œè¿˜å¯ä»¥å…·æœ‰returnæ–¹æ³•å’Œthrowæ–¹æ³•ã€‚ï¼ˆå¦‚æžœä½ è‡ªå·±å†™éåŽ†å™¨å¯¹è±¡ç”Ÿæˆå‡½æ•°ï¼Œé‚£ä¹ˆnextæ–¹æ³•æ˜¯å¿…é¡»éƒ¨ç½²çš„ï¼Œreturnæ–¹æ³•å’Œthrowæ–¹æ³•æ˜¯å¦éƒ¨ç½²æ˜¯å¯é€‰çš„ã€‚ï¼‰ returnæ–¹æ³•çš„ä½¿ç”¨åœºåˆæ˜¯ï¼Œå¦‚æžœforâ€¦ofå¾ªçŽ¯æå‰é€€å‡ºï¼ˆé€šå¸¸æ˜¯å› ä¸ºå‡ºé”™ï¼Œæˆ–è€…æœ‰breakè¯­å¥æˆ–continueè¯­å¥ï¼‰ï¼Œå°±ä¼šè°ƒç”¨returnæ–¹æ³•ã€‚å¦‚æžœä¸€ä¸ªå¯¹è±¡åœ¨å®ŒæˆéåŽ†å‰ï¼Œéœ€è¦æ¸…ç†æˆ–é‡Šæ”¾èµ„æºï¼Œå°±å¯ä»¥éƒ¨ç½²returnæ–¹æ³•ã€‚ 1234567891011function readLinesSync(file) &#123; return &#123; next() &#123; return &#123; done: false &#125;; &#125;, return() &#123; file.close(); return &#123; done: true &#125;; &#125;, &#125;;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°readLinesSyncæŽ¥å—ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œå…¶ä¸­é™¤äº†nextæ–¹æ³•ï¼Œè¿˜éƒ¨ç½²äº†returnæ–¹æ³•ã€‚ ä¸‹é¢çš„ä¸‰ç§æƒ…å†µï¼Œéƒ½ä¼šè§¦å‘æ‰§è¡Œreturnæ–¹æ³•ã€‚ 1234567891011121314151617// æƒ…å†µä¸€for (let line of readLinesSync(fileName)) &#123; console.log(line); break;&#125;// æƒ…å†µäºŒfor (let line of readLinesSync(fileName)) &#123; console.log(line); continue;&#125;// æƒ…å†µä¸‰for (let line of readLinesSync(fileName)) &#123; console.log(line); throw new Error();&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œæƒ…å†µä¸€è¾“å‡ºæ–‡ä»¶çš„ç¬¬ä¸€è¡Œä»¥åŽï¼Œå°±ä¼šæ‰§è¡Œreturnæ–¹æ³•ï¼Œå…³é—­è¿™ä¸ªæ–‡ä»¶ï¼›æƒ…å†µäºŒè¾“å‡ºæ‰€æœ‰è¡Œä»¥åŽï¼Œæ‰§è¡Œreturnæ–¹æ³•ï¼Œå…³é—­è¯¥æ–‡ä»¶ï¼›æƒ…å†µä¸‰ä¼šåœ¨æ‰§è¡Œreturnæ–¹æ³•å…³é—­æ–‡ä»¶ä¹‹åŽï¼Œå†æŠ›å‡ºé”™è¯¯ã€‚ æ³¨æ„ï¼Œreturnæ–¹æ³•å¿…é¡»è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ˜¯ Generator è§„æ ¼å†³å®šçš„ã€‚ throwæ–¹æ³•ä¸»è¦æ˜¯é…åˆ Generator å‡½æ•°ä½¿ç”¨ï¼Œä¸€èˆ¬çš„éåŽ†å™¨å¯¹è±¡ç”¨ä¸åˆ°è¿™ä¸ªæ–¹æ³•ã€‚è¯·å‚é˜…ã€ŠGeneratorå‡½æ•°ã€‹ä¸€ç« ã€‚ forâ€¦ofå¾ªçŽ¯ES6 å€Ÿé‰´ C++ã€Javaã€C# å’Œ Python è¯­è¨€ï¼Œå¼•å…¥äº†forâ€¦ofå¾ªçŽ¯ï¼Œä½œä¸ºéåŽ†æ‰€æœ‰æ•°æ®ç»“æž„çš„ç»Ÿä¸€çš„æ–¹æ³•ã€‚ ä¸€ä¸ªæ•°æ®ç»“æž„åªè¦éƒ¨ç½²äº†Symbol.iteratorå±žæ€§ï¼Œå°±è¢«è§†ä¸ºå…·æœ‰iteratoræŽ¥å£ï¼Œå°±å¯ä»¥ç”¨forâ€¦ofå¾ªçŽ¯éåŽ†å®ƒçš„æˆå‘˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œforâ€¦ofå¾ªçŽ¯å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æž„çš„Symbol.iteratoræ–¹æ³•ã€‚ forâ€¦ofå¾ªçŽ¯å¯ä»¥ä½¿ç”¨çš„èŒƒå›´åŒ…æ‹¬æ•°ç»„ã€Set å’Œ Map ç»“æž„ã€æŸäº›ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆæ¯”å¦‚argumentså¯¹è±¡ã€DOM NodeList å¯¹è±¡ï¼‰ã€åŽæ–‡çš„ Generator å¯¹è±¡ï¼Œä»¥åŠå­—ç¬¦ä¸²ã€‚ æ•°ç»„æ•°ç»„åŽŸç”Ÿå…·å¤‡iteratoræŽ¥å£ï¼ˆå³é»˜è®¤éƒ¨ç½²äº†Symbol.iteratorå±žæ€§ï¼‰ï¼Œforâ€¦ofå¾ªçŽ¯æœ¬è´¨ä¸Šå°±æ˜¯è°ƒç”¨è¿™ä¸ªæŽ¥å£äº§ç”Ÿçš„éåŽ†å™¨ JavaScript åŽŸæœ‰çš„forâ€¦inå¾ªçŽ¯ï¼Œåªèƒ½èŽ·å¾—å¯¹è±¡çš„é”®åï¼Œä¸èƒ½ç›´æŽ¥èŽ·å–é”®å€¼ã€‚ES6 æä¾›forâ€¦ofå¾ªçŽ¯ï¼Œå…è®¸éåŽ†èŽ·å¾—é”®å€¼ã€‚ forâ€¦inå¾ªçŽ¯è¯»å–é”®åï¼Œforâ€¦ofå¾ªçŽ¯è¯»å–é”®å€¼ã€‚å¦‚æžœè¦é€šè¿‡forâ€¦ofå¾ªçŽ¯ï¼ŒèŽ·å–æ•°ç»„çš„ç´¢å¼•ï¼Œå¯ä»¥å€ŸåŠ©æ•°ç»„å®žä¾‹çš„entriesæ–¹æ³•å’Œkeysæ–¹æ³•ï¼Œå‚è§ã€Šæ•°ç»„çš„æ‰©å±•ã€‹ç« èŠ‚ã€‚ forâ€¦ofå¾ªçŽ¯è°ƒç”¨éåŽ†å™¨æŽ¥å£ï¼Œæ•°ç»„çš„éåŽ†å™¨æŽ¥å£åªè¿”å›žå…·æœ‰æ•°å­—ç´¢å¼•çš„å±žæ€§ã€‚è¿™ä¸€ç‚¹è·Ÿforâ€¦inå¾ªçŽ¯ä¹Ÿä¸ä¸€æ ·ã€‚ Set å’Œ Map ç»“æž„Set å’Œ Map ç»“æž„ä¹ŸåŽŸç”Ÿå…·æœ‰ Iterator æŽ¥å£ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨forâ€¦ofå¾ªçŽ¯ã€‚ å€¼å¾—æ³¨æ„çš„åœ°æ–¹æœ‰ä¸¤ä¸ª é¦–å…ˆï¼ŒéåŽ†çš„é¡ºåºæ˜¯æŒ‰ç…§å„ä¸ªæˆå‘˜è¢«æ·»åŠ è¿›æ•°æ®ç»“æž„çš„é¡ºåºã€‚ å…¶æ¬¡ï¼ŒSet ç»“æž„éåŽ†æ—¶ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ªå€¼ï¼Œè€Œ Map ç»“æž„éåŽ†æ—¶ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„ä¸¤ä¸ªæˆå‘˜åˆ†åˆ«ä¸ºå½“å‰ Map æˆå‘˜çš„é”®åå’Œé”®å€¼ã€‚ 123456789101112131415161718var engines = new Set(["Gecko", "Trident", "Webkit", "Webkit"]);for (var e of engines) &#123; console.log(e);&#125;// Gecko// Trident// Webkitvar es6 = new Map();es6.set("edition", 6);es6.set("committee", "TC39");es6.set("standard", "ECMA-262");for (var [name, value] of es6) &#123; console.log(name + ": " + value);&#125;// edition: 6// committee: TC39// standard: ECMA-262 123456789101112let map = new Map().set('a', 1).set('b', 2);for (let pair of map) &#123; console.log(pair);&#125;// ['a', 1]// ['b', 2]for (let [key, value] of map) &#123; console.log(key + ' : ' + value);&#125;// a : 1// b : 2 è®¡ç®—ç”Ÿæˆçš„æ•°æ®ç»“æž„æœ‰äº›æ•°æ®ç»“æž„æ˜¯åœ¨çŽ°æœ‰æ•°æ®ç»“æž„çš„åŸºç¡€ä¸Šï¼Œè®¡ç®—ç”Ÿæˆçš„ã€‚æ¯”å¦‚ï¼ŒES6çš„æ•°ç»„ã€Setã€Map éƒ½éƒ¨ç½²äº†ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼Œè°ƒç”¨åŽéƒ½è¿”å›žéåŽ†å™¨å¯¹è±¡ã€‚ entries() è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œç”¨æ¥éåŽ†[é”®å, é”®å€¼]ç»„æˆçš„æ•°ç»„ã€‚å¯¹äºŽæ•°ç»„ï¼Œé”®åå°±æ˜¯ç´¢å¼•å€¼ï¼›å¯¹äºŽ Setï¼Œé”®åä¸Žé”®å€¼ç›¸åŒã€‚Map ç»“æž„çš„ Iterator æŽ¥å£ï¼Œé»˜è®¤å°±æ˜¯è°ƒç”¨entriesæ–¹æ³•ã€‚keys() è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œç”¨æ¥éåŽ†æ‰€æœ‰çš„é”®åã€‚values() è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œç”¨æ¥éåŽ†æ‰€æœ‰çš„é”®å€¼ã€‚è¿™ä¸‰ä¸ªæ–¹æ³•è°ƒç”¨åŽç”Ÿæˆçš„éåŽ†å™¨å¯¹è±¡ï¼Œæ‰€éåŽ†çš„éƒ½æ˜¯è®¡ç®—ç”Ÿæˆçš„æ•°æ®ç»“æž„ã€‚ 1234567let arr = ['a', 'b', 'c'];for (let pair of arr.entries()) &#123; console.log(pair);&#125;// [0, 'a']// [1, 'b']// [2, 'c'] ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡åŒ…æ‹¬å¥½å‡ ç±»ã€‚ä¸‹é¢æ˜¯forâ€¦ofå¾ªçŽ¯ç”¨äºŽå­—ç¬¦ä¸²ã€DOM NodeList å¯¹è±¡ã€argumentså¯¹è±¡çš„ä¾‹å­ã€‚ 1234567891011121314151617181920212223// å­—ç¬¦ä¸²let str = "hello";for (let s of str) &#123; console.log(s); // h e l l o&#125;// DOM NodeListå¯¹è±¡let paras = document.querySelectorAll("p");for (let p of paras) &#123; p.classList.add("test");&#125;// argumentså¯¹è±¡function printArgs() &#123; for (let x of arguments) &#123; console.log(x); &#125;&#125;printArgs('a', 'b');// 'a'// 'b' å¯¹äºŽå­—ç¬¦ä¸²æ¥è¯´ï¼Œforâ€¦ofå¾ªçŽ¯è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯ä¼šæ­£ç¡®è¯†åˆ«32ä½ UTF-16 å­—ç¬¦ã€‚ 12345for (let x of 'a\uD83D\uDC0A') &#123; console.log(x);&#125;// 'a'// '\uD83D\uDC0A' å¹¶ä¸æ˜¯æ‰€æœ‰ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡éƒ½å…·æœ‰ Iterator æŽ¥å£ï¼Œä¸€ä¸ªç®€ä¾¿çš„è§£å†³æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨Array.fromæ–¹æ³•å°†å…¶è½¬ä¸ºæ•°ç»„ã€‚ 1234567891011let arrayLike = &#123; length: 2, 0: 'a', 1: 'b' &#125;;// æŠ¥é”™for (let x of arrayLike) &#123; console.log(x);&#125;// æ­£ç¡®for (let x of Array.from(arrayLike)) &#123; console.log(x);&#125; å¯¹è±¡å¯¹äºŽæ™®é€šçš„å¯¹è±¡ï¼Œforâ€¦ofç»“æž„ä¸èƒ½ç›´æŽ¥ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ï¼Œå¿…é¡»éƒ¨ç½²äº† Iterator æŽ¥å£åŽæ‰èƒ½ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œè¿™æ ·æƒ…å†µä¸‹ï¼Œforâ€¦inå¾ªçŽ¯ä¾ç„¶å¯ä»¥ç”¨æ¥éåŽ†é”®åã€‚ ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨Object.keysæ–¹æ³•å°†å¯¹è±¡çš„é”®åç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œç„¶åŽéåŽ†è¿™ä¸ªæ•°ç»„ã€‚ 123for (var key of Object.keys(someObject)) &#123; console.log(key + ': ' + someObject[key]);&#125; å¦ä¸€ä¸ªæ–¹æ³•æ˜¯ä½¿ç”¨ Generator å‡½æ•°å°†å¯¹è±¡é‡æ–°åŒ…è£…ä¸€ä¸‹ã€‚ 123456789101112function* entries(obj) &#123; for (let key of Object.keys(obj)) &#123; yield [key, obj[key]]; &#125;&#125;for (let [key, value] of entries(obj)) &#123; console.log(key, '-&gt;', value);&#125;// a -&gt; 1// b -&gt; 2// c -&gt; 3 ä¸Žå…¶ä»–éåŽ†è¯­æ³•çš„æ¯”è¾ƒä»¥æ•°ç»„ä¸ºä¾‹ï¼ŒJavaScript æä¾›å¤šç§éåŽ†è¯­æ³•ã€‚æœ€åŽŸå§‹çš„å†™æ³•å°±æ˜¯forå¾ªçŽ¯ã€‚ 123for (var index = 0; index &lt; myArray.length; index++) &#123; console.log(myArray[index]);&#125; è¿™ç§å†™æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤æ•°ç»„æä¾›å†…ç½®çš„forEachæ–¹æ³•ã€‚ 123myArray.forEach(function (value) &#123; console.log(value);&#125;); è¿™ç§å†™æ³•çš„é—®é¢˜åœ¨äºŽï¼Œæ— æ³•ä¸­é€”è·³å‡ºforEachå¾ªçŽ¯ï¼Œbreakå‘½ä»¤æˆ–returnå‘½ä»¤éƒ½ä¸èƒ½å¥æ•ˆã€‚ forâ€¦inå¾ªçŽ¯å¯ä»¥éåŽ†æ•°ç»„çš„é”®åã€‚ 123for (var index in myArray) &#123; console.log(myArray[index]);&#125; forâ€¦inå¾ªçŽ¯æœ‰å‡ ä¸ªç¼ºç‚¹ã€‚ æ•°ç»„çš„é”®åæ˜¯æ•°å­—ï¼Œä½†æ˜¯forâ€¦inå¾ªçŽ¯æ˜¯ä»¥å­—ç¬¦ä¸²ä½œä¸ºé”®åâ€œ0â€ã€â€œ1â€ã€â€œ2â€ç­‰ç­‰ã€‚ forâ€¦inå¾ªçŽ¯ä¸ä»…éåŽ†æ•°å­—é”®åï¼Œè¿˜ä¼šéåŽ†æ‰‹åŠ¨æ·»åŠ çš„å…¶ä»–é”®ï¼Œç”šè‡³åŒ…æ‹¬åŽŸåž‹é“¾ä¸Šçš„é”®ã€‚ æŸäº›æƒ…å†µä¸‹ï¼Œforâ€¦inå¾ªçŽ¯ä¼šä»¥ä»»æ„é¡ºåºéåŽ†é”®åã€‚ æ€»ä¹‹ï¼Œforâ€¦inå¾ªçŽ¯ä¸»è¦æ˜¯ä¸ºéåŽ†å¯¹è±¡è€Œè®¾è®¡çš„ï¼Œä¸é€‚ç”¨äºŽéåŽ†æ•°ç»„ã€‚forâ€¦ofå¾ªçŽ¯ç›¸æ¯”ä¸Šé¢å‡ ç§åšæ³•ï¼Œæœ‰ä¸€äº›æ˜¾è‘—çš„ä¼˜ç‚¹ã€‚ 123for (let value of myArray) &#123; console.log(value);&#125; æœ‰ç€åŒforâ€¦inä¸€æ ·çš„ç®€æ´è¯­æ³•ï¼Œä½†æ˜¯æ²¡æœ‰forâ€¦iné‚£äº›ç¼ºç‚¹ã€‚ ä¸åŒäºŽforEachæ–¹æ³•ï¼Œå®ƒå¯ä»¥ä¸Žbreakã€continueå’Œreturné…åˆä½¿ç”¨ã€‚ æä¾›äº†éåŽ†æ‰€æœ‰æ•°æ®ç»“æž„çš„ç»Ÿä¸€æ“ä½œæŽ¥å£ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨breakè¯­å¥ï¼Œè·³å‡ºforâ€¦ofå¾ªçŽ¯çš„ä¾‹å­ã€‚ 12345for (var n of fibonacci) &#123; if (n &gt; 1000) break; console.log(n);&#125; ä¸Šé¢çš„ä¾‹å­ï¼Œä¼šè¾“å‡ºæ–æ³¢çº³å¥‘æ•°åˆ—å°äºŽç­‰äºŽ1000çš„é¡¹ã€‚å¦‚æžœå½“å‰é¡¹å¤§äºŽ1000ï¼Œå°±ä¼šä½¿ç”¨breakè¯­å¥è·³å‡ºforâ€¦ofå¾ªçŽ¯ã€‚]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>Iterator</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-Generator]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-Generator%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹åŸºæœ¬æ¦‚å¿µGenerator å‡½æ•°æ˜¯ ES6 æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œè¯­æ³•è¡Œä¸ºä¸Žä¼ ç»Ÿå‡½æ•°å®Œå…¨ä¸åŒã€‚æœ¬ç« è¯¦ç»†ä»‹ç» Generator å‡½æ•°çš„è¯­æ³•å’Œ APIï¼Œå®ƒçš„å¼‚æ­¥ç¼–ç¨‹åº”ç”¨è¯·çœ‹ã€ŠGenerator å‡½æ•°çš„å¼‚æ­¥åº”ç”¨ã€‹ä¸€ç« ã€‚ Generator å‡½æ•°æœ‰å¤šç§ç†è§£è§’åº¦ã€‚ä»Žè¯­æ³•ä¸Šï¼Œé¦–å…ˆå¯ä»¥æŠŠå®ƒç†è§£æˆï¼ŒGenerator å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚ æ‰§è¡Œ Generator å‡½æ•°ä¼šè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒGenerator å‡½æ•°é™¤äº†çŠ¶æ€æœºï¼Œè¿˜æ˜¯ä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ç”Ÿæˆå‡½æ•°ã€‚è¿”å›žçš„éåŽ†å™¨å¯¹è±¡ï¼Œå¯ä»¥ä¾æ¬¡éåŽ† Generator å‡½æ•°å†…éƒ¨çš„æ¯ä¸€ä¸ªçŠ¶æ€ã€‚ å½¢å¼ä¸Šï¼ŒGenerator å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç‰¹å¾ã€‚ functionå…³é”®å­—ä¸Žå‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå· å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨yieldè¡¨è¾¾å¼ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€ï¼ˆyieldåœ¨è‹±è¯­é‡Œçš„æ„æ€å°±æ˜¯â€œäº§å‡ºâ€ï¼‰ã€‚ 1234567function* helloWorldGenerator() &#123; yield 'hello'; yield 'world'; return 'ending';&#125;var hw = helloWorldGenerator(); ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ª Generator å‡½æ•°helloWorldGeneratorï¼Œå®ƒå†…éƒ¨æœ‰ä¸¤ä¸ªyieldè¡¨è¾¾å¼ï¼ˆhelloå’Œworldï¼‰ï¼Œå³è¯¥å‡½æ•°æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼šhelloï¼Œworld å’Œ return è¯­å¥ï¼ˆç»“æŸæ‰§è¡Œï¼‰ã€‚ Generator å‡½æ•°çš„è°ƒç”¨æ–¹æ³•ä¸Žæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œä¹Ÿæ˜¯åœ¨å‡½æ•°ååŽé¢åŠ ä¸Šä¸€å¯¹åœ†æ‹¬å·ã€‚ä¸åŒçš„æ˜¯ï¼Œè°ƒç”¨ Generator å‡½æ•°åŽï¼Œè¯¥å‡½æ•°å¹¶ä¸æ‰§è¡Œï¼Œè¿”å›žçš„ä¹Ÿä¸æ˜¯å‡½æ•°è¿è¡Œç»“æžœï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€ç« ä»‹ç»çš„éåŽ†å™¨å¯¹è±¡ï¼ˆIterator Objectï¼‰ã€‚ ç„¶åŽæŽ¥ç€ï¼Œå¿…é¡»è°ƒç”¨éåŽ†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œä½¿å¾—æŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œå†…éƒ¨æŒ‡é’ˆå°±ä»Žå‡½æ•°å¤´éƒ¨æˆ–ä¸Šä¸€æ¬¡åœä¸‹æ¥çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ï¼ˆæˆ–returnè¯­å¥ï¼‰ä¸ºæ­¢ã€‚æ¢è¨€ä¹‹ï¼ŒGenerator å‡½æ•°æ˜¯åˆ†æ®µæ‰§è¡Œçš„ï¼Œyieldè¡¨è¾¾å¼æ˜¯æš‚åœæ‰§è¡Œçš„æ ‡è®°ï¼Œè€Œnextæ–¹æ³•å¯ä»¥æ¢å¤æ‰§è¡Œã€‚ æ€»ç»“è°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚ä»¥åŽï¼Œæ¯æ¬¡è°ƒç”¨éåŽ†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±ä¼šè¿”å›žä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±žæ€§çš„å¯¹è±¡ã€‚valueå±žæ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åŽé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›doneå±žæ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éåŽ†ç»“æŸã€‚ ES6 æ²¡æœ‰è§„å®šï¼Œfunctionå…³é”®å­—ä¸Žå‡½æ•°åä¹‹é—´çš„æ˜Ÿå·ï¼Œå†™åœ¨å“ªä¸ªä½ç½®ã€‚è¿™å¯¼è‡´ä¸‹é¢çš„å†™æ³•éƒ½èƒ½é€šè¿‡ã€‚ 1234function * foo(x, y) &#123; Â·Â·Â· &#125;function *foo(x, y) &#123; Â·Â·Â· &#125;function* foo(x, y) &#123; Â·Â·Â· &#125;function*foo(x, y) &#123; Â·Â·Â· &#125; ç”±äºŽ Generator å‡½æ•°ä»ç„¶æ˜¯æ™®é€šå‡½æ•°ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„å†™æ³•æ˜¯ä¸Šé¢çš„ç¬¬ä¸‰ç§ï¼Œå³æ˜Ÿå·ç´§è·Ÿåœ¨functionå…³é”®å­—åŽé¢ã€‚ yield è¡¨è¾¾å¼ç”±äºŽ Generator å‡½æ•°è¿”å›žçš„éåŽ†å™¨å¯¹è±¡ï¼Œåªæœ‰è°ƒç”¨nextæ–¹æ³•æ‰ä¼šéåŽ†ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ï¼Œæ‰€ä»¥å…¶å®žæä¾›äº†ä¸€ç§å¯ä»¥æš‚åœæ‰§è¡Œçš„å‡½æ•°ã€‚yieldè¡¨è¾¾å¼å°±æ˜¯æš‚åœæ ‡å¿—ã€‚ éåŽ†å™¨å¯¹è±¡çš„nextæ–¹æ³•çš„è¿è¡Œé€»è¾‘å¦‚ä¸‹ã€‚ é‡åˆ°yieldè¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡ŒåŽé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨yieldåŽé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›žçš„å¯¹è±¡çš„valueå±žæ€§å€¼ã€‚ ä¸‹ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ã€‚ å¦‚æžœæ²¡æœ‰å†é‡åˆ°æ–°çš„yieldè¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°returnè¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°†returnè¯­å¥åŽé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›žçš„å¯¹è±¡çš„valueå±žæ€§å€¼ã€‚ å¦‚æžœè¯¥å‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›žçš„å¯¹è±¡çš„valueå±žæ€§å€¼ä¸ºundefinedã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œyieldè¡¨è¾¾å¼åŽé¢çš„è¡¨è¾¾å¼ï¼Œåªæœ‰å½“è°ƒç”¨nextæ–¹æ³•ã€å¹¶ä¸”å†…éƒ¨æŒ‡é’ˆæŒ‡å‘è¯¥è¯­å¥æ—¶æ‰ä¼šæ‰§è¡Œï¼Œå› æ­¤ç­‰äºŽä¸º JavaScript æä¾›äº†æ‰‹åŠ¨çš„â€œæƒ°æ€§æ±‚å€¼â€ï¼ˆLazy Evaluationï¼‰çš„è¯­æ³•åŠŸèƒ½ã€‚ 123function* gen() &#123; yield 123 + 456;&#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒyieldåŽé¢çš„è¡¨è¾¾å¼123 + 456ï¼Œä¸ä¼šç«‹å³æ±‚å€¼ï¼Œåªä¼šåœ¨nextæ–¹æ³•å°†æŒ‡é’ˆç§»åˆ°è¿™ä¸€å¥æ—¶ï¼Œæ‰ä¼šæ±‚å€¼ã€‚ yieldè¡¨è¾¾å¼ä¸Žreturnè¯­å¥æ—¢æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä¹Ÿæœ‰åŒºåˆ«ã€‚ç›¸ä¼¼ä¹‹å¤„åœ¨äºŽï¼Œéƒ½èƒ½è¿”å›žç´§è·Ÿåœ¨è¯­å¥åŽé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚åŒºåˆ«åœ¨äºŽæ¯æ¬¡é‡åˆ°yieldï¼Œå‡½æ•°æš‚åœæ‰§è¡Œï¼Œä¸‹ä¸€æ¬¡å†ä»Žè¯¥ä½ç½®ç»§ç»­å‘åŽæ‰§è¡Œï¼Œè€Œreturnè¯­å¥ä¸å…·å¤‡ä½ç½®è®°å¿†çš„åŠŸèƒ½ã€‚ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼ˆæˆ–è€…è¯´ä¸€ä¸ªï¼‰returnè¯­å¥ï¼Œä½†æ˜¯å¯ä»¥æ‰§è¡Œå¤šæ¬¡ï¼ˆæˆ–è€…è¯´å¤šä¸ªï¼‰yieldè¡¨è¾¾å¼ã€‚æ­£å¸¸å‡½æ•°åªèƒ½è¿”å›žä¸€ä¸ªå€¼ï¼Œå› ä¸ºåªèƒ½æ‰§è¡Œä¸€æ¬¡returnï¼›Generator å‡½æ•°å¯ä»¥è¿”å›žä¸€ç³»åˆ—çš„å€¼ï¼Œå› ä¸ºå¯ä»¥æœ‰ä»»æ„å¤šä¸ªyieldã€‚ä»Žå¦ä¸€ä¸ªè§’åº¦çœ‹ï¼Œä¹Ÿå¯ä»¥è¯´ Generator ç”Ÿæˆäº†ä¸€ç³»åˆ—çš„å€¼ï¼Œè¿™ä¹Ÿå°±æ˜¯å®ƒçš„åç§°çš„æ¥åŽ†ï¼ˆè‹±è¯­ä¸­ï¼Œgenerator è¿™ä¸ªè¯æ˜¯â€œç”Ÿæˆå™¨â€çš„æ„æ€ï¼‰ã€‚ Generator å‡½æ•°å¯ä»¥ä¸ç”¨yieldè¡¨è¾¾å¼ï¼Œè¿™æ—¶å°±å˜æˆäº†ä¸€ä¸ªå•çº¯çš„æš‚ç¼“æ‰§è¡Œå‡½æ•°ã€‚ å¦å¤–éœ€è¦æ³¨æ„ï¼Œyieldè¡¨è¾¾å¼åªèƒ½ç”¨åœ¨ Generator å‡½æ•°é‡Œé¢ï¼Œç”¨åœ¨å…¶ä»–åœ°æ–¹éƒ½ä¼šæŠ¥é”™ã€‚ å¦å¤–ï¼Œyieldè¡¨è¾¾å¼å¦‚æžœç”¨åœ¨å¦ä¸€ä¸ªè¡¨è¾¾å¼ä¹‹ä¸­ï¼Œå¿…é¡»æ”¾åœ¨åœ†æ‹¬å·é‡Œé¢ã€‚ ä¸Ž Iterator æŽ¥å£çš„å…³ç³»ä¸Šä¸€ç« è¯´è¿‡ï¼Œä»»æ„ä¸€ä¸ªå¯¹è±¡çš„Symbol.iteratoræ–¹æ³•ï¼Œç­‰äºŽè¯¥å¯¹è±¡çš„éåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œè°ƒç”¨è¯¥å‡½æ•°ä¼šè¿”å›žè¯¥å¯¹è±¡çš„ä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ã€‚ ç”±äºŽ Generator å‡½æ•°å°±æ˜¯éåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œå› æ­¤å¯ä»¥æŠŠ Generator èµ‹å€¼ç»™å¯¹è±¡çš„Symbol.iteratorå±žæ€§ï¼Œä»Žè€Œä½¿å¾—è¯¥å¯¹è±¡å…·æœ‰ Iterator æŽ¥å£ã€‚ 12345678var myIterable = &#123;&#125;;myIterable[Symbol.iterator] = function* () &#123; yield 1; yield 2; yield 3;&#125;;[...myIterable] // [1, 2, 3] ä¸Šé¢ä»£ç ä¸­ï¼ŒGenerator å‡½æ•°èµ‹å€¼ç»™Symbol.iteratorå±žæ€§ï¼Œä»Žè€Œä½¿å¾—myIterableå¯¹è±¡å…·æœ‰äº† Iterator æŽ¥å£ï¼Œå¯ä»¥è¢«â€¦è¿ç®—ç¬¦éåŽ†äº†ã€‚ Generator å‡½æ•°æ‰§è¡ŒåŽï¼Œè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ã€‚è¯¥å¯¹è±¡æœ¬èº«ä¹Ÿå…·æœ‰Symbol.iteratorå±žæ€§ï¼Œæ‰§è¡ŒåŽè¿”å›žè‡ªèº«ã€‚ 12345678function* gen()&#123; // some code&#125;var g = gen();g[Symbol.iterator]() === g// true next æ–¹æ³•çš„å‚æ•°yieldè¡¨è¾¾å¼æœ¬èº«æ²¡æœ‰è¿”å›žå€¼ï¼Œæˆ–è€…è¯´æ€»æ˜¯è¿”å›žundefinedã€‚nextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›žå€¼ã€‚ 123456789101112function* f() &#123; for(var i = 0; true; i++) &#123; var reset = yield i; if(reset) &#123; i = -1; &#125; &#125;&#125;var g = f();g.next() // &#123; value: 0, done: false &#125;g.next() // &#123; value: 1, done: false &#125;g.next(true) // &#123; value: 0, done: false &#125; ä¸Šé¢ä»£ç å…ˆå®šä¹‰äº†ä¸€ä¸ªå¯ä»¥æ— é™è¿è¡Œçš„ Generator å‡½æ•°fï¼Œå¦‚æžœnextæ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œæ¯æ¬¡è¿è¡Œåˆ°yieldè¡¨è¾¾å¼ï¼Œå˜é‡resetçš„å€¼æ€»æ˜¯undefinedã€‚å½“nextæ–¹æ³•å¸¦ä¸€ä¸ªå‚æ•°trueæ—¶ï¼Œå˜é‡resetå°±è¢«é‡ç½®ä¸ºè¿™ä¸ªå‚æ•°ï¼ˆå³trueï¼‰ï¼Œå› æ­¤iä¼šç­‰äºŽ-1ï¼Œä¸‹ä¸€è½®å¾ªçŽ¯å°±ä¼šä»Ž-1å¼€å§‹é€’å¢žã€‚ è¿™ä¸ªåŠŸèƒ½æœ‰å¾ˆé‡è¦çš„è¯­æ³•æ„ä¹‰ã€‚Generator å‡½æ•°ä»Žæš‚åœçŠ¶æ€åˆ°æ¢å¤è¿è¡Œï¼Œå®ƒçš„ä¸Šä¸‹æ–‡çŠ¶æ€ï¼ˆcontextï¼‰æ˜¯ä¸å˜çš„ã€‚é€šè¿‡nextæ–¹æ³•çš„å‚æ•°ï¼Œå°±æœ‰åŠžæ³•åœ¨ Generator å‡½æ•°å¼€å§‹è¿è¡Œä¹‹åŽï¼Œç»§ç»­å‘å‡½æ•°ä½“å†…éƒ¨æ³¨å…¥å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥åœ¨ Generator å‡½æ•°è¿è¡Œçš„ä¸åŒé˜¶æ®µï¼Œä»Žå¤–éƒ¨å‘å†…éƒ¨æ³¨å…¥ä¸åŒçš„å€¼ï¼Œä»Žè€Œè°ƒæ•´å‡½æ•°è¡Œä¸ºã€‚ æ³¨æ„ï¼Œç”±äºŽnextæ–¹æ³•çš„å‚æ•°è¡¨ç¤ºä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›žå€¼ï¼Œæ‰€ä»¥åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨nextæ–¹æ³•æ—¶ï¼Œä¼ é€’å‚æ•°æ˜¯æ— æ•ˆçš„ã€‚V8 å¼•æ“Žç›´æŽ¥å¿½ç•¥ç¬¬ä¸€æ¬¡ä½¿ç”¨nextæ–¹æ³•æ—¶çš„å‚æ•°ï¼Œåªæœ‰ä»Žç¬¬äºŒæ¬¡ä½¿ç”¨nextæ–¹æ³•å¼€å§‹ï¼Œå‚æ•°æ‰æ˜¯æœ‰æ•ˆçš„ã€‚ä»Žè¯­ä¹‰ä¸Šè®²ï¼Œç¬¬ä¸€ä¸ªnextæ–¹æ³•ç”¨æ¥å¯åŠ¨éåŽ†å™¨å¯¹è±¡ï¼Œæ‰€ä»¥ä¸ç”¨å¸¦æœ‰å‚æ•°ã€‚ forâ€¦of å¾ªçŽ¯forâ€¦ofå¾ªçŽ¯å¯ä»¥è‡ªåŠ¨éåŽ† Generator å‡½æ•°æ—¶ç”Ÿæˆçš„Iteratorå¯¹è±¡ï¼Œä¸”æ­¤æ—¶ä¸å†éœ€è¦è°ƒç”¨nextæ–¹æ³•ã€‚ 12345678910111213function *foo() &#123; yield 1; yield 2; yield 3; yield 4; yield 5; return 6;&#125;for (let v of foo()) &#123; console.log(v);&#125;// 1 2 3 4 5 ä¸Šé¢ä»£ç ä½¿ç”¨forâ€¦ofå¾ªçŽ¯ï¼Œä¾æ¬¡æ˜¾ç¤º5ä¸ªyieldè¡¨è¾¾å¼çš„å€¼ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä¸€æ—¦nextæ–¹æ³•çš„è¿”å›žå¯¹è±¡çš„doneå±žæ€§ä¸ºtrueï¼Œforâ€¦ofå¾ªçŽ¯å°±ä¼šä¸­æ­¢ï¼Œä¸”ä¸åŒ…å«è¯¥è¿”å›žå¯¹è±¡ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç çš„returnè¯­å¥è¿”å›žçš„6ï¼Œä¸åŒ…æ‹¬åœ¨forâ€¦ofå¾ªçŽ¯ä¹‹ä¸­ã€‚ åˆ©ç”¨forâ€¦ofå¾ªçŽ¯ï¼Œå¯ä»¥å†™å‡ºéåŽ†ä»»æ„å¯¹è±¡ï¼ˆobjectï¼‰çš„æ–¹æ³•ã€‚åŽŸç”Ÿçš„ JavaScript å¯¹è±¡æ²¡æœ‰éåŽ†æŽ¥å£ï¼Œæ— æ³•ä½¿ç”¨forâ€¦ofå¾ªçŽ¯ï¼Œé€šè¿‡ Generator å‡½æ•°ä¸ºå®ƒåŠ ä¸Šè¿™ä¸ªæŽ¥å£ï¼Œå°±å¯ä»¥ç”¨äº†ã€‚ 123456789101112131415function* objectEntries(obj) &#123; let propKeys = Reflect.ownKeys(obj); for (let propKey of propKeys) &#123; yield [propKey, obj[propKey]]; &#125;&#125;let jane = &#123; first: 'Jane', last: 'Doe' &#125;;for (let [key, value] of objectEntries(jane)) &#123; console.log(`$&#123;key&#125;: $&#123;value&#125;`);&#125;// first: Jane// last: Doe ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡janeåŽŸç”Ÿä¸å…·å¤‡ Iterator æŽ¥å£ï¼Œæ— æ³•ç”¨forâ€¦oféåŽ†ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡ Generator å‡½æ•°objectEntriesä¸ºå®ƒåŠ ä¸ŠéåŽ†å™¨æŽ¥å£ï¼Œå°±å¯ä»¥ç”¨forâ€¦oféåŽ†äº†ã€‚ åŠ ä¸ŠéåŽ†å™¨æŽ¥å£çš„å¦ä¸€ç§å†™æ³•æ˜¯ï¼Œå°† Generator å‡½æ•°åŠ åˆ°å¯¹è±¡çš„Symbol.iteratorå±žæ€§ä¸Šé¢ã€‚ 1234567891011121314151617function* objectEntries() &#123; let propKeys = Object.keys(this); for (let propKey of propKeys) &#123; yield [propKey, this[propKey]]; &#125;&#125;let jane = &#123; first: 'Jane', last: 'Doe' &#125;;jane[Symbol.iterator] = objectEntries;for (let [key, value] of jane) &#123; console.log(`$&#123;key&#125;: $&#123;value&#125;`);&#125;// first: Jane// last: Doe é™¤äº†forâ€¦ofå¾ªçŽ¯ä»¥å¤–ï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€è§£æž„èµ‹å€¼å’ŒArray.fromæ–¹æ³•å†…éƒ¨è°ƒç”¨çš„éƒ½æ˜¯éåŽ†å™¨æŽ¥å£ã€‚è¿™æ„å‘³ç€ï¼Œå®ƒä»¬éƒ½å¯ä»¥å°† Generator å‡½æ•°è¿”å›žçš„ Iterator å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ã€‚ 123456789101112131415161718192021222324function* numbers () &#123; yield 1 yield 2 return 3 yield 4&#125;// æ‰©å±•è¿ç®—ç¬¦[...numbers()] // [1, 2]// Array.from æ–¹æ³•Array.from(numbers()) // [1, 2]// è§£æž„èµ‹å€¼let [x, y] = numbers();x // 1y // 2// for...of å¾ªçŽ¯for (let n of numbers()) &#123; console.log(n)&#125;// 1// 2 Generator.prototype.throw()Generator å‡½æ•°è¿”å›žçš„éåŽ†å™¨å¯¹è±¡ï¼Œéƒ½æœ‰ä¸€ä¸ªthrowæ–¹æ³•ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å¤–æŠ›å‡ºé”™è¯¯ï¼Œç„¶åŽåœ¨ Generator å‡½æ•°ä½“å†…æ•èŽ·ã€‚ 12345678910111213141516171819var g = function* () &#123; try &#123; yield; &#125; catch (e) &#123; console.log('å†…éƒ¨æ•èŽ·', e); &#125;&#125;;var i = g();i.next();try &#123; i.throw('a'); i.throw('b');&#125; catch (e) &#123; console.log('å¤–éƒ¨æ•èŽ·', e);&#125;// å†…éƒ¨æ•èŽ· a// å¤–éƒ¨æ•èŽ· b ä¸Šé¢ä»£ç ä¸­ï¼ŒéåŽ†å™¨å¯¹è±¡iè¿žç»­æŠ›å‡ºä¸¤ä¸ªé”™è¯¯ã€‚ç¬¬ä¸€ä¸ªé”™è¯¯è¢« Generator å‡½æ•°ä½“å†…çš„catchè¯­å¥æ•èŽ·ã€‚iç¬¬äºŒæ¬¡æŠ›å‡ºé”™è¯¯ï¼Œç”±äºŽ Generator å‡½æ•°å†…éƒ¨çš„catchè¯­å¥å·²ç»æ‰§è¡Œè¿‡äº†ï¼Œä¸ä¼šå†æ•æ‰åˆ°è¿™ä¸ªé”™è¯¯äº†ï¼Œæ‰€ä»¥è¿™ä¸ªé”™è¯¯å°±è¢«æŠ›å‡ºäº† Generator å‡½æ•°ä½“ï¼Œè¢«å‡½æ•°ä½“å¤–çš„catchè¯­å¥æ•èŽ·ã€‚ throwæ–¹æ³•å¯ä»¥æŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ä¼šè¢«catchè¯­å¥æŽ¥æ”¶ï¼Œå»ºè®®æŠ›å‡ºErrorå¯¹è±¡çš„å®žä¾‹ã€‚ 123456789101112var g = function* () &#123; try &#123; yield; &#125; catch (e) &#123; console.log(e); &#125;&#125;;var i = g();i.next();i.throw(new Error('å‡ºé”™äº†ï¼'));// Error: å‡ºé”™äº†ï¼(â€¦) æ³¨æ„ï¼Œä¸è¦æ··æ·†éåŽ†å™¨å¯¹è±¡çš„throwæ–¹æ³•å’Œå…¨å±€çš„throwå‘½ä»¤ã€‚ä¸Šé¢ä»£ç çš„é”™è¯¯ï¼Œæ˜¯ç”¨éåŽ†å™¨å¯¹è±¡çš„throwæ–¹æ³•æŠ›å‡ºçš„ï¼Œè€Œä¸æ˜¯ç”¨throwå‘½ä»¤æŠ›å‡ºçš„ã€‚åŽè€…åªèƒ½è¢«å‡½æ•°ä½“å¤–çš„catchè¯­å¥æ•èŽ·ã€‚ 123456789101112131415161718192021var g = function* () &#123; while (true) &#123; try &#123; yield; &#125; catch (e) &#123; if (e != 'a') throw e; console.log('å†…éƒ¨æ•èŽ·', e); &#125; &#125;&#125;;var i = g();i.next();try &#123; throw new Error('a'); throw new Error('b');&#125; catch (e) &#123; console.log('å¤–éƒ¨æ•èŽ·', e);&#125;// å¤–éƒ¨æ•èŽ· [Error: a] ä¸Šé¢ä»£ç ä¹‹æ‰€ä»¥åªæ•èŽ·äº†aï¼Œæ˜¯å› ä¸ºå‡½æ•°ä½“å¤–çš„catchè¯­å¥å—ï¼Œæ•èŽ·äº†æŠ›å‡ºçš„aé”™è¯¯ä»¥åŽï¼Œå°±ä¸ä¼šå†ç»§ç»­tryä»£ç å—é‡Œé¢å‰©ä½™çš„è¯­å¥äº†ã€‚ å¦‚æžœ Generator å‡½æ•°å†…éƒ¨æ²¡æœ‰éƒ¨ç½²tryâ€¦catchä»£ç å—ï¼Œé‚£ä¹ˆthrowæ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ï¼Œå°†è¢«å¤–éƒ¨tryâ€¦catchä»£ç å—æ•èŽ·ã€‚ 1234567891011121314151617var g = function* () &#123; while (true) &#123; yield; console.log('å†…éƒ¨æ•èŽ·', e); &#125;&#125;;var i = g();i.next();try &#123; i.throw('a'); i.throw('b');&#125; catch (e) &#123; console.log('å¤–éƒ¨æ•èŽ·', e);&#125;// å¤–éƒ¨æ•èŽ· a ä¸Šé¢ä»£ç ä¸­ï¼ŒGenerator å‡½æ•°gå†…éƒ¨æ²¡æœ‰éƒ¨ç½²tryâ€¦catchä»£ç å—ï¼Œæ‰€ä»¥æŠ›å‡ºçš„é”™è¯¯ç›´æŽ¥è¢«å¤–éƒ¨catchä»£ç å—æ•èŽ·ã€‚ å¦‚æžœ Generator å‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨ï¼Œéƒ½æ²¡æœ‰éƒ¨ç½²tryâ€¦catchä»£ç å—ï¼Œé‚£ä¹ˆç¨‹åºå°†æŠ¥é”™ï¼Œç›´æŽ¥ä¸­æ–­æ‰§è¡Œã€‚ throwæ–¹æ³•è¢«æ•èŽ·ä»¥åŽï¼Œä¼šé™„å¸¦æ‰§è¡Œä¸‹ä¸€æ¡yieldè¡¨è¾¾å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šé™„å¸¦æ‰§è¡Œä¸€æ¬¡nextæ–¹æ³•ã€‚1234567891011121314var gen = function* gen()&#123; try &#123; yield console.log('a'); &#125; catch (e) &#123; // ... &#125; yield console.log('b'); yield console.log('c');&#125;var g = gen();g.next() // ag.throw() // bg.next() // c ä¸Šé¢ä»£ç ä¸­ï¼Œg.throwæ–¹æ³•è¢«æ•èŽ·ä»¥åŽï¼Œè‡ªåŠ¨æ‰§è¡Œäº†ä¸€æ¬¡nextæ–¹æ³•ï¼Œæ‰€ä»¥ä¼šæ‰“å°bã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œåªè¦ Generator å‡½æ•°å†…éƒ¨éƒ¨ç½²äº†tryâ€¦catchä»£ç å—ï¼Œé‚£ä¹ˆéåŽ†å™¨çš„throwæ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸å½±å“ä¸‹ä¸€æ¬¡éåŽ†ã€‚ å¦å¤–ï¼Œthrowå‘½ä»¤ä¸Žg.throwæ–¹æ³•æ˜¯æ— å…³çš„ï¼Œä¸¤è€…äº’ä¸å½±å“ã€‚ è¿™ç§å‡½æ•°ä½“å†…æ•èŽ·é”™è¯¯çš„æœºåˆ¶ï¼Œå¤§å¤§æ–¹ä¾¿äº†å¯¹é”™è¯¯çš„å¤„ç†ã€‚å¤šä¸ªyieldè¡¨è¾¾å¼ï¼Œå¯ä»¥åªç”¨ä¸€ä¸ªtryâ€¦catchä»£ç å—æ¥æ•èŽ·é”™è¯¯ã€‚å¦‚æžœä½¿ç”¨å›žè°ƒå‡½æ•°çš„å†™æ³•ï¼Œæƒ³è¦æ•èŽ·å¤šä¸ªé”™è¯¯ï¼Œå°±ä¸å¾—ä¸ä¸ºæ¯ä¸ªå‡½æ•°å†…éƒ¨å†™ä¸€ä¸ªé”™è¯¯å¤„ç†è¯­å¥ï¼ŒçŽ°åœ¨åªåœ¨ Generator å‡½æ•°å†…éƒ¨å†™ä¸€æ¬¡catchè¯­å¥å°±å¯ä»¥äº†ã€‚ Generator å‡½æ•°ä½“å¤–æŠ›å‡ºçš„é”™è¯¯ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å†…æ•èŽ·ï¼›åè¿‡æ¥ï¼ŒGenerator å‡½æ•°ä½“å†…æŠ›å‡ºçš„é”™è¯¯ï¼Œä¹Ÿå¯ä»¥è¢«å‡½æ•°ä½“å¤–çš„catchæ•èŽ·ã€‚ ä¸€æ—¦ Generator æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¸”æ²¡æœ‰è¢«å†…éƒ¨æ•èŽ·ï¼Œå°±ä¸ä¼šå†æ‰§è¡Œä¸‹åŽ»äº†ã€‚å¦‚æžœæ­¤åŽè¿˜è°ƒç”¨nextæ–¹æ³•ï¼Œå°†è¿”å›žä¸€ä¸ªvalueå±žæ€§ç­‰äºŽundefinedã€doneå±žæ€§ç­‰äºŽtrueçš„å¯¹è±¡ï¼Œå³ JavaScript å¼•æ“Žè®¤ä¸ºè¿™ä¸ª Generator å·²ç»è¿è¡Œç»“æŸäº†ã€‚ Generator.prototype.return()Generator å‡½æ•°è¿”å›žçš„éåŽ†å™¨å¯¹è±¡ï¼Œè¿˜æœ‰ä¸€ä¸ªreturnæ–¹æ³•ï¼Œå¯ä»¥è¿”å›žç»™å®šçš„å€¼ï¼Œå¹¶ä¸”ç»ˆç»“éåŽ† Generator å‡½æ•°ã€‚ 1234567891011function* gen() &#123; yield 1; yield 2; yield 3;&#125;var g = gen();g.next() // &#123; value: 1, done: false &#125;g.return('foo') // &#123; value: "foo", done: true &#125;g.next() // &#123; value: undefined, done: true &#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒéåŽ†å™¨å¯¹è±¡gè°ƒç”¨returnæ–¹æ³•åŽï¼Œè¿”å›žå€¼çš„valueå±žæ€§å°±æ˜¯returnæ–¹æ³•çš„å‚æ•°fooã€‚å¹¶ä¸”ï¼ŒGeneratorå‡½æ•°çš„éåŽ†å°±ç»ˆæ­¢äº†ï¼Œè¿”å›žå€¼çš„doneå±žæ€§ä¸ºtrueï¼Œä»¥åŽå†è°ƒç”¨nextæ–¹æ³•ï¼Œdoneå±žæ€§æ€»æ˜¯è¿”å›žtrueã€‚ å¦‚æžœreturnæ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¸æä¾›å‚æ•°ï¼Œåˆ™è¿”å›žå€¼çš„valueå±žæ€§ä¸ºundefinedã€‚ next()ã€throw()ã€return() çš„å…±åŒç‚¹next()ã€throw()ã€return()è¿™ä¸‰ä¸ªæ–¹æ³•æœ¬è´¨ä¸Šæ˜¯åŒä¸€ä»¶äº‹ï¼Œå¯ä»¥æ”¾åœ¨ä¸€èµ·ç†è§£ã€‚å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯è®© Generator å‡½æ•°æ¢å¤æ‰§è¡Œï¼Œå¹¶ä¸”ä½¿ç”¨ä¸åŒçš„è¯­å¥æ›¿æ¢yieldè¡¨è¾¾å¼ã€‚next()æ˜¯å°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªå€¼ã€‚ 1234567891011const g = function* (x, y) &#123; let result = yield x + y; return result;&#125;;const gen = g(1, 2);gen.next(); // Object &#123;value: 3, done: false&#125;gen.next(1); // Object &#123;value: 1, done: true&#125;// ç›¸å½“äºŽå°† let result = yield x + y// æ›¿æ¢æˆ let result = 1; ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒä¸ªnext(1)æ–¹æ³•å°±ç›¸å½“äºŽå°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªå€¼1ã€‚å¦‚æžœnextæ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œå°±ç›¸å½“äºŽæ›¿æ¢æˆundefinedã€‚ throw()æ˜¯å°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªthrowè¯­å¥ã€‚ 123gen.throw(new Error('å‡ºé”™äº†')); // Uncaught Error: å‡ºé”™äº†// ç›¸å½“äºŽå°† let result = yield x + y// æ›¿æ¢æˆ let result = throw(new Error('å‡ºé”™äº†')); return()æ˜¯å°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªreturnè¯­å¥ã€‚ 123gen.return(2); // Object &#123;value: 2, done: true&#125;// ç›¸å½“äºŽå°† let result = yield x + y// æ›¿æ¢æˆ let result = return 2; yield* è¡¨è¾¾å¼å¦‚æžœåœ¨ Generator å‡½æ•°å†…éƒ¨ï¼Œè°ƒç”¨å¦ä¸€ä¸ª Generator å‡½æ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æ²¡æœ‰æ•ˆæžœçš„ã€‚ 12345678910111213141516function* foo() &#123; yield 'a'; yield 'b';&#125;function* bar() &#123; yield 'x'; foo(); yield 'y';&#125;for (let v of bar())&#123; console.log(v);&#125;// "x"// "y" ä¸Šé¢ä»£ç ä¸­ï¼Œfooå’Œbaréƒ½æ˜¯ Generator å‡½æ•°ï¼Œåœ¨baré‡Œé¢è°ƒç”¨fooï¼Œæ˜¯ä¸ä¼šæœ‰æ•ˆæžœçš„ã€‚ è¿™ä¸ªå°±éœ€è¦ç”¨åˆ°yield*è¡¨è¾¾å¼ï¼Œç”¨æ¥åœ¨ä¸€ä¸ª Generator å‡½æ•°é‡Œé¢æ‰§è¡Œå¦ä¸€ä¸ª Generator å‡½æ•°ã€‚ 123456789101112131415161718192021222324252627282930function* bar() &#123; yield 'x'; yield* foo(); yield 'y';&#125;// ç­‰åŒäºŽfunction* bar() &#123; yield 'x'; yield 'a'; yield 'b'; yield 'y';&#125;// ç­‰åŒäºŽfunction* bar() &#123; yield 'x'; for (let v of foo()) &#123; yield v; &#125; yield 'y';&#125;for (let v of bar())&#123; console.log(v);&#125;// "x"// "a"// "b"// "y" å†æ¥çœ‹ä¸€ä¸ªå¯¹æ¯”çš„ä¾‹å­ã€‚ 12345678910111213141516171819202122232425function* inner() &#123; yield 'hello!';&#125;function* outer1() &#123; yield 'open'; yield inner(); yield 'close';&#125;var gen = outer1()gen.next().value // "open"gen.next().value // è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡gen.next().value // "close"function* outer2() &#123; yield 'open' yield* inner() yield 'close'&#125;var gen = outer2()gen.next().value // "open"gen.next().value // "hello!"gen.next().value // "close" ä»Žè¯­æ³•è§’åº¦çœ‹ï¼Œå¦‚æžœyieldè¡¨è¾¾å¼åŽé¢è·Ÿçš„æ˜¯ä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œéœ€è¦åœ¨yieldè¡¨è¾¾å¼åŽé¢åŠ ä¸Šæ˜Ÿå·ï¼Œè¡¨æ˜Žå®ƒè¿”å›žçš„æ˜¯ä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ã€‚è¿™è¢«ç§°ä¸ºyield*è¡¨è¾¾å¼ã€‚ yield*åŽé¢çš„ Generator å‡½æ•°ï¼ˆæ²¡æœ‰returnè¯­å¥æ—¶ï¼‰ï¼Œç­‰åŒäºŽåœ¨ Generator å‡½æ•°å†…éƒ¨ï¼Œéƒ¨ç½²ä¸€ä¸ªforâ€¦ofå¾ªçŽ¯ã€‚ å®žé™…ä¸Šï¼Œä»»ä½•æ•°æ®ç»“æž„åªè¦æœ‰ Iterator æŽ¥å£ï¼Œå°±å¯ä»¥è¢«yield*éåŽ†ã€‚ å¦‚æžœè¢«ä»£ç†çš„ Generator å‡½æ•°æœ‰returnè¯­å¥ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‘ä»£ç†å®ƒçš„ Generator å‡½æ•°è¿”å›žæ•°æ®ã€‚ ä½œä¸ºå¯¹è±¡å±žæ€§çš„Generatorå‡½æ•°å¦‚æžœä¸€ä¸ªå¯¹è±¡çš„å±žæ€§æ˜¯ Generator å‡½æ•°ï¼Œå¯ä»¥ç®€å†™æˆä¸‹é¢çš„å½¢å¼ã€‚ 12345let obj = &#123; * myGeneratorMethod() &#123; Â·Â·Â· &#125;&#125;; ä¸Šé¢ä»£ç ä¸­ï¼ŒmyGeneratorMethodå±žæ€§å‰é¢æœ‰ä¸€ä¸ªæ˜Ÿå·ï¼Œè¡¨ç¤ºè¿™ä¸ªå±žæ€§æ˜¯ä¸€ä¸ª Generator å‡½æ•°ã€‚ å®ƒçš„å®Œæ•´å½¢å¼å¦‚ä¸‹ï¼Œä¸Žä¸Šé¢çš„å†™æ³•æ˜¯ç­‰ä»·çš„ã€‚ 12345let obj = &#123; myGeneratorMethod: function* () &#123; // Â·Â·Â· &#125;&#125;; Generator å‡½æ•°çš„thisGenerator å‡½æ•°æ€»æ˜¯è¿”å›žä¸€ä¸ªéåŽ†å™¨ï¼ŒES6 è§„å®šè¿™ä¸ªéåŽ†å™¨æ˜¯ Generator å‡½æ•°çš„å®žä¾‹ï¼Œä¹Ÿç»§æ‰¿äº† Generator å‡½æ•°çš„prototypeå¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚ 12345678910function* g() &#123;&#125;g.prototype.hello = function () &#123; return 'hi!';&#125;;let obj = g();obj instanceof g // trueobj.hello() // 'hi!' ä½†æ˜¯ï¼Œå¦‚æžœæŠŠgå½“ä½œæ™®é€šçš„æž„é€ å‡½æ•°ï¼Œå¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºgè¿”å›žçš„æ€»æ˜¯éåŽ†å™¨å¯¹è±¡ï¼Œè€Œä¸æ˜¯thiså¯¹è±¡ã€‚ 123456function* g() &#123; this.a = 11;&#125;let obj = g();obj.a // undefined ä¸Šé¢ä»£ç ä¸­ï¼ŒGeneratorå‡½æ•°gåœ¨thiså¯¹è±¡ä¸Šé¢æ·»åŠ äº†ä¸€ä¸ªå±žæ€§aï¼Œä½†æ˜¯objå¯¹è±¡æ‹¿ä¸åˆ°è¿™ä¸ªå±žæ€§ã€‚ Generatorå‡½æ•°ä¹Ÿä¸èƒ½è·Ÿnewå‘½ä»¤ä¸€èµ·ç”¨ï¼Œä¼šæŠ¥é”™ã€‚ å«ä¹‰Generator ä¸ŽçŠ¶æ€æœºGenerator æ˜¯å®žçŽ°çŠ¶æ€æœºçš„æœ€ä½³ç»“æž„ã€‚æ¯”å¦‚ï¼Œä¸‹é¢çš„clockå‡½æ•°å°±æ˜¯ä¸€ä¸ªçŠ¶æ€æœºã€‚ 12345678var ticking = true;var clock = function() &#123; if (ticking) console.log('Tick!'); else console.log('Tock!'); ticking = !ticking;&#125; ä¸Šé¢ä»£ç çš„clockå‡½æ•°ä¸€å…±æœ‰ä¸¤ç§çŠ¶æ€ï¼ˆTickå’ŒTockï¼‰ï¼Œæ¯è¿è¡Œä¸€æ¬¡ï¼Œå°±æ”¹å˜ä¸€æ¬¡çŠ¶æ€ã€‚è¿™ä¸ªå‡½æ•°å¦‚æžœç”¨ Generator å®žçŽ°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚ 12345678var clock = function* () &#123; while (true) &#123; console.log('Tick!'); yield; console.log('Tock!'); yield; &#125;&#125;; ä¸Šé¢çš„ Generator å®žçŽ°ä¸Ž ES5 å®žçŽ°å¯¹æ¯”ï¼Œå¯ä»¥çœ‹åˆ°å°‘äº†ç”¨æ¥ä¿å­˜çŠ¶æ€çš„å¤–éƒ¨å˜é‡tickingï¼Œè¿™æ ·å°±æ›´ç®€æ´ï¼Œæ›´å®‰å…¨ï¼ˆçŠ¶æ€ä¸ä¼šè¢«éžæ³•ç¯¡æ”¹ï¼‰ã€æ›´ç¬¦åˆå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œåœ¨å†™æ³•ä¸Šä¹Ÿæ›´ä¼˜é›…ã€‚Generator ä¹‹æ‰€ä»¥å¯ä»¥ä¸ç”¨å¤–éƒ¨å˜é‡ä¿å­˜çŠ¶æ€ï¼Œæ˜¯å› ä¸ºå®ƒæœ¬èº«å°±åŒ…å«äº†ä¸€ä¸ªçŠ¶æ€ä¿¡æ¯ï¼Œå³ç›®å‰æ˜¯å¦å¤„äºŽæš‚åœæ€ã€‚ Generatorä¸Žåç¨‹åç¨‹ï¼ˆcoroutineï¼‰æ˜¯ä¸€ç§ç¨‹åºè¿è¡Œçš„æ–¹å¼ï¼Œå¯ä»¥ç†è§£æˆâ€œåä½œçš„çº¿ç¨‹â€æˆ–â€œåä½œçš„å‡½æ•°â€ã€‚åç¨‹æ—¢å¯ä»¥ç”¨å•çº¿ç¨‹å®žçŽ°ï¼Œä¹Ÿå¯ä»¥ç”¨å¤šçº¿ç¨‹å®žçŽ°ã€‚å‰è€…æ˜¯ä¸€ç§ç‰¹æ®Šçš„å­ä¾‹ç¨‹ï¼ŒåŽè€…æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹ã€‚ 1. åç¨‹ä¸Žå­ä¾‹ç¨‹çš„å·®å¼‚ä¼ ç»Ÿçš„â€œå­ä¾‹ç¨‹â€ï¼ˆsubroutineï¼‰é‡‡ç”¨å †æ ˆå¼â€œåŽè¿›å…ˆå‡ºâ€çš„æ‰§è¡Œæ–¹å¼ï¼Œåªæœ‰å½“è°ƒç”¨çš„å­å‡½æ•°å®Œå…¨æ‰§è¡Œå®Œæ¯•ï¼Œæ‰ä¼šç»“æŸæ‰§è¡Œçˆ¶å‡½æ•°ã€‚åç¨‹ä¸Žå…¶ä¸åŒï¼Œå¤šä¸ªçº¿ç¨‹ï¼ˆå•çº¿ç¨‹æƒ…å†µä¸‹ï¼Œå³å¤šä¸ªå‡½æ•°ï¼‰å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰å¤„äºŽæ­£åœ¨è¿è¡Œçš„çŠ¶æ€ï¼Œå…¶ä»–çº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰éƒ½å¤„äºŽæš‚åœæ€ï¼ˆsuspendedï¼‰ï¼Œçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ä¹‹é—´å¯ä»¥äº¤æ¢æ‰§è¡Œæƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰æ‰§è¡Œåˆ°ä¸€åŠï¼Œå¯ä»¥æš‚åœæ‰§è¡Œï¼Œå°†æ‰§è¡Œæƒäº¤ç»™å¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œç­‰åˆ°ç¨åŽæ”¶å›žæ‰§è¡Œæƒçš„æ—¶å€™ï¼Œå†æ¢å¤æ‰§è¡Œã€‚è¿™ç§å¯ä»¥å¹¶è¡Œæ‰§è¡Œã€äº¤æ¢æ‰§è¡Œæƒçš„çº¿ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œå°±ç§°ä¸ºåç¨‹ã€‚ ä»Žå®žçŽ°ä¸Šçœ‹ï¼Œåœ¨å†…å­˜ä¸­ï¼Œå­ä¾‹ç¨‹åªä½¿ç”¨ä¸€ä¸ªæ ˆï¼ˆstackï¼‰ï¼Œè€Œåç¨‹æ˜¯åŒæ—¶å­˜åœ¨å¤šä¸ªæ ˆï¼Œä½†åªæœ‰ä¸€ä¸ªæ ˆæ˜¯åœ¨è¿è¡ŒçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåç¨‹æ˜¯ä»¥å¤šå ç”¨å†…å­˜ä¸ºä»£ä»·ï¼Œå®žçŽ°å¤šä»»åŠ¡çš„å¹¶è¡Œã€‚ 2. åç¨‹ä¸Žæ™®é€šçº¿ç¨‹çš„å·®å¼‚ä¸éš¾çœ‹å‡ºï¼Œåç¨‹é€‚åˆç”¨äºŽå¤šä»»åŠ¡è¿è¡Œçš„çŽ¯å¢ƒã€‚åœ¨è¿™ä¸ªæ„ä¹‰ä¸Šï¼Œå®ƒä¸Žæ™®é€šçš„çº¿ç¨‹å¾ˆç›¸ä¼¼ï¼Œéƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€å¯ä»¥åˆ†äº«å…¨å±€å˜é‡ã€‚å®ƒä»¬çš„ä¸åŒä¹‹å¤„åœ¨äºŽï¼ŒåŒä¸€æ—¶é—´å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹å¤„äºŽè¿è¡ŒçŠ¶æ€ï¼Œä½†æ˜¯è¿è¡Œçš„åç¨‹åªèƒ½æœ‰ä¸€ä¸ªï¼Œå…¶ä»–åç¨‹éƒ½å¤„äºŽæš‚åœçŠ¶æ€ã€‚æ­¤å¤–ï¼Œæ™®é€šçš„çº¿ç¨‹æ˜¯æŠ¢å…ˆå¼çš„ï¼Œåˆ°åº•å“ªä¸ªçº¿ç¨‹ä¼˜å…ˆå¾—åˆ°èµ„æºï¼Œå¿…é¡»ç”±è¿è¡ŒçŽ¯å¢ƒå†³å®šï¼Œä½†æ˜¯åç¨‹æ˜¯åˆä½œå¼çš„ï¼Œæ‰§è¡Œæƒç”±åç¨‹è‡ªå·±åˆ†é…ã€‚ ç”±äºŽ JavaScript æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œåªèƒ½ä¿æŒä¸€ä¸ªè°ƒç”¨æ ˆã€‚å¼•å…¥åç¨‹ä»¥åŽï¼Œæ¯ä¸ªä»»åŠ¡å¯ä»¥ä¿æŒè‡ªå·±çš„è°ƒç”¨æ ˆã€‚è¿™æ ·åšçš„æœ€å¤§å¥½å¤„ï¼Œå°±æ˜¯æŠ›å‡ºé”™è¯¯çš„æ—¶å€™ï¼Œå¯ä»¥æ‰¾åˆ°åŽŸå§‹çš„è°ƒç”¨æ ˆã€‚ä¸è‡³äºŽåƒå¼‚æ­¥æ“ä½œçš„å›žè°ƒå‡½æ•°é‚£æ ·ï¼Œä¸€æ—¦å‡ºé”™ï¼ŒåŽŸå§‹çš„è°ƒç”¨æ ˆæ—©å°±ç»“æŸã€‚ Generator å‡½æ•°æ˜¯ ES6 å¯¹åç¨‹çš„å®žçŽ°ï¼Œä½†å±žäºŽä¸å®Œå…¨å®žçŽ°ã€‚Generator å‡½æ•°è¢«ç§°ä¸ºâ€œåŠåç¨‹â€ï¼ˆsemi-coroutineï¼‰ï¼Œæ„æ€æ˜¯åªæœ‰ Generator å‡½æ•°çš„è°ƒç”¨è€…ï¼Œæ‰èƒ½å°†ç¨‹åºçš„æ‰§è¡Œæƒè¿˜ç»™ Generator å‡½æ•°ã€‚å¦‚æžœæ˜¯å®Œå…¨æ‰§è¡Œçš„åç¨‹ï¼Œä»»ä½•å‡½æ•°éƒ½å¯ä»¥è®©æš‚åœçš„åç¨‹ç»§ç»­æ‰§è¡Œã€‚ å¦‚æžœå°† Generator å‡½æ•°å½“ä½œåç¨‹ï¼Œå®Œå…¨å¯ä»¥å°†å¤šä¸ªéœ€è¦äº’ç›¸åä½œçš„ä»»åŠ¡å†™æˆ Generator å‡½æ•°ï¼Œå®ƒä»¬ä¹‹é—´ä½¿ç”¨yieldè¡¨ç¤ºå¼äº¤æ¢æŽ§åˆ¶æƒã€‚ åº”ç”¨Generator å¯ä»¥æš‚åœå‡½æ•°æ‰§è¡Œï¼Œè¿”å›žä»»æ„è¡¨è¾¾å¼çš„å€¼ã€‚è¿™ç§ç‰¹ç‚¹ä½¿å¾— Generator æœ‰å¤šç§åº”ç”¨åœºæ™¯ã€‚ 1. å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾Generator å‡½æ•°çš„æš‚åœæ‰§è¡Œçš„æ•ˆæžœï¼Œæ„å‘³ç€å¯ä»¥æŠŠå¼‚æ­¥æ“ä½œå†™åœ¨yieldè¡¨è¾¾å¼é‡Œé¢ï¼Œç­‰åˆ°è°ƒç”¨nextæ–¹æ³•æ—¶å†å¾€åŽæ‰§è¡Œã€‚è¿™å®žé™…ä¸Šç­‰åŒäºŽä¸éœ€è¦å†™å›žè°ƒå‡½æ•°äº†ï¼Œå› ä¸ºå¼‚æ­¥æ“ä½œçš„åŽç»­æ“ä½œå¯ä»¥æ”¾åœ¨yieldè¡¨è¾¾å¼ä¸‹é¢ï¼Œåæ­£è¦ç­‰åˆ°è°ƒç”¨nextæ–¹æ³•æ—¶å†æ‰§è¡Œã€‚æ‰€ä»¥ï¼ŒGenerator å‡½æ•°çš„ä¸€ä¸ªé‡è¦å®žé™…æ„ä¹‰å°±æ˜¯ç”¨æ¥å¤„ç†å¼‚æ­¥æ“ä½œï¼Œæ”¹å†™å›žè°ƒå‡½æ•°ã€‚ 1234567891011function* loadUI() &#123; showLoadingScreen(); yield loadUIDataAsynchronously(); hideLoadingScreen();&#125;var loader = loadUI();// åŠ è½½UIloader.next()// å¸è½½UIloader.next() ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨loadUIå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°ä¸ä¼šæ‰§è¡Œï¼Œä»…è¿”å›žä¸€ä¸ªéåŽ†å™¨ã€‚ä¸‹ä¸€æ¬¡å¯¹è¯¥éåŽ†å™¨è°ƒç”¨nextæ–¹æ³•ï¼Œåˆ™ä¼šæ˜¾ç¤ºLoadingç•Œé¢ï¼ˆshowLoadingScreenï¼‰ï¼Œå¹¶ä¸”å¼‚æ­¥åŠ è½½æ•°æ®ï¼ˆloadUIDataAsynchronouslyï¼‰ã€‚ç­‰åˆ°æ•°æ®åŠ è½½å®Œæˆï¼Œå†ä¸€æ¬¡ä½¿ç”¨nextæ–¹æ³•ï¼Œåˆ™ä¼šéšè—Loadingç•Œé¢ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§å†™æ³•çš„å¥½å¤„æ˜¯æ‰€æœ‰Loadingç•Œé¢çš„é€»è¾‘ï¼Œéƒ½è¢«å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰éƒ¨å°±ç­éžå¸¸æ¸…æ™°ã€‚ Ajax æ˜¯å…¸åž‹çš„å¼‚æ­¥æ“ä½œï¼Œé€šè¿‡ Generator å‡½æ•°éƒ¨ç½² Ajax æ“ä½œï¼Œå¯ä»¥ç”¨åŒæ­¥çš„æ–¹å¼è¡¨è¾¾ã€‚ 1234567891011121314function* main() &#123; var result = yield request("http://some.url"); var resp = JSON.parse(result); console.log(resp.value);&#125;function request(url) &#123; makeAjaxCall(url, function(response)&#123; it.next(response); &#125;);&#125;var it = main();it.next(); ä¸Šé¢ä»£ç çš„mainå‡½æ•°ï¼Œå°±æ˜¯é€šè¿‡ Ajax æ“ä½œèŽ·å–æ•°æ®ã€‚å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†å¤šäº†ä¸€ä¸ªyieldï¼Œå®ƒå‡ ä¹Žä¸ŽåŒæ­¥æ“ä½œçš„å†™æ³•å®Œå…¨ä¸€æ ·ã€‚æ³¨æ„ï¼ŒmakeAjaxCallå‡½æ•°ä¸­çš„nextæ–¹æ³•ï¼Œå¿…é¡»åŠ ä¸Šresponseå‚æ•°ï¼Œå› ä¸ºyieldè¡¨è¾¾å¼ï¼Œæœ¬èº«æ˜¯æ²¡æœ‰å€¼çš„ï¼Œæ€»æ˜¯ç­‰äºŽundefinedã€‚ 2. æŽ§åˆ¶æµç®¡ç†å¦‚æžœæœ‰ä¸€ä¸ªå¤šæ­¥æ“ä½œéžå¸¸è€—æ—¶ï¼Œé‡‡ç”¨å›žè°ƒå‡½æ•°ï¼Œå¯èƒ½ä¼šå†™æˆä¸‹é¢è¿™æ ·ã€‚ 123456789step1(function (value1) &#123; step2(value1, function(value2) &#123; step3(value2, function(value3) &#123; step4(value3, function(value4) &#123; // Do something with value4 &#125;); &#125;); &#125;);&#125;); é‡‡ç”¨ Promise æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚ 12345678910Promise.resolve(step1) .then(step2) .then(step3) .then(step4) .then(function (value4) &#123; // Do something with value4 &#125;, function (error) &#123; // Handle any error from step1 through step4 &#125;) .done(); ä¸Šé¢ä»£ç å·²ç»æŠŠå›žè°ƒå‡½æ•°ï¼Œæ”¹æˆäº†ç›´çº¿æ‰§è¡Œçš„å½¢å¼ï¼Œä½†æ˜¯åŠ å…¥äº†å¤§é‡ Promise çš„è¯­æ³•ã€‚Generator å‡½æ•°å¯ä»¥è¿›ä¸€æ­¥æ”¹å–„ä»£ç è¿è¡Œæµç¨‹ã€‚ 1234567891011function* longRunningTask(value1) &#123; try &#123; var value2 = yield step1(value1); var value3 = yield step2(value2); var value4 = yield step3(value3); var value5 = yield step4(value4); // Do something with value4 &#125; catch (e) &#123; // Handle any error from step1 through step4 &#125;&#125; ç„¶åŽï¼Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰æ¬¡åºè‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰æ­¥éª¤ã€‚ 12345678910scheduler(longRunningTask(initialValue));function scheduler(task) &#123; var taskObj = task.next(task.value); // å¦‚æžœGeneratorå‡½æ•°æœªç»“æŸï¼Œå°±ç»§ç»­è°ƒç”¨ if (!taskObj.done) &#123; task.value = taskObj.value scheduler(task); &#125;&#125; æ³¨æ„ï¼Œä¸Šé¢è¿™ç§åšæ³•ï¼Œåªé€‚åˆåŒæ­¥æ“ä½œï¼Œå³æ‰€æœ‰çš„taskéƒ½å¿…é¡»æ˜¯åŒæ­¥çš„ï¼Œä¸èƒ½æœ‰å¼‚æ­¥æ“ä½œã€‚å› ä¸ºè¿™é‡Œçš„ä»£ç ä¸€å¾—åˆ°è¿”å›žå€¼ï¼Œå°±ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œæ²¡æœ‰åˆ¤æ–­å¼‚æ­¥æ“ä½œä½•æ—¶å®Œæˆã€‚å¦‚æžœè¦æŽ§åˆ¶å¼‚æ­¥çš„æ“ä½œæµç¨‹ï¼Œè¯¦è§åŽé¢çš„ã€Šå¼‚æ­¥æ“ä½œã€‹ä¸€ç« ã€‚ ä¸‹é¢ï¼Œåˆ©ç”¨forâ€¦ofå¾ªçŽ¯ä¼šè‡ªåŠ¨ä¾æ¬¡æ‰§è¡Œyieldå‘½ä»¤çš„ç‰¹æ€§ï¼Œæä¾›ä¸€ç§æ›´ä¸€èˆ¬çš„æŽ§åˆ¶æµç®¡ç†çš„æ–¹æ³•ã€‚ 12345678let steps = [step1Func, step2Func, step3Func];function *iterateSteps(steps)&#123; for (var i=0; i&lt; steps.length; i++)&#123; var step = steps[i]; yield step(); &#125;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„stepså°è£…äº†ä¸€ä¸ªä»»åŠ¡çš„å¤šä¸ªæ­¥éª¤ï¼ŒGenerator å‡½æ•°iterateStepsåˆ™æ˜¯ä¾æ¬¡ä¸ºè¿™äº›æ­¥éª¤åŠ ä¸Šyieldå‘½ä»¤ã€‚ å°†ä»»åŠ¡åˆ†è§£æˆæ­¥éª¤ä¹‹åŽï¼Œè¿˜å¯ä»¥å°†é¡¹ç›®åˆ†è§£æˆå¤šä¸ªä¾æ¬¡æ‰§è¡Œçš„ä»»åŠ¡ã€‚ 12345678let jobs = [job1, job2, job3];function* iterateJobs(jobs)&#123; for (var i=0; i&lt; jobs.length; i++)&#123; var job = jobs[i]; yield* iterateSteps(job.steps); &#125;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„jobså°è£…äº†ä¸€ä¸ªé¡¹ç›®çš„å¤šä¸ªä»»åŠ¡ï¼ŒGenerator å‡½æ•°iterateJobsåˆ™æ˜¯ä¾æ¬¡ä¸ºè¿™äº›ä»»åŠ¡åŠ ä¸Šyield*å‘½ä»¤ã€‚ æœ€åŽï¼Œå°±å¯ä»¥ç”¨forâ€¦ofå¾ªçŽ¯ä¸€æ¬¡æ€§ä¾æ¬¡æ‰§è¡Œæ‰€æœ‰ä»»åŠ¡çš„æ‰€æœ‰æ­¥éª¤ã€‚ 123for (var step of iterateJobs(jobs))&#123; console.log(step.id);&#125; å†æ¬¡æé†’ï¼Œä¸Šé¢çš„åšæ³•åªèƒ½ç”¨äºŽæ‰€æœ‰æ­¥éª¤éƒ½æ˜¯åŒæ­¥æ“ä½œçš„æƒ…å†µï¼Œä¸èƒ½æœ‰å¼‚æ­¥æ“ä½œçš„æ­¥éª¤ã€‚å¦‚æžœæƒ³è¦ä¾æ¬¡æ‰§è¡Œå¼‚æ­¥çš„æ­¥éª¤ï¼Œå¿…é¡»ä½¿ç”¨åŽé¢çš„ã€Šå¼‚æ­¥æ“ä½œã€‹ä¸€ç« ä»‹ç»çš„æ–¹æ³•ã€‚ forâ€¦ofçš„æœ¬è´¨æ˜¯ä¸€ä¸ªwhileå¾ªçŽ¯ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç å®žè´¨ä¸Šæ‰§è¡Œçš„æ˜¯ä¸‹é¢çš„é€»è¾‘ã€‚ 12345678var it = iterateJobs(jobs);var res = it.next();while (!res.done)&#123; var result = res.value; // ... res = it.next();&#125; 3. éƒ¨ç½² Iterator æŽ¥å£åˆ©ç”¨ Generator å‡½æ•°ï¼Œå¯ä»¥åœ¨ä»»æ„å¯¹è±¡ä¸Šéƒ¨ç½² Iterator æŽ¥å£ã€‚ 12345678910111213141516function* iterEntries(obj) &#123; let keys = Object.keys(obj); for (let i=0; i &lt; keys.length; i++) &#123; let key = keys[i]; yield [key, obj[key]]; &#125;&#125;let myObj = &#123; foo: 3, bar: 7 &#125;;for (let [key, value] of iterEntries(myObj)) &#123; console.log(key, value);&#125;// foo 3// bar 7 ä¸Šè¿°ä»£ç ä¸­ï¼ŒmyObjæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œé€šè¿‡iterEntrieså‡½æ•°ï¼Œå°±æœ‰äº† Iterator æŽ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥åœ¨ä»»æ„å¯¹è±¡ä¸Šéƒ¨ç½²nextæ–¹æ³•ã€‚ 4. ä½œä¸ºæ•°æ®ç»“æž„Generator å¯ä»¥çœ‹ä½œæ˜¯æ•°æ®ç»“æž„ï¼Œæ›´ç¡®åˆ‡åœ°è¯´ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ•°ç»„ç»“æž„ï¼Œå› ä¸º Generator å‡½æ•°å¯ä»¥è¿”å›žä¸€ç³»åˆ—çš„å€¼ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥å¯¹ä»»æ„è¡¨è¾¾å¼ï¼Œæä¾›ç±»ä¼¼æ•°ç»„çš„æŽ¥å£ã€‚ 12345function *doStuff() &#123; yield fs.readFile.bind(null, 'hello.txt'); yield fs.readFile.bind(null, 'world.txt'); yield fs.readFile.bind(null, 'and-such.txt');&#125; ä¸Šé¢ä»£ç å°±æ˜¯ä¾æ¬¡è¿”å›žä¸‰ä¸ªå‡½æ•°ï¼Œä½†æ˜¯ç”±äºŽä½¿ç”¨äº† Generator å‡½æ•°ï¼Œå¯¼è‡´å¯ä»¥åƒå¤„ç†æ•°ç»„é‚£æ ·ï¼Œå¤„ç†è¿™ä¸‰ä¸ªè¿”å›žçš„å‡½æ•°ã€‚ 123for (task of doStuff()) &#123; // taskæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥åƒå›žè°ƒå‡½æ•°é‚£æ ·ä½¿ç”¨å®ƒ&#125; å®žé™…ä¸Šï¼Œå¦‚æžœç”¨ ES5 è¡¨è¾¾ï¼Œå®Œå…¨å¯ä»¥ç”¨æ•°ç»„æ¨¡æ‹Ÿ Generator çš„è¿™ç§ç”¨æ³•ã€‚ 1234567function doStuff() &#123; return [ fs.readFile.bind(null, 'hello.txt'), fs.readFile.bind(null, 'world.txt'), fs.readFile.bind(null, 'and-such.txt') ];&#125; ä¸Šé¢çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨ä¸€æ¨¡ä¸€æ ·çš„forâ€¦ofå¾ªçŽ¯å¤„ç†ï¼ä¸¤ç›¸ä¸€æ¯”è¾ƒï¼Œå°±ä¸éš¾çœ‹å‡º Generator ä½¿å¾—æ•°æ®æˆ–è€…æ“ä½œï¼Œå…·å¤‡äº†ç±»ä¼¼æ•°ç»„çš„æŽ¥å£ã€‚]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>Generator</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6 async]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2FES6-async%2F</url>
    <content type="text"><![CDATA[å«ä¹‰ES2017 æ ‡å‡†å¼•å…¥äº† async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚async å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿä¸€å¥è¯ï¼Œå®ƒå°±æ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚å‰æ–‡æœ‰ä¸€ä¸ª Generator å‡½æ•°ï¼Œä¾æ¬¡è¯»å–ä¸¤ä¸ªæ–‡ä»¶ã€‚ 1234567891011121314151617const fs = require('fs');const readFile = function (fileName) &#123; return new Promise(function (resolve, reject) &#123; fs.readFile(fileName, function(error, data) &#123; if (error) return reject(error); resolve(data); &#125;); &#125;);&#125;;const gen = function* () &#123; const f1 = yield readFile('/etc/fstab'); const f2 = yield readFile('/etc/shells'); console.log(f1.toString()); console.log(f2.toString());&#125;; å†™æˆasyncå‡½æ•°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚ 123456const asyncReadFile = async function () &#123; const f1 = await readFile('/etc/fstab'); const f2 = await readFile('/etc/shells'); console.log(f1.toString()); console.log(f2.toString());&#125;; ä¸€æ¯”è¾ƒå°±ä¼šå‘çŽ°ï¼Œasyncå‡½æ•°å°±æ˜¯å°† Generator å‡½æ•°çš„æ˜Ÿå·ï¼ˆ*ï¼‰æ›¿æ¢æˆasyncï¼Œå°†yieldæ›¿æ¢æˆawaitï¼Œä»…æ­¤è€Œå·²ã€‚ asyncå‡½æ•°å¯¹ Generator å‡½æ•°çš„æ”¹è¿›ï¼Œä½“çŽ°åœ¨ä»¥ä¸‹å››ç‚¹ã€‚1. å†…ç½®æ‰§è¡Œå™¨ã€‚Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº†coæ¨¡å—ï¼Œè€Œasyncå‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œasyncå‡½æ•°çš„æ‰§è¡Œï¼Œä¸Žæ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚ asyncReadFile();ä¸Šé¢çš„ä»£ç è°ƒç”¨äº†asyncReadFileå‡½æ•°ï¼Œç„¶åŽå®ƒå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œè¾“å‡ºæœ€åŽç»“æžœã€‚è¿™å®Œå…¨ä¸åƒ Generator å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨nextæ–¹æ³•ï¼Œæˆ–è€…ç”¨coæ¨¡å—ï¼Œæ‰èƒ½çœŸæ­£æ‰§è¡Œï¼Œå¾—åˆ°æœ€åŽç»“æžœã€‚ 2. æ›´å¥½çš„è¯­ä¹‰ã€‚asyncå’Œawaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œyieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚asyncè¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç´§è·Ÿåœ¨åŽé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æžœã€‚ 3. æ›´å¹¿çš„é€‚ç”¨æ€§ã€‚coæ¨¡å—çº¦å®šï¼Œyieldå‘½ä»¤åŽé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œasyncå‡½æ•°çš„awaitå‘½ä»¤åŽé¢ï¼Œå¯ä»¥æ˜¯Promise å¯¹è±¡å’ŒåŽŸå§‹ç±»åž‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºŽåŒæ­¥æ“ä½œï¼‰ã€‚ 4. è¿”å›žå€¼æ˜¯ Promiseã€‚asyncå‡½æ•°çš„è¿”å›žå€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›žå€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚ è¿›ä¸€æ­¥è¯´ï¼Œasyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–ã€‚åŸºæœ¬ç”¨æ³•asyncå‡½æ•°è¿”å›žä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›žè°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ°awaitå°±ä¼šå…ˆè¿”å›žï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æŽ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åŽé¢çš„è¯­å¥ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 123456789async function getStockPriceByName(name) &#123; const symbol = await getStockSymbol(name); const stockPrice = await getStockPrice(symbol); return stockPrice;&#125;getStockPriceByName('goog').then(function (result) &#123; console.log(result);&#125;); ä¸Šé¢ä»£ç æ˜¯ä¸€ä¸ªèŽ·å–è‚¡ç¥¨æŠ¥ä»·çš„å‡½æ•°ï¼Œå‡½æ•°å‰é¢çš„asyncå…³é”®å­—ï¼Œè¡¨æ˜Žè¯¥å‡½æ•°å†…éƒ¨æœ‰å¼‚æ­¥æ“ä½œã€‚è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä¼šç«‹å³è¿”å›žä¸€ä¸ªPromiseå¯¹è±¡ã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ï¼ŒæŒ‡å®šå¤šå°‘æ¯«ç§’åŽè¾“å‡ºä¸€ä¸ªå€¼ã€‚ 123456789101112function timeout(ms) &#123; return new Promise((resolve) =&gt; &#123; setTimeout(resolve, ms); &#125;);&#125;async function asyncPrint(value, ms) &#123; await timeout(ms); console.log(value);&#125;asyncPrint('hello world', 50); ä¸Šé¢ä»£ç æŒ‡å®š50æ¯«ç§’ä»¥åŽï¼Œè¾“å‡ºhello worldã€‚ ç”±äºŽasyncå‡½æ•°è¿”å›žçš„æ˜¯ Promise å¯¹è±¡ï¼Œå¯ä»¥ä½œä¸ºawaitå‘½ä»¤çš„å‚æ•°ã€‚æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼ã€‚ 123456789101112async function timeout(ms) &#123; await new Promise((resolve) =&gt; &#123; setTimeout(resolve, ms); &#125;);&#125;async function asyncPrint(value, ms) &#123; await timeout(ms); console.log(value);&#125;asyncPrint('hello world', 50); async å‡½æ•°æœ‰å¤šç§ä½¿ç”¨å½¢å¼ã€‚123456789101112131415161718192021222324252627// å‡½æ•°å£°æ˜Žasync function foo() &#123;&#125;// å‡½æ•°è¡¨è¾¾å¼const foo = async function () &#123;&#125;;// å¯¹è±¡çš„æ–¹æ³•let obj = &#123; async foo() &#123;&#125; &#125;;obj.foo().then(...)// Class çš„æ–¹æ³•class Storage &#123; constructor() &#123; this.cachePromise = caches.open('avatars'); &#125; async getAvatar(name) &#123; const cache = await this.cachePromise; return cache.match(`/avatars/$&#123;name&#125;.jpg`); &#125;&#125;const storage = new Storage();storage.getAvatar('jake').then(â€¦);// ç®­å¤´å‡½æ•°const foo = async () =&gt; &#123;&#125;; è¯­æ³•asyncå‡½æ•°çš„è¯­æ³•è§„åˆ™æ€»ä½“ä¸Šæ¯”è¾ƒç®€å•ï¼Œéš¾ç‚¹æ˜¯é”™è¯¯å¤„ç†æœºåˆ¶ã€‚ è¿”å›ž Promise å¯¹è±¡asyncå‡½æ•°è¿”å›žä¸€ä¸ª Promise å¯¹è±¡ã€‚asyncå‡½æ•°å†…éƒ¨returnè¯­å¥è¿”å›žçš„å€¼ï¼Œä¼šæˆä¸ºthenæ–¹æ³•å›žè°ƒå‡½æ•°çš„å‚æ•°ã€‚123456async function f() &#123; return 'hello world';&#125;f().then(v =&gt; console.log(v))// "hello world" ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°få†…éƒ¨returnå‘½ä»¤è¿”å›žçš„å€¼ï¼Œä¼šè¢«thenæ–¹æ³•å›žè°ƒå‡½æ•°æŽ¥æ”¶åˆ°ã€‚ asyncå‡½æ•°å†…éƒ¨æŠ›å‡ºé”™è¯¯ï¼Œä¼šå¯¼è‡´è¿”å›žçš„ Promise å¯¹è±¡å˜ä¸ºrejectçŠ¶æ€ã€‚æŠ›å‡ºçš„é”™è¯¯å¯¹è±¡ä¼šè¢«catchæ–¹æ³•å›žè°ƒå‡½æ•°æŽ¥æ”¶åˆ°ã€‚123456789async function f() &#123; throw new Error('å‡ºé”™äº†');&#125;f().then( v =&gt; console.log(v), e =&gt; console.log(e))// Error: å‡ºé”™äº† Promise å¯¹è±¡çš„çŠ¶æ€å˜åŒ–asyncå‡½æ•°è¿”å›žçš„ Promise å¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰awaitå‘½ä»¤åŽé¢çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éžé‡åˆ°returnè¯­å¥æˆ–è€…æŠ›å‡ºé”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰asyncå‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•æŒ‡å®šçš„å›žè°ƒå‡½æ•°ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1234567async function getTitle(url) &#123; let response = await fetch(url); let html = await response.text(); return html.match(/&lt;title&gt;([\s\S]+)&lt;\/title&gt;/i)[1];&#125;getTitle('https://tc39.github.io/ecma262/').then(console.log)// "ECMAScript 2017 Language Specification" ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°getTitleå†…éƒ¨æœ‰ä¸‰ä¸ªæ“ä½œï¼šæŠ“å–ç½‘é¡µã€å–å‡ºæ–‡æœ¬ã€åŒ¹é…é¡µé¢æ ‡é¢˜ã€‚åªæœ‰è¿™ä¸‰ä¸ªæ“ä½œå…¨éƒ¨å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•é‡Œé¢çš„console.logã€‚ await å‘½ä»¤æ­£å¸¸æƒ…å†µä¸‹ï¼Œawaitå‘½ä»¤åŽé¢æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚å¦‚æžœä¸æ˜¯ï¼Œä¼šè¢«è½¬æˆä¸€ä¸ªç«‹å³resolveçš„ Promise å¯¹è±¡ã€‚123456async function f() &#123; return await 123;&#125;f().then(v =&gt; console.log(v))// 123 ä¸Šé¢ä»£ç ä¸­ï¼Œawaitå‘½ä»¤çš„å‚æ•°æ˜¯æ•°å€¼123ï¼Œå®ƒè¢«è½¬æˆ Promise å¯¹è±¡ï¼Œå¹¶ç«‹å³resolveã€‚ awaitå‘½ä»¤åŽé¢çš„ Promise å¯¹è±¡å¦‚æžœå˜ä¸ºrejectçŠ¶æ€ï¼Œåˆ™rejectçš„å‚æ•°ä¼šè¢«catchæ–¹æ³•çš„å›žè°ƒå‡½æ•°æŽ¥æ”¶åˆ°ã€‚12345678async function f() &#123; await Promise.reject('å‡ºé”™äº†');&#125;f().then(v =&gt; console.log(v)).catch(e =&gt; console.log(e))// å‡ºé”™äº† æ³¨æ„ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œawaitè¯­å¥å‰é¢æ²¡æœ‰returnï¼Œä½†æ˜¯rejectæ–¹æ³•çš„å‚æ•°ä¾ç„¶ä¼ å…¥äº†catchæ–¹æ³•çš„å›žè°ƒå‡½æ•°ã€‚è¿™é‡Œå¦‚æžœåœ¨awaitå‰é¢åŠ ä¸Šreturnï¼Œæ•ˆæžœæ˜¯ä¸€æ ·çš„ã€‚ åªè¦ä¸€ä¸ªawaitè¯­å¥åŽé¢çš„ Promise å˜ä¸ºrejectï¼Œé‚£ä¹ˆæ•´ä¸ªasyncå‡½æ•°éƒ½ä¼šä¸­æ–­æ‰§è¡Œã€‚1234async function f() &#123; await Promise.reject('å‡ºé”™äº†'); await Promise.resolve('hello world'); // ä¸ä¼šæ‰§è¡Œ&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒä¸ªawaitè¯­å¥æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªawaitè¯­å¥çŠ¶æ€å˜æˆäº†rejectã€‚ æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å³ä½¿å‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¤±è´¥ï¼Œä¹Ÿä¸è¦ä¸­æ–­åŽé¢çš„å¼‚æ­¥æ“ä½œã€‚è¿™æ—¶å¯ä»¥å°†ç¬¬ä¸€ä¸ªawaitæ”¾åœ¨tryâ€¦catchç»“æž„é‡Œé¢ï¼Œè¿™æ ·ä¸ç®¡è¿™ä¸ªå¼‚æ­¥æ“ä½œæ˜¯å¦æˆåŠŸï¼Œç¬¬äºŒä¸ªawaitéƒ½ä¼šæ‰§è¡Œã€‚ 1234567891011async function f() &#123; try &#123; await Promise.reject('å‡ºé”™äº†'); &#125; catch(e) &#123; &#125; return await Promise.resolve('hello world');&#125;f().then(v =&gt; console.log(v))// hello world å¦ä¸€ç§æ–¹æ³•æ˜¯awaitåŽé¢çš„ Promise å¯¹è±¡å†è·Ÿä¸€ä¸ªcatchæ–¹æ³•ï¼Œå¤„ç†å‰é¢å¯èƒ½å‡ºçŽ°çš„é”™è¯¯ã€‚12345678910async function f() &#123; await Promise.reject('å‡ºé”™äº†') .catch(e =&gt; console.log(e)); return await Promise.resolve('hello world');&#125;f().then(v =&gt; console.log(v))// å‡ºé”™äº†// hello world é”™è¯¯å¤„ç†å¦‚æžœawaitåŽé¢çš„å¼‚æ­¥æ“ä½œå‡ºé”™ï¼Œé‚£ä¹ˆç­‰åŒäºŽasyncå‡½æ•°è¿”å›žçš„ Promise å¯¹è±¡è¢«rejectã€‚12345678910async function f() &#123; await new Promise(function (resolve, reject) &#123; throw new Error('å‡ºé”™äº†'); &#125;);&#125;f().then(v =&gt; console.log(v)).catch(e =&gt; console.log(e))// Errorï¼šå‡ºé”™äº† ä¸Šé¢ä»£ç ä¸­ï¼Œasyncå‡½æ•°fæ‰§è¡ŒåŽï¼ŒawaitåŽé¢çš„ Promise å¯¹è±¡ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯å¯¹è±¡ï¼Œå¯¼è‡´catchæ–¹æ³•çš„å›žè°ƒå‡½æ•°è¢«è°ƒç”¨ï¼Œå®ƒçš„å‚æ•°å°±æ˜¯æŠ›å‡ºçš„é”™è¯¯å¯¹è±¡ã€‚å…·ä½“çš„æ‰§è¡Œæœºåˆ¶ï¼Œå¯ä»¥å‚è€ƒåŽæ–‡çš„â€œasync å‡½æ•°çš„å®žçŽ°åŽŸç†â€ã€‚ é˜²æ­¢å‡ºé”™çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯å°†å…¶æ”¾åœ¨tryâ€¦catchä»£ç å—ä¹‹ä¸­ã€‚123456789async function f() &#123; try &#123; await new Promise(function (resolve, reject) &#123; throw new Error('å‡ºé”™äº†'); &#125;); &#125; catch(e) &#123; &#125; return await('hello world');&#125; å¦‚æžœæœ‰å¤šä¸ªawaitå‘½ä»¤ï¼Œå¯ä»¥ç»Ÿä¸€æ”¾åœ¨tryâ€¦catchç»“æž„ä¸­ã€‚ 123456789101112async function main() &#123; try &#123; const val1 = await firstStep(); const val2 = await secondStep(val1); const val3 = await thirdStep(val1, val2); console.log('Final: ', val3); &#125; catch (err) &#123; console.error(err); &#125;&#125; ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨tryâ€¦catchç»“æž„ï¼Œå®žçŽ°å¤šæ¬¡é‡å¤å°è¯•ã€‚ 123456789101112131415const superagent = require('superagent');const NUM_RETRIES = 3;async function test() &#123; let i; for (i = 0; i &lt; NUM_RETRIES; ++i) &#123; try &#123; await superagent.get('http://google.com/this-throws-an-error'); break; &#125; catch(err) &#123;&#125; &#125; console.log(i); // 3&#125;test(); ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æžœawaitæ“ä½œæˆåŠŸï¼Œå°±ä¼šä½¿ç”¨breakè¯­å¥é€€å‡ºå¾ªçŽ¯ï¼›å¦‚æžœå¤±è´¥ï¼Œä¼šè¢«catchè¯­å¥æ•æ‰ï¼Œç„¶åŽè¿›å…¥ä¸‹ä¸€è½®å¾ªçŽ¯ã€‚ ä½¿ç”¨æ³¨æ„ç‚¹ç¬¬ä¸€ç‚¹ï¼Œå‰é¢å·²ç»è¯´è¿‡ï¼Œawaitå‘½ä»¤åŽé¢çš„Promiseå¯¹è±¡ï¼Œè¿è¡Œç»“æžœå¯èƒ½æ˜¯rejectedï¼Œæ‰€ä»¥æœ€å¥½æŠŠawaitå‘½ä»¤æ”¾åœ¨tryâ€¦catchä»£ç å—ä¸­ã€‚12345678910111213141516async function myFunction() &#123; try &#123; await somethingThatReturnsAPromise(); &#125; catch (err) &#123; console.log(err); &#125;&#125;// å¦ä¸€ç§å†™æ³•async function myFunction() &#123; await somethingThatReturnsAPromise() .catch(function (err) &#123; console.log(err); &#125;);&#125; ç¬¬äºŒç‚¹ï¼Œå¤šä¸ªawaitå‘½ä»¤åŽé¢çš„å¼‚æ­¥æ“ä½œï¼Œå¦‚æžœä¸å­˜åœ¨ç»§å‘å…³ç³»ï¼Œæœ€å¥½è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚12let foo = await getFoo();let bar = await getBar(); ä¸Šé¢ä»£ç ä¸­ï¼ŒgetFooå’ŒgetBaræ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å¼‚æ­¥æ“ä½œï¼ˆå³äº’ä¸ä¾èµ–ï¼‰ï¼Œè¢«å†™æˆç»§å‘å…³ç³»ã€‚è¿™æ ·æ¯”è¾ƒè€—æ—¶ï¼Œå› ä¸ºåªæœ‰getFooå®Œæˆä»¥åŽï¼Œæ‰ä¼šæ‰§è¡ŒgetBarï¼Œå®Œå…¨å¯ä»¥è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚ 12345678// å†™æ³•ä¸€let [foo, bar] = await Promise.all([getFoo(), getBar()]);// å†™æ³•äºŒlet fooPromise = getFoo();let barPromise = getBar();let foo = await fooPromise;let bar = await barPromise; ä¸Šé¢ä¸¤ç§å†™æ³•ï¼ŒgetFooå’ŒgetBaréƒ½æ˜¯åŒæ—¶è§¦å‘ï¼Œè¿™æ ·å°±ä¼šç¼©çŸ­ç¨‹åºçš„æ‰§è¡Œæ—¶é—´ã€‚ ç¬¬ä¸‰ç‚¹ï¼Œawaitå‘½ä»¤åªèƒ½ç”¨åœ¨asyncå‡½æ•°ä¹‹ä¸­ï¼Œå¦‚æžœç”¨åœ¨æ™®é€šå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚12345678async function dbFuc(db) &#123; let docs = [&#123;&#125;, &#123;&#125;, &#123;&#125;]; // æŠ¥é”™ docs.forEach(function (doc) &#123; await db.post(doc); &#125;);&#125; ä¸Šé¢ä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºawaitç”¨åœ¨æ™®é€šå‡½æ•°ä¹‹ä¸­äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æžœå°†forEachæ–¹æ³•çš„å‚æ•°æ”¹æˆasyncå‡½æ•°ï¼Œä¹Ÿæœ‰é—®é¢˜ã€‚ 12345678function dbFuc(db) &#123; //è¿™é‡Œä¸éœ€è¦ async let docs = [&#123;&#125;, &#123;&#125;, &#123;&#125;]; // å¯èƒ½å¾—åˆ°é”™è¯¯ç»“æžœ docs.forEach(async function (doc) &#123; await db.post(doc); &#125;);&#125; ä¸Šé¢ä»£ç å¯èƒ½ä¸ä¼šæ­£å¸¸å·¥ä½œï¼ŒåŽŸå› æ˜¯è¿™æ—¶ä¸‰ä¸ªdb.postæ“ä½œå°†æ˜¯å¹¶å‘æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯åŒæ—¶æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç»§å‘æ‰§è¡Œã€‚æ­£ç¡®çš„å†™æ³•æ˜¯é‡‡ç”¨forå¾ªçŽ¯ã€‚ 1234567async function dbFuc(db) &#123; let docs = [&#123;&#125;, &#123;&#125;, &#123;&#125;]; for (let doc of docs) &#123; await db.post(doc); &#125;&#125; å¦‚æžœç¡®å®žå¸Œæœ›å¤šä¸ªè¯·æ±‚å¹¶å‘æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨Promise.allæ–¹æ³•ã€‚å½“ä¸‰ä¸ªè¯·æ±‚éƒ½ä¼šresolvedæ—¶ï¼Œä¸‹é¢ä¸¤ç§å†™æ³•æ•ˆæžœç›¸åŒã€‚ 1234567891011121314151617181920async function dbFuc(db) &#123; let docs = [&#123;&#125;, &#123;&#125;, &#123;&#125;]; let promises = docs.map((doc) =&gt; db.post(doc)); let results = await Promise.all(promises); console.log(results);&#125;// æˆ–è€…ä½¿ç”¨ä¸‹é¢çš„å†™æ³•async function dbFuc(db) &#123; let docs = [&#123;&#125;, &#123;&#125;, &#123;&#125;]; let promises = docs.map((doc) =&gt; db.post(doc)); let results = []; for (let promise of promises) &#123; results.push(await promise); &#125; console.log(results);&#125; ç›®å‰ï¼Œ@std/esmæ¨¡å—åŠ è½½å™¨æ”¯æŒé¡¶å±‚awaitï¼Œå³awaitå‘½ä»¤å¯ä»¥ä¸æ”¾åœ¨ async å‡½æ•°é‡Œé¢ï¼Œç›´æŽ¥ä½¿ç”¨ã€‚ 1234567891011// async å‡½æ•°çš„å†™æ³•const start = async () =&gt; &#123; const res = await fetch('google.com'); return res.text();&#125;;start().then(console.log);// é¡¶å±‚ await çš„å†™æ³•const res = await fetch('google.com');console.log(await res.text()); ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒç§å†™æ³•çš„è„šæœ¬å¿…é¡»ä½¿ç”¨@std/esmåŠ è½½å™¨ï¼Œæ‰ä¼šç”Ÿæ•ˆã€‚ async å‡½æ•°çš„å®žçŽ°åŽŸç†async å‡½æ•°çš„å®žçŽ°åŽŸç†ï¼Œå°±æ˜¯å°† Generator å‡½æ•°å’Œè‡ªåŠ¨æ‰§è¡Œå™¨ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°é‡Œã€‚1234567891011async function fn(args) &#123; // ...&#125;// ç­‰åŒäºŽfunction fn(args) &#123; return spawn(function* () &#123; // ... &#125;);&#125; æ‰€æœ‰çš„asyncå‡½æ•°éƒ½å¯ä»¥å†™æˆä¸Šé¢çš„ç¬¬äºŒç§å½¢å¼ï¼Œå…¶ä¸­çš„spawnå‡½æ•°å°±æ˜¯è‡ªåŠ¨æ‰§è¡Œå™¨ã€‚ ä¸‹é¢ç»™å‡ºspawnå‡½æ•°çš„å®žçŽ°ï¼ŒåŸºæœ¬å°±æ˜¯å‰æ–‡è‡ªåŠ¨æ‰§è¡Œå™¨çš„ç¿»ç‰ˆã€‚ 12345678910111213141516171819202122function spawn(genF) &#123; return new Promise(function(resolve, reject) &#123; const gen = genF(); function step(nextF) &#123; let next; try &#123; next = nextF(); &#125; catch(e) &#123; return reject(e); &#125; if(next.done) &#123; return resolve(next.value); &#125; Promise.resolve(next.value).then(function(v) &#123; step(function() &#123; return gen.next(v); &#125;); &#125;, function(e) &#123; step(function() &#123; return gen.throw(e); &#125;); &#125;); &#125; step(function() &#123; return gen.next(undefined); &#125;); &#125;);&#125; ä¸Žå…¶ä»–å¼‚æ­¥å¤„ç†æ–¹æ³•çš„æ¯”è¾ƒæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œæ¥çœ‹ async å‡½æ•°ä¸Ž Promiseã€Generator å‡½æ•°çš„æ¯”è¾ƒã€‚ å‡å®šæŸä¸ª DOM å…ƒç´ ä¸Šé¢ï¼Œéƒ¨ç½²äº†ä¸€ç³»åˆ—çš„åŠ¨ç”»ï¼Œå‰ä¸€ä¸ªåŠ¨ç”»ç»“æŸï¼Œæ‰èƒ½å¼€å§‹åŽä¸€ä¸ªã€‚å¦‚æžœå½“ä¸­æœ‰ä¸€ä¸ªåŠ¨ç”»å‡ºé”™ï¼Œå°±ä¸å†å¾€ä¸‹æ‰§è¡Œï¼Œè¿”å›žä¸Šä¸€ä¸ªæˆåŠŸæ‰§è¡Œçš„åŠ¨ç”»çš„è¿”å›žå€¼ã€‚ é¦–å…ˆæ˜¯ Promise çš„å†™æ³•ã€‚123456789101112131415161718192021222324function chainAnimationsPromise(elem, animations) &#123; // å˜é‡retç”¨æ¥ä¿å­˜ä¸Šä¸€ä¸ªåŠ¨ç”»çš„è¿”å›žå€¼ let ret = null; // æ–°å»ºä¸€ä¸ªç©ºçš„Promise let p = Promise.resolve(); // ä½¿ç”¨thenæ–¹æ³•ï¼Œæ·»åŠ æ‰€æœ‰åŠ¨ç”» for(let anim of animations) &#123; p = p.then(function(val) &#123; ret = val; return anim(elem); &#125;); &#125; // è¿”å›žä¸€ä¸ªéƒ¨ç½²äº†é”™è¯¯æ•æ‰æœºåˆ¶çš„Promise return p.catch(function(e) &#123; /* å¿½ç•¥é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ */ &#125;).then(function() &#123; return ret; &#125;);&#125; è™½ç„¶ Promise çš„å†™æ³•æ¯”å›žè°ƒå‡½æ•°çš„å†™æ³•å¤§å¤§æ”¹è¿›ï¼Œä½†æ˜¯ä¸€çœ¼çœ‹ä¸ŠåŽ»ï¼Œä»£ç å®Œå…¨éƒ½æ˜¯ Promise çš„ APIï¼ˆthenã€catchç­‰ç­‰ï¼‰ï¼Œæ“ä½œæœ¬èº«çš„è¯­ä¹‰åè€Œä¸å®¹æ˜“çœ‹å‡ºæ¥ã€‚ æŽ¥ç€æ˜¯ Generator å‡½æ•°çš„å†™æ³•ã€‚123456789101112131415function chainAnimationsGenerator(elem, animations) &#123; return spawn(function*() &#123; let ret = null; try &#123; for(let anim of animations) &#123; ret = yield anim(elem); &#125; &#125; catch(e) &#123; /* å¿½ç•¥é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ */ &#125; return ret; &#125;);&#125; ä¸Šé¢ä»£ç ä½¿ç”¨ Generator å‡½æ•°éåŽ†äº†æ¯ä¸ªåŠ¨ç”»ï¼Œè¯­ä¹‰æ¯” Promise å†™æ³•æ›´æ¸…æ™°ï¼Œç”¨æˆ·å®šä¹‰çš„æ“ä½œå…¨éƒ¨éƒ½å‡ºçŽ°åœ¨spawnå‡½æ•°çš„å†…éƒ¨ã€‚è¿™ä¸ªå†™æ³•çš„é—®é¢˜åœ¨äºŽï¼Œå¿…é¡»æœ‰ä¸€ä¸ªä»»åŠ¡è¿è¡Œå™¨ï¼Œè‡ªåŠ¨æ‰§è¡Œ Generator å‡½æ•°ï¼Œä¸Šé¢ä»£ç çš„spawnå‡½æ•°å°±æ˜¯è‡ªåŠ¨æ‰§è¡Œå™¨ï¼Œå®ƒè¿”å›žä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œä¸”å¿…é¡»ä¿è¯yieldè¯­å¥åŽé¢çš„è¡¨è¾¾å¼ï¼Œå¿…é¡»è¿”å›žä¸€ä¸ª Promiseã€‚ æœ€åŽæ˜¯ async å‡½æ•°çš„å†™æ³•ã€‚1234567891011async function chainAnimationsAsync(elem, animations) &#123; let ret = null; try &#123; for(let anim of animations) &#123; ret = await anim(elem); &#125; &#125; catch(e) &#123; /* å¿½ç•¥é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ */ &#125; return ret;&#125; å¯ä»¥çœ‹åˆ°Asyncå‡½æ•°çš„å®žçŽ°æœ€ç®€æ´ï¼Œæœ€ç¬¦åˆè¯­ä¹‰ï¼Œå‡ ä¹Žæ²¡æœ‰è¯­ä¹‰ä¸ç›¸å…³çš„ä»£ç ã€‚å®ƒå°†Generatorå†™æ³•ä¸­çš„è‡ªåŠ¨æ‰§è¡Œå™¨ï¼Œæ”¹åœ¨è¯­è¨€å±‚é¢æä¾›ï¼Œä¸æš´éœ²ç»™ç”¨æˆ·ï¼Œå› æ­¤ä»£ç é‡æœ€å°‘ã€‚å¦‚æžœä½¿ç”¨Generatorå†™æ³•ï¼Œè‡ªåŠ¨æ‰§è¡Œå™¨éœ€è¦ç”¨æˆ·è‡ªå·±æä¾›ã€‚ å®žä¾‹ï¼šæŒ‰é¡ºåºå®Œæˆå¼‚æ­¥æ“ä½œå®žé™…å¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°ä¸€ç»„å¼‚æ­¥æ“ä½œï¼Œéœ€è¦æŒ‰ç…§é¡ºåºå®Œæˆã€‚æ¯”å¦‚ï¼Œä¾æ¬¡è¿œç¨‹è¯»å–ä¸€ç»„ URLï¼Œç„¶åŽæŒ‰ç…§è¯»å–çš„é¡ºåºè¾“å‡ºç»“æžœã€‚ Promise çš„å†™æ³•å¦‚ä¸‹ã€‚ 123456789101112function logInOrder(urls) &#123; // è¿œç¨‹è¯»å–æ‰€æœ‰URL const textPromises = urls.map(url =&gt; &#123; return fetch(url).then(response =&gt; response.text()); &#125;); // æŒ‰æ¬¡åºè¾“å‡º textPromises.reduce((chain, textPromise) =&gt; &#123; return chain.then(() =&gt; textPromise) .then(text =&gt; console.log(text)); &#125;, Promise.resolve());&#125; ä¸Šé¢ä»£ç ä½¿ç”¨fetchæ–¹æ³•ï¼ŒåŒæ—¶è¿œç¨‹è¯»å–ä¸€ç»„ URLã€‚æ¯ä¸ªfetchæ“ä½œéƒ½è¿”å›žä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ”¾å…¥textPromisesæ•°ç»„ã€‚ç„¶åŽï¼Œreduceæ–¹æ³•ä¾æ¬¡å¤„ç†æ¯ä¸ª Promise å¯¹è±¡ï¼Œç„¶åŽä½¿ç”¨thenï¼Œå°†æ‰€æœ‰ Promise å¯¹è±¡è¿žèµ·æ¥ï¼Œå› æ­¤å°±å¯ä»¥ä¾æ¬¡è¾“å‡ºç»“æžœã€‚ è¿™ç§å†™æ³•ä¸å¤ªç›´è§‚ï¼Œå¯è¯»æ€§æ¯”è¾ƒå·®ã€‚ä¸‹é¢æ˜¯ async å‡½æ•°å®žçŽ°ã€‚ 123456async function logInOrder(urls) &#123; for (const url of urls) &#123; const response = await fetch(url); console.log(await response.text()); &#125;&#125; ä¸Šé¢ä»£ç ç¡®å®žå¤§å¤§ç®€åŒ–ï¼Œé—®é¢˜æ˜¯æ‰€æœ‰è¿œç¨‹æ“ä½œéƒ½æ˜¯ç»§å‘ã€‚åªæœ‰å‰ä¸€ä¸ªURLè¿”å›žç»“æžœï¼Œæ‰ä¼šåŽ»è¯»å–ä¸‹ä¸€ä¸ªURLï¼Œè¿™æ ·åšæ•ˆçŽ‡å¾ˆå·®ï¼Œéžå¸¸æµªè´¹æ—¶é—´ã€‚æˆ‘ä»¬éœ€è¦çš„æ˜¯å¹¶å‘å‘å‡ºè¿œç¨‹è¯·æ±‚ã€‚ 123456789101112async function logInOrder(urls) &#123; // å¹¶å‘è¯»å–è¿œç¨‹URL const textPromises = urls.map(async url =&gt; &#123; const response = await fetch(url); return response.text(); &#125;); // æŒ‰æ¬¡åºè¾“å‡º for (const textPromise of textPromises) &#123; console.log(await textPromise); &#125;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œè™½ç„¶mapæ–¹æ³•çš„å‚æ•°æ˜¯asyncå‡½æ•°ï¼Œä½†å®ƒæ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œå› ä¸ºåªæœ‰asyncå‡½æ•°å†…éƒ¨æ˜¯ç»§å‘æ‰§è¡Œï¼Œå¤–éƒ¨ä¸å—å½±å“ã€‚åŽé¢çš„for..ofå¾ªçŽ¯å†…éƒ¨ä½¿ç”¨äº†awaitï¼Œå› æ­¤å®žçŽ°äº†æŒ‰é¡ºåºè¾“å‡ºã€‚]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
        <tag>async</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žçŽ°ä¸€ä¸ªå›žåˆ°é¡¶éƒ¨æŒ‰é’®]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F14%2F%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9B%9E%E5%88%B0%E9%A1%B6%E9%83%A8%E6%8C%89%E9%92%AE%2F</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨å®žé™…åº”ç”¨ä¸­ï¼Œç»å¸¸ç”¨åˆ°æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨æˆ–æŸä¸ªä½ç½®ï¼Œä¸€èˆ¬ç®€å•ç”¨é”šç‚¹å¤„ç†æˆ–ç”¨jså°†document.body.scrollTopè®¾ç½®ä¸º0ï¼Œç»“æžœæ˜¯é¡µé¢ä¸€é—ªè€Œè¿‡æ»šåˆ°æŒ‡å®šä½ç½®ï¼Œä¸æ˜¯ç‰¹åˆ«å‹å¥½ã€‚æˆ‘ä»¬æƒ³è¦çš„æ•ˆæžœæ˜¯è¦æœ‰ç‚¹ç¼“å†²æ•ˆæžœã€‚ çŽ°ä»£æµè§ˆå™¨é™†ç»­æ„è¯†åˆ°äº†è¿™ç§éœ€æ±‚ï¼ŒscrollIntoViewæ„æ€æ˜¯æ»šåŠ¨åˆ°å¯è§†ï¼Œcssä¸­æä¾›äº†scroll-behaviorå±žæ€§ï¼Œjsæœ‰Element.scrollIntoView()æ–¹æ³•ã€‚ scroll-behavior1scroll-behavior`å±žæ€§å¯å–å€¼`auto`|`smooth`|`inherit`|`unset scroll-behavior: smooth;æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç¼“å†²æ•ˆæžœã€‚åœ¨PCæµè§ˆå™¨ä¸­ï¼Œé¡µé¢é»˜è®¤æ»šåŠ¨æ˜¯åœ¨&lt;html&gt;æ ‡ç­¾ä¸Šï¼Œç§»åŠ¨ç«¯å¤§å¤šæ•°åœ¨&lt;body&gt;æ ‡ç­¾ä¸Šï¼Œåœ¨æˆ‘ä»¬æƒ³è¦å®žçŽ°å¹³æ»‘â€œå›žåˆ°é¡¶éƒ¨â€ï¼Œåªéœ€åœ¨è¿™ä¸¤ä¸ªæ ‡ç­¾ä¸Šéƒ½åŠ ä¸Šï¼š 123html, body &#123; scroll-behavior: smooth;&#125; å‡†ç¡®çš„è¯´ï¼Œå†™åœ¨å®¹å™¨å…ƒç´ ä¸Šï¼Œå¯ä»¥è®©å®¹å™¨ï¼ˆéžé¼ æ ‡æ‰‹åŠ¿è§¦å‘ï¼‰çš„æ»šåŠ¨å˜å¾—å¹³æ»‘ï¼Œè€Œä¸å±€é™äºŽ&lt;html&gt;ï¼Œ&lt;body&gt;æ ‡ç­¾ã€‚ åˆ©ç”¨è¿™ä¸ªcsså±žæ€§å¯ä»¥ä¸€æ­¥å°†åŽŸæ¥çº¯cssæ ‡ç­¾ç›´æŽ¥åˆ‡æ¢ï¼Œå˜æˆå¹³æ»‘è¿‡æ¸¡åˆ‡æ¢æ•ˆæžœã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859.tab label &#123; padding: 10px; border: 1px solid #ccc; margin-right: -1px; text-align: center; float: left; overflow: hidden;&#125;.tab::after &#123; content: ""; display: table; clear: both;&#125;.box &#123; height: 200px; border: 1px solid #ccc; scroll-behavior: smooth; overflow: hidden; margin-top: 10px;&#125;.item &#123; height: 100%; position: relative; overflow: hidden;&#125;.item input &#123; position: absolute; top: 0; height: 100%; width: 1px; border: 0; padding: 0; margin: 0; clip: rect(0 0 0 0);&#125;&lt;h1&gt;çº¯CSSé€‰é¡¹å¡&lt;/h1&gt;&lt;div class="tab"&gt; &lt;label for="tab1"&gt;é€‰é¡¹å¡1&lt;/label&gt; &lt;label for="tab2"&gt;é€‰é¡¹å¡2&lt;/label&gt; &lt;label for="tab3"&gt;é€‰é¡¹å¡3&lt;/label&gt;&lt;/div&gt;&lt;div class="box"&gt; &lt;div class="item"&gt; &lt;input type="text" id="tab1"&gt; &lt;p&gt;é€‰é¡¹å¡1å†…å®¹&lt;/p&gt; &lt;/div&gt; &lt;div class="item"&gt; &lt;input type="text" id="tab2"&gt; &lt;p&gt;é€‰é¡¹å¡2å†…å®¹&lt;/p&gt; &lt;/div&gt; &lt;div class="item"&gt; &lt;input type="text" id="tab3"&gt; &lt;p&gt;é€‰é¡¹å¡3å†…å®¹&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; å®žçŽ°æ•ˆæžœ ä¹Ÿå¯ä»¥æˆ³è¿™é‡Œ å†æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªcsså±žæ€§scroll-behavioråœ¨å„å¤§æµè§ˆå™¨ä¸­çš„æ”¯æŒæƒ…å†µ å‘ƒ~æ”¯æŒåº¦ä¸æ˜¯å¾ˆå¥½ï¼Œè¿™æ ·ä¸€è¡Œcssä»£ç èƒ½åº”ç”¨ä¸Šå½“ç„¶æ˜¯æœ€å¥½çš„ï¼Œä¸è¡Œå°±é€€åŒ–æˆä¸€é—ªè€Œè¿‡çš„æ•ˆæžœå’¯ã€‚ä¸‹é¢å†çœ‹ä¸‹jsæä¾›çš„apiã€‚ Element.scrollIntoView()Element.scrollIntoView() æ–¹æ³•è®©å½“å‰çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§†åŒºåŸŸå†…ã€‚ element.scrollIntoView(); // ç­‰åŒäºŽelement.scrollIntoView(true)element.scrollIntoView(alignToTop); // Booleanåž‹å‚æ•°element.scrollIntoView(scrollIntoViewOptions); // Objectåž‹å‚æ•° å‚æ•°alignToTopä¸€ä¸ªBooleanå€¼ï¼š å¦‚æžœä¸ºtrueï¼Œå…ƒç´ çš„é¡¶ç«¯å°†å’Œå…¶æ‰€åœ¨æ»šåŠ¨åŒºçš„å¯è§†åŒºåŸŸçš„é¡¶ç«¯å¯¹é½ã€‚ç›¸åº”çš„scrollIntoViewOptions: {block: &quot;start&quot;, inline: &quot;nearest&quot;}ã€‚è¿™æ˜¯è¿™ä¸ªå‚æ•°çš„é»˜è®¤å€¼ã€‚ å¦‚æžœä¸ºfalseï¼Œå…ƒç´ çš„åº•ç«¯å°†å’Œå…¶æ‰€åœ¨æ»šåŠ¨åŒºçš„å¯è§†åŒºåŸŸçš„åº•ç«¯å¯¹é½ã€‚ç›¸åº”çš„scrollIntoViewOptions: {block: &quot;end&quot;, inline: &quot;nearest&quot;}ã€‚ å‚æ•°scrollIntoViewOptionsä¸€ä¸ªå¸¦æœ‰é€‰é¡¹çš„ objectï¼š 1234&#123; behavior: "auto" | "instant" | "smooth", block: "start" | "end",&#125; behavior å¯é€‰å®šä¹‰ç¼“åŠ¨åŠ¨ç”»ï¼Œ â€œautoâ€, â€œinstantâ€, æˆ– â€œsmoothâ€ ä¹‹ä¸€ã€‚é»˜è®¤ä¸º â€œautoâ€ã€‚ block å¯é€‰&quot;start&quot;, &quot;center&quot;, &quot;end&quot;, æˆ– &quot;nearest&quot;ä¹‹ä¸€ã€‚é»˜è®¤ä¸º &quot;center&quot;ã€‚ inline å¯é€‰&quot;start&quot;, &quot;center&quot;, &quot;end&quot;, æˆ– &quot;nearest&quot;ä¹‹ä¸€ã€‚é»˜è®¤ä¸º &quot;nearest&quot;ã€‚ æµè§ˆå™¨æ”¯æŒ å¯ä»¥çœ‹åˆ°å¯¹äºŽæ— å‚æ•°çš„æƒ…å†µæ”¯æŒè¿˜æ˜¯å¾ˆå¥½çš„ï¼Œæœ‰å‚æ•°çš„è¯¥APIåœ¨æµè§ˆå™¨ä¸­æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶ç»“åˆCSSè®¾ç½®scroll-behavior: smooth;æ»šåŠ¨æ•ˆæžœï¼Œåœ¨æ‰§è¡Œæ»šåŠ¨ä½¿ç”¨target.scrollIntoView()ï¼Œå³å¯è¾¾åˆ°â€œå®Œç¾Žæ»šåŠ¨â€ï¼ˆä¸å¤ªå®Œç¾Žï¼‰æ•ˆæžœã€‚ å‘ä¸‹å…¼å®¹è¦è¾¾åˆ°æ‰€æœ‰æµè§ˆå™¨éƒ½æœ‰ç›¸åŒï¼ˆç±»ä¼¼ï¼‰æ•ˆæžœï¼Œé‚£å°±è¦æŠŠå‰©ä½™ä¸æ”¯æŒscroll-behaviorå±žæ€§çš„æµè§ˆå™¨æªå‡ºæ¥ï¼Œç”¨jsåŽ»å®Œæˆä½¿å‘½äº†ã€‚ åˆ¤æ–­æ˜¯å¦æ”¯æŒscroll-behaviorå±žæ€§å¾ˆç®€å•ï¼Œç”¨ä»¥ä¸‹è¿™ä¸€è¡Œä»£ç  123456if(typeof window.getComputedStyle(document.body).scrollBehavior === 'undefined') &#123; // å…¼å®¹jsä»£ç &#125; else &#123; // åŽŸç”Ÿæ»šåŠ¨api // Element.scrollIntoView()&#125; åˆ¤æ–­æ˜¯å¦æ”¯æŒscroll-behaviorå±žæ€§ï¼Œç›´æŽ¥åˆ©ç”¨åŽŸç”ŸElement.scrollIntoView()æ»šåŠ¨ï¼Œå¦åˆ™å‘ä¸‹å…¼å®¹å¤„ç†ã€‚ ç¼“å†²ç®—æ³•ç¼“å†²çš„ç›´è§‚æ•ˆæžœæ˜¯è¶Šæ¥è¶Šæ…¢ï¼Œç›´åˆ°åœæ­¢ï¼Œä¹Ÿå°±æ˜¯åœ¨ç›¸åŒæ—¶é—´å†…è¿åŠ¨çš„è·ç¦»è¶Šæ¥è¶ŠçŸ­ã€‚è¿™æ ·å¯ä»¥è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç§»åŠ¨åˆ°å½“å‰ç‚¹åˆ°ç›®æ ‡ç‚¹è·ç¦»çš„ç¼“å†²çŽ‡ï¼ˆæ¯”å¦‚1/2ï¼Œ1/3ï¼Œâ€¦ï¼‰å¤„ï¼Œæ¯”å¦‚ï¼Œç¼“å†²çŽ‡è®¾ä¸º2ï¼Œå½“å‰è·ç¦»ç›®æ ‡ç‚¹64pxï¼Œä¸‹ä¸€ç§’å°±æ˜¯32pxï¼Œç„¶åŽ16pxï¼Œ8pxâ€¦ï¼Œåˆ°è¾¾æŸä¸ªé˜ˆå€¼ç»“æŸï¼Œä¹Ÿå°±æ˜¯ï¼š 1var position = position + (destination - position) / n; ä¸‹é¢æ¥ç®€å•å®žçŽ°ä¸€ä¸ªç‚¹å‡»å³ä¸‹æ–¹çš„â€å›žåˆ°é¡¶éƒ¨â€œæŒ‰é’®ï¼Œé¡µé¢ç¼“åŠ¨æ»šåŠ¨åˆ°é¡¶éƒ¨çš„demoã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;div class="content"&gt; &lt;p&gt;å¾ˆå¤šå†…å®¹ã€‚ã€‚ã€‚&lt;/p&gt; ... &lt;/div&gt; &lt;section class="back-to-top"&gt; å›žåˆ°é¡¶éƒ¨ &lt;/section&gt;.content &#123; height: 3000px; border: 1px solid #ccc; box-shadow: 0 0 2px solid;&#125;.back-to-top &#123; width: 18px; padding: 10px; border: 1px solid #ccc; box-shadow: 0 0 2px #333; position: fixed; right: 20px; bottom: 40px;&#125;.back-to-top:hover &#123; cursor: pointer;&#125;var scrollTopSmooth = function (position) &#123; // ä¸å­˜åœ¨åŽŸç”Ÿ`requestAnimationFrame`ï¼Œç”¨`setTimeout`æ¨¡æ‹Ÿæ›¿ä»£ if (!window.requestAnimationFrame) &#123; window.requestAnimationFrame = function (cb) &#123; return setTimeout(cb, 17); &#125;; &#125; // å½“å‰æ»šåŠ¨é«˜åº¦ var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; // step var step = function () &#123; var distance = position - scrollTop; scrollTop = scrollTop + distance / 5; if (Math.abs(distance) &lt; 1) &#123; window.scrollTo(0, position); &#125; else &#123; window.scrollTo(0, scrollTop); requestAnimationFrame(step); &#125; &#125;; step();&#125;$backToTop = document.querySelector('.back-to-top')$backToTop.addEventListener('click', function () &#123; scrollTopSmooth(0);&#125;, false);&lt;/script&gt; æ•ˆæžœå›¾ æˆ–è€…æˆ³è¿™é‡Œ ç®€å•å°è£…ä¸Šé¢çš„å°demoä¸­ï¼Œç¼“å†²ç®—æ³•å’Œå½“å‰æ»šåŠ¨ä¸šåŠ¡ä»£ç è€¦åˆåœ¨ä¸€èµ·äº†ï¼Œä¸‹é¢å•ç‹¬æ‹†è§£å‡ºå•ç‹¬ä¸€ä¸ªå‡½æ•°ã€‚ 1234567891011121314151617181920212223242526272829303132/*** ç¼“å†²å‡½æ•°* @param &#123;Number&#125; position å½“å‰æ»šåŠ¨ä½ç½®* @param &#123;Number&#125; destination ç›®æ ‡ä½ç½®* @param &#123;Number&#125; rate ç¼“åŠ¨çŽ‡* @param &#123;Function&#125; callback ç¼“åŠ¨ç»“æŸå›žè°ƒå‡½æ•° ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å½“å‰ä½ç½®å’Œæ˜¯å¦ç»“æŸ*/var easeout = function (position, destination, rate, callback) &#123; if (position === destination || typeof destination !== 'number') &#123; return false; &#125; destination = destination || 0; rate = rate || 2; // ä¸å­˜åœ¨åŽŸç”Ÿ`requestAnimationFrame`ï¼Œç”¨`setTimeout`æ¨¡æ‹Ÿæ›¿ä»£ if (!window.requestAnimationFrame) &#123; window.requestAnimationFrame = function (fn) &#123; return setTimeout(fn, 17); &#125; &#125; var step = function () &#123; position = position + (destination - position) / rate; if (Math.abs(destination - position) &lt; 1) &#123; callback(destination, true); return; &#125; callback(position, false); requestAnimationFrame(step); &#125;; step();&#125; æ‹†åˆ†åŽï¼Œè¿™ä¸ªå°ç¼“å†²ç®—æ³•å°±å¯ä»¥è¢«é‡å¤è°ƒç”¨å•¦ï¼Œè€Œä¸”ï¼Œé€‚ç”¨äºŽæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®ï¼ˆä¸ä»…ä»…æ˜¯åˆ°é¡¶éƒ¨ï¼‰å’Œç¼“å†²çŽ‡ï¼ˆæŽ§åˆ¶æ»šåŠ¨å¿«æ…¢ï¼‰ï¼Œå½“å‰å°demoè°ƒç”¨ï¼š 123456789101112var scrollTopSmooth = function (position) &#123; // å½“å‰æ»šåŠ¨é«˜åº¦ var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; easeout(scrollTop, position, 5, function (val) &#123; window.scrollTo(0, val); &#125;);&#125;$backToTop = document.querySelector('.back-to-top')$backToTop.addEventListener('click', function () &#123; scrollTopSmooth(200);&#125;, false); æ€»ç»“ç»¼åˆæ¥çœ‹ï¼Œç®€å•å®žçŽ°ä¸€ä¸ªå®Œç¾Žæ»šåŠ¨æ³¨æ„ä»¥ä¸‹å³å¯ &lt;html&gt;ï¼Œ&lt;body&gt;æ ‡ç­¾åŠ ä¸Šscroll-behavior: smooth;å±žæ€§ï¼› åˆ¤æ–­å½“å‰æµè§ˆå™¨æ˜¯å¦æ”¯æŒscrollBehaviorå±žæ€§ï¼› å¦‚æžœæ”¯æŒç›´æŽ¥ç”¨åŽŸç”Ÿæ»šåŠ¨apiElement.scrollIntoView()ï¼› å¦‚æžœä¸æ”¯æŒåˆ™ç”¨jså°ç¼“å†²ç®—æ³•å…¼å®¹å¤„ç†ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>HTML</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žçŽ°ç‚¹å‡»buttonæ»šåŠ¨è¿”å›žé¡¶éƒ¨åŠ¨ç”»]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2F%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BBbutton%E6%BB%9A%E5%8A%A8%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"><![CDATA[å®žçŽ°ç‚¹å‡»buttonæ»šåŠ¨è¿”å›žé¡¶éƒ¨åŠ¨ç”»1234567891011121314//ES6å†™æ³• returnTop() &#123; let distance = document.documentElement.scrollTop || document.body.scrollTop; //èŽ·å¾—å½“å‰é«˜åº¦ let step = distance / 20; //æ¯æ­¥çš„è·ç¦» (function jump() &#123; console.log(1); if (distance &gt; 0) &#123; distance -= step; window.scrollTo(0, distance); setTimeout(jump, 10); &#125; &#125;)(); &#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»˜åˆ¶è™šçº¿å¹¶ä¸”èƒ½å¤Ÿè®¾ç½®è™šçº¿å®½åº¦æ–¹æ³•]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2F%E7%BB%98%E5%88%B6%E8%99%9A%E7%BA%BF%E5%B9%B6%E4%B8%94%E8%83%BD%E5%A4%9F%E8%AE%BE%E7%BD%AE%E8%99%9A%E7%BA%BF%E5%AE%BD%E5%BA%A6%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç»˜åˆ¶è™šçº¿å¹¶ä¸”èƒ½å¤Ÿè®¾ç½®è™šçº¿å®½åº¦æ–¹æ³•:12345width: 100%;height: 2px;background-image: linear-gradient(to right, #ccc 0%, #ccc 50%, transparent 50%);background-size: 17px 2px;background-repeat: repeat-x;]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5CSS3]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2FHTML5CSS3%2F</url>
    <content type="text"><![CDATA[CSS3CSS3æ˜¯åœ¨CSSçš„æŽ¥è§¦ä¸Šå¢žåŠ äº†å¾ˆå¤šæ–°çš„ç‰¹æ€§ï¼Œä¸Žä½Žç‰ˆæœ¬çš„CSSå¹¶ä¸å†²çªä»‹ç»ä¸€äº›å¸¸ç”¨çš„ç‰¹æ€§ æ–‡æœ¬text-overflow clipå‰ªåˆ‡è¶…å‡ºæ–‡æœ¬ ellipsisæ˜¾ç¤ºçœç•¥å· ï¼ˆéœ€è¦ä¸Ž overflow: hiddien ; white-space: nowrap åˆç”¨ï¼‰ æ¢è¡Œword-wrapå…è®¸é•¿å•è¯æˆ– URL åœ°å€æ¢è¡Œåˆ°ä¸‹ä¸€è¡Œ normal åªåœ¨å…è®¸çš„æ–­å­—ç‚¹æ¢è¡Œ break-word åœ¨é•¿å•è¯æˆ– URL åœ°å€å†…éƒ¨è¿›è¡Œæ¢è¡Œ word-breakè‡ªåŠ¨æ¢è¡Œçš„å¤„ç†æ–¹æ³• normal ä½¿ç”¨æµè§ˆå™¨é»˜è®¤çš„æ¢è¡Œè§„åˆ™ break-all å…è®¸åœ¨å•è¯å†…æ¢è¡Œ keep-all åªèƒ½åœ¨åŠè§’ç©ºæ ¼æˆ–è¿žå­—ç¬¦å¤„æ¢è¡Œ white-spaceè®¾ç½®å¦‚ä½•å¤„ç†å…ƒç´ å†…çš„ç©ºç™½ normal è¿žç»­ç©ºç™½ä¼šè¢«æµè§ˆå™¨å¿½ç•¥ pre ç©ºç™½ä¼šè¢«æµè§ˆå™¨ä¿ç•™ nowrap æ–‡æœ¬ä¸ä¼šæ¢è¡Œï¼Œæ–‡æœ¬ä¼šåœ¨åœ¨åŒä¸€è¡Œä¸Šç»§ç»­ï¼Œç›´åˆ°é‡åˆ°æ ‡ç­¾ä¸ºæ­¢ pre-wrap ä¿ç•™ç©ºç™½ç¬¦åºåˆ—ï¼Œä½†æ˜¯æ­£å¸¸åœ°è¿›è¡Œæ¢è¡Œ pre-line åˆå¹¶ç©ºç™½ç¬¦åºåˆ—ï¼Œä½†æ˜¯ä¿ç•™æ¢è¡Œç¬¦ text-shadowæ–‡å­—é˜´å½± ï¼Œ å¯ä»¥å†™å¤šä¸ªï¼Œéš”å¼€(x, y, blur, color) è¾¹æ¡† borderborder-radiusåœ†è§’åŠå¾„ border-radiusæ˜¯ç¼©å†™æ ¼å¼ï¼Œå¯ä»¥æŠŠå„ä¸ªè§’å•ç‹¬æ‹†åˆ†ç¬¬ä¸€ä¸ªå€¼æ˜¯åœ†è§’æ°´å¹³åŠå¾„ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯åž‚ç›´åŠå¾„,å¦‚æžœç¬¬äºŒä¸ªå€¼çœç•¥ï¼Œé‚£ä¹ˆå…¶ç­‰äºŽç¬¬ä¸€ä¸ªå€¼ border-imageå¯ä»¥ç”¨å›¾ç‰‡ä½œä¸ºè¾¹æ¡†çš„ä¿®é¥° source æŒ‡å®šå›¾ç‰‡æ¥æº width repeat stretch åŽ‹ç¼©æˆ–ä¼¸å±•border-imageçš„èƒŒæ™¯å›¾ç‰‡ä»¥å…¶åˆšå¥½é€‚åº”border-widthçš„å®½åº¦ repeat ç®€å•çš„é‡å¤ round åŽ‹ç¼©æˆ–ä¼¸å±•border-imageçš„èƒŒæ™¯å›¾ç‰‡ä»¥å›¾ç‰‡æœ€å°å•å…ƒåˆšå¥½é€‚åº”border-widthçš„å®½åº¦ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šé‡å¤ outset è¾¹æ¡†å›¾åƒåŒºåŸŸè¶…å‡ºè¾¹æ¡†çš„é‡ slice box-shadowç›’å­é˜´å½±æ•ˆæžœ: [inset] x-offset y-offset blur-radius spread-radius coloré˜´å½±ç±»åž‹ï¼ŒX-offsetï¼ŒY-offsetï¼Œé˜´å½±æ¨¡ç³ŠåŠå¾„ï¼Œé˜´å½±æ‰©å±•åŠå¾„ï¼Œé˜´å½±é¢œè‰²å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªæŠ•å½±ï¼Œå¦‚æžœä½¿ç”¨å¤šä¸ªæŠ•å½±æ—¶å¿…é¡»éœ€è¦ç”¨é€—å·,åˆ†å¼€ box-sizing æ¡†å¤§å°å¯ä»¥è®¾ç½® width å’Œ height å±žæ€§ä¸­åŒ…å«äº† padding(å†…è¾¹è·) å’Œ border(è¾¹æ¡†)ã€‚å¦‚æžœä½¿ç”¨ï¼ŒæŽ¨èåœ¨æ‰€æœ‰å…ƒç´ ä½¿ç”¨ box-sizing background èƒŒæ™¯background-sizeè§„å®šèƒŒæ™¯å›¾ç‰‡çš„å°ºå¯¸ length: è®¾ç½®èƒŒæ™¯å›¾åƒçš„é«˜åº¦å’Œå®½åº¦ï¼Œç¬¬ä¸€ä¸ªå€¼è®¾ç½®å®½åº¦ï¼Œç¬¬äºŒä¸ªå€¼è®¾ç½®é«˜åº¦ï¼Œå¦‚æžœåªè®¾ç½®ä¸€ä¸ªå€¼ï¼Œåˆ™ç¬¬äºŒä¸ªå€¼ä¼šè¢«è®¾ç½®ä¸ºauto percentage: ä»¥çˆ¶å…ƒç´ çš„ç™¾åˆ†æ¯”æ¥è®¾ç½®èƒŒæ™¯å›¾åƒçš„å®½åº¦å’Œé«˜åº¦ï¼Œç¬¬ä¸€ä¸ªå€¼è®¾ç½®å®½åº¦ï¼Œç¬¬äºŒä¸ªå€¼è®¾ç½®é«˜åº¦ï¼Œå¦‚æžœåªè®¾ç½®ä¸€ä¸ªå€¼ï¼Œåˆ™ç¬¬äºŒä¸ªå€¼ä¼šè¢«è®¾ç½®ä¸ºauto cover: æŠŠèƒŒæ™¯å›¾åƒæ‰©å±•è‡³è¶³å¤Ÿå¤§ï¼Œä»¥ä½¿èƒŒæ™¯å›¾åƒå®Œå…¨è¦†ç›–èƒŒæ™¯åŒºåŸŸï¼ŒèƒŒæ™¯å›¾åƒçš„æŸäº›éƒ¨åˆ†ä¹Ÿè®¸æ— æ³•æ˜¾ç¤ºåœ¨èƒŒæ™¯å®šä½åŒºåŸŸä¸­ contain: æŠŠå›¾åƒå›¾åƒæ‰©å±•è‡³æœ€å¤§å°ºå¯¸ï¼Œä»¥ä½¿å…¶å®½åº¦å’Œé«˜åº¦å®Œå…¨é€‚åº”å†…å®¹åŒºåŸŸ background-originç›¸å¯¹äºŽä»€ä¹ˆä½ç½®æ¥å®šä½ å¦‚æžœèƒŒæ™¯å›¾åƒçš„ background-attachment å±žæ€§ä¸ºfixedï¼Œåˆ™è¯¥å±žæ€§æ²¡æœ‰æ•ˆæžœ padding-box: èƒŒæ™¯å›¾åƒç›¸å¯¹äºŽå†…è¾¹è·æ¡†æ¥å®šä½ border-box: èƒŒæ™¯å›¾åƒç›¸å¯¹äºŽè¾¹æ¡†ç›’æ¥å®šä½ content-box: èƒŒæ™¯å›¾åƒç›¸å¯¹äºŽå†…å®¹æ¡†æ¥å®šä½ background-clipè§„å®šèƒŒæ™¯çš„ç»˜åˆ¶åŒºåŸŸ padding-box: èƒŒæ™¯è¢«è£å‰ªåˆ°è¾¹æ¡†ç›’ border-box: èƒŒæ™¯è¢«è£å‰ªåˆ°å†…è¾¹è·æ¡† content-box: èƒŒæ™¯è¢«è£å‰ªåˆ°å†…å®¹æ¡† å¤šèƒŒæ™¯åœ¨ä¹‹å‰çš„CSSä¸­åªèƒ½ä½¿ç”¨ä¸€å¼ èƒŒæ™¯å›¾ç‰‡ï¼ŒCSS3å¯ä»¥ä½¿ç”¨å¤šå¼ èƒŒæ™¯å›¾ç‰‡ æ¸å˜ gradientï¼ˆåœ¨backgroundé‡Œè®¾ç½®ï¼‰ çº¿æ€§æ¸å˜ linear-gradientåœ¨çº¿æ€§æ¸å˜è¿‡ç¨‹ä¸­ï¼Œé¢œè‰²æ²¿ç€ä¸€æ¡ç›´çº¿è¿‡æ¸¡ï¼šä»Žå·¦ä¾§åˆ°å³ä¾§ã€ä»Žå³ä¾§åˆ°å·¦ä¾§ã€ä»Žé¡¶éƒ¨åˆ°åº•éƒ¨ã€ä»Žåº•éƒ¨åˆ°é¡¶éƒ¨æˆ–ç€æ²¿ä»»ä½•ä»»æ„è½´ï¼ˆ[[&lt;angle&gt; | to &lt;side-or-corner&gt; ],]?&lt;color-stop&gt;[,&lt;color-stop&gt;]+ï¼‰ å¾„å‘æ¸å˜ radial-gradientå¾„å‘æ¸å˜æ˜¯åœ†å½¢æˆ–æ¤­åœ†å½¢æ¸å˜ã€‚é¢œè‰²ä¸å†æ²¿ç€ä¸€æ¡ç›´çº¿è½´å˜åŒ–ï¼Œè€Œæ˜¯ä»Žä¸€ä¸ªèµ·ç‚¹æœæ‰€æœ‰æ–¹å‘æ··åˆã€‚ä½†ç›¸å¯¹çº¿æ€§æ¸å˜è¦æ¯”å¾„å‘æ¸å˜å¤æ‚çš„å¤šã€‚ï¼ˆ[[&lt;shape&gt; || &lt;size&gt;] [at &lt;position&gt;]?,| at &lt;position&gt;,]?&lt;color-stop&gt;[,&lt;color-stop&gt;]+ï¼‰ è¿‡æ¸¡ transitionæ˜¯å…ƒç´ ä»Žä¸€ç§æ ·å¼é€æ¸æ”¹å˜ä¸ºå¦ä¸€ç§çš„æ•ˆæžœ: property, duration, timing-func, delay è¿™å…¶å®žæ˜¯ä¸€ä¸ªç®€å†™å½¢å¼ï¼Œå¯ä»¥å•ç‹¬å®šä¹‰æˆå„ä¸ªå±žæ€§ ä¸€èˆ¬åŠ åœ¨åŽŸå§‹å…ƒç´ ä¸Š æ³¨æ„äº‹é¡¹ ç›®å‰ï¼Œå„å¤§æµè§ˆå™¨ï¼ˆåŒ…æ‹¬IE 10ï¼‰éƒ½å·²ç»æ”¯æŒæ— å‰ç¼€çš„transitionï¼Œæ‰€ä»¥transitionå·²ç»å¯ä»¥å¾ˆå®‰å…¨åœ°ä¸åŠ æµè§ˆå™¨å‰ç¼€ transitionéœ€è¦æ˜Žç¡®çŸ¥é“ï¼Œå¼€å§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€çš„å…·ä½“æ•°å€¼ï¼Œæ‰èƒ½è®¡ç®—å‡ºä¸­é—´çŠ¶æ€ï¼Œä»€ä¹ˆnoneåˆ°blockä¹‹ç±»çš„æ˜¯ä¸è¡Œçš„ transitionæ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä¸èƒ½é‡å¤å‘ç”Ÿï¼Œé™¤éžä¸€å†è§¦å‘ åŠ¨ç”» animationå…ˆå®šä¹‰åŠ¨ç”»@keyframes ï¼Œ å†ç»‘å®šåŠ¨ç”»ç¼©å†™: name, duration, timing-func, delay, fill-mode, direction, iteration-count animation-fill-modeåŠ¨ç”»ç»“æŸä»¥åŽï¼Œä¼šç«‹å³ä»Žç»“æŸçŠ¶æ€è·³å›žåˆ°èµ·å§‹çŠ¶æ€ï¼Œæ­¤å±žæ€§å¯ä»¥æ”¹å˜é»˜è®¤è¡Œä¸º noneï¼šé»˜è®¤å€¼ï¼Œå›žåˆ°åŠ¨ç”»æ²¡å¼€å§‹æ—¶çš„çŠ¶æ€ forwardsï¼šè®©åŠ¨ç”»åœç•™åœ¨ç»“æŸçŠ¶æ€ backwardsï¼šè®©åŠ¨ç”»å›žåˆ°ç¬¬ä¸€å¸§çš„çŠ¶æ€ both: æ ¹æ®animation-directionï¼ˆè§åŽï¼‰è½®æµåº”ç”¨forwardså’Œbackwardsè§„åˆ™ animation-directionåŠ¨ç”»å¾ªçŽ¯æ’­æ”¾æ—¶ï¼Œæ¯æ¬¡éƒ½æ˜¯ä»Žç»“æŸçŠ¶æ€è·³å›žåˆ°èµ·å§‹çŠ¶æ€ï¼Œå†å¼€å§‹æ’­æ”¾ã€‚animation-directionå±žæ€§ï¼Œå¯ä»¥æ”¹å˜è¿™ç§è¡Œä¸º è¿˜å¯ä»¥å–alternateã€reverseã€alternate-reverseç­‰å€¼ æœ€å¸¸ç”¨çš„å€¼æ˜¯normalå’Œreverseã€‚æµè§ˆå™¨å¯¹å…¶ä»–å€¼çš„æ”¯æŒæƒ…å†µä¸ä½³ï¼Œåº”è¯¥æ…Žç”¨ animation-play-stateæœ‰æ—¶ï¼ŒåŠ¨ç”»æ’­æ”¾è¿‡ç¨‹ä¸­ï¼Œä¼šçªç„¶åœæ­¢ã€‚è¿™æ—¶ï¼Œé»˜è®¤è¡Œä¸ºæ˜¯è·³å›žåˆ°åŠ¨ç”»çš„å¼€å§‹çŠ¶æ€ï¼Œå¦‚æžœæƒ³è®©åŠ¨ç”»ä¿æŒçªç„¶ç»ˆæ­¢æ—¶çš„çŠ¶æ€ï¼Œå°±è¦ä½¿ç”¨animation-play-stateå±žæ€§ã€‚ paused running ä¸å¯å†™è¿›ç¼©å†™ å˜å½¢ transformä¿®æ”¹å…ƒç´ çš„å˜å½¢ã€æ—‹è½¬ã€ç¼©æ”¾ã€å€¾æ–œç‰¹æ€§ï¼Œåœ¨CSS3ä¸­transformä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼šæ—‹è½¬rotateã€æ‰­æ›²skewã€ç¼©æ”¾scaleå’Œç§»åŠ¨translateä»¥åŠçŸ©é˜µå˜å½¢matrix transformä¸­ä½¿ç”¨å¤šä¸ªå±žæ€§æ—¶å´éœ€è¦æœ‰ç©ºæ ¼éš”å¼€ï¼Œå¯ç”¨äºŽå†…è”(inline)å…ƒç´ å’Œå—çº§(block)å…ƒç´  rotate æ—‹è½¬å¯ä»¥é€šè¿‡rotateä½¿å…ƒç´ æ—‹è½¬ä¸€å®šçš„åº¦æ•° æ—‹è½¬æ˜¯é¡ºæ—¶é’ˆçš„ æ—‹è½¬ä¹‹åŽå…ƒç´ ä»å æ®åŽŸæ¥ä½ç½®ï¼Œå®žé™…ä¸Šæ‰€æœ‰çš„transforméƒ½æ˜¯è¿™æ ·ï¼Œç¼©æ”¾ã€ä½ç§»ç­‰éƒ½ä¸ä¼šæ”¹å˜å…ƒç´ å æ®çš„ä½ç½® å…ƒç´ æ—‹è½¬çš„çš„åŸºç‚¹é»˜è®¤æ˜¯ä¸­å¿ƒï¼Œå¯ä»¥é€šè¿‡transform-originå±žæ€§æ”¹å˜ transform-originçš„å–å€¼å¯ä»¥æ˜¯ top, bottom, left, right, center ç™¾åˆ†æ•° transform-originå±žæ€§å¯¹ä¸‹é¢ä»‹ç»çš„transforméƒ½æœ‰ä½œç”¨ translate ä½ç§»ä½¿å…ƒç´ å¹³ç§» scale ç¼©æ”¾å¯ä»¥é€šè¿‡scaleä½¿å…ƒç´ ç¼©æ”¾ä¸€å®šçš„æ¯”ä¾‹ï¼Œå’Œtranslateç±»ä¼¼ï¼Œä¹Ÿæœ‰ä¸‰ä¸ªæ–¹æ³• scale(x,y)ï¼šä½¿å…ƒç´ æ°´å¹³æ–¹å‘å’Œåž‚ç›´æ–¹å‘åŒæ—¶ç¼©æ”¾ scaleX(x)ï¼šå…ƒç´ ä»…æ°´å¹³æ–¹å‘ç¼©æ”¾ scaleY(y)ï¼šå…ƒç´ ä»…åž‚ç›´æ–¹å‘ç¼©æ”¾ å¯¹äºŽscaleåªè®¾ç½®ä¸€ä¸ªå‚æ•°ï¼Œä¸€ç›¸åŒçš„æ¯”ä¾‹ç¼©æ”¾ä¸¤ä¸ªæ–¹å‘ skew æ‰­æ›²å¯ä»¥é€šè¿‡skewä½¿å…ƒç´ æ‰­æ›²ä¸€å®šçš„åº¦æ•°ï¼Œå’Œä¸Šé¢ä¸€æ ·ä¹Ÿæœ‰ä¸‰ä¸­ç±»ä¼¼çš„ç”¨æ³• transform:skew(10deg, 20deg);transform:skewX(10deg);transform:skewY(10deg);transform:skew(10deg); matrix çŸ©é˜µmatrix(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;) ä»¥ä¸€ä¸ªå«å…­å€¼çš„(a,b,c,d,e,f)å˜æ¢çŸ©é˜µçš„å½¢å¼æŒ‡å®šä¸€ä¸ª2Då˜æ¢ï¼Œç›¸å½“äºŽç›´æŽ¥åº”ç”¨ä¸€ä¸ª[a b c d e f]å˜æ¢çŸ©é˜µã€‚ å°±æ˜¯åŸºäºŽæ°´å¹³æ–¹å‘ï¼ˆXè½´ï¼‰å’Œåž‚ç›´æ–¹å‘ï¼ˆYè½´ï¼‰é‡æ–°å®šä½å…ƒç´ ,æ­¤å±žæ€§å€¼ä½¿ç”¨æ¶‰åŠåˆ°æ•°å­¦ä¸­çš„çŸ©é˜µï¼Œæ„Ÿå…´è¶£å¤§å®¶å¯ä»¥è‡ªå·±äº†è§£ä¸€ä¸‹ 3Dæ•ˆæžœCSS3å¸¦æ¥äº†DOMçš„3Dæ•ˆæžœï¼Œå…ƒç´ éœ€è¦è®¾ç½®éœ€è¦è®¾ç½®perspectiveæ¥æ¿€æ´»3Dæ•ˆæžœï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å®žçŽ° åœ¨transformå±žæ€§ä¸­ä½¿ç”¨perspectiveæ–¹æ³•transform: perspective( 600px ); ç›´æŽ¥ä½¿ç”¨perspectiveå±žæ€§perspective: 600px; perspectiveå±žæ€§çš„å€¼å†³å®šäº†3Dæ•ˆæžœçš„å¼ºçƒˆç¨‹åº¦ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯è§‚å¯Ÿè€…åˆ°é¡µé¢çš„è·ç¦»ã€‚å€¼è¶Šå¤§è·ç¦»è¶Šè¿œï¼Œè§†è§‰ä¸Šçš„3Dæ•ˆæžœå°±ä¼šç›¸åº”çš„å‡å¼±ã€‚ è¿™ä¸¤ç§æ–¹å¼éƒ½ä¼šè§¦å‘3Dæ•ˆæžœï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸åŒï¼š ç¬¬ä¸€ç§æ–¹å¼ç›´æŽ¥åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šè§¦å‘3Då˜å½¢ï¼Œä½†æ˜¯å½“å¤šä¸ªå…ƒç´ çš„æ—¶å€™å˜å½¢æ•ˆæžœå’Œé¢„æœŸä¼šæœ‰æ‰€ä¸åŒï¼Œå¦‚æžœä½¿ç”¨åŒæ ·çš„æ–¹æ³•ä½œç”¨äºŽä¸åŒä½ç½®çš„å…ƒç´ çš„æ—¶å€™ï¼Œæ¯ä¸ªå…ƒç´ ä¼šæœ‰è‡ªå·±çš„è½´å¿ƒ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦åœ¨çˆ¶å…ƒç´ ä½¿ç”¨perspectiveå±žæ€§ï¼Œè¿™æ ·æ¯ä¸ªå­å…ƒç´ éƒ½å…±äº«ç›¸åŒçš„3Dç©ºé—´ 12345rotateX( angle )rotateY( angle )rotateZ( angle )translateZ( tz )scaleZ( sz ) æœ‰å‡ ä¸ªå˜å½¢æ–¹æ³•çš„ç¼©å†™ï¼Œè¿™äº›æ–¹æ³•éœ€è¦æŠŠä¸‰ä¸ªå‚æ•°å†™å…¨ 123translate3d( tx, ty, tz )scale3d( sx, sy, sz )rotate3d( rx, ry, rz, angle ) ä»»æ„3Dæ“ä½œä¼šè§¦å‘ç¡¬ä»¶åŠ é€Ÿï¼Œç”šè‡³å¯èƒ½å˜å½¢åªç”¨åˆ°äº†2Dçš„ï¼Œæˆ–è€…æ²¡æœ‰åšä»»ä½•äº‹æƒ…ï¼ˆæ¯”å¦‚translate3d(0,0,0)ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™åªæ˜¯å½“å‰çš„è¡¨çŽ°ï¼Œæœªæ¥å¯èƒ½å˜åŒ–ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰å†™æ–‡æ¡£æˆ–è€…é¼“åŠ±è¿™ä¹ˆåšï¼‰ï¼Œä½†æ˜¯è¿™åœ¨å¾ˆå¤šåœºæ™¯ä¸‹éžå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æ˜¾è‘—çš„æé«˜æ¸²æŸ“æ€§èƒ½ HTML5ä»‹ç»ï¼Œç‰¹æ€§ è§ä¸‹é¢˜ç›®ä¸€ã€äºŒ Cookie, LocalStorage ä¸Ž SessionStorage çš„å¼‚åŒåŸºæœ¬æ¦‚å¿µCookieCookie æ˜¯å°ç”œé¥¼çš„æ„æ€ã€‚é¡¾åæ€ä¹‰ï¼Œcookie ç¡®å®žéžå¸¸å°ï¼Œå®ƒçš„å¤§å°é™åˆ¶ä¸º4KBå·¦å³ï¼Œæ˜¯ç½‘æ™¯å…¬å¸çš„å‰é›‡å‘˜ Lou Montulli åœ¨1993å¹´3æœˆçš„å‘æ˜Žã€‚å®ƒçš„ä¸»è¦ç”¨é€”æœ‰ä¿å­˜ç™»å½•ä¿¡æ¯ï¼Œæ¯”å¦‚ä½ ç™»å½•æŸä¸ªç½‘ç«™å¸‚åœºå¯ä»¥çœ‹åˆ°â€œè®°ä½å¯†ç â€ï¼Œè¿™é€šå¸¸å°±æ˜¯é€šè¿‡åœ¨ Cookie ä¸­å­˜å…¥ä¸€æ®µè¾¨åˆ«ç”¨æˆ·èº«ä»½çš„æ•°æ®æ¥å®žçŽ°çš„ã€‚ localStoragelocalStorage æ˜¯ HTML5 æ ‡å‡†ä¸­æ–°åŠ å…¥çš„æŠ€æœ¯ï¼Œå®ƒå¹¶ä¸æ˜¯ä»€ä¹ˆåˆ’æ—¶ä»£çš„æ–°ä¸œè¥¿ã€‚æ—©åœ¨ IE 6 æ—¶ä»£ï¼Œå°±æœ‰ä¸€ä¸ªå« userData çš„ä¸œè¥¿ç”¨äºŽæœ¬åœ°å­˜å‚¨ï¼Œè€Œå½“æ—¶è€ƒè™‘åˆ°æµè§ˆå™¨å…¼å®¹æ€§ï¼Œæ›´é€šç”¨çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨ Flashã€‚è€Œå¦‚ä»Šï¼ŒlocalStorage è¢«å¤§å¤šæ•°æµè§ˆå™¨æ‰€æ”¯æŒï¼Œå¦‚æžœä½ çš„ç½‘ç«™éœ€è¦æ”¯æŒ IE6+ï¼Œé‚£ä»¥ userData ä½œä¸ºä½ çš„ polyfill çš„æ–¹æ¡ˆæ˜¯ç§ä¸é”™çš„é€‰æ‹©ã€‚ sessionStoragesessionStorage ä¸Ž localStorage çš„æŽ¥å£ç±»ä¼¼ï¼Œä½†ä¿å­˜æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸä¸Ž localStorage ä¸åŒã€‚åšè¿‡åŽç«¯å¼€å‘çš„åŒå­¦åº”è¯¥çŸ¥é“ Session è¿™ä¸ªè¯çš„æ„æ€ï¼Œç›´è¯‘è¿‡æ¥æ˜¯â€œä¼šè¯â€ã€‚è€Œ sessionStorage æ˜¯ä¸€ä¸ªå‰ç«¯çš„æ¦‚å¿µï¼Œå®ƒåªæ˜¯å¯ä»¥å°†ä¸€éƒ¨åˆ†æ•°æ®åœ¨å½“å‰ä¼šè¯ä¸­ä¿å­˜ä¸‹æ¥ï¼Œåˆ·æ–°é¡µé¢æ•°æ®ä¾æ—§å­˜åœ¨ã€‚ä½†å½“é¡µé¢å…³é—­åŽï¼ŒsessionStorage ä¸­çš„æ•°æ®å°±ä¼šè¢«æ¸…ç©ºã€‚ ç‰¹æ€§ Cookie localStorage sessionStorage æ•°æ®çš„ç”Ÿå‘½æœŸ ä¸€èˆ¬ç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œå¯è®¾ç½®å¤±æ•ˆæ—¶é—´ã€‚å¦‚æžœåœ¨æµè§ˆå™¨ç«¯ç”ŸæˆCookieï¼Œé»˜è®¤æ˜¯å…³é—­æµè§ˆå™¨åŽå¤±æ•ˆ é™¤éžè¢«æ¸…é™¤ï¼Œå¦åˆ™æ°¸ä¹…ä¿å­˜ ä»…åœ¨å½“å‰ä¼šè¯ä¸‹æœ‰æ•ˆï¼Œå…³é—­é¡µé¢æˆ–æµè§ˆå™¨åŽè¢«æ¸…é™¤ å­˜æ”¾æ•°æ®å¤§å° 4Kå·¦å³ ä¸€èˆ¬ä¸º5MB ä¸ŽæœåŠ¡å™¨ç«¯é€šä¿¡ æ¯æ¬¡éƒ½ä¼šæºå¸¦åœ¨HTTPå¤´ä¸­ï¼Œå¦‚æžœä½¿ç”¨cookieä¿å­˜è¿‡å¤šæ•°æ®ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ ä»…åœ¨å®¢æˆ·ç«¯ï¼ˆå³æµè§ˆå™¨ï¼‰ä¸­ä¿å­˜ï¼Œä¸å‚ä¸Žå’ŒæœåŠ¡å™¨çš„é€šä¿¡ æ˜“ç”¨æ€§ éœ€è¦ç¨‹åºå‘˜è‡ªå·±å°è£…ï¼Œæºç”Ÿçš„CookieæŽ¥å£ä¸å‹å¥½ æºç”ŸæŽ¥å£å¯ä»¥æŽ¥å—ï¼Œäº¦å¯å†æ¬¡å°è£…æ¥å¯¹Objectå’ŒArrayæœ‰æ›´å¥½çš„æ”¯æŒ ä¸€èˆ¬æƒ…å†µä¸‹æµè§ˆå™¨ç«¯ä¸ä¼šä¿®æ”¹ cookieï¼Œä½†ä¼šé¢‘ç¹æ“ä½œä¸¤ä¸ªstorage cookieæœ‰pathæ¦‚å¿µï¼Œå­è·¯å¾„å¯ä»¥è®¿é—®çˆ¶è·¯å¾„ cookieï¼Œçˆ¶è·¯å¾„ä¸èƒ½è®¿é—®å­è·¯å¾„ cookie å…±äº«ï¼šsessionStorageä¸èƒ½å…±äº«ï¼ŒlocalStorageåœ¨åŒæºæ–‡æ¡£ä¹‹é—´å…±äº«ï¼Œ cookieåœ¨åŒæºä¸”ç¬¦åˆpathè§„åˆ™çš„æ–‡æ¡£ä¹‹é—´å…±äº« å¦‚æžœä¿å­˜äº† cookieçš„è¯ï¼Œhttpè¯·æ±‚ä¸­ä¸€å®šä¼šå¸¦ä¸Šï¼›è€Œä¸¤ä¸ªstorageå¯ä»¥ç”±è„šæœ¬é€‰æ‹©æ€§çš„æäº¤ å®‰å…¨æ€§æ–¹é¢ï¼Œ cookieä¸­æœ€å¥½ä¸è¦æ”¾ç½®ä»»ä½•æ˜Žæ–‡çš„ä¸œè¥¿ã€‚ä¸¤ä¸ªstorageçš„æ•°æ®æäº¤åŽåœ¨æœåŠ¡ç«¯ä¸€å®šè¦æ ¡éªŒ localStorageå’ŒsessionStorageçš„ä¸»è¦åŒºåˆ«åœ¨äºŽå­˜å‚¨çš„æœ‰æ•ˆæœŸå’Œä½œç”¨åŸŸä¸åŒã€‚localStorageå­˜å‚¨çš„æ•°æ®æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå…¶ä½œç”¨åŸŸé™å®šåœ¨æ–‡æ¡£æºçº§åˆ«ï¼ˆåªè¦URLçš„åè®®ã€ç«¯å£ã€ä¸»æœºåä¸‰è€…ä¸­æœ‰ä¸€ä¸ªä¸åŒï¼Œå°±å±žäºŽä¸åŒçš„æ–‡æ¡£æºï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒlocalStorageä¹Ÿå—æµè§ˆå™¨ä¾›åº”å•†é™åˆ¶ï¼Œå¦‚æžœä½¿ç”¨chromeè®¿é—®ä¸€ä¸ªç½‘ç«™ï¼Œä¸‹æ¬¡ç”¨firefoxå†æ¬¡è®¿é—®æ˜¯èŽ·å–ä¸åˆ°ä¸Šæ¬¡å­˜å‚¨çš„æ•°æ®çš„ã€‚ è€ŒsessionStorageçš„æœ‰æ•ˆæœŸä»…å­˜åœ¨äºŽæµè§ˆå™¨çš„æ ‡ç­¾é¡µã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æžœå…³é—­æ ‡ç­¾é¡µåŽï¼Œé€šè¿‡sessionStorageå­˜å‚¨çš„æ•°æ®å°±éƒ½è¢«åˆ é™¤äº†ã€‚sessionStorageçš„ä½œç”¨åŸŸä¸ä»…è¢«é™åˆ¶åœ¨æ–‡æ¡£æºï¼Œè¿˜è¢«é™å®šåœ¨çª—å£ä¸­ï¼Œä¹Ÿå°±æ˜¯åŒä¸€æ ‡ç­¾é¡µä¸­ã€‚æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„çª—å£æ˜¯æŒ‡é¡¶çº§çª—å£ï¼Œè‹¥æžœåŒä¸€æ ‡ç­¾é¡µä¸­åŒ…å«å¤šä¸ª&lt;iframe&gt;å…ƒç´ ï¼Œè¿™ä¸¤è€…ä¹‹é—´ä¹Ÿæ˜¯å¯ä»¥å…±äº«sessionStorageçš„ã€‚ ä½¿ç”¨ local storageå’Œsession storageä¸»è¦é€šè¿‡åœ¨jsä¸­æ“ä½œè¿™ä¸¤ä¸ªå¯¹è±¡æ¥å®žçŽ°ï¼Œåˆ†åˆ«ä¸ºwindow.localStorageå’Œwindow.sessionStorage. è¿™ä¸¤ä¸ªå¯¹è±¡å‡æ˜¯Storageç±»çš„ä¸¤ä¸ªå®žä¾‹ï¼Œè‡ªç„¶ä¹Ÿå…·æœ‰Storageç±»çš„å±žæ€§å’Œæ–¹æ³•ã€‚ ä½†æ˜¯cookieéœ€è¦å‰ç«¯å¼€å‘è€…è‡ªå·±å°è£…setCookieï¼ŒgetCookieã€‚ä½†æ˜¯Cookieä¹Ÿæ˜¯ä¸å¯ä»¥æˆ–ç¼ºçš„ï¼šCookieçš„ä½œç”¨æ˜¯ä¸ŽæœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œä½œä¸ºHTTPè§„èŒƒçš„ä¸€éƒ¨åˆ†è€Œå­˜åœ¨ ï¼Œè€ŒWeb Storageä»…ä»…æ˜¯ä¸ºäº†åœ¨æœ¬åœ°â€œå­˜å‚¨â€æ•°æ®è€Œç”Ÿã€‚ ç›¸åŒ ä¸‰è€…éƒ½æ˜¯é”®å€¼å¯¹çš„é›†åˆ éƒ½ä¼šåœ¨æµè§ˆå™¨ç«¯ä¿å­˜ï¼Œæœ‰å¤§å°é™åˆ¶ï¼ŒåŒæºé™åˆ¶ åº”ç”¨åœºæ™¯æœ‰äº†å¯¹ä¸Šé¢è¿™äº›å·®åˆ«çš„ç›´è§‚ç†è§£ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¨è®ºä¸‰è€…çš„åº”ç”¨åœºæ™¯äº†ã€‚ å› ä¸ºè€ƒè™‘åˆ°æ¯ä¸ª HTTP è¯·æ±‚éƒ½ä¼šå¸¦ç€ Cookie çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ Cookie è¦éžå¸¸ç²¾ç®€ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯å°±æ˜¯åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ã€‚é’ˆå¯¹ç™»å½•è¿‡çš„ç”¨æˆ·ï¼ŒæœåŠ¡å™¨ç«¯ä¼šåœ¨ä»–ç™»å½•æ—¶å¾€ Cookie ä¸­æ’å…¥ä¸€æ®µåŠ å¯†è¿‡çš„å”¯ä¸€è¾¨è¯†å•ä¸€ç”¨æˆ·çš„è¾¨è¯†ç ï¼Œä¸‹æ¬¡åªè¦è¯»å–è¿™ä¸ªå€¼å°±å¯ä»¥åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦ç™»å½•å•¦ã€‚æ›¾ç»è¿˜ä½¿ç”¨ Cookie æ¥ä¿å­˜ç”¨æˆ·åœ¨ç”µå•†ç½‘ç«™çš„è´­ç‰©è½¦ä¿¡æ¯ï¼Œå¦‚ä»Šæœ‰äº† localStorageï¼Œåœ¨è¿™ä¸ªæ–¹é¢å°±ä¸éœ€è¦cookieäº†ã€‚ è€Œå¦ä¸€æ–¹é¢ localStorage æŽ¥æ›¿äº† Cookie ç®¡ç†è´­ç‰©è½¦çš„å·¥ä½œï¼ŒåŒæ—¶ä¹Ÿèƒ½èƒœä»»å…¶ä»–ä¸€äº›å·¥ä½œã€‚æ¯”å¦‚HTML5æ¸¸æˆé€šå¸¸ä¼šäº§ç”Ÿä¸€äº›æœ¬åœ°æ•°æ®ï¼ŒlocalStorage ä¹Ÿæ˜¯éžå¸¸é€‚ç”¨çš„ã€‚å¦‚æžœé‡åˆ°ä¸€äº›å†…å®¹ç‰¹åˆ«å¤šçš„è¡¨å•ï¼Œä¸ºäº†ä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬å¯èƒ½è¦æŠŠè¡¨å•é¡µé¢æ‹†åˆ†æˆå¤šä¸ªå­é¡µé¢ï¼Œç„¶åŽæŒ‰æ­¥éª¤å¼•å¯¼ç”¨æˆ·å¡«å†™ã€‚è¿™æ—¶å€™ sessionStorage çš„ä½œç”¨å°±å‘æŒ¥å‡ºæ¥äº†ã€‚ cookieä¸Žsessionçš„åŒºåˆ«äºŽè”ç³»ï¼ˆ1ï¼‰cookieä¸Žsessionçš„åŒºåˆ«ï¼šcookieæ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œsessionæ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ å¦‚æžœwebæœåŠ¡å™¨ç«¯ä½¿ç”¨çš„æ˜¯sessionï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ•°æ®éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œå®¢æˆ·ç«¯æ¯æ¬¡è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ä¼šå‘é€å½“å‰ä¼šè¯çš„sessionidï¼ŒæœåŠ¡å™¨æ ¹æ®å½“å‰sessionidåˆ¤æ–­ç›¸åº”çš„ç”¨æˆ·æ•°æ®æ ‡å¿—ï¼Œä»¥ç¡®å®šç”¨æˆ·æ˜¯å¦ç™»å½•æˆ–å…·æœ‰æŸç§æƒé™ã€‚ç”±äºŽæ•°æ®æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šé¢ï¼Œæ‰€ä»¥ä½ ä¸èƒ½ä¼ªé€ ï¼Œä½†æ˜¯å¦‚æžœä½ èƒ½å¤ŸèŽ·å–æŸä¸ªç™»å½•ç”¨æˆ·çš„ sessionidï¼Œç”¨ç‰¹æ®Šçš„æµè§ˆå™¨ä¼ªé€ è¯¥ç”¨æˆ·çš„è¯·æ±‚ä¹Ÿæ˜¯èƒ½å¤ŸæˆåŠŸçš„ã€‚sessionidæ˜¯æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é“¾æŽ¥æ—¶å€™éšæœºåˆ†é…çš„ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸ä¼šæœ‰é‡å¤ï¼Œä½†å¦‚æžœæœ‰å¤§é‡çš„å¹¶å‘è¯·æ±‚ï¼Œä¹Ÿä¸æ˜¯æ²¡æœ‰é‡å¤çš„å¯èƒ½æ€§ã€‚ å¦‚æžœæµè§ˆå™¨ä½¿ç”¨çš„æ˜¯cookieï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ•°æ®éƒ½ä¿å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œæ¯”å¦‚ä½ ç™»å½•ä»¥åŽï¼ŒæœåŠ¡å™¨è®¾ç½®äº†cookieç”¨æˆ·åï¼Œé‚£ä¹ˆå½“ä½ å†æ¬¡è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šå°†ç”¨æˆ·åä¸€å—å‘é€ç»™æœåŠ¡å™¨ï¼Œè¿™äº›å˜é‡æœ‰ä¸€å®šçš„ç‰¹æ®Šæ ‡è®°ã€‚æœåŠ¡å™¨ä¼šè§£é‡Šä¸ºcookieå˜é‡ï¼Œæ‰€ä»¥åªè¦ä¸å…³é—­æµè§ˆå™¨ï¼Œé‚£ä¹ˆcookieå˜é‡ä¸€ç›´æ˜¯æœ‰æ•ˆçš„ï¼Œæ‰€ä»¥èƒ½å¤Ÿä¿è¯é•¿æ—¶é—´ä¸æŽ‰çº¿ã€‚å¦‚æžœä½ èƒ½å¤ŸæˆªèŽ·æŸä¸ªç”¨æˆ·çš„ cookieå˜é‡ï¼Œç„¶åŽä¼ªé€ ä¸€ä¸ªæ•°æ®åŒ…å‘é€è¿‡åŽ»ï¼Œé‚£ä¹ˆæœåŠ¡å™¨è¿˜æ˜¯è®¤ä¸ºä½ æ˜¯åˆæ³•çš„ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨ cookieè¢«æ”»å‡»çš„å¯èƒ½æ€§æ¯”è¾ƒå¤§ã€‚å¦‚æžœè®¾ç½®äº†çš„æœ‰æ•ˆæ—¶é—´ï¼Œé‚£ä¹ˆå®ƒä¼šå°† cookieä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ç¡¬ç›˜ä¸Šï¼Œä¸‹æ¬¡å†è®¿é—®è¯¥ç½‘ç«™çš„æ—¶å€™ï¼Œæµè§ˆå™¨å…ˆæ£€æŸ¥æœ‰æ²¡æœ‰ cookieï¼Œå¦‚æžœæœ‰çš„è¯ï¼Œå°±è¯»å–è¯¥ cookieï¼Œç„¶åŽå‘é€ç»™æœåŠ¡å™¨ã€‚å¦‚æžœä½ åœ¨æœºå™¨ä¸Šé¢ä¿å­˜äº†æŸä¸ªè®ºå› cookieï¼Œæœ‰æ•ˆæœŸæ˜¯ä¸€å¹´ï¼Œå¦‚æžœæœ‰äººå…¥ä¾µä½ çš„æœºå™¨ï¼Œå°†ä½ çš„ cookieæ‹·èµ°ï¼Œç„¶åŽæ”¾åœ¨ä»–çš„æµè§ˆå™¨çš„ç›®å½•ä¸‹é¢ï¼Œé‚£ä¹ˆä»–ç™»å½•è¯¥ç½‘ç«™çš„æ—¶å€™å°±æ˜¯ç”¨ä½ çš„çš„èº«ä»½ç™»å½•çš„ã€‚æ‰€ä»¥ cookieæ˜¯å¯ä»¥ä¼ªé€ çš„ã€‚å½“ç„¶ï¼Œä¼ªé€ çš„æ—¶å€™éœ€è¦ä¸»æ„ï¼Œç›´æŽ¥copy cookieæ–‡ä»¶åˆ° cookieç›®å½•ï¼Œæµè§ˆå™¨æ˜¯ä¸è®¤çš„ï¼Œä»–æœ‰ä¸€ä¸ªindex.datæ–‡ä»¶ï¼Œå­˜å‚¨äº† cookieæ–‡ä»¶çš„å»ºç«‹æ—¶é—´ï¼Œä»¥åŠæ˜¯å¦æœ‰ä¿®æ”¹ï¼Œæ‰€ä»¥ä½ å¿…é¡»å…ˆè¦æœ‰è¯¥ç½‘ç«™çš„ cookieæ–‡ä»¶ï¼Œå¹¶ä¸”è¦ä»Žä¿è¯æ—¶é—´ä¸Šéª—è¿‡æµè§ˆå™¨ã€‚ ï¼ˆ2ï¼‰cookieå’Œsessionçš„å…±åŒä¹‹å¤„ï¼šcookieå’Œsessionéƒ½æ˜¯ç”¨æ¥è·Ÿè¸ªæµè§ˆå™¨ç”¨æˆ·èº«ä»½çš„ä¼šè¯æ–¹å¼ã€‚ é¢˜ç›®1ï¼š HTML5æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿæœ‰å“ªäº›æ–°å¢žæ ‡ç­¾ï¼Ÿå¦‚ä½•è®©ä½Žç‰ˆæœ¬çš„ IE æ”¯æŒ HTML5æ–°æ ‡ç­¾HTML5æ˜¯ä»€ä¹ˆ:HTML5æ˜¯è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€çš„ç¬¬äº”æ¬¡é‡å¤§ä¿®æ”¹ï¼Œ2014å¹´10æœˆ29æ—¥æ ‡å‡†è§„èŒƒåˆ¶å®šå®Œæˆã€‚ æ–°ç‰¹æ€§ï¼š è¯­ä¹‰ç‰¹æ€§HTML5èµ‹äºˆç½‘é¡µæ›´å¥½çš„æ„ä¹‰å’Œç»“æž„ã€‚æ›´åŠ ä¸°å¯Œçš„æ ‡ç­¾å°†éšç€å¯¹RDFaçš„ï¼Œå¾®æ•°æ®ä¸Žå¾®æ ¼å¼ç­‰æ–¹é¢çš„æ”¯æŒï¼Œæž„å»ºå¯¹ç¨‹åºã€å¯¹ç”¨æˆ·éƒ½æ›´æœ‰ä»·å€¼çš„æ•°æ®é©±åŠ¨çš„Webã€‚ æœ¬åœ°å­˜å‚¨ç‰¹æ€§åŸºäºŽHTML5å¼€å‘çš„ç½‘é¡µAPPæ‹¥æœ‰æ›´çŸ­çš„å¯åŠ¨æ—¶é—´ï¼Œæ›´å¿«çš„è”ç½‘é€Ÿåº¦ï¼Œè¿™äº›å…¨å¾—ç›ŠäºŽHTML5 APP Cacheï¼Œä»¥åŠæœ¬åœ°å­˜å‚¨åŠŸèƒ½ã€‚Indexed DBï¼ˆhtml5æœ¬åœ°å­˜å‚¨æœ€é‡è¦çš„æŠ€æœ¯ä¹‹ä¸€ï¼‰å’ŒAPIè¯´æ˜Žæ–‡æ¡£ã€‚ è®¾å¤‡å…¼å®¹ç‰¹æ€§ä»ŽGeolocationåŠŸèƒ½çš„APIæ–‡æ¡£å…¬å¼€ä»¥æ¥ï¼ŒHTML5ä¸ºç½‘é¡µåº”ç”¨å¼€å‘è€…ä»¬æä¾›äº†æ›´å¤šåŠŸèƒ½ä¸Šçš„ä¼˜åŒ–é€‰æ‹©ï¼Œå¸¦æ¥äº†æ›´å¤šä½“éªŒåŠŸèƒ½çš„ä¼˜åŠ¿ã€‚HTML5æä¾›äº†å‰æ‰€æœªæœ‰çš„æ•°æ®ä¸Žåº”ç”¨æŽ¥å…¥å¼€æ”¾æŽ¥å£ã€‚ä½¿å¤–éƒ¨åº”ç”¨å¯ä»¥ç›´æŽ¥ä¸Žæµè§ˆå™¨å†…éƒ¨çš„æ•°æ®ç›´æŽ¥ç›¸è¿žï¼Œä¾‹å¦‚è§†é¢‘å½±éŸ³å¯ç›´æŽ¥ä¸ŽmicrophonesåŠæ‘„åƒå¤´ç›¸è”ã€‚ è¿žæŽ¥ç‰¹æ€§æ›´æœ‰æ•ˆçš„è¿žæŽ¥å·¥ä½œæ•ˆçŽ‡ï¼Œä½¿å¾—åŸºäºŽé¡µé¢çš„å®žæ—¶èŠå¤©ï¼Œæ›´å¿«é€Ÿçš„ç½‘é¡µæ¸¸æˆä½“éªŒï¼Œæ›´ä¼˜åŒ–çš„åœ¨çº¿äº¤æµå¾—åˆ°äº†å®žçŽ°ã€‚HTML5æ‹¥æœ‰æ›´æœ‰æ•ˆçš„æœåŠ¡å™¨æŽ¨é€æŠ€æœ¯ï¼ŒServer-Sent Eventå’ŒWebSocketså°±æ˜¯å…¶ä¸­çš„ä¸¤ä¸ªç‰¹æ€§ï¼Œè¿™ä¸¤ä¸ªç‰¹æ€§èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®žçŽ°æœåŠ¡å™¨å°†æ•°æ®â€œæŽ¨é€â€åˆ°å®¢æˆ·ç«¯çš„åŠŸèƒ½ã€‚ ç½‘é¡µå¤šåª’ä½“ç‰¹æ€§æ”¯æŒç½‘é¡µç«¯çš„Audioã€Videoç­‰å¤šåª’ä½“åŠŸèƒ½ï¼Œ ä¸Žç½‘ç«™è‡ªå¸¦çš„APPSï¼Œæ‘„åƒå¤´ï¼Œå½±éŸ³åŠŸèƒ½ç›¸å¾—ç›Šå½°ã€‚ä¸‰ç»´ã€å›¾å½¢åŠç‰¹æ•ˆç‰¹æ€§ï¼ˆClass: 3D, Graphics &amp; Effectsï¼‰åŸºäºŽSVGã€Canvasã€WebGLåŠCSS3çš„3DåŠŸèƒ½ï¼Œç”¨æˆ·ä¼šæƒŠå¹äºŽåœ¨æµè§ˆå™¨ä¸­ï¼Œæ‰€å‘ˆçŽ°çš„æƒŠäººè§†è§‰æ•ˆæžœã€‚ æ€§èƒ½ä¸Žé›†æˆç‰¹æ€§æ²¡æœ‰ç”¨æˆ·ä¼šæ°¸è¿œç­‰å¾…ä½ çš„Loadingâ€”â€”HTML5ä¼šé€šè¿‡XMLHttpRequest2ç­‰æŠ€æœ¯ï¼Œè§£å†³ä»¥å‰çš„è·¨åŸŸç­‰é—®é¢˜ï¼Œå¸®åŠ©æ‚¨çš„Webåº”ç”¨å’Œç½‘ç«™åœ¨å¤šæ ·åŒ–çš„çŽ¯å¢ƒä¸­æ›´å¿«é€Ÿçš„å·¥ä½œã€‚ CSS3ç‰¹æ€§åœ¨ä¸ç‰ºç‰²æ€§èƒ½å’Œè¯­ä¹‰ç»“æž„çš„å‰æä¸‹ï¼ŒCSS3ä¸­æä¾›äº†æ›´å¤šçš„é£Žæ ¼å’Œæ›´å¼ºçš„æ•ˆæžœã€‚æ­¤å¤–ï¼Œè¾ƒä¹‹ä»¥å‰çš„WebæŽ’ç‰ˆï¼ŒWebçš„å¼€æ”¾å­—ä½“æ ¼å¼ï¼ˆWOFFï¼‰ä¹Ÿæä¾›äº†æ›´é«˜çš„çµæ´»æ€§å’ŒæŽ§åˆ¶æ€§ æ–°å¢žæ ‡ç­¾ å…ƒç´  æè¿° canvas æ ‡ç­¾å®šä¹‰å›¾å½¢ï¼Œæ¯”å¦‚å›¾è¡¨å’Œå…¶ä»–å›¾åƒã€‚è¯¥æ ‡ç­¾åŸºäºŽ JavaScript çš„ç»˜å›¾ API audio å®šä¹‰éŸ³é¢‘å†…å®¹ video å®šä¹‰è§†é¢‘ï¼ˆvideo æˆ–è€… movieï¼‰ source å®šä¹‰å¤šåª’ä½“èµ„æº &lt;video&gt; å’Œ&lt;audio&gt; embed å®šä¹‰åµŒå…¥çš„å†…å®¹ï¼Œæ¯”å¦‚æ’ä»¶ track ä¸ºè¯¸å¦‚ &lt;video&gt; å’Œ &lt;audio&gt; å…ƒç´ ä¹‹ç±»çš„åª’ä»‹è§„å®šå¤–éƒ¨æ–‡æœ¬è½¨é“ datalist å®šä¹‰é€‰é¡¹åˆ—è¡¨ã€‚ä¸Ž input å…ƒç´ é…åˆä½¿ç”¨è¯¥å…ƒç´ ï¼Œæ¥å®šä¹‰ input å¯èƒ½çš„å€¼ keygen è§„å®šç”¨äºŽè¡¨å•çš„å¯†é’¥å¯¹ç”Ÿæˆå™¨å­—æ®µ output å®šä¹‰ä¸åŒç±»åž‹çš„è¾“å‡ºï¼Œæ¯”å¦‚è„šæœ¬çš„è¾“å‡º article å®šä¹‰é¡µé¢æ­£æ–‡å†…å®¹ aside å®šä¹‰é¡µé¢å†…å®¹ä¹‹å¤–çš„å†…å®¹ bdi è®¾ç½®ä¸€æ®µæ–‡æœ¬ï¼Œä½¿å…¶è„±ç¦»å…¶çˆ¶å…ƒç´ çš„æ–‡æœ¬æ–¹å‘è®¾ç½® command å®šä¹‰å‘½ä»¤æŒ‰é’®ï¼Œæ¯”å¦‚å•é€‰æŒ‰é’®ã€å¤é€‰æ¡†æˆ–æŒ‰é’® details ç”¨äºŽæè¿°æ–‡æ¡£æˆ–æ–‡æ¡£æŸä¸ªéƒ¨åˆ†çš„ç»†èŠ‚ dialog å®šä¹‰å¯¹è¯æ¡†ï¼Œæ¯”å¦‚æç¤ºæ¡† summary æ ‡ç­¾åŒ…å« details å…ƒç´ çš„æ ‡é¢˜ figure è§„å®šç‹¬ç«‹çš„æµå†…å®¹ï¼ˆå›¾åƒã€å›¾è¡¨ã€ç…§ç‰‡ã€ä»£ç ç­‰ç­‰ï¼‰ figcaption å®šä¹‰ &lt;figure&gt; å…ƒç´ çš„æ ‡é¢˜ footer å®šä¹‰ section æˆ– document çš„é¡µè„š header å®šä¹‰äº†æ–‡æ¡£çš„å¤´éƒ¨åŒºåŸŸ mark å®šä¹‰å¸¦æœ‰è®°å·çš„æ–‡æœ¬ meter å®šä¹‰åº¦é‡è¡¡ã€‚ä»…ç”¨äºŽå·²çŸ¥æœ€å¤§å’Œæœ€å°å€¼çš„åº¦é‡ nav å¯¼èˆª progress å®šä¹‰ä»»ä½•ç±»åž‹çš„ä»»åŠ¡çš„è¿›åº¦ ruby å®šä¹‰ ruby æ³¨é‡Šï¼ˆä¸­æ–‡æ³¨éŸ³æˆ–å­—ç¬¦ï¼‰ rt å®šä¹‰å­—ç¬¦ï¼ˆä¸­æ–‡æ³¨éŸ³æˆ–å­—ç¬¦ï¼‰çš„è§£é‡Šæˆ–å‘éŸ³ rp åœ¨ ruby æ³¨é‡Šä¸­ä½¿ç”¨ï¼Œå®šä¹‰ä¸æ”¯æŒ ruby å…ƒç´ çš„æµè§ˆå™¨æ‰€æ˜¾ç¤ºçš„å†…å®¹ section å®šä¹‰æ–‡æ¡£ä¸­çš„èŠ‚ï¼ˆsectionã€åŒºæ®µï¼‰ time å®šä¹‰æ—¥æœŸæˆ–æ—¶é—´ wbr è§„å®šåœ¨æ–‡æœ¬ä¸­çš„ä½•å¤„é€‚åˆæ·»åŠ æ¢è¡Œç¬¦ è®©ä½Žç‰ˆæœ¬çš„ IE æ”¯æŒ HTML5æ–°æ ‡ç­¾ä½¿ç”¨html5shiv.js 123&lt;!--[if lt IE 9]&gt; &lt;script type="text/javascript" src="scripts/html5shiv.js"&gt;&lt;/script&gt;&lt;![endif]--&gt; æ³¨æ„ å¦‚æžœç‰ˆæœ¬å°äºŽIE9å°±å¼•å…¥html5shiv.jsï¼ŒIE9ä»¥å‰çš„æµè§ˆå™¨å°±èƒ½ä½¿ç”¨h5æ ‡ç­¾ï¼Œå¹¶ä½¿ç”¨å®šä¹‰å¥½çš„æ ·å¼äº†ã€‚è¿™ä¸ªæ ‡ç­¾å¿…é¡»æ”¾åœ¨headæ ‡ç­¾å†…ï¼Œå› ä¸ºæµè§ˆå™¨è¦åœ¨è§£æžä¹‹å‰çŸ¥é“è¿™ä¸ªå…ƒç´ ã€‚ ä¹Ÿå¯ä»¥ç›´æŽ¥å£°æ˜Ž 123&lt;!--[if lt IE 9]&gt; (function()&#123;if(!/*@cc_on!@*/0)return;var e = "abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(','),i=e.length;while(i--)&#123;document.createElement(e[i])&#125;&#125;)()&lt;![endif]--&gt; é¢˜ç›®2ï¼š input æœ‰å“ªäº›æ–°å¢žç±»åž‹ï¼Ÿ color date datetime-local email ä¸ªæœˆ number range search tel time url week é¢˜ç›®3ï¼š æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­ cookie å’Œ localStorage æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ localStorage å¦‚ä½•å­˜å‚¨åˆ é™¤æ•°æ®ã€‚ ç‰¹æ€§ Cookie localStorage æ•°æ®çš„ç”Ÿå‘½æœŸ é»˜è®¤æƒ…å†µä¸‹ï¼Œcookieå¼€å§‹äºŽæµè§ˆå™¨å¯åŠ¨ï¼Œç»“æŸäºŽæµè§ˆå™¨å…³é—­ï¼Œä½†æ˜¯å¯ä»¥æ‰‹åŠ¨è®¾ç½®cookieçš„è¿‡æœŸæ—¶é—´ï¼ŒåŒæ—¶ï¼Œåˆ°æœŸåŽè¢«åˆ é™¤ é™¤éžè¢«æ¸…é™¤ï¼Œå¦åˆ™æ°¸ä¹…ä¿å­˜ å­˜æ”¾æ•°æ®å¤§å° 4Kå·¦å³ ä¸€èˆ¬ä¸º5MB ä¸ŽæœåŠ¡å™¨ç«¯é€šä¿¡ æ¯æ¬¡éƒ½ä¼šæºå¸¦åœ¨HTTPå¤´ä¸­ï¼Œå¦‚æžœä½¿ç”¨cookieä¿å­˜è¿‡å¤šæ•°æ®ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜ ä»…åœ¨å®¢æˆ·ç«¯ï¼ˆå³æµè§ˆå™¨ï¼‰ä¸­ä¿å­˜ï¼Œä¸å‚ä¸Žå’ŒæœåŠ¡å™¨çš„é€šä¿¡ æ˜“ç”¨æ€§ éœ€è¦ç¨‹åºå‘˜è‡ªå·±å°è£…ï¼Œæºç”Ÿçš„CookieæŽ¥å£ä¸å‹å¥½ æºç”ŸæŽ¥å£å¯ä»¥æŽ¥å—ï¼Œäº¦å¯å†æ¬¡å°è£…æ¥å¯¹Objectå’ŒArrayæœ‰æ›´å¥½çš„æ”¯æŒ localStorageå­˜å‚¨æ•°æ®ï¼š12localStorage.setItem(key,value);localStorage.key = value; localStorageåˆ é™¤æ•°æ®ï¼š12localStorage.removeItem(key) //åˆ é™¤æŒ‡å®šæ•°æ®localStorage.clear() //åˆ é™¤æ‰€æœ‰æ•°æ® localStorageè¯»å–æ•°æ®ï¼š12localStorage.getItem(key,value);localStorage.key = value;]]></content>
      <categories>
        <category>CSS</category>
        <category>HTML5</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mediaç”¨æ³•æ€»ç»“]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2Fmedia%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[CSS3 @media ç”¨æ³•æ€»ç»“1234//è¯­æ³•ï¼š@media mediatype and | not | only (media feature) &#123; css-code; &#125;//ä¹Ÿå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ä½¿ç”¨ä¸åŒçš„stylesheets: &lt;link rel="stylesheet" media="mediatype and|not|only (media feature)" href="mystylesheet.css"&gt; ä¸€ã€é¦–å…ˆæ˜¯&lt;meta&gt;æ ‡ç­¾1&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt; è¿™æ®µä»£ç çš„å‡ ä¸ªå‚æ•°è§£é‡Šï¼š width = device-widthï¼šå®½åº¦ç­‰äºŽå½“å‰è®¾å¤‡çš„å®½åº¦ initial-scaleï¼šåˆå§‹çš„ç¼©æ”¾æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰ minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰ maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰ user-scalableï¼šç”¨æˆ·æ˜¯å¦å¯ä»¥æ‰‹åŠ¨ç¼©æ”¾ï¼ˆé»˜è®¤è®¾ç½®ä¸ºnoï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·æ”¾å¤§ç¼©å°é¡µé¢ï¼‰ äºŒã€&lt;head&gt;æ ‡ç­¾ä¸­å¼•å…¥ï¼ˆCSS2 mediaï¼‰å…¶å®žå¹¶ä¸æ˜¯åªæœ‰CSS3æ‰æ”¯æŒMediaçš„ç”¨æ³•ï¼Œæ—©åœ¨CSS2å¼€å§‹å°±å·²ç»æ”¯æŒMediaï¼Œå…·ä½“ç”¨æ³•ï¼Œå°±æ˜¯åœ¨HTMLé¡µé¢çš„headæ ‡ç­¾ä¸­æ’å…¥å¦‚ä¸‹ä»£ç ï¼š ä¾‹å¦‚æˆ‘ä»¬æƒ³çŸ¥é“çŽ°åœ¨çš„ç§»åŠ¨è®¾å¤‡æ˜¯ä¸æ˜¯çºµå‘æ”¾ç½®çš„æ˜¾ç¤ºå±ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š 1&lt;link rel="stylesheet" type="text/css" media="screen and (orientation:portrait)" ;href="style.css"&gt; é¡µé¢å®½åº¦å°äºŽ960çš„æ‰§è¡ŒæŒ‡å®šçš„æ ·å¼æ–‡ä»¶ï¼š 1&lt;link rel="stylesheet" type="text/css" media="screen and (max-width:960px)" href="style.css"&gt; æ—¢ç„¶CSS2å¯ä»¥å®žçŽ°CSSçš„è¿™ä¸ªæ•ˆæžœä¸ºä»€ä¹ˆä¸ç”¨è¿™ä¸ªæ–¹æ³•å‘¢ï¼Œå¾ˆå¤šäººåº”è¯¥ä¼šé—®ï¼Œä½†æ˜¯ä¸Šé¢è¿™ä¸ªæ–¹æ³•ï¼Œæœ€å¤§çš„å¼Šç«¯æ˜¯ä»–ä¼šå¢žåŠ é¡µé¢httpçš„è¯·æ±‚æ¬¡æ•°ï¼Œå¢žåŠ äº†é¡µé¢è´Ÿæ‹…ï¼Œæˆ‘ä»¬ç”¨CSS3æŠŠæ ·å¼éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢æ‰æ˜¯æœ€ä½³çš„æ–¹æ³•ã€‚ ä¸‹é¢æ¥è§£é‡Šä¸€ä¸‹é‡åˆ°å†²çªæ—¶çš„æœºåˆ¶ï¼š 123&lt;link rel="stylesheet" href="styleA.css" media="screen and (min-width: 800px)"&gt; &lt;link rel="stylesheet" href="styleB.css" media="screen and (min-width: 600px) and (max-width: 800px)"&gt; &lt;link rel="stylesheet" href="styleC.css" media="screen and (max-width: 600px)"&gt; ä¸Šé¢å°†è®¾å¤‡åˆ†æˆ3ç§ï¼Œåˆ†åˆ«æ˜¯å®½åº¦å¤§äºŽ800pxæ—¶ï¼Œåº”ç”¨ styleA ï¼Œå®½åº¦åœ¨600pxåˆ°800pxä¹‹é—´æ—¶åº”ç”¨ styleB ï¼Œä»¥åŠå®½åº¦å°äºŽ600pxæ—¶åº”ç”¨ styleC ã€‚é‚£å‡å¦‚å®½åº¦æ­£å¥½ç­‰äºŽ800pxæ—¶è¯¥åº”ç”¨é‚£ä¸ªæ ·å¼ï¼Ÿæ˜¯ styleBï¼Œå› ä¸ºå‰ä¸¤æ¡è¡¨è¾¾å¼éƒ½æˆç«‹ï¼ŒæŒ‰CSSé»˜è®¤ä¼˜å…ˆçº§è§„åˆ™åŽè€…è¦†ç›–äº†å‰è€…ã€‚ å› æ­¤ï¼Œä¸ºäº†é¿å…å†²çªï¼Œè¿™ä¸ªä¾‹å­æ­£å¸¸æƒ…å†µåº”è¯¥è¿™æ ·å†™ï¼š 123&lt;link rel="stylesheet" href="styleA.css" media="screen"&gt; &lt;link rel="stylesheet" href="styleB.css" media="screen and (max-width: 800px)"&gt; &lt;link rel="stylesheet" href="styleC.css" media="screen and (max-width: 600px)"&gt; ä¸‰ã€å›žå½’CSS3 @mediaä¸Šé¢æˆ‘ä»¬å¤§æ¦‚è®²äº†ä¸‹CSS2çš„åª’ä½“æŸ¥è¯¢ç”¨æ³•ï¼ŒçŽ°åœ¨æˆ‘ä»¬é‡æ–°å›žåˆ°CSS3çš„åª’ä½“æŸ¥è¯¢ï¼Œåœ¨ç¬¬ä¸€æ®µä»£ç ä¸Šé¢æˆ‘ç”¨çš„æ˜¯å°äºŽ960pxçš„å°ºå¯¸çš„å†™æ³•ï¼Œé‚£çŽ°åœ¨æˆ‘ä»¬æ¥å®žçŽ°ç­‰äºŽ960pxå°ºå¯¸çš„ä»£ç ï¼Œä»¥ä¸‹ä»£ç éœ€è¦å†™åœ¨styleæ ‡ç­¾æˆ–è€…cssæ–‡ä»¶ä¸­ï¼š 123@media screen and (max-device-width:960px)&#123; body&#123;background:red;&#125;&#125; ç„¶åŽå°±æ˜¯å½“æµè§ˆå™¨å°ºå¯¸å¤§äºŽ960pxæ—¶å€™çš„ä»£ç äº†ï¼š 123@media screen and (min-width:960px)&#123; body&#123;background:orange;&#125;&#125; æˆ‘ä»¬è¿˜å¯ä»¥æ··åˆä½¿ç”¨ä¸Šé¢çš„ç”¨æ³•ï¼š 123@media screen and (min-width:960px) and (max-width:1200px)&#123; body&#123;background:yellow;&#125;&#125; ä¸Šé¢çš„è¿™æ®µä»£ç çš„æ„æ€æ˜¯å½“é¡µé¢å®½åº¦å¤§äºŽ960pxå°äºŽ1200pxçš„æ—¶å€™æ‰§è¡Œä¸‹é¢çš„CSSã€‚ å››ã€Mediaæ‰€æœ‰å‚æ•°æ±‡æ€»ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬æœ€å¸¸éœ€è¦ç”¨åˆ°çš„åª’ä½“æŸ¥è¯¢å™¨çš„ä¸‰ä¸ªç‰¹æ€§ï¼Œå¤§äºŽï¼Œç­‰äºŽï¼Œå°äºŽçš„å†™æ³•ã€‚åª’ä½“æŸ¥è¯¢å™¨çš„å…¨éƒ¨åŠŸèƒ½è‚¯å®šä¸æ­¢è¿™ä¸‰ä¸ªåŠŸèƒ½ï¼Œä¸‹é¢æ˜¯æˆ‘æ€»ç»“çš„å®ƒçš„ä¸€äº›å‚æ•°ç”¨æ³•è§£é‡Šï¼š width:æµè§ˆå™¨å¯è§†å®½åº¦ã€‚ height:æµè§ˆå™¨å¯è§†é«˜åº¦ã€‚ device-width:è®¾å¤‡å±å¹•çš„å®½åº¦ã€‚ device-height:è®¾å¤‡å±å¹•çš„é«˜åº¦ã€‚ orientation:æ£€æµ‹è®¾å¤‡ç›®å‰å¤„äºŽæ¨ªå‘è¿˜æ˜¯çºµå‘çŠ¶æ€ã€‚ aspect-ratio:æ£€æµ‹æµè§ˆå™¨å¯è§†å®½åº¦å’Œé«˜åº¦çš„æ¯”ä¾‹ã€‚(ä¾‹å¦‚ï¼šaspect-ratio:16/9) device-aspect-ratio:æ£€æµ‹è®¾å¤‡çš„å®½åº¦å’Œé«˜åº¦çš„æ¯”ä¾‹ã€‚ color:æ£€æµ‹é¢œè‰²çš„ä½æ•°ã€‚ï¼ˆä¾‹å¦‚ï¼šmin-color:32å°±ä¼šæ£€æµ‹è®¾å¤‡æ˜¯å¦æ‹¥æœ‰32ä½é¢œè‰²ï¼‰ color-index:æ£€æŸ¥è®¾å¤‡é¢œè‰²ç´¢å¼•è¡¨ä¸­çš„é¢œè‰²ï¼Œä»–çš„å€¼ä¸èƒ½æ˜¯è´Ÿæ•°ã€‚ monochrome:æ£€æµ‹å•è‰²æ¥¨ç¼“å†²åŒºåŸŸä¸­çš„æ¯ä¸ªåƒç´ çš„ä½æ•°ã€‚ï¼ˆè¿™ä¸ªå¤ªé«˜çº§ï¼Œä¼°è®¡å’±å¾ˆå°‘ä¼šç”¨çš„åˆ°ï¼‰ resolution:æ£€æµ‹å±å¹•æˆ–æ‰“å°æœºçš„åˆ†è¾¨çŽ‡ã€‚(ä¾‹å¦‚ï¼šmin-resolution:300dpiæˆ–min-resolution:118dpcm)ã€‚ grid:æ£€æµ‹è¾“å‡ºçš„è®¾å¤‡æ˜¯ç½‘æ ¼çš„è¿˜æ˜¯ä½å›¾è®¾å¤‡ã€‚ 12345(max-width:599px) (min-width:600px) (orientation:portrait) ç«–å±(orientation:landscape) æ¨ªå±(-webkit-min-device-pixel-ratio: 2) åƒç´ æ¯” äº”ã€åª’ä½“ç±»åž‹1.all æ‰€æœ‰åª’ä½“ 2.braille ç›²æ–‡è§¦è§‰è®¾å¤‡ 3.embossed ç›²æ–‡æ‰“å°æœº 4.print æ‰‹æŒè®¾å¤‡ 5.projection æ‰“å°é¢„è§ˆ 6.screen å½©å±è®¾å¤‡ 7.speech â€˜å¬è§‰â€™ç±»ä¼¼çš„åª’ä½“ç±»åž‹ 8.tty ä¸é€‚ç”¨åƒç´ çš„è®¾å¤‡ 9.tv ç”µè§† å…­ã€å…³é”®å­—1.and 2.not notå…³é”®å­—æ˜¯ç”¨æ¥æŽ’é™¤æŸç§åˆ¶å®šçš„åª’ä½“ç±»åž‹ 3.only onlyç”¨æ¥å®šæŸç§ç‰¹å®šçš„åª’ä½“ç±»åž‹ -å¾ˆå¤šæ—¶å€™æ˜¯ç”¨æ¥å¯¹é‚£äº›ä¸æ”¯æŒåª’ä½“ç‰¹æ€§ä½†å´æ”¯æŒåª’ä½“ç±»åž‹çš„è®¾å¤‡ ä¸ƒã€æµè§ˆå™¨æ”¯æŒæƒ…å†µIE8- IE9+ Chrome 5+ Opera 10+ Firefox 3.6+&lt; Safari 4+ å…«ã€å¸¸ç”¨çš„å‡ ç§å±å¹•å®½åº¦è®¾å®šï¼š123456789101112131415@media screen and (min-width: 1200px) &#123; css-code;&#125;@media screen and(min-width: 960px) and (max-width: 1199px) &#123; css-code;&#125;@media screen and(min-width: 768px) and (max-width: 959px) &#123; css-code;&#125;@media screen and(min-width: 480px) and (max-width: 767px) &#123; css-code;&#125;@media screen and (max-width: 479px) &#123; css-code;&#125;]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSåŸºç¡€çŸ¥è¯†]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2FCSS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[CSSçš„å…¨ç§°æ˜¯ä»€ä¹ˆ? Cascading Style Sheets å å±‚æ ·å¼è¡¨ä¸€ç§ç”¨æ¥è¡¨çŽ°HTMLæˆ–XMLç­‰æ–‡ä»¶æ ·å¼çš„è®¡ç®—æœºè¯­è¨€ã€‚ CSSæœ‰å‡ ç§å¼•å…¥æ–¹å¼? link å’Œ@import æœ‰ä»€ä¹ˆåŒºåˆ«? å†…è”æ ·å¼å†…è”æ–¹å¼æŒ‡çš„æ˜¯ç›´æŽ¥åœ¨HTMLæ ‡ç­¾ä¸­çš„styleå±žæ€§ä¸­æ·»åŠ CSSã€‚&lt;h1 style=&quot;color:red&quot;&gt; &lt;/h1&gt; å†…éƒ¨æ ·å¼å†…éƒ¨æ ·å¼æŒ‡çš„æ˜¯åœ¨HTMLå¤´éƒ¨ä¸­çš„æ ‡ç­¾ä¸­å†™CSSä»£ç ã€‚ 12345&lt;style type="text/css"&gt; h1&#123; color:red;&#125;&lt;/style&gt; å¤–éƒ¨æ ·å¼ã€‚åˆ†ä¸ºé“¾æŽ¥å’Œå¯¼å…¥ é“¾æŽ¥æ–¹å¼é“¾æŽ¥æ–¹å¼æŒ‡çš„æ˜¯ä½¿ç”¨HTMLå¤´éƒ¨çš„æ ‡ç­¾å¼•å…¥å¤–éƒ¨çš„CSSæ–‡ä»¶ã€‚ 123&lt;head&gt;&lt;link rel="stylesheet" type="text/css" href="style.css"&gt;&lt;/head&gt; å¯¼å…¥æ–¹å¼å¯¼å…¥æ–¹å¼æŒ‡çš„æ˜¯ä½¿ç”¨CSSè§„åˆ™å¼•å…¥å¤–éƒ¨CSSæ–‡ä»¶ã€‚ 123&lt;style&gt; @import url(style.css);&lt;/style&gt; æ¯”è¾ƒlinkå’Œ@importåŒºåˆ«link å±žäºŽ HTMLï¼Œé€šè¿‡ æ ‡ç­¾ä¸­çš„ href å±žæ€§æ¥å¼•å…¥å¤–éƒ¨æ–‡ä»¶ï¼Œè€Œ @import å±žäºŽ CSSï¼Œæ‰€ä»¥å¯¼å…¥è¯­å¥åº”å†™åœ¨ CSS ä¸­ï¼Œè¦æ³¨æ„çš„æ˜¯å¯¼å…¥è¯­å¥åº”å†™åœ¨æ ·å¼è¡¨çš„å¼€å¤´ï¼Œå¦åˆ™æ— æ³•æ­£ç¡®å¯¼å…¥å¤–éƒ¨æ–‡ä»¶ï¼›ä½¿ç”¨é“¾æŽ¥æ–¹å¼æ—¶ï¼Œä¼šåœ¨è£…ç½®é¡µé¢ä¸»ä½“éƒ¨åˆ†ä¹‹å‰è£…è½½CSSæ–‡ä»¶ï¼Œè¿™æ ·æ˜¾ç¤ºå‡ºæ¥çš„ç½‘é¡µä»Žä¸€å¼€å§‹å°±æ˜¯å¸¦æœ‰æ ·å¼çš„æ•ˆæžœï¼Œè€Œä½¿ç”¨å¯¼å…¥å¼æ—¶ï¼Œä¼šåœ¨æ•´ä¸ªé¡µé¢è£…è½½å®ŒæˆåŽå†è£…è½½CSSæ–‡ä»¶ï¼Œå¯¹äºŽæœ‰çš„æµè§ˆå™¨æ¥è¯´ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå¦‚æžœç½‘é¡µæ–‡ä»¶çš„ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œåˆ™ä¼šå‡ºçŽ°å…ˆæ˜¾ç¤ºæ— æ ·å¼çš„é¡µé¢ï¼Œé—ªçƒä¸€ä¸‹ä¹‹åŽå†å‡ºçŽ°æ ·å¼è®¾ç½®åŽçš„æ•ˆæžœã€‚ä»Žæµè§ˆè€…çš„æ„Ÿå—æ¥è¯´ï¼Œè¿™æ˜¯ä½¿ç”¨å¯¼å…¥å¼çš„ä¸€ä¸ªç¼ºé™·ã€‚å…¼å®¹æ€§çš„å·®åˆ«ã€‚@importæ˜¯CSS2.1æå‡ºï¼Œåœ¨IE5ä¸Šæ‰èƒ½è¯†åˆ«ã€‚linkæ— æ­¤é—®é¢˜ã€‚linkæ”¯æŒä½¿ç”¨JavascriptæŽ§åˆ¶DOMåŽ»æ”¹å˜æ ·å¼ï¼›è€Œ@importä¸æ”¯æŒ ä»¥ä¸‹è¿™å‡ ç§æ–‡ä»¶è·¯å¾„åˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä»£è¡¨ä»€ä¹ˆæ„æ€? css/a.cssï¼šç›¸å¯¹è·¯å¾„ï¼šä»£è¡¨å½“å‰ç›®å½•ä¸‹cssæ–‡ä»¶å¤¹ä¸­çš„a.cssæ–‡ä»¶ ./css/a.cssç›¸å¯¹è·¯å¾„ï¼šä»£è¡¨å½“å‰ç›®å½•ä¸‹cssæ–‡ä»¶å¤¹ä¸­çš„a.cssæ–‡ä»¶ï¼ˆåŠ å•ä¸ªç‚¹ä¸Žä¸åŠ ç›¸åŒï¼‰ b.cssç›¸å¯¹è·¯å¾„ï¼šä»£è¡¨å½“å‰ç›®å½•ä¸‹b.cssæ–‡ä»¶ ../imgs/a.pngç›¸å¯¹è·¯å¾„ï¼šä»£è¡¨ä¸Šçº§ç›®å½•ä¸‹imgsæ–‡ä»¶å¤¹ä¸­çš„a.pngæ–‡ä»¶ /Users/hunger/project/css/a.css/static/css/a.cssç»å¯¹è·¯å¾„ï¼šä»£è¡¨æœ¬åœ°ç»å¯¹è·¯å¾„a.cssæ–‡ä»¶ http://cdn.xxxx.com/kejian1/8-1.pngç½‘ç»œè·¯å¾„ï¼šä»£è¡¨ç½‘ç«™çš„å›¾ç‰‡è·¯å¾„ /static/css/a.cssç½‘ç«™ç›¸å¯¹è·¯å¾„ï¼šä»£è¡¨ç½‘ç«™æœåŠ¡å™¨æ ¹ç›®å½•staticæ–‡ä»¶å¤¹ä¸­çš„cssæ–‡ä»¶å¤¹ä¸­çš„a.cssæ–‡ä»¶ å¦‚æžœæˆ‘æƒ³åœ¨ç½‘é¡µä¸Šå±•ç¤ºä¸€ä¸ªå›¾ç‰‡ï¼Œéœ€è¦æ€Žä¹ˆæ“ä½œ? å°†æœ¬åœ°å›¾ç‰‡å‘åˆ°æœåŠ¡å™¨ä¸Šï¼Œæˆ–è€…ç›´æŽ¥ä»Žåˆ«çš„ç½‘ç«™å¤åˆ¶å›¾ç‰‡åœ°å€ã€‚ä½¿ç”¨&lt;img src=&quot;åœ°å€&quot;&gt; åˆ—å‡º5æ¡ä»¥ä¸Šhtmlå’Œ css çš„ä¹¦å†™è§„èŒƒ åœ¨æ¯ä¸ª HTML é¡µé¢çš„ç¬¬ä¸€è¡Œæ·»åŠ å£°æ˜Ž æ·»åŠ æ ‡ç­¾ å±žæ€§å ä¸Žä¹‹åŽçš„ :ä¹‹é—´ä¸å…è®¸åŒ…å«ç©ºæ ¼ï¼Œ:ä¸Žå±žæ€§å€¼ä¹‹é—´å¿…é¡»åŒ…å«ç©ºæ ¼ã€‚ ä½¿ç”¨è‹±æ–‡å°å†™ +ã€&gt;ã€~ é€‰æ‹©å™¨çš„ä¸¤è¾¹å„ä¿ç•™ä¸€ä¸ªç©ºæ ¼ã€‚ RGBé¢œè‰²å€¼å¿…é¡»ä½¿ç”¨åå…­è¿›åˆ¶è®°å·å½¢å¼ #rrggbbã€‚ä¸å…è®¸ä½¿ç”¨ rgb()ã€‚ éœ€è¦åœ¨ Windows å¹³å°æ˜¾ç¤ºçš„ä¸­æ–‡å†…å®¹ï¼Œå…¶å­—å·åº”ä¸å°äºŽ 12pxã€‚ ä½¿ç”¨ 4 ä¸ªç©ºæ ¼åšä¸ºä¸€ä¸ªç¼©è¿›å±‚çº§ï¼Œä¸å…è®¸ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ æˆ– tab å­—ç¬¦åˆ«å¿˜è®°ç»“æŸç¬¦ ä½¿ç”¨å¤–è”å¼cssæ ·å¼ é€‰æ‹©å™¨ ä¸Ž { ä¹‹é—´å¿…é¡»åŒ…å«ç©ºæ ¼ã€‚ ä½¿ç”¨æ³¨é‡Šï¼Œæ–¹ä¾¿ä»¥åŽæˆ–å…¶ä»–äººç†è§£]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSå¸¸è§æ ·å¼2]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2FCSS%E5%B8%B8%E8%A7%81%E6%A0%B7%E5%BC%8F2%2F</url>
    <content type="text"><![CDATA[CSSå¸¸è§æ ·å¼èƒŒæ™¯æ ·å¼ å±žæ€§ æè¿° background ç®€å†™å±žæ€§ï¼Œä½œç”¨æ˜¯å°†èƒŒæ™¯å±žæ€§è®¾ç½®åœ¨ä¸€ä¸ªå£°æ˜Žä¸­ background-attachment èƒŒæ™¯å›¾åƒæ˜¯å¦å›ºå®šæˆ–è€…éšç€é¡µé¢çš„å…¶ä½™éƒ¨åˆ†æ»šåŠ¨ background-color è®¾ç½®å…ƒç´ çš„èƒŒæ™¯é¢œè‰² background-image æŠŠå›¾åƒè®¾ç½®ä¸ºèƒŒæ™¯ background-position è®¾ç½®èƒŒæ™¯å›¾åƒçš„èµ·å§‹ä½ç½® background-repeat è®¾ç½®èƒŒæ™¯å›¾åƒæ˜¯å¦åŠå¦‚ä½•é‡å¤ background-size è®¾ç½®èƒŒæ™¯çš„å¤§å°(å…¼å®¹æ€§) background-positionï¼šé»˜è®¤å·¦ä¸Šè§’x yx% y%[top | center | bottom] [left | center | right] background-repeatno-repeatï¼šèƒŒæ™¯å›¾ç‰‡åœ¨è§„å®šä½ç½®repeat-xï¼šå›¾ç‰‡æ¨ªå‘é‡å¤repeat-yï¼šå›¾ç‰‡çºµå‘é‡å¤repeatï¼šå…¨éƒ¨é‡å¤ background-size100px 100pxcontaincover 12345background-color: #F00;background-image: url(background.gif);background-repeat: no-repeat;background-attachment: fixed;background-position: 0 0; å¯ä»¥ç¼©å†™ä¸ºä¸€å¥ï¼š background: #f00 url(background.gif) no-repeat fixed 0 0; æé†’ï¼š è¦æ˜¾ç¤ºå‡ºbackground-img:å®¹å™¨éœ€æœ‰ çª—å£ï¼Œè¦è¢«æ’‘å¼€ã€‚ text-align: centerçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä½œç”¨åœ¨ä»€ä¹ˆå…ƒç´ ä¸Šï¼Ÿèƒ½è®©ä»€ä¹ˆå…ƒç´ æ°´å¹³å±…ä¸­ä½œç”¨æ˜¯è®©è¡Œå†…å…ƒç´ ï¼ˆåŒ…æ‹¬inline-blockï¼‰æ°´å¹³å±…ä¸­ä½œç”¨åœ¨è¦æ°´å¹³å±…ä¸­çš„è¡Œå†…å…ƒç´ çš„çˆ¶å…ƒç´ ä¸Š IE ç›’æ¨¡åž‹å’ŒW3Cç›’æ¨¡åž‹æœ‰ä»€ä¹ˆåŒºåˆ«?åŒºåˆ«W3Cæ ‡å‡†ç›’æ¨¡åž‹ä¸­paddingã€borderæ‰€å çš„ç©ºé—´ä¸åœ¨widthã€heightèŒƒå›´å†…ï¼Œå¤§å®¶ä¿—ç§°çš„IEçš„ç›’æ¨¡åž‹widthåŒ…æ‹¬contentå°ºå¯¸ï¼‹paddingï¼‹borderã€‚ ie678æ€ªå¼‚æ¨¡å¼ï¼ˆä¸æ·»åŠ  doctypeï¼‰ä½¿ç”¨ ie ç›’æ¨¡åž‹ï¼Œå®½åº¦=è¾¹æ¡†+padding+å†…å®¹å®½åº¦ã€‚chromeï¼Œ ie9+, ie678(æ·»åŠ  doctype) ä½¿ç”¨æ ‡å‡†ç›’æ¨¡åž‹ï¼Œ å®½åº¦= å†…å®¹å®½åº¦ã€‚ { box-sizing: border-box;}çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿcss3æ–°æ ·å¼box-sizingï¼šå…è®¸ä»¥ç‰¹å®šçš„æ–¹å¼å®šä¹‰åŒ¹é…æŸä¸ªåŒºåŸŸçš„ç‰¹å®šå…ƒç´ å€¼ï¼šbox-sizing: content-boxï¼šw3cæ ‡å‡†ç›’æ¨¡åž‹box-sizing: border-boxï¼šâ€œIEç›’æ¨¡åž‹â€ line-height: 2å’Œline-height: 200%æœ‰ä»€ä¹ˆåŒºåˆ«?è®¡ç®—æ–¹æ³•çš„åŒºåˆ«ã€‚ æ•°å€¼ï¼šç»§æ‰¿çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šå…ˆå°†line-heightè¿™ä¸ªå±žæ€§ç»§æ‰¿ç»™å­å…ƒç´ ï¼Œå†ç”±å­å…ƒç´ è®¡ç®—ã€‚æ ¹æ®è‡ªèº«å…ƒç´ font-sizeçš„2å€è®¡ç®—ã€‚ ç™¾åˆ†æ•°ï¼šç»§æ‰¿çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šå…ˆå°†è¡Œé«˜å¯¹åº”çš„å…·ä½“çš„æ•°å€¼è®¡ç®—å‡ºæ¥ä»¥åŽå†ç»§æ‰¿ã€‚æ ¹æ®çˆ¶å…ƒç´ çš„font-sizeçš„200%è®¡ç®—ã€‚ å¦å¤– height = line-heihgt å¯ä»¥ç”¨æ¥ åž‚ç›´å±…ä¸­å•è¡Œæ–‡æœ¬ inline-blockæœ‰ä»€ä¹ˆç‰¹æ€§ï¼Ÿå¦‚ä½•åŽ»é™¤ç¼éš™ï¼Ÿé«˜åº¦ä¸ä¸€æ ·çš„inline-blockå…ƒç´ å¦‚ä½•é¡¶ç«¯å¯¹é½? inline-block å†…è”å—çº§å…ƒç´ ï¼Œæ—¢èƒ½æ”¾åœ¨ä¸€è¡Œï¼ˆå†…è”å…ƒç´ ç‰¹æ€§ï¼‰ï¼Œåˆèƒ½è®¾ç½®å®½é«˜åŠpadding marginï¼ˆå—çº§å…ƒç´ ç‰¹æ€§ï¼‰ã€‚ inline-block å…ƒç´ é—´çš„ç©ºç™½/å›žè½¦æ¢è¡Œä¼šäº§ç”Ÿç¼éš™ï¼ŒåŽ»é™¤ç¼éš™å¯ä»¥ä½¿htmlæ ‡ç­¾è¿žç»­ï¼ˆæ— ç©ºç™½/æŠ˜è¡Œï¼‰ï¼Œè¿˜å¯ä»¥è®¾ç½®å…¶çˆ¶å…ƒç´ font-size:0; ç„¶åŽåœ¨inline-blockå…ƒç´ å†…æ¢å¤font-sizeã€‚ åœ¨çˆ¶å…ƒç´ ä¸­ä½¿ç”¨vertical-align:top; å¯ä»¥è®©é«˜åº¦ä¸ä¸€æ ·çš„inline-block å…ƒç´ é¡¶ç«¯å¯¹é½ã€‚ï¼ˆå€¼è¿˜æœ‰æ›´å¤šï¼‰ è¡Œå†…å…ƒç´ å’Œinline-blockå…ƒç´ æ°´å¹³æ–¹å‘ä¸Šé»˜è®¤æƒ…å†µä¸‹æ˜¯æŒ‰åŸºçº¿å¯¹é½ CSS sprite æ˜¯ä»€ä¹ˆ?CSSç²¾çµå›¾ï¼ˆé›ªç¢§å›¾ï¼‰CSS Spritesåœ¨å›½å†…å¾ˆå¤šäººå«cssç²¾çµæ˜¯ä¸€ç§ç½‘é¡µå›¾ç‰‡åº”ç”¨å¤„ç†æ–¹å¼ã€‚å®ƒå…è®¸ä½ å°†ä¸€ä¸ªé¡µé¢æ¶‰åŠåˆ°çš„æ‰€æœ‰é›¶æ˜Ÿå›¾ç‰‡éƒ½åŒ…å«åˆ°ä¸€å¼ å¤§å›¾ä¸­åŽ»ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“è®¿é—®è¯¥é¡µé¢æ—¶ï¼Œè½½å…¥çš„å›¾ç‰‡å°±ä¸ä¼šåƒä»¥å‰é‚£æ ·ä¸€å¹…ä¸€å¹…åœ°æ…¢æ…¢æ˜¾ç¤ºå‡ºæ¥äº†ã€‚å¯¹äºŽå½“å‰ç½‘ç»œæµè¡Œçš„é€Ÿåº¦è€Œè¨€ï¼Œä¸é«˜äºŽ200KBçš„å•å¼ å›¾ç‰‡çš„æ‰€éœ€è½½å…¥æ—¶é—´åŸºæœ¬æ˜¯å·®ä¸å¤šçš„ï¼Œæ‰€ä»¥æ— éœ€é¡¾å¿Œè¿™ä¸ªé—®é¢˜ã€‚åŠ é€Ÿçš„å…³é”®ï¼Œä¸æ˜¯é™ä½Žé‡é‡ï¼Œè€Œæ˜¯å‡å°‘ä¸ªæ•°ã€‚ä¼ ç»Ÿåˆ‡å›¾è®²ç©¶ç²¾ç»†ï¼Œå›¾ç‰‡è§„æ ¼è¶Šå°è¶Šå¥½ï¼Œé‡é‡è¶Šå°è¶Šå¥½ï¼Œå…¶å®žè§„æ ¼å¤§å°æ— æ‰€è°“ï¼Œè®¡ç®—æœºç»Ÿä¸€éƒ½æŒ‰byteè®¡ç®—ã€‚å®¢æˆ·ç«¯æ¯æ˜¾ç¤ºä¸€å¼ å›¾ç‰‡éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚æ‰€ä»¥ï¼Œå›¾ç‰‡è¶Šå¤šè¯·æ±‚æ¬¡æ•°è¶Šå¤šï¼Œé€ æˆå»¶è¿Ÿçš„å¯èƒ½æ€§ä¹Ÿå°±è¶Šå¤§ã€‚ ç®€å•æ¥è¯´ï¼šæŒ‡å°†ä¸åŒçš„å›¾ç‰‡/å›¾æ ‡åˆå¹¶åœ¨ä¸€å¼ å›¾ä¸Šã€‚ä½¿ç”¨CSS Sprite å¯ä»¥å‡å°‘ç½‘ç»œè¯·æ±‚ï¼Œæé«˜ç½‘é¡µåŠ è½½æ€§èƒ½ã€‚ è®©ä¸€ä¸ªå…ƒç´ â€çœ‹ä¸è§â€æœ‰å‡ ç§æ–¹å¼ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«?éšè—oré€æ˜Ž opacity: 0 ; é€æ˜Žåº¦ä¸º0ï¼Œå æ®æ–‡æ¡£ç©ºé—´ï¼Œå…ƒç´ ç»‘å®šçš„äº‹ä»¶è¿˜æ˜¯ä¼šè§¦å‘äº‹ä»¶ã€‚ visibility: hidden ; ç±»ä¼¼äºŽ opacity:0ï¼Œä½†ç»‘å®šçš„äº‹ä»¶ä¸ä¼šè§¦å‘ã€‚ background-color: rgba(0ï¼Œ0ï¼Œ0ï¼Œ0); åªæ˜¯èƒŒæ™¯è‰²é€æ˜Ž display:none; æ¶ˆå¤±ï¼Œä¸å ç”¨ä½ç½®ï¼Œæµè§ˆå™¨ä¸ä¼šåŽ»ç»˜åˆ¶å®ƒï¼Œä½†å­˜åœ¨äºŽDOMæ ‘ï¼Œç»‘å®šçš„äº‹ä»¶ä¸ä¼šè§¦å‘ã€‚ å‰ä¸‰ç§æ–¹æ³•ä»…ä»…æ˜¯æ”¹å˜å…¶é€æ˜Žåº¦ï¼Œè®©å…¶â€å‡æ¶ˆå¤±â€ï¼Œçœ‹ä¸è§ï¼Œä½†å­˜åœ¨ã€‚]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSå¸¸è§æ ·å¼1]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2FCSS%E5%B8%B8%E8%A7%81%E6%A0%B7%E5%BC%8F1%2F</url>
    <content type="text"><![CDATA[CSSå¸¸è§æ ·å¼å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ åˆ†åˆ«æœ‰å“ªäº›ï¼ŸåŠ¨æ‰‹æµ‹è¯•å¹¶åˆ—å‡º4æ¡ä»¥ä¸Šçš„ç‰¹æ€§åŒºåˆ«å—çº§å…ƒç´ è¡Œå†…å…ƒç´ å—çº§(block-level); è¡Œå†…(å†…è”ã€inline-level) å—çº§å…ƒç´  VS è¡Œå†…å…ƒç´ åŒºåˆ«1ï¼šå—çº§å…ƒç´ å®½åº¦å æ®æ•´è¡Œï¼Œè¡Œå†…å…ƒç´ å æ®è‡ªèº«å®½åº¦çš„ç©ºé—´ï¼Œèƒ½å¤šä¸ªå¹¶åˆ—æŽ’åºï¼Œç›´åˆ°ä¸€è¡ŒæŽ’åˆ—ä¸ä¸‹ï¼Œæ¢ä¸‹ä¸€è¡Œã€‚åŒºåˆ«2ï¼šå—çº§å…ƒç´ å¯ä»¥åŒ…å«å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ ï¼›è¡Œå†…å…ƒç´ å†…åªèƒ½åŒ…å«è¡Œå†…å…ƒç´ å’Œæ–‡æœ¬åŒºåˆ«3ï¼šå—çº§å…ƒç´ å¯ä»¥è®¾ç½®å®½é«˜ï¼›è¡Œå†…å…ƒç´ åˆ™ä¸èƒ½è®¾ç½®å®½é«˜ï¼ˆè¡Œå†…å…ƒç´ çš„é«˜åº¦æ˜¯ç”±line-heightæ¥å†³å®šï¼Œå®½åº¦ç”±å…·ä½“çš„å†…å®¹æ¥å†³å®šï¼‰åŒºåˆ«4ï¼šå—çº§å…ƒç´ å¯ä»¥è®¾ç½®ä¸Šä¸‹å·¦å³çš„marginã€padding è¾¹è·ï¼›è¡Œå†…å…ƒç´ åªå¯¹å·¦å³æ–¹å‘çš„marginã€paddingç”Ÿæ•ˆï¼Œä¸Šä¸‹æ— æ•ˆï¼ˆè¡Œå†…å…ƒç´ å¯¹äºŽä¸Šä¸‹paddingï¼Œå¯ä»¥çœ‹åˆ°èƒŒæ™¯è‰²å’Œè¾¹æ¡†çš„å½±å“ï¼Œä½†é«˜åº¦è¿˜æ˜¯æ— æ³•æ’‘å¼€ï¼‰åŒºåˆ«5ï¼šå—çº§å…ƒç´ ï¼Œé»˜è®¤ä¸ºdisplay: blockï¼›è¡Œå†…å…ƒç´ è¡¨ç¤ºä¸ºdisplay:inline.åŒºåˆ«6ï¼šè¡Œå†…å…ƒç´ å¯ä»¥â€æ„Ÿå—â€åˆ°æµ®åŠ¨å…ƒç´ çš„å­˜åœ¨ã€‚ block-leveldiv h1 h2 h3 h4 h5 h6 p hrform ul dl ol pre tableli dd dt tr td th inline-levelem strong span a br imgbutton input label select textareacode script ä»€ä¹ˆæ˜¯ CSS ç»§æ‰¿? å“ªäº›å±žæ€§èƒ½ç»§æ‰¿ï¼Œå“ªäº›ä¸èƒ½ï¼Ÿ cssç»§æ‰¿ï¼šç»§æ‰¿å°±æ˜¯å­æ ‡ç­¾ç»§æ‰¿äº†ä¸Šçº§æ ‡ç­¾çš„CSSæ ·å¼çš„å±žæ€§ã€‚ ä¸å¯ç»§æ‰¿çš„ï¼šdisplayã€marginã€borderã€paddingã€backgroundã€heightã€min-heightã€max-heightã€widthã€min-widthã€max-widthã€overflowã€positionã€leftã€rightã€topã€bottomã€z-indexã€floatã€clearã€table-layoutã€vertical-alignã€page-break-afterã€page-bread-beforeå’Œunicode-bidiã€‚ æ‰€æœ‰å…ƒç´ å¯ç»§æ‰¿ï¼švisibilityå’Œcursorã€‚ å†…è”å…ƒç´ å¯ç»§æ‰¿ï¼šletter-spacingã€word-spacingã€white-spaceã€line-heightã€colorã€fontã€font-familyã€font-sizeã€font-styleã€font-variantã€font-weightã€text-decorationã€text-transformã€directionã€‚ ç»ˆç«¯å—çŠ¶å…ƒç´ å¯ç»§æ‰¿ï¼štext-indentå’Œtext-alignã€‚ åˆ—è¡¨å…ƒç´ å¯ç»§æ‰¿ï¼šlist-styleã€list-style-typeã€list-style-positionã€list-style-imageã€‚ è¡¨æ ¼å…ƒç´ å¯ç»§æ‰¿ï¼šborder-collapseã€‚ å¦‚ä½•è®©å—çº§å…ƒç´ æ°´å¹³å±…ä¸­ï¼Ÿå¦‚ä½•è®©è¡Œå†…å…ƒç´ æ°´å¹³å±…ä¸­?æ°´å¹³å±…ä¸­ å†…è”å…ƒç´ ï¼šåœ¨å…¶çˆ¶å…ƒç´ èº«ä¸ŠåŠ  text-align:centerï¼› å—çº§å…ƒç´ ï¼š å›ºå®šå®½åº¦çš„div margin-left: auto margin-right: auto ä¸å›ºå®šå®½åº¦çš„ divï¼ˆæœ‰è¿™ç§æ— è„‘éœ€æ±‚ï¼Ÿï¼‰ margin: 0 100px; ç”¨ CSS å®žçŽ°ä¸€ä¸ªä¸‰è§’å½¢1234567 &lt;div class="box"&gt;&lt;/div&gt;.box &#123; width: 0; height: 0; border: 50px solid transparent; border-bottom: 50px solid #ccc;&#125; è®¾ç½®å—çº§å…ƒç´ çš„å®½é«˜éƒ½ä¸º0pxï¼Œä¸Šä¸‹å·¦å³borderè®¾ç½®å®žçº¿solidï¼Œç•™ä¸€ä¸ªè®¾ç½®ä¸ºæœ‰é¢œè‰²ï¼Œå…¶ä»–ä¸‰ä¸ªä¸ºtransparenté€æ˜Žï¼Œè°ƒæ•´4ä¸ªborderçš„pxå¯å®žçŽ°ä¸åŒå½¢çŠ¶ä¸‰è§’å½¢(è§æœ€åŽä»»åŠ¡4) å•è¡Œæ–‡æœ¬æº¢å‡ºåŠ  â€¦å¦‚ä½•å®žçŽ°?é¦–å…ˆè®¾ç½®ä¸æ¢è¡Œï¼šwhite-space:nowrap;å…¶æ¬¡è®¾ç½®è¶…å‡ºéšè—ï¼šoverflow:hidden;å†è®¾ç½®æ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºä¸ºçœç•¥å·ï¼štext-overflow:ellipsis; px, em, rem vwæœ‰ä»€ä¹ˆåŒºåˆ« px æ˜¯ç»å¯¹é•¿åº¦å•ä½ã€‚emã€rem æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ emå¦‚æžœç”¨äºŽfont-sizeå±žæ€§æœ¬èº«ï¼Œåˆ™ç›¸å¯¹äºŽçˆ¶å…ƒç´ çš„font-sizeã€‚è‹¥ç”¨äºŽå…¶å®ƒå±žæ€§ï¼Œåˆ™ç›¸å¯¹äºŽå…ƒç´ æœ¬èº«çš„font-sizeå½“æ²¡æœ‰è®¾ç½®font-sizeæ—¶ï¼Œchromeæµè§ˆå™¨ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„ em è®¾ç½®ï¼š1em = 16pxç¼ºç‚¹ï¼šå®¹æ˜“æ··ä¹± remrem æ˜¯ç›¸å¯¹äºŽæ ¹å…ƒç´ htmlçš„font-sizeå±žæ€§çš„è®¡ç®—å€¼ï¼Œæ¯”è¾ƒå¥½è®¡ç®—å½“æ²¡æœ‰è®¾ç½® font-size æ—¶ï¼Œæµè§ˆå™¨ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„ rem è®¾ç½®ï¼š1rem = 16pxï¼Œè¿™ç‚¹ä¸Ž em æ˜¯ä¸€è‡´çš„å…¼å®¹æ€§ï¼šIE8-ä¸æ”¯æŒ vw vh: ç›¸å¯¹å•ä½ï¼Œ1vw ä¸ºå±å¹•å®½åº¦çš„1% å…¼å®¹æ€§ è§£é‡Šä¸‹é¢ä»£ç çš„ä½œç”¨?ä¸ºä»€ä¹ˆè¦åŠ å¼•å·? å­—ä½“é‡Œ\5b8b\4f53ä»£è¡¨ä»€ä¹ˆ?123body&#123; font: 12px/1.5 tahoma,arial,'Hiragino Sans GB','\5b8b\4f53',sans-serif;&#125; è®¾ç½®bodyçš„å­—æ ·ä¸ºå¤§å°12pxï¼Œ1.5å€è¡Œé«˜ï¼Œå­—ä½“é€‰æ‹©ä¾æ¬¡ä¸º tahoma,arial,â€™Hiragino Sans GBâ€™,â€™\5b8b\4f53â€™,sans-serifæœ‰ç©ºæ ¼çš„å†…å®¹è¦åŠ å¼•å·ï¼Œæ‰ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•´ä½“ã€‚ä¸ç„¶ä¼šè¢«è®¤ä¸ºæ˜¯ä¸¤ä¸ªå­—ä½“é‡Œ\5b8b\4f53ä»£è¡¨çš„æ˜¯é»‘ä½“çš„unicodeç ã€‚æ–‡å­—å…ˆè½¬åŒ–ä¸ºç›¸åº”çš„unicodeç ï¼Œå†é€šè¿‡ä¸åŒçš„å­—ä½“åº“ä¾æ®è¿™ä¸ªç¼–ç æ¥è½¬åŒ–ä¸ºç›¸åº”çš„å­—ä½“(ç›´æŽ¥å†™æˆä¸­æ–‡ï¼Œæµè§ˆå™¨æœ‰å¯èƒ½ä¸èƒ½è¯†åˆ«ï¼Œæ‰€ä»¥è¦å†™æˆUnicodeç¼–ç ã€‚) åŽ»é™¤å…ƒç´ é»˜è®¤ margin padding ï¼š*{margin:0;padding:0} é¢œè‰²å•è¯: red, blue, pink, yellow, white, blackåå…­è¿›åˆ¶: #000000, #fff, #eee, #ccc, #666, #333, #f00, #0f0, #00frgb: rgb(255, 255, 255), rgb(0, 255, 0)rgba: rgba(0,0,0,0.5)æ›´å¤š éšè—oré€æ˜Žopacity: 0 ; é€æ˜Žåº¦ä¸º0ï¼Œæ•´ä½“visibility: hidden ; å’Œopacity:0 ç±»ä¼¼display:none; æ¶ˆå¤±ï¼Œä¸å ç”¨ä½ç½®background-color: rgba(0ï¼Œ0ï¼Œ0ï¼Œ0.2) åªæ˜¯èƒŒæ™¯è‰²é€æ˜Ž inline-blockæ—¢å‘ˆçŽ° inline ç‰¹æ€§(ä¸å æ®ä¸€æ•´è¡Œï¼Œå®½åº¦ç”±å†…å®¹å®½åº¦å†³å®š)åˆå‘ˆçŽ° block ç‰¹æ€§ (å¯è®¾ç½®å®½é«˜ï¼Œå†…å¤–è¾¹è·)ç¼éš™é—®é¢˜ line-heightline-height: 2line-height: 100%height = line-heihgt æ¥åž‚ç›´å±…ä¸­å•è¡Œæ–‡æœ¬]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSé€‰æ‹©å™¨]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2FCSS%E9%80%89%E6%8B%A9%E5%99%A8%2F</url>
    <content type="text"><![CDATA[CSSé€‰æ‹©å™¨é€‰æ‹©å™¨ç±»åž‹ åŸºç¡€é€‰æ‹©å™¨ ç»„åˆé€‰æ‹©å™¨ å±žæ€§é€‰æ‹©å™¨ ä¼ªç±»é€‰æ‹©å™¨ ä¼ªå…ƒç´ é€‰æ‹©å™¨ åŸºç¡€é€‰æ‹©å™¨ é€‰æ‹©å™¨ å«ä¹‰ * é€šç”¨å…ƒç´ é€‰æ‹©å™¨ï¼ŒåŒ¹é…é¡µé¢ä»»ä½•å…ƒç´ ï¼ˆè¿™ä¹Ÿå°±å†³å®šäº†æˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨ï¼‰ #id idé€‰æ‹©å™¨ï¼ŒåŒ¹é…ç‰¹å®šidçš„å…ƒç´  .class ç±»é€‰æ‹©å™¨ï¼ŒåŒ¹é…classåŒ…å«(ä¸æ˜¯ç­‰äºŽ)ç‰¹å®šç±»çš„å…ƒç´  element æ ‡ç­¾é€‰æ‹©å™¨ ç»„åˆé€‰æ‹©å™¨ é€‰æ‹©å™¨ å«ä¹‰ E,F å¤šå…ƒç´ é€‰æ‹©å™¨ï¼Œç”¨,åˆ†éš”ï¼ŒåŒæ—¶åŒ¹é…å…ƒç´ Eæˆ–å…ƒç´ F E F åŽä»£é€‰æ‹©å™¨ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼ŒåŒ¹é…Eå…ƒç´ æ‰€æœ‰çš„åŽä»£ï¼ˆä¸åªæ˜¯å­å…ƒç´ ã€å­å…ƒç´ å‘ä¸‹é€’å½’ï¼‰å…ƒç´ F E&gt;F å­å…ƒç´ é€‰æ‹©å™¨ï¼Œç”¨&gt;åˆ†éš”ï¼ŒåŒ¹é…Eå…ƒç´ çš„æ‰€æœ‰ç›´æŽ¥å­å…ƒç´  E+F ç›´æŽ¥ç›¸é‚»é€‰æ‹©å™¨ï¼ŒåŒ¹é…Eå…ƒç´ ä¹‹åŽçš„ç›¸é‚»çš„åŒçº§å…ƒç´ F E~F æ™®é€šç›¸é‚»é€‰æ‹©å™¨ï¼ˆå¼Ÿå¼Ÿé€‰æ‹©å™¨ï¼‰ï¼ŒåŒ¹é…Eå…ƒç´ ä¹‹åŽçš„åŒçº§å…ƒç´ Fï¼ˆæ— è®ºç›´æŽ¥ç›¸é‚»ä¸Žå¦ï¼‰ .class1.class2 idå’Œclassé€‰æ‹©å™¨å’Œé€‰æ‹©å™¨è¿žå†™çš„æ—¶å€™ä¸­é—´æ²¡æœ‰åˆ†éš”ç¬¦ï¼Œ. å’Œ # æœ¬èº«å……å½“åˆ†éš”ç¬¦çš„å…ƒç´  element#id idå’Œclassé€‰æ‹©å™¨å’Œé€‰æ‹©å™¨è¿žå†™çš„æ—¶å€™ä¸­é—´æ²¡æœ‰åˆ†éš”ç¬¦ï¼Œ. å’Œ # æœ¬èº«å……å½“åˆ†éš”ç¬¦çš„å…ƒç´  å±žæ€§é€‰æ‹©å™¨ é€‰æ‹©å™¨ å«ä¹‰ E[attr] åŒ¹é…æ‰€æœ‰å…·æœ‰å±žæ€§attrçš„å…ƒç´ ï¼Œdiv[id]å°±èƒ½å–åˆ°æ‰€æœ‰æœ‰idå±žæ€§çš„div E[attr = value] åŒ¹é…å±žæ€§attrå€¼ä¸ºvalueçš„å…ƒç´ ï¼Œdiv[id=test],åŒ¹é…id=testçš„div E[attr ~= value] åŒ¹é…æ‰€æœ‰å±žæ€§attrå…·æœ‰å¤šä¸ªç©ºæ ¼åˆ†éš”ã€å…¶ä¸­ä¸€ä¸ªå€¼ç­‰äºŽvalueçš„å…ƒç´  E[attr ^= value] åŒ¹é…å±žæ€§attrçš„å€¼ä»¥valueå¼€å¤´çš„å…ƒç´  E[attr $= value] åŒ¹é…å±žæ€§attrçš„å€¼ä»¥valueç»“å°¾çš„å…ƒç´  E[attr *= value] åŒ¹é…å±žæ€§attrçš„å€¼åŒ…å«valueçš„å…ƒç´  ä¼ªç±»é€‰æ‹©å™¨ é€‰æ‹©å™¨ å«ä¹‰ E:first-child åŒ¹é…ä½œä¸ºé•¿å­ï¼ˆç¬¬ä¸€ä¸ªå­å¥³ï¼‰çš„å…ƒç´ E E:link åŒ¹é…æ‰€æœ‰æœªè¢«ç‚¹å‡»çš„é“¾æŽ¥ E:visited åŒ¹é…æ‰€æœ‰å·²è¢«ç‚¹å‡»çš„é“¾æŽ¥ E:active åŒ¹é…é¼ æ ‡å·²ç»å…¶ä¸ŠæŒ‰ä¸‹ã€è¿˜æ²¡æœ‰é‡Šæ”¾çš„Eå…ƒç´  E:hover åŒ¹é…é¼ æ ‡æ‚¬åœå…¶ä¸Šçš„Eå…ƒç´  E:focus åŒ¹é…èŽ·å¾—å½“å‰ç„¦ç‚¹çš„Eå…ƒç´  E:lang(c) åŒ¹é…langå±žæ€§ç­‰äºŽcçš„Eå…ƒç´  E:enabled åŒ¹é…è¡¨å•ä¸­å¯ç”¨çš„å…ƒç´  E:disabled åŒ¹é…è¡¨å•ä¸­ç¦ç”¨çš„å…ƒç´  E:checked åŒ¹é…è¡¨å•ä¸­è¢«é€‰ä¸­çš„radioæˆ–checkboxå…ƒç´  E::selection åŒ¹é…ç”¨æˆ·å½“å‰é€‰ä¸­çš„å…ƒç´  æ‰€æœ‰é€‰æ‹©å™¨åˆ—è¡¨åœ¨ MDN ä¼ªç±»é€‰æ‹©å™¨ é€‰æ‹©å™¨ å«ä¹‰ E:root åŒ¹é…æ–‡æ¡£çš„æ ¹å…ƒç´ ï¼Œå¯¹äºŽHTMLæ–‡æ¡£ï¼Œå°±æ˜¯HTMLå…ƒç´  E:nth-child(n) åŒ¹é…å…¶çˆ¶å…ƒç´ çš„ç¬¬nä¸ªå­å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªç¼–å·ä¸º1 E:nth-last-child(n) åŒ¹é…å…¶çˆ¶å…ƒç´ çš„å€’æ•°ç¬¬nä¸ªå­å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªç¼–å·ä¸º1 E:nth-of-type(n) ä¸Ž:nth-child()ä½œç”¨ç±»ä¼¼ï¼Œä½†æ˜¯ä»…åŒ¹é…ä½¿ç”¨åŒç§æ ‡ç­¾çš„å…ƒç´  E:nth-last-of-type(n) ä¸Ž:nth-last-child() ä½œç”¨ç±»ä¼¼ï¼Œä½†æ˜¯ä»…åŒ¹é…ä½¿ç”¨åŒç§æ ‡ç­¾çš„å…ƒç´  E:last-child åŒ¹é…çˆ¶å…ƒç´ çš„æœ€åŽä¸€ä¸ªå­å…ƒç´ ï¼Œç­‰åŒäºŽ:nth-last-child(1) E:first-of-type åŒ¹é…çˆ¶å…ƒç´ ä¸‹ä½¿ç”¨åŒç§æ ‡ç­¾çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ï¼Œç­‰åŒäºŽ:nth-of-type(1) E:last-of-type åŒ¹é…çˆ¶å…ƒç´ ä¸‹ä½¿ç”¨åŒç§æ ‡ç­¾çš„æœ€åŽä¸€ä¸ªå­å…ƒç´ ï¼Œç­‰åŒäºŽ:nth-last-of-type(1) E:only-child åŒ¹é…çˆ¶å…ƒç´ ä¸‹ä»…æœ‰çš„ä¸€ä¸ªå­å…ƒç´ ï¼Œç­‰åŒäºŽ:first-child:last-childæˆ– :nth-child(1):nth-last-child(1) E:only-of-type åŒ¹é…çˆ¶å…ƒç´ ä¸‹ä½¿ç”¨åŒç§æ ‡ç­¾çš„å”¯ä¸€ä¸€ä¸ªå­å…ƒç´ ï¼Œç­‰åŒäºŽ:first-of-type:last-of-typeæˆ– :nth-of-type(1):nth-last-of-type(1) E:empty åŒ¹é…ä¸€ä¸ªä¸åŒ…å«ä»»ä½•å­å…ƒç´ çš„å…ƒç´ ï¼Œæ–‡æœ¬èŠ‚ç‚¹ä¹Ÿè¢«çœ‹ä½œå­å…ƒç´  E:not(selector) åŒ¹é…ä¸ç¬¦åˆå½“å‰é€‰æ‹©å™¨çš„ä»»ä½•å…ƒç´  nçš„å–å€¼1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ52n+1, 2n, 4n-1odd, even ä¼ªå…ƒç´ é€‰æ‹©å™¨ é€‰æ‹©å™¨ å«ä¹‰ E::first-line åŒ¹é…Eå…ƒç´ å†…å®¹çš„ç¬¬ä¸€è¡Œ E::first-letter åŒ¹é…Eå…ƒç´ å†…å®¹çš„ç¬¬ä¸€ä¸ªå­—æ¯ E::before åœ¨Eå…ƒç´ ä¹‹å‰æ’å…¥ç”Ÿæˆçš„å†…å®¹ E::after åœ¨Eå…ƒç´ ä¹‹åŽæ’å…¥ç”Ÿæˆçš„å†…å®¹ CSSä¼˜å…ˆçº§ä»Žé«˜åˆ°ä½Žåˆ†åˆ«æ˜¯ åœ¨å±žæ€§åŽé¢ä½¿ç”¨ !important ä¼šè¦†ç›–é¡µé¢å†…ä»»ä½•ä½ç½®å®šä¹‰çš„å…ƒç´ æ ·å¼ ä½œä¸ºstyleå±žæ€§å†™åœ¨å…ƒç´ æ ‡ç­¾ä¸Šçš„å†…è”æ ·å¼ idé€‰æ‹©å™¨ ç±»é€‰æ‹©å™¨ ä¼ªç±»é€‰æ‹©å™¨ å±žæ€§é€‰æ‹©å™¨ æ ‡ç­¾é€‰æ‹©å™¨ é€šé…ç¬¦é€‰æ‹©å™¨ æµè§ˆå™¨è‡ªå®šä¹‰ å¤æ‚åœºæ™¯12#test p.class1 &#123;...&#125;#test .class1.class2 &#123;...&#125; è¡Œå†…æ ·å¼ &lt;div style=&quot;xxx&quot;&gt;&lt;/div&gt;==&gt; a ID é€‰æ‹©å™¨ ==&gt; b ç±»ï¼Œå±žæ€§é€‰æ‹©å™¨å’Œä¼ªç±»é€‰æ‹©å™¨ ==&gt; c æ ‡ç­¾é€‰æ‹©å™¨ã€ä¼ªå…ƒç´  ==&gt; dç¤ºä¾‹ï¼š 12345678910* &#123;&#125; /* a=0 b=0 c=0 d=0 -&gt; 0,0,0,0 */p &#123;&#125; /* a=0 b=0 c=0 d=1 -&gt; 0,0,0,1 */a:hover &#123;&#125; /* a=0 b=0 c=0 d=2 -&gt; 0,0,0,2 */ul li &#123;&#125; /* a=0 b=0 c=0 d=2 -&gt; 0,0,0,2 */ul ol+li &#123;&#125; /* a=0 b=0 c=0 d=3 -&gt; 0,0,0,3 */h1+input[type=hidden]&#123;&#125; /* a=0 b=0 c=1 d=2 -&gt; 0,0,1,1 */ul ol li.active &#123;&#125; /* a=0 b=0 c=1 d=3 -&gt; 0,0,1,3 */#ct .box p &#123;&#125; /* a=0 b=1 c=1 d=1 -&gt; 0,1,1,1 */div#header:after &#123;&#125; /* a=0 b=1 c=0 d=2 -&gt; 0,1,0,2 */style="" /* a=1 b=0 c=0 d=0 -&gt; 1,0,0,0 */ æ ·å¼è¦†ç›–123div &#123;color: #333;&#125;....div &#123;color: #666;&#125; è¿™æ ·divæ–‡æ¡ˆçš„é¢œè‰²æ˜Žæ˜¾ä¼šæ˜¯#666 class å’Œ id çš„ä½¿ç”¨åœºæ™¯?idæ˜¯åˆ¶å®šæ ‡ç­¾çš„å”¯ä¸€æ ‡è¯†ï¼Œæ ¼å¼ä¸ºï¼š&lt;input type=password id=&quot;userpwd&quot;&gt; ,idå±žæ€§çš„å€¼åœ¨å½“å‰çš„pageé¡µé¢è¦æ˜¯å”¯ä¸€çš„ã€‚åº”ç”¨åœºæ™¯ï¼š æ ¹æ®æä¾›çš„å”¯ä¸€idå·ï¼Œå¿«é€ŸèŽ·å–æ ‡ç­¾å¯¹è±¡ã€‚å¦‚ï¼šdocument.getElementById(id) ç”¨äºŽå……å½“labelæ ‡ç­¾forå±žæ€§çš„å€¼ï¼šç¤ºä¾‹ï¼š&lt;label for=&#39;userid&#39;&gt;ç”¨æˆ·åï¼š&lt;/label&gt;ï¼Œè¡¨ç¤ºå•å‡»æ­¤labelæ ‡ç­¾æ—¶ï¼Œidä¸ºuseridçš„æ ‡ç­¾èŽ·å¾—ç„¦ç‚¹ã€‚ Classç”¨æ¥æŒ‡å®šæ ‡ç­¾çš„ç±»åï¼Œæ ¼å¼ä¸º&lt;input type=button class=&quot;btnsubmit&quot; /&gt;ï¼Œå¯ä»¥æŠŠå¤šä¸ªç±»ï¼Œæ”¾åœ¨ä¸€ä¸ªclasså±žæ€§é‡Œï¼Œä½†å¿…é¡»ç”¨ç©ºæ ¼éš”å¼€ï¼›å¦‚ï¼šclass=&#39;btnsubmit btnopen&#39;åº”ç”¨åœºæ™¯ï¼šCSSæ“ä½œï¼ŒæŠŠä¸€äº›ç‰¹å®šæ ·å¼æ”¾åˆ°ä¸€ä¸ªclassç±»ä¸­ï¼Œéœ€è¦æ­¤æ ·å¼çš„æ ‡ç­¾ï¼Œå¯ä»¥åœ¨æ·»åŠ æ­¤ç±»ã€‚ a:link, a:hover, a:active, a:visited çš„é¡ºåºæ˜¯æ€Žæ ·çš„ï¼Ÿ ä¸ºä»€ä¹ˆï¼Ÿæ­£ç¡®é¡ºåºä¸ºï¼ša:linkã€a:visitedã€a:hoverã€a:activeåŽŸå› ï¼š é¼ æ ‡ç»è¿‡çš„â€œæœªè®¿é—®é“¾æŽ¥â€åŒæ—¶æ‹¥æœ‰a:linkã€a:hoverã€a:activeä¸‰ç§å±žæ€§ï¼ŒåŽé¢çš„å±žæ€§ä¼šè¦†ç›–å‰é¢çš„å±žæ€§å®šä¹‰ï¼Œæ‰€ä»¥a:linkå¿…é¡»æ”¾åœ¨a:hoverçš„å‰é¢ï¼Œa:hoverå¿…é¡»æ”¾åœ¨a:activeçš„å‰ é¼ æ ‡ç»è¿‡çš„â€œå·²è®¿é—®é“¾æŽ¥â€åŒæ—¶æ‹¥æœ‰a:visitedã€a:hoverã€a:linkä¸‰ç§å±žæ€§ï¼ŒåŽé¢çš„å±žæ€§ä¼šè¦†ç›–å‰é¢çš„å±žæ€§å®šä¹‰ï¼Œæ­¤æ—¶a:vistedå’Œa:linkå¿…é¡»æ”¾åœ¨a:hoverçš„å‰é¢ ä»¥ä¸‹é€‰æ‹©å™¨åˆ†åˆ«æ˜¯ä»€ä¹ˆæ„æ€? é€‰æ‹©å™¨ æ„ä¹‰ #header{} é€‰æ‹©idä¸ºheaderçš„å…ƒç´  .header{} é€‰æ‹©classä¸ºheaderçš„å…ƒç´  .header .logo{} é€‰æ‹©classä¸ºheaderå…ƒç´ ä¸‹çš„å­å…ƒç´ åŠæ‰€æœ‰åŽä»£å…ƒç´ classåä¸ºlogoçš„å…ƒç´  .header.mobile{} é€‰æ‹©åŒæ—¶æœ‰classåheaderå’Œmobileçš„å…ƒç´  .header p, .header h3{} é€‰æ‹©classä¸ºheaderä¸‹çš„æ‰€æœ‰pæ ‡ç­¾ä»¥åŠclassä¸ºheaderæ‰€æœ‰h3æ ‡ç­¾ #header .nav&gt;li{} é€‰æ‹©idä¸ºheaderä¸‹çš„classä¸ºnavçš„ç›´æŽ¥å­å…ƒç´ li #header a:hover{} é€‰æ‹©idä¸ºheaderä¸‹çš„æ‰€ä»¥a:hoverçš„ä¼ªç±»é€‰æ‹©å™¨å…ƒç´  #header .logo~p{} é€‰æ‹©idä¸ºheaderä¸‹çš„classä¸ºlogoçš„å…ƒç´ ä¹‹åŽçš„æ‰€æœ‰åŒçº§pæ ‡ç­¾ #header input[type=â€textâ€]{} é€‰æ‹©idä¸ºheaderä¸‹çš„æ‰€æœ‰inputæ ‡ç­¾çš„å±žæ€§å€¼type=â€textâ€çš„å…ƒç´  div:first-childã€div:first-of-typeã€div :first-childå’Œdiv :first-of-typeçš„ä½œç”¨å’ŒåŒºåˆ« ï¼ˆæ³¨æ„ç©ºæ ¼çš„ä½œç”¨ï¼‰div:first-childï¼šåŒ¹é…divå…ƒç´ çˆ¶å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªdivå…ƒç´ div :first-childï¼šåŒ¹é…divå…ƒç´ ä¸‹çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ div:first-of-typeï¼šåŒ¹é…divå…ƒç´ çˆ¶å…ƒç´ ä¸‹çš„åŒç§ç±»åž‹(è¿™é‡Œæ˜¯divå…ƒç´ )çš„ç¬¬ä¸€ä¸ªå…ƒç´ div :first-of-typeï¼šåŒ¹é…divå…ƒç´ ä¸‹åŒç§ç±»åž‹çš„ç¬¬ä¸€ä¸ªå…ƒç´  è¿è¡Œå¦‚ä¸‹ä»£ç ï¼Œè§£æžä¸‹è¾“å‡ºæ ·å¼çš„åŽŸå› ã€‚12345678910111213&lt;style&gt;.item1:first-child&#123; color: red;&#125;.item1:first-of-type&#123; background: blue;&#125;&lt;/style&gt; &lt;div class="ct"&gt; &lt;p class="item1"&gt;aa&lt;/p&gt; &lt;h3 class="item1"&gt;bb&lt;/h3&gt; &lt;h3 class="item1"&gt;ccc&lt;/h3&gt; &lt;/div&gt; åŽŸå› ï¼š 123.item1:first-child&#123; color: red;&#125; å®šä¹‰é€‰æ‹©äº†classåä¸ºitem1çš„çˆ¶å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ï¼Œå³divä¸‹çš„ç¬¬ä¸€ä¸ªå…ƒç´ pçš„æ–‡å­—é¢œè‰²æ˜¾ç¤ºä¸ºçº¢è‰² 123.item1:first-of-type&#123; background: blue;&#125; å®šä¹‰é€‰æ‹©äº†classåä¸ºitem1çš„çˆ¶å…ƒç´ ä¸‹çš„åŒç§ç±»åž‹ï¼ˆpä¸Žh3ï¼‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³divä¸‹çš„pæ ‡ç­¾å’Œç¬¬ä¸€ä¸ªh3æ ‡ç­¾ ï¼ˆåŒ…æ‹¬å…¶åµŒå¥—çš„å…ƒç´ ï¼‰çš„èƒŒæ™¯é¢œè‰²æ˜¾ç¤ºä¸ºè“è‰²]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>é€‰æ‹©å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ®åŠ¨]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2F%E6%B5%AE%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[æµ®åŠ¨åŸºæœ¬æ¦‚å¿µæµ®åŠ¨æ¨¡åž‹ä¹Ÿæ˜¯ä¸€ç§å¯è§†åŒ–æ ¼å¼æ¨¡åž‹ï¼Œæµ®åŠ¨çš„æ¡†å¯ä»¥å·¦å³ç§»åŠ¨ï¼ˆæ ¹æ®floatå±žæ€§å€¼è€Œå®šï¼‰ï¼Œç›´åˆ°å®ƒçš„å¤–è¾¹ç¼˜ç¢°åˆ°åŒ…å«æ¡†æˆ–è€…å¦ä¸€ä¸ªæµ®åŠ¨å…ƒç´ çš„æ¡†çš„è¾¹ç¼˜ã€‚æµ®åŠ¨å…ƒç´ ä¸åœ¨æ–‡æ¡£çš„æ™®é€šæµä¸­ï¼Œæ–‡æ¡£çš„æ™®é€šæµä¸­çš„å…ƒç´ è¡¨çŽ°çš„å°±åƒæµ®åŠ¨å…ƒç´ ä¸å­˜åœ¨ä¸€æ ·. æ™®é€šæµï¼šï¼ˆnormal flow)ï¼Œæˆ–è€…ç§°ä¹‹ä¸ºå¸¸è§„æµã€‚ æµ®åŠ¨ï¼šæµ®åŠ¨çš„æ¡†å¯ä»¥å·¦å³ç§»åŠ¨ï¼Œç›´è‡³å®ƒçš„å¤–è¾¹ç¼˜é‡åˆ°åŒ…å«æ¡†æˆ–è€…å¦ä¸€ä¸ªæµ®åŠ¨æ¡†çš„è¾¹ç¼˜ã€‚æµ®åŠ¨æ¡†ä¸å±žäºŽæ–‡æ¡£ä¸­çš„æ™®é€šæµï¼Œå½“ä¸€ä¸ªå…ƒç´ æµ®åŠ¨ä¹‹åŽï¼Œä¸ä¼šå½±å“åˆ°å—çº§æ¡†çš„å¸ƒå±€è€Œåªä¼šå½±å“å†…è”æ¡†ï¼ˆé€šå¸¸æ˜¯æ–‡æœ¬ï¼‰çš„æŽ’åˆ—ï¼Œæ–‡æ¡£ä¸­çš„æ™®é€šæµå°±ä¼šè¡¨çŽ°å¾—å’Œæµ®åŠ¨æ¡†ä¸å­˜åœ¨ä¸€æ ·ï¼Œå½“æµ®åŠ¨æ¡†é«˜åº¦è¶…å‡ºåŒ…å«æ¡†çš„æ—¶å€™ï¼Œä¹Ÿå°±ä¼šå‡ºçŽ°åŒ…å«æ¡†ä¸ä¼šè‡ªåŠ¨ä¼¸é«˜æ¥é—­åˆæµ®åŠ¨å…ƒç´ ï¼ˆâ€œé«˜åº¦å¡Œé™·â€çŽ°è±¡ï¼‰ã€‚é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ¼‚æµ®äºŽæ™®é€šæµä¹‹ä¸Šï¼Œåƒæµ®äº‘ä¸€æ ·ï¼Œä½†æ˜¯åªèƒ½å·¦å³æµ®åŠ¨ã€‚ è€Œ float å…ƒç´ è„±ç¦»äº† normal flow å°±ç›¸å½“äºŽè¿›å…¥äº†ä¸€ä¸ªå¹³è¡Œç©ºé—´ï¼Œä¸å†ä¸Žå…¶åŽè¾¹åŠçˆ¶çº§å—çº§å…ƒç´ å‘ç”Ÿååº”ï¼Œè¿™ä¸€ç‰¹æ€§ä½¿å¾— float å…ƒç´ æ— æ³•æ’‘èµ·çˆ¶å…ƒç´ çš„é«˜åº¦ï¼Œ å¯¼è‡´çˆ¶å…ƒç´ å¡Œé™·ã€‚ å…¶ä»–çš„æ–‡æœ¬å’Œè¡Œå†…å…ƒç´ çŽ¯ç»• floatå…ƒç´ ï¼Œä½†æ˜¯ float åŽçš„å—çº§å…ƒç´ ä¼šä¸Žå…¶å‘ç”Ÿé‡å ã€‚ è§£å†³é—®é¢˜å› ä¸ºæµ®åŠ¨å…ƒç´ çš„çˆ¶å…ƒç´ æœ‰é«˜åº¦å¡Œé™·çš„é—®é¢˜ã€‚ (é¡ºä¾¿å¯ä»¥è§£å†³æµ®åŠ¨å…ƒç´ ä¸Žæ™®é€šæµä¸­çš„å—çº§å…ƒç´ æœ‰é‡å çš„é—®é¢˜)ä¸¤ç§æ–¹æ¡ˆ é‡‡ç”¨clearå±žæ€§æ¸…é™¤æµ®åŠ¨.é€šè¿‡åœ¨æµ®åŠ¨å…ƒç´ çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªç©ºå…ƒç´ ï¼Œè®¾ç½® clearï¼šbothå±žæ€§ï¼Œafterä¼ªå…ƒç´ å…¶å®žä¹Ÿæ˜¯é€šè¿‡ content åœ¨å…ƒç´ çš„åŽé¢ç”Ÿæˆäº†å†…å®¹ä¸ºä¸€ä¸ªå—çº§å…ƒç´ . è®©æµ®åŠ¨å…ƒç´ çš„çˆ¶å…ƒç´ å½¢æˆBFCï¼Œå¯ä»¥åŒ…å«æµ®åŠ¨ å®žæ–½é‡‡ç”¨clearå±žæ€§ï¼š æµ®åŠ¨çš„çˆ¶å…ƒç´ è®¾ç½® :afterä¼ªå…ƒç´ ï¼Œclear:both/left/right;ï¼Œcontent=&quot;&quot;;ï¼Œ display:block/table;ã€‚a. è‡³äºŽcontenté‡Œé¢æ˜¯ç‚¹è¿˜æ˜¯å…¶ä»–éƒ½æ˜¯å¯ä»¥çš„,é‡Œé¢å†…å®¹ä¸ºç©ºfirefoxç›´åˆ°7.0 content:â€â€ ä»ç„¶ä¼šäº§ç”Ÿé¢å¤–çš„ç©ºéš™(å¾…äº²è‡ªå®žéªŒ)ã€‚b. display:block ä½¿ç”Ÿæˆçš„å…ƒç´ ä»¥å—çº§å…ƒç´ æ˜¾ç¤º,å æ»¡å‰©ä½™ç©ºé—´ã€‚c. content ä¸ºç‚¹çš„è¯å¯ä»¥åŠ  height:0 é¿å…ç”Ÿæˆå†…å®¹ç ´ååŽŸæœ‰å¸ƒå±€çš„é«˜åº¦ï¼› visibility:hidden ä½¿ç”Ÿæˆçš„å†…å®¹ä¸å¯è§ï¼Œå¹¶å…è®¸å¯èƒ½è¢«ç”Ÿæˆå†…å®¹ç›–ä½çš„å†…å®¹å¯ä»¥è¿›è¡Œç‚¹å‡»å’Œäº¤äº’ã€‚ åœ¨æµ®åŠ¨å…ƒç´ æœ«å°¾åŠ ä¸€ä¸ªç©ºdivï¼Œå¹¶è®¾ç½®clearå±žæ€§ã€‚ è®©æµ®åŠ¨å…ƒç´ çš„çˆ¶å…ƒç´ å½¢æˆBFCï¼š float: left / right(é™¤noneä»¥å¤–å€¼) display: table-cell / table-caption / inline-block/flex/inline-flex overflow: hidden / auto / scroll (é™¤visibleä»¥å¤–) position: absolute / fixedBFCçš„å‡ ç§æ–¹å¼éƒ½æœ‰å„è‡ªçš„é—®é¢˜ï¼Œä¸Šé¢æåˆ°ä½¿ç”¨BFCä½¿ç”¨floatçš„æ—¶å€™ä¼šä½¿çˆ¶å®¹å™¨é•¿åº¦ç¼©çŸ­ï¼Œè€Œä¸”è¿˜æœ‰ä¸ªé‡è¦ç¼ºé™·â€”â€”çˆ¶å®¹å™¨floatè§£å†³äº†å…¶å¡Œé™·é—®é¢˜ï¼Œé‚£ä¹ˆçˆ¶å®¹å™¨çš„çˆ¶å®¹å™¨æ€Žä¹ˆåŠžï¼Ÿoverflowå±žæ€§ä¼šå½±å“æ»šåŠ¨æ¡å’Œç»å¯¹å®šä½çš„å…ƒç´ ï¼›positionä¼šæ”¹å˜å…ƒç´ çš„å®šä½æ–¹å¼ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çš„ï¼Œdisplayè¿™å‡ ç§æ–¹å¼ä¾ç„¶æ²¡æœ‰è§£å†³ä½Žç‰ˆæœ¬IEé—®é¢˜ã€‚ BFCBFCçš„å…¨ç§°æ˜¯ Block Format Content å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ä¸‰ä¸ªç‰¹æ€§ï¼š BFCä¼šé˜»æ­¢åž‚ç›´å¤–è¾¹è·ï¼ˆmargin-topã€margin-bottomï¼‰é‡å a. æŒ‰ç…§BFCçš„å®šä¹‰ï¼Œåªæœ‰åŒå±žäºŽä¸€ä¸ªBFCæ—¶ï¼Œä¸¤ä¸ªå…ƒç´ æ‰æœ‰å¯èƒ½å‘ç”Ÿåž‚ç›´marginçš„é‡å ï¼Œè¿™ä¸ªåŒ…æ‹¬ç›¸é‚»å…ƒç´ ï¼ŒåµŒå¥—å…ƒç´ ï¼Œåªè¦ä»–ä»¬ä¹‹é—´æ²¡æœ‰é˜»æŒ¡(ä¾‹å¦‚è¾¹æ¡†ï¼Œéžç©ºå†…å®¹ï¼Œpaddingç­‰)å°±ä¼šå‘ç”Ÿmarginé‡å ã€‚b. å› æ­¤è¦è§£å†³marginé‡å é—®é¢˜ï¼Œåªè¦è®©å®ƒä»¬ä¸åœ¨åŒä¸€ä¸ªBFCå°±è¡Œäº†ï¼Œä½†æ˜¯å¯¹äºŽä¸¤ä¸ªç›¸é‚»å…ƒç´ æ¥è¯´ï¼Œæ„ä¹‰ä¸å¤§ï¼Œæ²¡æœ‰å¿…è¦ç»™å®ƒä»¬åŠ ä¸ªå¤–å£³ï¼Œä½†æ˜¯å¯¹äºŽåµŒå¥—å…ƒç´ æ¥è¯´å°±å¾ˆæœ‰å¿…è¦äº†ï¼Œåªè¦æŠŠçˆ¶å…ƒç´ è®¾ä¸ºBFCå°±å¯ä»¥äº†ã€‚è¿™æ ·å­å…ƒç´ çš„marginå°±ä¸ä¼šå’Œçˆ¶å…ƒç´ çš„marginå‘ç”Ÿé‡å  BFCä¸ä¼šé‡å æµ®åŠ¨å…ƒç´  BFCå¯ä»¥åŒ…å«æµ®åŠ¨ é€šä¿—åœ°æ¥è¯´ï¼šåˆ›å»ºäº† BFCçš„å…ƒç´ å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç›’å­ï¼Œé‡Œé¢çš„å­å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“å¤–é¢çš„å…ƒç´ ï¼Œåä¹‹äº¦ç„¶ï¼ŒåŒæ—¶BFCä»»ç„¶å±žäºŽæ–‡æ¡£ä¸­çš„æ™®é€šæµã€‚ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨BFCçš„ç¬¬ä¸‰æ¡ç‰¹æ€§æ¥â€œæ¸…æµ®åŠ¨â€ï¼Œè¿™é‡Œå…¶å®žè¯´æ¸…æµ®åŠ¨å·²ç»ä¸å†åˆé€‚ï¼Œåº”è¯¥è¯´åŒ…å«æµ®åŠ¨ã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦çˆ¶å®¹å™¨å½¢æˆBFCå°±å¯ä»¥ã€‚ å±€é™æ€§ä¸Šé¢æåˆ°ä½¿ç”¨BFCä½¿ç”¨floatçš„æ—¶å€™ä¼šä½¿çˆ¶å®¹å™¨é•¿åº¦ç¼©çŸ­ï¼Œè€Œä¸”è¿˜æœ‰ä¸ªé‡è¦ç¼ºé™·â€”â€”çˆ¶å®¹å™¨floatè§£å†³äº†å…¶å¡Œé™·é—®é¢˜ï¼Œé‚£ä¹ˆçˆ¶å®¹å™¨çš„çˆ¶å®¹å™¨æ€Žä¹ˆåŠžï¼Ÿéš¾é“è¦å…¨éƒ¨ä½¿ç”¨folatå—ï¼ˆç¡®å®žæœ‰è¿™ç§å¸ƒå±€æ–¹å¼å€’æ˜¯ï¼‰ã€‚BFCçš„å‡ ç§æ–¹å¼éƒ½æœ‰å„è‡ªçš„é—®é¢˜ï¼Œoverflowå±žæ€§ä¼šå½±å“æ»šåŠ¨æ¡å’Œç»å¯¹å®šä½çš„å…ƒç´ ï¼›positionä¼šæ”¹å˜å…ƒç´ çš„å®šä½æ–¹å¼ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çš„ï¼Œdisplayè¿™å‡ ç§æ–¹å¼ä¾ç„¶æ²¡æœ‰è§£å†³ä½Žç‰ˆæœ¬IEé—®é¢˜ã€‚ã€‚ã€‚ hasLayoutæˆ‘ä»¬çŸ¥é“åœ¨IE6ã€7å†…æœ‰ä¸ªå¸ƒå±€Layoutçš„æ¦‚å¿µï¼Œå¾ˆå¤šbugæ­£æ˜¯ç”±hasLayoutå¯¼è‡´çš„ å½“å…ƒç´ çš„hasLayoutå±žæ€§å€¼ä¸ºfalseçš„æ—¶å€™ï¼Œå…ƒç´ çš„å°ºå¯¸å’Œä½ç½®ç”±æœ€è¿‘æ‹¥æœ‰å¸ƒå±€çš„ç¥–å…ˆå…ƒç´ æŽ§åˆ¶å½“å…ƒç´ çš„hasLayoutå±žæ€§å€¼ä¸ºtrueçš„æ—¶å€™ä¼šè¾¾åˆ°å’ŒBFCç±»ä¼¼çš„æ•ˆæžœï¼Œå…ƒç´ è´Ÿè´£æœ¬èº«åŠå…¶å­å…ƒç´ çš„å°ºå¯¸è®¾ç½®å’Œå®šä½åˆ©ç”¨è¿™ç‚¹å„¿åœ¨IE6ã€7ä¸‹å®Œæˆæ¸…æµ®åŠ¨ï¼Œå…ˆçœ‹çœ‹æ€Žä¹ˆä½¿å…ƒç´ hasLayoutä¸ºtrue position: absolutefloat: left|rightdisplay: inline-blockwidth: é™¤ â€œautoâ€ å¤–çš„ä»»æ„å€¼height: é™¤ â€œautoâ€ å¤–çš„ä»»æ„å€¼zoom: é™¤ â€œnormalâ€ å¤–çš„ä»»æ„å€¼writing-mode: tb-rlåœ¨IE7ä¸­ä½¿ç”¨overflow: hidden|scroll|auto ä¹Ÿå¯ä»¥ä½¿hasLayoutä¸ºtrue ç»¼ä¸Šæ‰€è¿°ï¼š åœ¨æ”¯æŒBFCçš„æµè§ˆå™¨ï¼ˆIE8+ï¼Œfirefoxï¼Œchromeï¼Œsafariï¼‰å¯ä»¥é€šè¿‡åˆ›å»ºæ–°çš„BFCé—­åˆæµ®åŠ¨ï¼›åœ¨ä¸æ”¯æŒ BFCçš„æµè§ˆå™¨ ï¼ˆIE6-7ï¼‰ï¼Œå¯ä»¥é€šè¿‡è§¦å‘ hasLayout é—­åˆæµ®åŠ¨ã€‚ é€šç”¨çš„æ¸…ç†æµ®åŠ¨æ–¹æ¡ˆä¸€ã€ 12345678910.clearfix:after &#123; content:"."; display:block; height:0; visibility:hidden; clear:both; &#125;.clearfix &#123; *zoom:1; &#125; display:block ä½¿ç”Ÿæˆçš„å…ƒç´ ä»¥å—çº§å…ƒç´ æ˜¾ç¤º,å æ»¡å‰©ä½™ç©ºé—´; height:0 é¿å…ç”Ÿæˆå†…å®¹ç ´ååŽŸæœ‰å¸ƒå±€çš„é«˜åº¦ã€‚ visibility:hidden ä½¿ç”Ÿæˆçš„å†…å®¹ä¸å¯è§ï¼Œå¹¶å…è®¸å¯èƒ½è¢«ç”Ÿæˆå†…å®¹ç›–ä½çš„å†…å®¹å¯ä»¥è¿›è¡Œç‚¹å‡»å’Œäº¤äº’; é€šè¿‡ content:â€.â€ç”Ÿæˆå†…å®¹ä½œä¸ºæœ€åŽä¸€ä¸ªå…ƒç´ ï¼Œè‡³äºŽcontenté‡Œé¢æ˜¯ç‚¹è¿˜æ˜¯å…¶ä»–éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¾‹å¦‚oocssé‡Œé¢å°±æœ‰ç»å…¸çš„ content:â€XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXâ€,æœ‰äº›ç‰ˆæœ¬å¯èƒ½content é‡Œé¢å†…å®¹ä¸ºç©º,ä¸€ä¸å†°å‡‰ä¸æŽ¨èè¿™æ ·åšçš„,firefoxç›´åˆ°7.0 content:â€â€ ä»ç„¶ä¼šäº§ç”Ÿé¢å¤–çš„ç©ºéš™ï¼›(å¾…éªŒè¯ï¼Œç›®å‰å¥½åƒéƒ½æ˜¯é‡‡ç”¨ç©ºçš„æ¯”è¾ƒå¤š) zoomï¼š1 è§¦å‘IE hasLayoutã€‚ äºŒã€ 1234567891011// å…¨æµè§ˆå™¨é€šç”¨çš„clearfixæ–¹æ¡ˆ// å¼•å…¥äº†zoomä»¥æ”¯æŒIE6/7.clearfix&#123; *zoom:1;&#125;.clearfix:after&#123; content:" "; display:table; clear:both;&#125; å¦‚æžœæˆ‘ä»¬æƒ³è¦ä¸ŽBFCè¡Œä¸ºä¿æŒä¸€è‡´ï¼Œæˆ–è€…è§£å†³ä¸Šè¾¹è·æŠ˜å é—®é¢˜ ä¸‰ã€ç²¾ç›Šæ±‚ç²¾æ–¹æ¡ˆï¼šç”±Nicolas Gallagher æå‡ºæ¥çš„,åŽŸæ–‡:A new micro clearfix hackNicolas Gallagherï¼Œè¯¥æ–¹æ³•ä¹Ÿä¸å­˜åœ¨firefoxä¸­ç©ºéš™çš„é—®é¢˜ã€‚ 1234567891011121314/* For modern browsers */// å…¨æµè§ˆå™¨é€šç”¨çš„clearfixæ–¹æ¡ˆã€æŽ¨èã€‘// å¼•å…¥äº†zoomä»¥æ”¯æŒIE6/7// åŒæ—¶åŠ å…¥:beforeä»¥è§£å†³çŽ°ä»£æµè§ˆå™¨ä¸Šè¾¹è·æŠ˜å çš„é—®é¢˜.cf:before,.cf:after &#123;content:" ";display:table;&#125;.cf:after &#123; clear:both; &#125;/* For IE 6/7 (trigger hasLayout) */.cf &#123; zoom:1; &#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¸Šé¢çš„æ–¹æ³•ç”¨åˆ°äº† ï¼šbeforeä¼ªå…ƒç´ ï¼Œæ˜¯ç”¨æ¥å¤„ç†marginè¾¹è·é‡å çš„ï¼Œç”±äºŽå†…éƒ¨å…ƒç´  float åˆ›å»ºäº†BFCï¼Œå¯¼è‡´å†…éƒ¨å…ƒç´ çš„margin-topå’Œ ä¸Šä¸€ä¸ªç›’å­çš„margin-bottom å‘ç”Ÿå åŠ ã€‚å¦‚æžœè¿™ä¸æ˜¯ä½ æ‰€å¸Œæœ›çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥åŠ ä¸Šbeforeï¼Œå¦‚æžœåªæ˜¯å•çº¯çš„é—­åˆæµ®åŠ¨ï¼Œafterå°±å¤Ÿäº† é™¤äº†ä»¥ä¸Šæ–¹æ¡ˆå¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚å°†çˆ¶å…ƒç´ çš„ display æ ·å¼å±žæ€§æ”¹ä¸ºdisplay:tableæˆ–è€…position:fixedï¼Œä½†æ˜¯è¿™äº›æ–¹æ¡ˆå®¹æ˜“å¸¦æ¥æ›´å¤§çš„å‰¯ä½œç”¨ï¼Œå¾—ä¸å¿å¤±ï¼Œæ‰€ä»¥å®žè·µä¸­ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨clearå±žæ€§/ä¿®æ”¹çˆ¶å…ƒç´ çš„overflowå±žæ€§]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BFC]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2FBFC%2F</url>
    <content type="text"><![CDATA[BFC å·²ç»æ˜¯ä¸€ä¸ªè€³å¬ç†Ÿé—»çš„è¯è¯­äº†ï¼Œç½‘ä¸Šæœ‰è®¸å¤šå…³äºŽ BFC çš„æ–‡ç« ï¼Œä»‹ç»äº†å¦‚ä½•è§¦å‘ BFC ä»¥åŠ BFC çš„ä¸€äº›ç”¨å¤„ï¼ˆå¦‚æ¸…é™¤æµ®åŠ¨ï¼Œé˜²æ­¢ margin é‡å ç­‰ï¼‰ã€‚ ä¸€ã€BFCæ˜¯ä»€ä¹ˆï¼Ÿ åœ¨è§£é‡Š BFC æ˜¯ä»€ä¹ˆä¹‹å‰ï¼Œéœ€è¦å…ˆä»‹ç» Boxã€Formatting Contextçš„æ¦‚å¿µã€‚ Box: CSSå¸ƒå±€çš„åŸºæœ¬å•ä½Box æ˜¯ CSS å¸ƒå±€çš„å¯¹è±¡å’ŒåŸºæœ¬å•ä½ï¼Œ ç›´è§‚ç‚¹æ¥è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªé¡µé¢æ˜¯ç”±å¾ˆå¤šä¸ª Box ç»„æˆçš„ã€‚å…ƒç´ çš„ç±»åž‹å’Œ display å±žæ€§ï¼Œå†³å®šäº†è¿™ä¸ª Box çš„ç±»åž‹ã€‚ ä¸åŒç±»åž‹çš„ Boxï¼Œ ä¼šå‚ä¸Žä¸åŒçš„ Formatting Contextï¼ˆä¸€ä¸ªå†³å®šå¦‚ä½•æ¸²æŸ“æ–‡æ¡£çš„å®¹å™¨ï¼‰ï¼Œå› æ­¤Boxå†…çš„å…ƒç´ ä¼šä»¥ä¸åŒçš„æ–¹å¼æ¸²æŸ“ã€‚è®©æˆ‘ä»¬çœ‹çœ‹æœ‰å“ªäº›ç›’å­ï¼š block-level box: display å±žæ€§ä¸º block, list-item, table çš„å…ƒç´ ï¼Œä¼šç”Ÿæˆ block-level boxã€‚å¹¶ä¸”å‚ä¸Ž block fomatting contextï¼› inline-level box: display å±žæ€§ä¸º inline, inline-block, inline-table çš„å…ƒç´ ï¼Œä¼šç”Ÿæˆ inline-level boxã€‚å¹¶ä¸”å‚ä¸Ž inline formatting contextï¼› run-in box: css3 ä¸­æ‰æœ‰ï¼Œ è¿™å„¿å…ˆä¸è®²äº†ã€‚ Formatting context Formatting context æ˜¯ W3C CSS2.1 è§„èŒƒä¸­çš„ä¸€ä¸ªæ¦‚å¿µã€‚å®ƒæ˜¯é¡µé¢ä¸­çš„ä¸€å—æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”æœ‰ä¸€å¥—æ¸²æŸ“è§„åˆ™ï¼Œå®ƒå†³å®šäº†å…¶å­å…ƒç´ å°†å¦‚ä½•å®šä½ï¼Œä»¥åŠå’Œå…¶ä»–å…ƒç´ çš„å…³ç³»å’Œç›¸äº’ä½œç”¨ã€‚æœ€å¸¸è§çš„ Formatting context æœ‰ Block fomatting context (ç®€ç§°BFC)å’Œ Inline formatting context (ç®€ç§°IFC)ã€‚ CSS2.1 ä¸­åªæœ‰ BFC å’Œ IFC, CSS3 ä¸­è¿˜å¢žåŠ äº† GFC å’Œ FFCã€‚ BFC å®šä¹‰ BFC(Block formatting context)ç›´è¯‘ä¸ºâ€å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€ã€‚å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œåªæœ‰Block-level boxå‚ä¸Žï¼Œ å®ƒè§„å®šäº†å†…éƒ¨çš„Block-level Boxå¦‚ä½•å¸ƒå±€ï¼Œå¹¶ä¸”ä¸Žè¿™ä¸ªåŒºåŸŸå¤–éƒ¨æ¯«ä¸ç›¸å¹²ã€‚ BFCå¸ƒå±€è§„åˆ™ï¼š å†…éƒ¨çš„Boxä¼šåœ¨åž‚ç›´æ–¹å‘ï¼Œä¸€ä¸ªæŽ¥ä¸€ä¸ªåœ°æ”¾ç½®ã€‚ Boxåž‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šã€‚å±žäºŽåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å  æ¯ä¸ªå…ƒç´ çš„margin boxçš„å·¦è¾¹ï¼Œ ä¸ŽåŒ…å«å—border boxçš„å·¦è¾¹ç›¸æŽ¥è§¦(å¯¹äºŽä»Žå·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ BFCçš„åŒºåŸŸä¸ä¼šä¸Žfloat boxé‡å ã€‚ BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤ã€‚ è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸Žè®¡ç®— äºŒã€å“ªäº›å…ƒç´ ä¼šç”ŸæˆBFC? æ ¹å…ƒç´  floatå±žæ€§ä¸ä¸ºnone positionä¸ºabsoluteæˆ–fixed displayä¸ºinline-block, table-cell, table-caption, flex, inline-flex overflowä¸ä¸ºvisible ä¸‰ã€BFCçš„ä½œç”¨åŠåŽŸç†1. è‡ªé€‚åº”ä¸¤æ å¸ƒå±€ä»£ç ï¼š 12345678910111213141516171819202122&lt;style&gt; body &#123; width: 300px; position: relative; &#125; .aside &#123; width: 100px; height: 150px; float: left; background: #f66; &#125; .main &#123; height: 200px; background: #fcc; &#125;&lt;/style&gt;&lt;body&gt; &lt;div class="aside"&gt;&lt;/div&gt; &lt;div class="main"&gt;&lt;/div&gt;&lt;/body&gt; æ ¹æ®BFCå¸ƒå±€è§„åˆ™ç¬¬3æ¡ï¼š æ¯ä¸ªå…ƒç´ çš„margin boxçš„å·¦è¾¹ï¼Œ ä¸ŽåŒ…å«å—border boxçš„å·¦è¾¹ç›¸æŽ¥è§¦(å¯¹äºŽä»Žå·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ å› æ­¤ï¼Œè™½ç„¶å­˜åœ¨æµ®åŠ¨çš„å…ƒç´ asideï¼Œä½†mainçš„å·¦è¾¹ä¾ç„¶ä¼šä¸ŽåŒ…å«å—çš„å·¦è¾¹ç›¸æŽ¥è§¦ã€‚ æ ¹æ®BFCå¸ƒå±€è§„åˆ™ç¬¬å››æ¡ï¼š BFCçš„åŒºåŸŸä¸ä¼šä¸Žfloat boxé‡å ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡è§¦å‘mainç”ŸæˆBFCï¼Œ æ¥å®žçŽ°è‡ªé€‚åº”ä¸¤æ å¸ƒå±€ã€‚ 123.main &#123; overflow: hidden;&#125; å½“è§¦å‘mainç”ŸæˆBFCåŽï¼Œè¿™ä¸ªæ–°çš„BFCä¸ºäº†ä¸ä¸Žæµ®åŠ¨çš„asideé‡å ã€‚å› æ­¤ä¼šæ ¹æ®åŒ…å«å—çš„å®½åº¦ï¼Œå’Œasideçš„å®½åº¦ï¼Œè‡ªåŠ¨å˜çª„ã€‚æ•ˆæžœå¦‚ä¸‹ï¼šï¼š 2. æ¸…é™¤å†…éƒ¨æµ®åŠ¨ä»£ç ï¼š 12345678910111213141516171819 &lt;style&gt; .par &#123; border: 5px solid #fcc; width: 300px; &#125; .child &#123; border: 5px solid #f66; width:100px; height: 100px; float: left; &#125;&lt;/style&gt;&lt;body&gt; &lt;div class="par"&gt; &lt;div class="child"&gt;&lt;/div&gt; &lt;div class="child"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt; æ ¹æ®BFCå¸ƒå±€è§„åˆ™ç¬¬å…­æ¡ï¼š è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸Žè®¡ç®— è§£å†³æ–¹æ¡ˆä¸€èˆ¬æœ‰ä¸¤ç§1). åˆ©ç”¨ clearå±žæ€§ï¼Œæ¸…é™¤æµ®åŠ¨ 123å¯¹çˆ¶å…ƒç´ åŠ ä¸€ä¸ªclass:floatfixæ·»åŠ å¦‚ä¸‹CSS 12345678.floatfix&#123; *zoom:1;&#125;.floatfix:after&#123; content:""; display:table; clear:both;&#125; 2). ä½¿çˆ¶å®¹å™¨å½¢æˆBFC ä¸ºè¾¾åˆ°æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥è§¦å‘parç”ŸæˆBFCï¼Œé‚£ä¹ˆparåœ¨è®¡ç®—é«˜åº¦æ—¶ï¼Œparå†…éƒ¨çš„æµ®åŠ¨å…ƒç´ childä¹Ÿä¼šå‚ä¸Žè®¡ç®—ã€‚ ä»£ç ï¼š 123 .par &#123; overflow: hidden;&#125; æ•ˆæžœå¦‚ä¸‹ï¼š 3. é˜²æ­¢åž‚ç›´ margin é‡å ä»£ç ï¼š 1234567891011121314 &lt;style&gt; p &#123; color: #f55; background: #fcc; width: 200px; line-height: 100px; text-align:center; margin: 100px; &#125;&lt;/style&gt;&lt;body&gt; &lt;p&gt;Haha&lt;/p&gt; &lt;p&gt;Hehe&lt;/p&gt;&lt;/body&gt; é¡µé¢ï¼š ä¸¤ä¸ªpä¹‹é—´çš„è·ç¦»ä¸º100pxï¼Œå‘é€äº†marginé‡å ã€‚ æ ¹æ®BFCå¸ƒå±€è§„åˆ™ç¬¬äºŒæ¡ï¼š Boxåž‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šã€‚å±žäºŽåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å  æŠ˜å çš„ç»“æžœï¼š ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯æ­£æ•°æ—¶ï¼ŒæŠ˜å ç»“æžœæ˜¯å®ƒä»¬ä¸¤è€…ä¹‹é—´è¾ƒå¤§çš„å€¼ã€‚ ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯è´Ÿæ•°æ—¶ï¼ŒæŠ˜å ç»“æžœæ˜¯ä¸¤è€…ç»å¯¹å€¼çš„è¾ƒå¤§å€¼ã€‚ ä¸¤ä¸ªå¤–è¾¹è·ä¸€æ­£ä¸€è´Ÿæ—¶ï¼ŒæŠ˜å ç»“æžœæ˜¯ä¸¤è€…çš„ç›¸åŠ çš„å’Œã€‚ æˆ‘ä»¬å¯ä»¥åœ¨på¤–é¢åŒ…è£¹ä¸€å±‚å®¹å™¨ï¼Œå¹¶è§¦å‘è¯¥å®¹å™¨ç”Ÿæˆä¸€ä¸ªBFCã€‚é‚£ä¹ˆä¸¤ä¸ªPä¾¿ä¸å±žäºŽåŒä¸€ä¸ªBFCï¼Œå°±ä¸ä¼šå‘ç”Ÿmarginé‡å äº†ã€‚ ä»£ç ï¼š 12345678910111213141516171819&lt;style&gt; .wrap &#123; overflow: hidden; &#125; p &#123; color: #f55; background: #fcc; width: 200px; line-height: 100px; text-align:center; margin: 100px; &#125;&lt;/style&gt;&lt;body&gt; &lt;p&gt;Haha&lt;/p&gt; &lt;div class="wrap"&gt; &lt;p&gt;Hehe&lt;/p&gt; &lt;/div&gt;&lt;/body&gt; æ•ˆæžœå¦‚ä¸‹: æµ®åŠ¨å’Œç»å¯¹å®šä½ä¸ä¸Žä»»ä½•å…ƒç´ äº§ç”Ÿ margin æŠ˜å åŽŸå› ï¼š æµ®åŠ¨å…ƒç´ å’Œç»å¯¹å®šä½å…ƒç´ ä¸ä¸Žå…¶ä»–ç›’å­äº§ç”Ÿå¤–è¾¹è·æŠ˜å æ˜¯å› ä¸ºå…ƒç´ ä¼šè„±ç¦»å½“å‰çš„æ–‡æ¡£æµï¼Œè¿åäº†ä¸Šé¢æ‰€è¿°çš„ä¸¤ä¸ªmarginæ˜¯é‚»æŽ¥çš„æ¡ä»¶åŒæ—¶ï¼Œåˆå› ä¸ºæµ®åŠ¨å’Œç»å¯¹å®šä½ä¼šä½¿å…ƒç´ ä¸ºå®ƒçš„å†…å®¹åˆ›å»ºæ–°çš„BFCï¼Œå› æ­¤è¯¥å…ƒç´ å’Œå­å…ƒç´ æ‰€å¤„çš„BFCæ˜¯ä¸ç›¸åŒçš„ï¼Œå› æ­¤ä¹Ÿä¸ä¼šäº§ç”Ÿmarginçš„æŠ˜å ã€‚ è‡ªå·±ç»éªŒæ·»åŠ çˆ¶å­å…ƒç´ marginåˆå¹¶å¯ä»¥ç»™çˆ¶å…ƒç´ æ·»åŠ borderæˆ–è€…paddingè§£å†³ é«˜çº§è§£å†³çˆ¶å­å…ƒç´ marginåˆå¹¶é—®é¢˜: 1.no-collapse::before&#123;content:'';display:table;&#125;,.no-collapse::after&#123;content:'';display:table;&#125; æ€»ç»“ å…¶å®žä»¥ä¸Šçš„å‡ ä¸ªä¾‹å­éƒ½ä½“çŽ°äº†BFCå¸ƒå±€è§„åˆ™ç¬¬äº”æ¡ï¼š BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤ã€‚ å› ä¸ºBFCå†…éƒ¨çš„å…ƒç´ å’Œå¤–éƒ¨çš„å…ƒç´ ç»å¯¹ä¸ä¼šäº’ç›¸å½±å“ï¼Œå› æ­¤ï¼Œ å½“BFCå¤–éƒ¨å­˜åœ¨æµ®åŠ¨æ—¶ï¼Œå®ƒä¸åº”è¯¥å½±å“BFCå†…éƒ¨Boxçš„å¸ƒå±€ï¼ŒBFCä¼šé€šè¿‡å˜çª„ï¼Œè€Œä¸ä¸Žæµ®åŠ¨æœ‰é‡å ã€‚åŒæ ·çš„ï¼Œå½“BFCå†…éƒ¨æœ‰æµ®åŠ¨æ—¶ï¼Œä¸ºäº†ä¸å½±å“å¤–éƒ¨å…ƒç´ çš„å¸ƒå±€ï¼ŒBFCè®¡ç®—é«˜åº¦æ—¶ä¼šåŒ…æ‹¬æµ®åŠ¨çš„é«˜åº¦ã€‚é¿å…marginé‡å ä¹Ÿæ˜¯è¿™æ ·çš„ä¸€ä¸ªé“ç†ã€‚]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§å¸ƒå±€å±…ä¸­]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2F%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E5%8A%A0-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[æ–‡æœ¬æº¢å‡ºåŠ  â€¦ å¦‚ä½•å®žçŽ°å•è¡Œ12345span&#123;overflow:hidden;text-overflow:ellipsis;white-space:nowarp;&#125; å¤šè¡Œ1234567span&#123;width:100px,display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3; //è¡Œæ•°overflow:hidden;&#125;]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>å¸ƒå±€</tag>
        <tag>FONT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§å¸ƒå±€å±…ä¸­]]></title>
    <url>%2FZombieBrand.github.io%2F2019%2F03%2F13%2F%E5%B8%B8%E8%A7%81%E5%B8%83%E5%B1%80%E5%B1%85%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[ä¸¤æ å¸ƒå±€å·¦ä¾§å›ºå®šå®½åº¦å³è¾¹è‡ªé€‚åº”è´Ÿmarginæ–¹æ³•ï¼š1234567891011121314151617181920&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;.left&#123; width:200px; height:300px; margin-right:10px; background:red; float:left;&#125;.right&#123; width:100%; height:400px; float:right; margin-right:-210px; background:blue;&#125;&lt;/style&gt; overflowæ–¹æ³•:123456789101112131415161718&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;.left&#123; width:200px; height:300px; margin-right:10px; background:red; float:left;&#125;.right&#123; height:400px; background:blue; overflow:hidden;&#125;&lt;/style&gt; positionæ–¹æ³•:12345678910111213141516171819202122232425&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;.container&#123; position:relative;&#125;.left&#123; position:absolute; top:0; left:0; width:200px; height:300px; background:red;&#125;.right&#123; position:absolute; top:0; left:210px; right:0; height:400px; background:blue;&#125;&lt;/style&gt; flexæ–¹æ³•:1234567891011121314151617181920&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;.container&#123; display:flex;&#125;.left&#123; width:200px; height:300px; background:red; margin-right:10px;&#125;.right&#123; flex:1; height:400px; background:blue;&#125;&lt;/style&gt; ä¸‰æ å¸ƒå±€marginæ–¹æ³•1234567891011121314151617181920212223242526&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt; &lt;div class="center"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;.left&#123; width:200px; height:300px; background:red; margin:0 10px; float:left;&#125;.center&#123; height:400px; background:pink; overflow:auto;&#125;.right&#123; width:200px; height:300px; background:blue; float:right; margin:0 10px;&#125;&lt;/style&gt; overflowæ–¹æ³•1234567891011121314151617181920212223242526&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt; &lt;div class="center"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;.left&#123; width:200px; height:300px; background:red; margin:0 10px; float:left;&#125;.center&#123; height:400px; background:pink; overflow:auto;&#125;.right&#123; width:200px; height:300px; background:blue; float:right; margin:0 10px;&#125;&lt;/style&gt; positionæ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="center"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt; &lt;/div&gt;&lt;style&gt;*&#123; box-sizing:border-box; margin:0; padding:0;&#125;.container&#123; position:relative;&#125;.left&#123; width:200px; height:300px; background:red; margin:0 10px; position:absolute; top:0; left:0;&#125;.center&#123; width:calc(100% - 440px); height:400px; background:pink; position:absolute; top:0; left:50%; transform:translateX(-50%);&#125;.right&#123; width:200px; height:300px; background:blue; position:absolute; top:0; right:0; margin:0 10px;&#125;&lt;/style&gt; flexæ–¹æ³•123456789101112131415161718192021222324252627282930313233&lt;div class="container"&gt; &lt;div class="left"&gt;&lt;/div&gt; &lt;div class="center"&gt;&lt;/div&gt; &lt;div class="right"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;*&#123; box-sizing:border-box; padding:0; margin:0;&#125;.container&#123; display:flex;&#125;.left&#123; width:200px; height:300px; background:red; margin:0 10px; &#125;.center&#123; height:400px; background:pink; flex:1;&#125;.right&#123; width:200px; height:300px; background:blue; margin:0 10px;&#125;&lt;/style&gt; å—çº§å…ƒç´ å±…ä¸­marginæ–¹æ³•123456789.container&#123; background:grey;&#125;.item&#123; width:300px; height:200px; background:red; margin:0 auto;&#125; positionæ–¹æ³•12345678910111213.container&#123; background:grey; position:relative;&#125;.item&#123; width:300px; height:200px; background:red; position:absolute; top:0; left:50%; transform:translateX(-50%)&#125; display:flex12345678910.container&#123; background:grey; display:flex; justify-content:center;&#125;.item&#123; width:300px; height:200px; background:red;&#125; text-align:center 12345678910.container&#123; background:grey; text-align:center;&#125;.item&#123; width:300px; height:200px; background:red; display:inline-block;&#125; å¤šè¡Œæ–‡å­—æ°´å¹³åž‚ç›´å±…ä¸­123456789101112131415161718192021&lt;section&gt; &lt;div class="container"&gt; &lt;h1 class="title"&gt;è¿™æ˜¯æ ‡é¢˜&lt;/h1&gt; &lt;p class="content"&gt;è¿™æ˜¯ä¸€å¤§æ®µæ–‡å­—å†…å®¹è¿™æ˜¯ä¸€å¤§æ®µæ–‡å­—å†…å®¹è¿™æ˜¯ä¸€å¤§æ®µæ–‡å­—å†…å®¹è¿™æ˜¯ä¸€å¤§æ®µæ–‡å­—å†…å®¹è¿™æ˜¯ä¸€å¤§æ®µæ–‡å­—å†…å®¹è¿™æ˜¯ä¸€å¤§æ®µæ–‡å­—å†…å®¹&lt;/p&gt; &lt;/div&gt;&lt;/section&gt;&lt;style&gt;section&#123; margin:0 auto; width:600px;&#125;.container&#123; padding:0 100px; width:600px; height:600px; background:grey; text-align:center; display:table-cell; vertical-align:middle;&#125;&lt;/style&gt; imageæ°´å¹³åž‚ç›´å±…ä¸­123456789101112131415161718 &lt;div class="container"&gt; &lt;img src="" alt="å›¾ç‰‡"&gt; &lt;/div&gt;.container&#123; width:300px; height:300px; border:1px solid red; text-align:center;&#125;.container::after&#123; content:''; height:100%; display:inline-block; vertical-align:middle;&#125;img&#123; vertical-align:middle;&#125; æµè§ˆå™¨å›ºå®šæ°´å¹³åž‚ç›´å±…ä¸­12345678.box&#123; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#ccc; text-align:center;&#125; æ°´å¹³å±…ä¸­SVGå’Œfont/img1234567svg&#123;vertical-align:middle&#125;span&#123;vertical-align:middle&#125;img&#123; vertical-align:middle&#125; ç»å…¸æ–‡ç« :https://www.zhangxinxu.com/wordpress/2015/08/css-deep-understand-vertical-align-and-line-height/]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
</search>
